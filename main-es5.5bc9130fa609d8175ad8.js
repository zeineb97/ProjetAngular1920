function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _construct(e,t,n){return(_construct=isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(o,n.prototype),o}).apply(null,arguments)}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+dxm":function(e,t,n){var r=n("mrSG").__extends;Object.defineProperty(t,"__esModule",{value:!0});var o=n("8Y7J"),i=n("f7ga");t.AngularFrameworkComponentWrapper=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.setViewContainerRef=function(e){this.viewContainerRef=e},t.prototype.setComponentFactoryResolver=function(e){this.componentFactoryResolver=e},t.prototype.createWrapper=function(e){var t=this,n=new(function(o){function i(){return null!==o&&o.apply(this,arguments)||this}return r(i,o),i.prototype.init=function(e){o.prototype.init.call(this,e),this._componentRef.changeDetectorRef.detectChanges()},i.prototype.createComponent=function(){return t.createComponent(e)},i.prototype.hasMethod=function(e){return null!=n.getFrameworkComponentInstance()[e]},i.prototype.callMethod=function(e,t){var r=this.getFrameworkComponentInstance();return n.getFrameworkComponentInstance()[e].apply(r,t)},i.prototype.addMethod=function(e,t){n[e]=t},i}(s));return n},t.prototype.createComponent=function(e){var t=this.componentFactoryResolver.resolveComponentFactory(e);return this.viewContainerRef.createComponent(t)},t.decorators=[{type:o.Injectable}],t}(i.BaseComponentWrapper);var s=function(){function e(){}return e.prototype.init=function(e){this._params=e,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)},e.prototype.getGui=function(){return this._eGui},e.prototype.destroy=function(){this._componentRef&&this._componentRef.destroy()},e.prototype.getFrameworkComponentInstance=function(){return this._frameworkComponentInstance},e}()},0:function(e,t,n){e.exports=n("zUnb")},"2QA8":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("ZUHj"),o=n("l7GE"),i=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(l((function(n,r){return Object(a.a)(e(n,r)).pipe(Object(s.a)((function(e,o){return t(n,e,r,o)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new u(e,n))})}var u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.project,this.concurrent))}}]),e}(),c=function(e){function t(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).project=n,r.concurrent=o,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var o=new i.a(this,void 0,void 0);this.destination.add(o),Object(r.a)(this,e,t,n,o)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,o){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),t}(o.a)},"51Dv":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){function t(e,n,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).parent=e,o.outerValue=n,o.outerIndex=r,o.index=0,o}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),t}(n("7o/Q").a)},"6Joi":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,i=n("mrSG"),s=n("q/0M"),a=n("zVF4"),l=n("x7I3"),u=o.SDK_VERSION,c=new s.Logger("@firebase/firestore"),p=function(e){return e[e.DEBUG=0]="DEBUG",e[e.ERROR=1]="ERROR",e[e.SILENT=2]="SILENT",e}({});function d(){return c.logLevel===s.LogLevel.DEBUG?p.DEBUG:c.logLevel===s.LogLevel.SILENT?p.SILENT:p.ERROR}function h(e){switch(e){case p.DEBUG:c.logLevel=s.LogLevel.DEBUG;break;case p.ERROR:c.logLevel=s.LogLevel.ERROR;break;case p.SILENT:c.logLevel=s.LogLevel.SILENT;break;default:c.error("Firestore ("+u+"): Invalid value passed to `setLogLevel`")}}function f(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(c.logLevel<=s.LogLevel.DEBUG){var o=n.map(v);c.debug.apply(c,i.__spreadArrays(["Firestore ("+u+") ["+e+"]: "+t],o))}}function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(c.logLevel<=s.LogLevel.ERROR){var r=t.map(v);c.error.apply(c,i.__spreadArrays(["Firestore ("+u+"): "+e],r))}}function v(e){if("string"==typeof e)return e;var t=C.getPlatform();try{return t.formatJSON(e)}catch(n){return e}}function y(e){var t="FIRESTORE ("+u+") INTERNAL ASSERTION FAILED: "+e;throw g(t),new Error(t)}function m(e,t){e||y(t)}var C=function(){function e(){}return e.setPlatform=function(t){e.platform&&y("Platform already defined"),e.platform=t},e.getPlatform=function(){return e.platform||y("Platform not set"),e.platform},e}();function w(){return C.getPlatform().emptyByteString}var b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},E=function(e){function t(t,n){var r=e.call(this,n)||this;return r.code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i.__extends(t,e),t}(Error);function _(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new E(b.INVALID_ARGUMENT,e)}for(var r in n.prototype=e.prototype,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function R(e,t){return void 0!==e?e:t}function T(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function O(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function D(e){for(var t in m(null!=e&&"object"==typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function I(e,t){if(0!==t.length)throw new E(b.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+K(t.length,"argument")+".")}function A(e,t,n){if(t.length!==n)throw new E(b.INVALID_ARGUMENT,"Function "+e+"() requires "+K(n,"argument")+", but was called with "+K(t.length,"argument")+".")}function k(e,t,n){if(t.length<n)throw new E(b.INVALID_ARGUMENT,"Function "+e+"() requires at least "+K(n,"argument")+", but was called with "+K(t.length,"argument")+".")}function P(e,t,n,r){if(t.length<n||t.length>r)throw new E(b.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+K(t.length,"argument")+".")}function N(e,t,n,r){G(e,t,q(n)+" argument",r)}function x(e,t,n,r){void 0!==r&&N(e,t,n,r)}function F(e,t,n,r){G(e,t,n+" option",r)}function M(e,t,n,r){void 0!==r&&F(e,t,n,r)}function L(e,t,n,r,o){void 0!==r&&function(e,t,n,r,o){for(var i=[],s=0,a=o;s<a.length;s++){var l=a[s];if(l===r)return;i.push(H(l))}var u=H(r);throw new E(b.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+i.join(", "))}(e,0,n,r,o)}function V(e,t,n,r){if(!t.some((function(e){return e===r})))throw new E(b.INVALID_ARGUMENT,"Invalid value "+H(r)+" provided to function "+e+"() for its "+q(n)+" argument. Acceptable values: "+t.join(", "))}function G(e,t,n,r){if(!("object"===t?W(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var o=H(r);throw new E(b.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+o)}}function W(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function H(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":y("Unknown wrong type: "+typeof e)}function B(e,t,n){if(void 0===n)throw new E(b.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+q(t)+" argument, but it was undefined.")}function U(e,t,n){O(t,(function(t,r){if(n.indexOf(t)<0)throw new E(b.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function j(e,t,n,r){var o=H(r);return new E(b.INVALID_ARGUMENT,"Function "+e+"() requires its "+q(n)+" argument to be a "+t+", but it was: "+o)}function z(e,t,n){if(n<=0)throw new E(b.INVALID_ARGUMENT,'Function "'+e+'()" requires its '+q(t)+" argument to be a positive number, but it was: "+n+".")}function q(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function K(e,t){return e+" "+t+(1===e?"":"s")}var Q=function(){function e(){}return e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return m(20===t.length,"Invalid auto ID: "+t),t},e}();function Y(e,t){return e<t?-1:e>t?1:0}function Z(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function X(e){return e+"\0"}function $(){if("undefined"==typeof Uint8Array)throw new E(b.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function J(){if(!C.getPlatform().base64Available)throw new E(b.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ee=function(){function e(e){J(),this._binaryString=e}return e.fromBase64String=function(t){A("Blob.fromBase64String",arguments,1),N("Blob.fromBase64String","string",1,t),J();try{var n=C.getPlatform().atob(t);return new e(n)}catch(r){throw new E(b.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+r)}},e.fromUint8Array=function(t){if(A("Blob.fromUint8Array",arguments,1),$(),!(t instanceof Uint8Array))throw j("Blob.fromUint8Array","Uint8Array",1,t);var n=Array.prototype.map.call(t,(function(e){return String.fromCharCode(e)})).join("");return new e(n)},e.prototype.toBase64=function(){return A("Blob.toBase64",arguments,0),J(),C.getPlatform().btoa(this._binaryString)},e.prototype.toUint8Array=function(){A("Blob.toUint8Array",arguments,0),$();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._binaryString===e._binaryString},e.prototype._compareTo=function(e){return Y(this._binaryString,e._binaryString)},e}(),te=_(ee,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),ne=function(e,t,n,r,o){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=o},re="(default)",oe=function(){function e(e,t){this.projectId=e,this.database=t||re}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database===re},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.compareTo=function(e){return Y(this.projectId,e.projectId)||Y(this.database,e.database)},e}(),ie=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}return e.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},e.INVALID=-1,e}(),se=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&y("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&y("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return m(this.length>=(e=void 0===e?1:e),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return m(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return m(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return m(e<this.length,"Index out of range"),this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=e.get(r),i=t.get(r);if(o<i)return-1;if(o>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(e){if(e.indexOf("//")>=0)throw new E(b.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter((function(e){return e.length>0})))},t.EMPTY_PATH=new t([]),t}(se),le=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return le.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",o=0,i=function(){if(0===r.length)throw new E(b.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;o<e.length;){var a=e[o];if("\\"===a){if(o+1===e.length)throw new E(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var l=e[o+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new E(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,o+=2}else"`"===a?(s=!s,o++):"."!==a||s?(r+=a,o++):(i(),o++)}if(i(),s)throw new E(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.EMPTY_PATH=new t([]),t}(se),ce=function(){function e(t){this.path=t,m(e.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}return e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===ae.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return ae.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new ae(t.slice()))},e.fromPathString=function(t){return new e(ae.fromString(t))},e.EMPTY=new e(new ae([])),e}(),pe=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},de=function(e){return e.All="all",e.ListenStreamIdle="listen_stream_idle",e.ListenStreamConnectionBackoff="listen_stream_connection_backoff",e.WriteStreamIdle="write_stream_idle",e.WriteStreamConnectionBackoff="write_stream_connection_backoff",e.OnlineStateTimeout="online_state_timeout",e.ClientMetadataRefresh="client_metadata_refresh",e.LruGarbageCollection="lru_garbage_collection",e.RetryTransaction="retry_transaction",e}({}),he=function(){function e(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new pe,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,o,i){var s=new e(t,n,Date.now()+r,o,i);return s.start(r),s},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}(),fe=function(){function e(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenAfterShutdown=function(e){this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueEvenAfterShutdown=function(e){return this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueAndInitiateShutdown=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(e)]);case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e.prototype.enqueue=function(e){return this.verifyNotFailed(),this._isShuttingDown?new Promise((function(e){})):this.enqueueInternal(e)},e.prototype.enqueueInternal=function(e){var t=this,n=this.tail.then((function(){return t.operationInProgress=!0,e().catch((function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw g("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw e}),0),e})).then((function(e){return t.operationInProgress=!1,e}))}));return this.tail=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),m(t>=0,"Attempted to schedule an operation with a negative delay of "+t),this.timerIdsToSkip.indexOf(e)>-1&&(t=0);var o=he.createAndSchedule(this,e,t,n,(function(e){return r.removeDelayedOperation(e)}));return this.delayedOperations.push(o),o},e.prototype.verifyNotFailed=function(){this.failure&&y("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},e.prototype.verifyOperationInProgress=function(){m(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},e.prototype.drain=function(){return this.enqueueEvenAfterShutdown((function(){return Promise.resolve()}))},e.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then((function(){m(e===de.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.delayedOperations;n<r.length;n++){var o=r[n];if(o.skipDelay(),e!==de.All&&o.timerId===e)break}return t.drain()}))},e.prototype.skipDelaysForTimerId=function(e){this.timerIdsToSkip.push(e)},e.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);m(t>=0,"Delayed operation not found."),this.delayedOperations.splice(t,1)},e}(),ge="\x01",ve="\x01",ye="\x10",me="\x11";function Ce(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=be(t)),t=we(e.get(n),t);return be(t)}function we(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var i=e.charAt(o);switch(i){case"\0":n+=ge+ye;break;case ge:n+=ge+me;break;default:n+=i}}return n}function be(e){return e+ge+ve}function Ee(e){var t=e.length;if(m(t>=2,"Invalid path "+e),2===t)return m(e.charAt(0)===ge&&e.charAt(1)===ve,"Non-empty path "+e+" had length 2"),ae.EMPTY_PATH;for(var n=t-2,r=[],o="",i=0;i<t;){var s=e.indexOf(ge,i);switch((s<0||s>n)&&y('Invalid encoded resource path: "'+e+'"'),e.charAt(s+1)){case ve:var a=e.substring(i,s),l=void 0;0===o.length?l=a:(l=o+=a,o=""),r.push(l);break;case ye:o+=e.substring(i,s),o+="\0";break;case me:o+=e.substring(i,s+1);break;default:y('Invalid encoded resource path: "'+e+'"')}i=s+2}return new ae(r)}var _e=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new E(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new E(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new E(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new E(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e}(),Se=function(){function e(e){this.timestamp=e}return e.fromMicroseconds=function(t){var n=Math.floor(t/1e6);return new e(new _e(n,t%1e6*1e3))},e.fromTimestamp=function(t){return new e(t)},e.forDeletedDoc=function(){return e.MIN},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e.MIN=new e(new _e(0,0)),e}(),Re=function(){function e(e,t){this.comparator=e,this.root=t||Oe.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Oe.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Oe.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Te(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Te(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Te(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Te(this.root,e,this.comparator,!0)},e}(),Te=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){m(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Oe=function(){function e(t,n,r,o,i){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=o?o:e.EMPTY,this.right=null!=i?i:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,i){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,o=n(e,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(t,o.key)){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw y("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw y("Black depths differ");return e+(this.isRed()?0:1)},e.EMPTY=null,e.RED=!0,e.BLACK=!1,e}(),De=function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw y("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw y("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw y("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw y("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw y("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),e.prototype.copy=function(e,t,n,r,o){return this},e.prototype.insert=function(e,t,n){return new Oe(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}();Oe.EMPTY=new De;var Ie=function(){function e(e){this.comparator=e,this.data=new Re(this.comparator)}return e.fromMapKeys=function(t){var n=new e(t.comparator);return t.forEach((function(e){n=n.add(e)})),n},e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Ae(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Ae(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(o,i))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Ae=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),ke=new Re(ce.comparator);function Pe(){return ke}function Ne(){return Pe()}var xe=new Re(ce.comparator);function Fe(){return xe}var Me=new Re(ce.comparator);function Le(){return Me}var Ve=new Ie(ce.comparator);function Ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ve,r=0,o=e;r<o.length;r++)n=n.add(o[r]);return n}var We=new Ie(Y);function He(){return We}var Be=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r,m(r.length>0,"Cannot create an empty mutation batch")}return e.prototype.applyToRemoteDocument=function(e,t,n){t&&m(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;m(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var o=0;o<this.mutations.length;o++){var i=this.mutations[o];i.key.isEqual(e)&&(t=i.applyToRemoteDocument(t,r[o]))}return t},e.prototype.applyToLocalView=function(e,t){t&&m(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(e)&&(t=a.applyToLocalView(t,t,this.localWriteTime));for(var o=t,i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(e)&&(t=a.applyToLocalView(t,o,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var o=t.applyToLocalView(r.key,e.get(r.key));o&&(n=n.insert(r.key,o))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ge())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Z(this.mutations,e.mutations)&&Z(this.baseMutations,e.baseMutations)},e}(),Ue=function(){function e(e,t,n,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=o}return e.from=function(t,n,r,o){m(t.mutations.length===r.length,"Mutations sent "+t.mutations.length+" must equal results received "+r.length);for(var i=Le(),s=t.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e(t,n,r,o,i)},e}(),je=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&y("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,o){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,o)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,o)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,o=0,i=!1;t.forEach((function(t){++r,t.next((function(){++o,i&&o===r&&e()}),(function(e){return n(e)}))})),i=!0,o===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},o=0,i=t;o<i.length;o++)r(i[o]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,o){r.push(t.call(n,e,o))})),this.waitFor(r)},e}(),ze="SimpleDb",qe=function(){function e(t){this.db=t,12.2===e.getIOSVersion(a.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.openOrCreate=function(t,n,r){return m(e.isAvailable(),"IndexedDB not supported in current environment."),f(ze,"Opening database:",t),new je((function(o,i){var s=window.indexedDB.open(t,n);s.onsuccess=function(t){o(new e(t.target.result))},s.onblocked=function(){i(new E(b.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(e){var t=e.target.error;i("VersionError"===t.name?new E(b.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):t)},s.onupgradeneeded=function(e){f(ze,'Database "'+t+'" requires upgrade from version:',e.oldVersion),r.createOrUpgrade(e.target.result,s.transaction,e.oldVersion,tn).next((function(){f(ze,"Database upgrade to version "+tn+" complete")}))}})).toPromise()},e.delete=function(e){return f(ze,"Removing database:",e),Ze(window.indexedDB.deleteDatabase(e)).toPromise()},e.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(e.isMockPersistence())return!0;if(void 0===window.navigator)return!1;var t=a.getUA(),n=e.getIOSVersion(t),r=0<n&&n<10,o=e.getAndroidVersion(t),i=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||i)},e.isMockPersistence=function(){return"undefined"!=typeof process&&"YES"===process.env.USE_MOCK_PERSISTENCE},e.getStore=function(e,t){return e.store(t)},e.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},e.prototype.runTransaction=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,l,u;return i.__generator(this,(function(c){switch(c.label){case 0:r=e.startsWith("readonly"),o=e.endsWith("idempotent"),s=0,a=function(){var e,a,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:++s,e=Qe.open(l.db,r?"readonly":"readwrite",t),i.label=1;case 1:return i.trys.push([1,3,,4]),(a=n(e).catch((function(t){return e.abort(t),je.reject(t)})).toPromise()).catch((function(){})),[4,e.completionPromise];case 2:return i.sent(),[2,{value:a}];case 3:return u=i.sent(),f(ze,"Transaction failed with error: %s. Retrying: %s.",u.message,c=o&&"FirebaseError"!==u.name&&s<3),c?[3,4]:[2,{value:Promise.reject(u)}];case 4:return[2]}}))},l=this,c.label=1;case 1:return[5,a()];case 2:return"object"==typeof(u=c.sent())?[2,u.value]:[3,1];case 3:return[2]}}))}))},e.prototype.close=function(){this.db.close()},e}(),Ke=function(){function e(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.shouldStop=!0},e.prototype.skip=function(e){this.nextKey=e},e.prototype.delete=function(){return Ze(this.dbCursor.delete())},e}(),Qe=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new pe,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){var n=$e(e.target.error);t.completionDeferred.reject(n)}}return e.open=function(t,n,r){return new e(t.transaction(r,n))},Object.defineProperty(e.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(f(ze,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return m(!!t,"Object store not part of transaction: "+e),new Ye(t)},e}(),Ye=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(f(ze,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(f(ze,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ze(n)},e.prototype.add=function(e){return f(ze,"ADD",this.store.name,e,e),Ze(this.store.add(e))},e.prototype.get=function(e){var t=this;return Ze(this.store.get(e)).next((function(n){return void 0===n&&(n=null),f(ze,"GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return f(ze,"DELETE",this.store.name,e),Ze(this.store.delete(e))},e.prototype.count=function(){return f(ze,"COUNT",this.store.name),Ze(this.store.count())},e.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.deleteAll=function(e,t){f(ze,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,(function(e,t,n){return n.delete()}))},e.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},e.prototype.iterateSerial=function(e){var t=this.cursor({});return new je((function(n,r){t.onerror=function(e){var t=$e(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.iterateCursor=function(e,t){var n=[];return new je((function(r,o){e.onerror=function(e){o(e.target.error)},e.onsuccess=function(e){var o=e.target.result;if(o){var i=new Ke(o),s=t(o.primaryKey,o.value,i);if(s instanceof je){var a=s.catch((function(e){return i.done(),je.reject(e)}));n.push(a)}i.isDone?r():null===i.skipToKey?o.continue():o.continue(i.skipToKey)}else r()}})).next((function(){return je.waitFor(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:(m(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Ze(e){return new je((function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=$e(e.target.error);n(t)}}))}var Xe=!1;function $e(e){var t=qe.getIOSVersion(a.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new E("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Xe||(Xe=!0,setTimeout((function(){throw r}),0)),r}}return e}var Je=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return e.forUser=function(t,n,r,o){return m(""!==t.uid,"UserID must not be an empty string."),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rt(e).iterate({index:an.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next((function(t){return t.lastStreamToken=nt(n),it(e).put(t)}))},e.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next((function(e){return e.lastStreamToken}))},e.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next((function(n){return n.lastStreamToken=nt(t),it(e).put(n)}))},e.prototype.addMutationBatch=function(e,t,n,r){var o=this,i=ot(e),s=rt(e);return s.add({}).next((function(a){m("number"==typeof a,"Auto-generated key is not a number");for(var l=new Be(a,t,n,r),u=o.serializer.toDbMutationBatch(o.userId,l),c=[],p=new Ie((function(e,t){return Y(e.canonicalString(),t.canonicalString())})),d=0,h=r;d<h.length;d++){var f=h[d],g=ln.key(o.userId,f.key.path,a);p=p.add(f.key.path.popLast()),c.push(s.put(u)),c.push(i.put(g,ln.PLACEHOLDER))}return p.forEach((function(t){c.push(o.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){o.documentKeysByBatchId[a]=l.keys()})),je.waitFor(c).next((function(){return l}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return rt(e).get(t).next((function(e){return e?(m(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null}))},e.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?je.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]),i=null;return rt(e).iterate({index:an.userMutationsIndex,range:o},(function(e,t,o){t.userId===n.userId&&(m(t.batchId>=r,"Should have found mutation after "+r),i=n.serializer.fromDbMutationBatch(t)),o.done()})).next((function(){return i}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return rt(e).iterate({index:an.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rt(e).loadAll(an.userMutationsIndex,n).next((function(e){return e.map((function(e){return t.serializer.fromDbMutationBatch(e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=ln.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),i=[];return ot(e).iterate({range:o},(function(r,o,s){var a=r[0],l=r[2],u=Ee(r[1]);if(a===n.userId&&t.path.isEqual(u))return rt(e).get(l).next((function(e){if(!e)throw y("Dangling document-mutation reference found: "+r+" which points to "+l);m(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+l),i.push(n.serializer.fromDbMutationBatch(e))}));s.done()})).next((function(){return i}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ie(Y),o=[];return t.forEach((function(t){var i=ln.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(i),a=ot(e).iterate({range:s},(function(e,o,i){var s=e[0],a=e[2],l=Ee(e[1]);s===n.userId&&t.path.isEqual(l)?r=r.add(a):i.done()}));o.push(a)})),je.waitFor(o).next((function(){return n.lookupMutationBatches(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;m(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),m(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=t.path,o=r.length+1,i=ln.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(i),a=new Ie(Y);return ot(e).iterate({range:s},(function(e,t,i){var s=e[0],l=e[2],u=Ee(e[1]);s===n.userId&&r.isPrefixOf(u)?u.length===o&&(a=a.add(l)):i.done()})).next((function(){return n.lookupMutationBatches(e,a)}))},e.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],o=[];return t.forEach((function(t){o.push(rt(e).get(t).next((function(e){if(null===e)throw y("Dangling document-mutation reference found, which points to "+t);m(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))})))})),je.waitFor(o).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return tt(e.simpleDbTransaction,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.removeCachedMutationKeys(t.batchId)})),je.forEach(r,(function(t){return n.referenceDelegate.removeMutationReference(e,t)}))}))},e.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return je.resolve();var r=IDBKeyRange.lowerBound(ln.prefixForUser(t.userId)),o=[];return ot(e).iterate({range:r},(function(e,n,r){if(e[0]===t.userId){var i=Ee(e[1]);o.push(i)}else r.done()})).next((function(){m(0===o.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+o.map((function(e){return e.canonicalString()})))}))}))},e.prototype.containsKey=function(e,t){return et(e,this.userId,t)},e.prototype.getMutationQueueMetadata=function(e){var t=this;return it(e).get(this.userId).next((function(e){return e||new sn(t.userId,-1,"")}))},e}();function et(e,t,n){var r=ln.prefixForPath(t,n.path),o=r[1],i=IDBKeyRange.lowerBound(r),s=!1;return ot(e).iterate({range:i,keysOnly:!0},(function(e,n,r){e[0]===t&&e[1]===o&&(s=!0),r.done()})).next((function(){return s}))}function tt(e,t,n){var r=e.store(an.store),o=e.store(ln.store),i=[],s=IDBKeyRange.only(n.batchId),a=0,l=r.iterate({range:s},(function(e,t,n){return a++,n.delete()}));i.push(l.next((function(){m(1===a,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var u=[],c=0,p=n.mutations;c<p.length;c++){var d=p[c],h=ln.key(t,d.key.path,n.batchId);i.push(o.delete(h)),u.push(d.key)}return je.waitFor(i).next((function(){return u}))}function nt(e){return e instanceof Uint8Array?(m(qe.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function rt(e){return Vn.getStore(e,an.store)}function ot(e){return Vn.getStore(e,ln.store)}function it(e){return Vn.getStore(e,sn.store)}var st=1,at=function(e){return e[e.QueryCache=0]="QueryCache",e[e.SyncEngine=1]="SyncEngine",e}({}),lt=function(){function e(e,t){this.generatorId=e,m((e&st)===e,"Generator ID "+e+" contains more than "+st+" reserved bits"),this.seek(void 0!==t?t:this.generatorId)}return e.prototype.next=function(){var e=this.nextId;return this.nextId+=1<<st,e},e.prototype.after=function(e){return this.seek(e+(1<<st)),this.next()},e.prototype.seek=function(e){m((e&st)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},e.forTargetCache=function(){return new e(at.QueryCache,2)},e.forSyncEngine=function(){return new e(at.SyncEngine)},e}(),ut=function(){function e(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=lt.forTargetCache()}return e.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next((function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next((function(e){return Se.fromTimestamp(new _e(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return dt(e.simpleDbTransaction)},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next((function(o){return o.highestListenSequenceNumber=t,n&&(o.lastRemoteSnapshotVersion=n.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),r.saveMetadata(e,o)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.saveTargetData(e,t).next((function(){return n.retrieveMetadata(e).next((function(r){return r.targetCount+=1,n.updateMetadataFromTargetData(t,r),n.saveMetadata(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.saveTargetData(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ct(e).delete(t.targetId)})).next((function(){return n.retrieveMetadata(e)})).next((function(t){return m(t.targetCount>0,"Removing from an empty target cache"),t.targetCount-=1,n.saveMetadata(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,o=0,i=[];return ct(e).iterate((function(s,a){var l=r.serializer.fromDbTarget(a);l.sequenceNumber<=t&&null===n.get(l.targetId)&&(o++,i.push(r.removeTargetData(e,l)))})).next((function(){return je.waitFor(i)})).next((function(){return o}))},e.prototype.forEachTarget=function(e,t){var n=this;return ct(e).iterate((function(e,r){var o=n.serializer.fromDbTarget(r);t(o)}))},e.prototype.retrieveMetadata=function(e){return pt(e.simpleDbTransaction)},e.prototype.saveMetadata=function(e,t){return(n=e,Vn.getStore(n,gn.store)).put(gn.key,t);var n},e.prototype.saveTargetData=function(e,t){return ct(e).put(this.serializer.toDbTarget(t))},e.prototype.updateMetadataFromTargetData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.retrieveMetadata(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=this,r=t.canonicalId(),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),i=null;return ct(e).iterate({range:o,index:hn.queryTargetsIndexName},(function(e,r,o){var s=n.serializer.fromDbTarget(r);t.isEqual(s.target)&&(i=s,o.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,o=[],i=ht(e);return t.forEach((function(t){var s=Ce(t.path);o.push(i.put(new fn(n,s))),o.push(r.referenceDelegate.addReference(e,t))})),je.waitFor(o)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,o=ht(e);return je.forEach(t,(function(t){var i=Ce(t.path);return je.waitFor([o.delete([n,i]),r.referenceDelegate.removeReference(e,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=ht(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ht(e),o=Ge();return r.iterate({range:n,keysOnly:!0},(function(e,t,n){var r=Ee(e[1]),i=new ce(r);o=o.add(i)})).next((function(){return o}))},e.prototype.containsKey=function(e,t){var n=Ce(t.path),r=IDBKeyRange.bound([n],[X(n)],!1,!0),o=0;return ht(e).iterate({index:fn.documentTargetsIndex,keysOnly:!0,range:r},(function(e,t,n){0!==e[0]&&(o++,n.done())})).next((function(){return o>0}))},e.prototype.getTargetDataForTarget=function(e,t){var n=this;return ct(e).get(t).next((function(e){return e?n.serializer.fromDbTarget(e):null}))},e}();function ct(e){return Vn.getStore(e,hn.store)}function pt(e){return qe.getStore(e,gn.store).get(gn.key).next((function(e){return m(null!==e,"Missing metadata row."),e}))}function dt(e){return pt(e).next((function(e){return e.highestListenSequenceNumber}))}function ht(e){return Vn.getStore(e,fn.store)}var ft=function(){function e(e){this.fields=e}return e.fromSet=function(t){return new e(t)},e.fromArray=function(t){var n=new Ie(ue.comparator);return t.forEach((function(e){return n=n.add(e)})),new e(n)},e.prototype.covers=function(e){var t=!1;return this.fields.forEach((function(n){n.isPrefixOf(e)&&(t=!0)})),t},e.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},e}(),gt=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),vt=function(e,t){this.version=e,this.transformResults=t},yt=function(e){return e[e.Set=0]="Set",e[e.Patch=1]="Patch",e[e.Transform=2]="Transform",e[e.Delete=3]="Delete",e}({}),mt=function(){function e(e,t){this.updateTime=e,this.exists=t,m(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}return e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof Ut&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof Ut:(m(this.isNone,"Precondition should be empty"),!0)},e.prototype.isEqual=function(e){return n=e.updateTime,(null!=(t=this.updateTime)?!(!n||!t.isEqual(n)):t===n)&&this.exists===e.exists;var t,n},e.NONE=new e,e}(),Ct=function(){function e(){}return e.prototype.verifyKeyMatches=function(e){null!=e&&m(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},e.getPostMutationVersion=function(e){return e instanceof Ut?e.version:Se.MIN},e}(),wt=function(e){function t(t,n,r){var o=e.call(this)||this;return o.key=t,o.value=n,o.precondition=r,o.type=yt.Set,o}return i.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),m(null==t.transformResults,"Transform results received by SetMutation."),new Ut(this.key,t.version,{hasCommittedMutations:!0},this.value)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=Ct.getPostMutationVersion(e);return new Ut(this.key,r,{hasLocalMutations:!0},this.value)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},t}(Ct),bt=function(e){function t(t,n,r,o){var i=e.call(this)||this;return i.key=t,i.data=n,i.fieldMask=r,i.precondition=o,i.type=yt.Patch,i}return i.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),m(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new zt(this.key,t.version);var n=this.patchDocument(e);return new Ut(this.key,t.version,{hasCommittedMutations:!0},n)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=Ct.getPostMutationVersion(e),o=this.patchDocument(e);return new Ut(this.key,r,{hasLocalMutations:!0},o)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},t.prototype.patchDocument=function(e){var t;return t=e instanceof Ut?e.data():Wt.EMPTY,this.patchObject(t)},t.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e=null!==r?e.set(n,r):e.delete(n)}})),e},t}(Ct),Et=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.fieldTransforms=n,r.type=yt.Transform,r.precondition=mt.exists(!0),r}return i.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),m(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new zt(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),o=t.version,i=this.transformObject(n.data(),r);return new Ut(this.key,o,{hasCommittedMutations:!0},i)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),o=this.localTransformResults(n,e,t),i=this.transformObject(r.data(),o);return new Ut(this.key,r.version,{hasLocalMutations:!0},i)},t.prototype.extractBaseValue=function(e){for(var t=null,n=0,r=this.fieldTransforms;n<r.length;n++){var o=r[n],i=e instanceof Ut?e.field(o.field):void 0,s=o.transform.computeBaseValue(i||null);null!=s&&(t=null==t?Wt.EMPTY.set(o.field,s):t.set(o.field,s))}return t},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&Z(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},t.prototype.requireDocument=function(e){m(e instanceof Ut,"Unknown MaybeDocument type "+e);var t=e;return m(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},t.prototype.serverTransformResults=function(e,t){var n=[];m(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<t.length;r++){var o=this.fieldTransforms[r],i=o.transform,s=null;e instanceof Ut&&(s=e.field(o.field)),n.push(i.applyToRemoteDocument(s,t[r]))}return n},t.prototype.localTransformResults=function(e,t,n){for(var r=[],o=0,i=this.fieldTransforms;o<i.length;o++){var s=i[o],a=s.transform,l=null;t instanceof Ut&&(l=t.field(s.field)),null===l&&n instanceof Ut&&(l=n.field(s.field)),r.push(a.applyToLocalView(l,e))}return r},t.prototype.transformObject=function(e,t){m(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)e=e.set(this.fieldTransforms[n].field,t[n]);return e},t}(Ct),_t=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=yt.Delete,r}return i.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),m(null==t.transformResults,"Transform results received by DeleteMutation."),new jt(this.key,t.version,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&m(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new jt(this.key,Se.forDeletedDoc())):e},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},t}(Ct),St=function(e){return e[e.NullValue=0]="NullValue",e[e.BooleanValue=1]="BooleanValue",e[e.NumberValue=2]="NumberValue",e[e.TimestampValue=3]="TimestampValue",e[e.StringValue=4]="StringValue",e[e.BlobValue=5]="BlobValue",e[e.RefValue=6]="RefValue",e[e.GeoPointValue=7]="GeoPointValue",e[e.ArrayValue=8]="ArrayValue",e[e.ObjectValue=9]="ObjectValue",e}({}),Rt=function(e){return e[e.Default=0]="Default",e[e.Estimate=1]="Estimate",e[e.Previous=2]="Previous",e}({}),Tt=function(){function e(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}return e.fromSnapshotOptions=function(t,n){switch(t.serverTimestamps){case"estimate":return new e(Rt.Estimate,n);case"previous":return new e(Rt.Previous,n);case"none":case void 0:return new e(Rt.Default,n);default:return y("fromSnapshotOptions() called with invalid options.")}},e}(),Ot=function(){function e(){}return e.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},e.prototype.defaultCompareTo=function(e){return m(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),Y(this.typeOrder,e.typeOrder)},e}(),Dt=function(e){function t(){var t=e.call(this)||this;return t.typeOrder=St.NullValue,t.internalValue=null,t}return i.__extends(t,e),t.prototype.value=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t},t.prototype.compareTo=function(e){return e instanceof t?0:this.defaultCompareTo(e)},t.INSTANCE=new t,t}(Ot),It=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=St.BooleanValue,n}return i.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?Y(this,e):this.defaultCompareTo(e)},t.of=function(e){return e?t.TRUE:t.FALSE},t.TRUE=new t(!0),t.FALSE=new t(!1),t}(Ot),At=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=St.NumberValue,n}return i.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.compareTo=function(e){return e instanceof t?(n=this.internalValue)<(r=e.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(e);var n,r},t}(Ot);function kt(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var Pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&kt(this.internalValue,e.internalValue)},t}(At),Nt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&kt(this.internalValue,e.internalValue)},t.NAN=new t(NaN),t.POSITIVE_INFINITY=new t(1/0),t.NEGATIVE_INFINITY=new t(-1/0),t}(At),xt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=St.StringValue,n}return i.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?Y(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(Ot),Ft=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=St.TimestampValue,n}return i.__extends(t,e),t.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):e instanceof Mt?-1:this.defaultCompareTo(e)},t}(Ot),Mt=function(e){function t(t,n){var r=e.call(this)||this;return r.localWriteTime=t,r.previousValue=n,r.typeOrder=St.TimestampValue,r}return i.__extends(t,e),t.prototype.value=function(e){return e&&e.serverTimestampBehavior===Rt.Estimate?new Ft(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===Rt.Previous&&this.previousValue?this.previousValue.value(e):null},t.prototype.isEqual=function(e){return e instanceof t&&this.localWriteTime.isEqual(e.localWriteTime)},t.prototype.compareTo=function(e){return e instanceof t?this.localWriteTime._compareTo(e.localWriteTime):e instanceof Ft?1:this.defaultCompareTo(e)},t.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},t}(Ot),Lt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=St.BlobValue,n}return i.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(Ot),Vt=function(e){function t(t,n){var r=e.call(this)||this;return r.databaseId=t,r.key=n,r.typeOrder=St.RefValue,r}return i.__extends(t,e),t.prototype.value=function(e){return this.key},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId)},t.prototype.compareTo=function(e){if(e instanceof t){var n=this.databaseId.compareTo(e.databaseId);return 0!==n?n:ce.comparator(this.key,e.key)}return this.defaultCompareTo(e)},t}(Ot),Gt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=St.GeoPointValue,n}return i.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(Ot),Wt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=St.ObjectValue,n}return i.__extends(t,e),t.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal((function(n,r){t[n]=r.value(e)})),t},t.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},t.prototype.isEqual=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),i=r.getNext();if(o.key!==i.key||!o.value.isEqual(i.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),i=r.getNext(),s=Y(o.key,i.key)||o.value.compareTo(i.value);if(s)return s}return Y(n.hasNext(),r.hasNext())}return this.defaultCompareTo(e)},t.prototype.set=function(e,n){if(m(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),n);var r=this.child(e.firstSegment());r instanceof t||(r=t.EMPTY);var o=r.set(e.popFirst(),n);return this.setChild(e.firstSegment(),o)},t.prototype.delete=function(e){if(m(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new t(this.internalValue.remove(e.firstSegment()));var n=this.child(e.firstSegment());if(n instanceof t){var r=n.delete(e.popFirst());return new t(this.internalValue.insert(e.firstSegment(),r))}return this},t.prototype.contains=function(e){return null!==this.field(e)},t.prototype.field=function(e){m(!e.isEmpty(),"Can't get field of empty path");var n=this;return e.forEach((function(e){n=n instanceof t?n.internalValue.get(e):null})),n},t.prototype.fieldMask=function(){var e=new Ie(ue.comparator);return this.internalValue.forEach((function(n,r){var o=new ue([n]);if(r instanceof t){var i=r.fieldMask().fields;i.isEmpty()?e=e.add(o):i.forEach((function(t){e=e.add(o.child(t))}))}else e=e.add(o)})),ft.fromSet(e)},t.prototype.toString=function(){return this.internalValue.toString()},t.prototype.child=function(e){return this.internalValue.get(e)||void 0},t.prototype.setChild=function(e,n){return new t(this.internalValue.insert(e,n))},t.EMPTY=new t(new Re(Y)),t}(Ot),Ht=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=St.ArrayValue,n}return i.__extends(t,e),t.prototype.value=function(e){return this.internalValue.map((function(t){return t.value(e)}))},t.prototype.contains=function(e){for(var t=0,n=this.internalValue;t<n.length;t++)if(n[t].isEqual(e))return!0;return!1},t.prototype.forEach=function(e){this.internalValue.forEach(e)},t.prototype.isEqual=function(e){if(e instanceof t){if(this.internalValue.length!==e.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(e.internalValue[n]))return!1;return!0}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=Math.min(this.internalValue.length,e.internalValue.length),r=0;r<n;r++){var o=this.internalValue[r].compareTo(e.internalValue[r]);if(o)return o}return Y(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},t.prototype.toString=function(){return"["+this.internalValue.map((function(e){return e.toString()})).join(",")+"]"},t}(Ot),Bt=function(){function e(e,t){this.key=e,this.version=t}return e.compareByKey=function(e,t){return ce.comparator(e.key,t.key)},e}(),Ut=function(e){function t(t,n,r,o,i,s){var a=e.call(this,t,n)||this;return a.objectValue=o,a.proto=i,a.converter=s,m(void 0!==a.objectValue||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.hasLocalMutations=!!r.hasLocalMutations,a.hasCommittedMutations=!!r.hasCommittedMutations,a}return i.__extends(t,e),t.prototype.field=function(e){if(this.objectValue)return this.objectValue.field(e);this.fieldValueCache||(this.fieldValueCache=new Map);var t=e.canonicalString(),n=this.fieldValueCache.get(t);if(void 0===n){var r=this.getProtoField(e);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(t,n)}return n},t.prototype.data=function(){var e=this;if(!this.objectValue){var t=Wt.EMPTY;O(this.proto.fields||{},(function(n,r){t=t.set(new ue([n]),e.converter(r))})),this.objectValue=t,this.fieldValueCache=void 0}return this.objectValue},t.prototype.value=function(){return this.data().value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.data().isEqual(e.data())},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.getProtoField=function(e){m(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var t=this.proto.fields?this.proto.fields[e.firstSegment()]:void 0,n=1;n<e.length;++n){if(!t||!t.mapValue||!t.mapValue.fields)return;t=t.mapValue.fields[e.get(n)]}return t},t.compareByField=function(e,t,n){var r=t.field(e),o=n.field(e);return null!==r&&null!==o?r.compareTo(o):y("Trying to compare documents on fields that don't exist")},t}(Bt),jt=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.hasCommittedMutations=!(!r||!r.hasCommittedMutations),o}return i.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Bt),zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Bt),qt=function(){function e(e){this.mapKeyFn=e,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,o=n;r<o.length;r++){var i=o[r],s=i[1];if(i[0].isEqual(e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var o=0;o<r.length;o++)if(r[o][0].isEqual(e))return void(r[o]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){O(this.inner,(function(t,n){for(var r=0,o=n;r<o.length;r++){var i=o[r];e(i[0],i[1])}}))},e.prototype.isEmpty=function(){return D(this.inner)},e}(),Kt=function(){function e(){this.changes=new qt((function(e){return e.toString()})),this.changesApplied=!1}return Object.defineProperty(e.prototype,"readTime",{get:function(){return m(void 0!==this._readTime,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this._readTime},set:function(e){m(void 0===this._readTime||this._readTime.isEqual(e),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this._readTime=e},enumerable:!0,configurable:!0}),e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.readTime=t,this.changes.set(e.key,e)},e.prototype.removeEntry=function(e,t){this.assertNotApplied(),t&&(this.readTime=t),this.changes.set(e,null)},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?je.resolve(n):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){m(!this.changesApplied,"Changes have already been applied.")},e}(),Qt=function(){function e(e,t){this.serializer=e,this.indexManager=t}return e.prototype.addEntry=function(e,t,n){return Zt(e).put(Xt(t),n)},e.prototype.removeEntry=function(e,t){var n=Zt(e),r=Xt(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.setMetadata(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Zt(e).get(Xt(t)).next((function(e){return n.maybeDecodeDocument(e)}))},e.prototype.getSizedEntry=function(e,t){var n=this;return Zt(e).get(Xt(t)).next((function(e){var t=n.maybeDecodeDocument(e);return t?{maybeDocument:t,size:$t(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=Ne();return this.forEachDbEntry(e,t,(function(e,t){var o=n.maybeDecodeDocument(t);r=r.insert(e,o)})).next((function(){return r}))},e.prototype.getSizedEntries=function(e,t){var n=this,r=Ne(),o=new Re(ce.comparator);return this.forEachDbEntry(e,t,(function(e,t){var i=n.maybeDecodeDocument(t);i?(r=r.insert(e,i),o=o.insert(e,$t(t))):(r=r.insert(e,null),o=o.insert(e,0))})).next((function(){return{maybeDocuments:r,sizeMap:o}}))},e.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return je.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),o=t.getIterator(),i=o.getNext();return Zt(e).iterate({range:r},(function(e,t,r){for(var s=ce.fromSegments(e);i&&ce.comparator(i,s)<0;)n(i,null),i=o.getNext();i&&i.isEqual(s)&&(n(i,t),i=o.hasNext()?o.getNext():null),i?r.skip(i.path.toArray()):r.done()})).next((function(){for(;i;)n(i,null),i=o.hasNext()?o.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this;m(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var o=Fe(),i=t.path.length+1,s={};if(n.isEqual(Se.MIN)){var a=t.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var l=t.path.toArray(),u=this.serializer.toDbTimestampKey(n);s.range=IDBKeyRange.lowerBound([l,u],!0),s.index=pn.collectionReadTimeIndex}return Zt(e).iterate(s,(function(e,n,s){if(e.length===i){var a=r.serializer.fromDbRemoteDocument(n);t.path.isPrefixOf(a.key.path)?a instanceof Ut&&t.matches(a)&&(o=o.insert(a.key,a)):s.done()}})).next((function(){return o}))},e.prototype.getNewDocumentChanges=function(e,t){var n=this,r=Pe(),o=this.serializer.toDbTimestampKey(t),i=Zt(e),s=IDBKeyRange.lowerBound(o,!0);return i.iterate({index:pn.readTimeIndex,range:s},(function(e,t){var i=n.serializer.fromDbRemoteDocument(t);r=r.insert(i.key,i),o=t.readTime})).next((function(){return{changedDocs:r,readTime:n.serializer.fromDbTimestampKey(o)}}))},e.prototype.getLastDocumentChange=function(e){var t,n=this,r=Zt(e),o=Se.MIN;return r.iterate({index:pn.readTimeIndex,reverse:!0},(function(e,r,i){t=n.serializer.fromDbRemoteDocument(r),r.readTime&&(o=n.serializer.fromDbTimestampKey(r.readTime)),i.done()})).next((function(){return{changedDoc:t,readTime:o}}))},e.prototype.newChangeBuffer=function(t){return new e.RemoteDocumentChangeBuffer(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Yt(e).get(dn.key).next((function(e){return m(!!e,"Missing document cache metadata"),e}))},e.prototype.setMetadata=function(e,t){return Yt(e).put(dn.key,t)},e.prototype.maybeDecodeDocument=function(e){if(e){var t=this.serializer.fromDbRemoteDocument(e);return t instanceof jt&&t.version.isEqual(Se.forDeletedDoc())?null:t}return null},e.RemoteDocumentChangeBuffer=function(e){function t(t,n){var r=e.call(this)||this;return r.documentCache=t,r.trackRemovals=n,r.documentSizes=new qt((function(e){return e.toString()})),r}return i.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,o=new Ie((function(e,t){return Y(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(i,s){var a=t.documentSizes.get(i);if(m(void 0!==a,"Cannot modify a document that wasn't read (for "+i+")"),s){m(!t.readTime.isEqual(Se.MIN),"Cannot add a document with a read time of zero");var l=t.documentCache.serializer.toDbRemoteDocument(s,t.readTime);o=o.add(i.path.popLast());var u=$t(l);r+=u-a,n.push(t.documentCache.addEntry(e,i,l))}else if(r-=a,t.trackRemovals){var c=t.documentCache.serializer.toDbRemoteDocument(new jt(i,Se.forDeletedDoc()),t.readTime);n.push(t.documentCache.addEntry(e,i,c))}else n.push(t.documentCache.removeEntry(e,i))})),o.forEach((function(r){n.push(t.documentCache.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.documentCache.updateMetadata(e,r)),je.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntry(e,t).next((function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntries(e,t).next((function(e){var t=e.maybeDocuments;return e.sizeMap.forEach((function(e,t){n.documentSizes.set(e,t)})),t}))},t}(Kt),e}();function Yt(e){return Vn.getStore(e,dn.store)}function Zt(e){return Vn.getStore(e,pn.store)}function Xt(e){return e.path.toArray()}function $t(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw y("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}var Jt=function(){function e(){this.collectionParentIndex=new en}return e.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),je.resolve()},e.prototype.getCollectionParents=function(e,t){return je.resolve(this.collectionParentIndex.getEntries(t))},e}(),en=function(){function e(){this.index={}}return e.prototype.add=function(e){m(e.length%2==1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ie(ae.comparator),o=!r.has(n);return this.index[t]=r.add(n),o},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Ie(ae.comparator)).toArray()},e}(),tn=9,nn=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var o=this;m(n<r&&n>=0&&r<=tn,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var i=new Qe(t);n<1&&r>=1&&(function(e){e.createObjectStore(on.store)}(e),function(e){e.createObjectStore(sn.store,{keyPath:sn.keyPath}),e.createObjectStore(an.store,{keyPath:an.keyPath,autoIncrement:!0}).createIndex(an.userMutationsIndex,an.userMutationsKeyPath,{unique:!0}),e.createObjectStore(ln.store)}(e),yn(e),function(e){e.createObjectStore(pn.store)}(e));var s=je.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(fn.store),e.deleteObjectStore(hn.store),e.deleteObjectStore(gn.store)}(e),yn(e)),s=s.next((function(){return function(e){var t=e.store(gn.store),n=new gn(0,0,Se.MIN.toTimestamp(),0);return t.put(gn.key,n)}(i)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(e,t){return t.store(an.store).loadAll().next((function(n){e.deleteObjectStore(an.store),e.createObjectStore(an.store,{keyPath:an.keyPath,autoIncrement:!0}).createIndex(an.userMutationsIndex,an.userMutationsKeyPath,{unique:!0});var r=t.store(an.store),o=n.map((function(e){return r.put(e)}));return je.waitFor(o)}))}(e,i)}))),s=s.next((function(){!function(e){e.createObjectStore(mn.store,{keyPath:mn.keyPath})}(e)}))),n<5&&r>=5&&(s=s.next((function(){return o.removeAcknowledgedMutations(i)}))),n<6&&r>=6&&(s=s.next((function(){return function(e){e.createObjectStore(dn.store)}(e),o.addDocumentGlobal(i)}))),n<7&&r>=7&&(s=s.next((function(){return o.ensureSequenceNumbers(i)}))),n<8&&r>=8&&(s=s.next((function(){return o.createCollectionParentIndex(e,i)}))),n<9&&r>=9&&(s=s.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(pn.store);t.createIndex(pn.readTimeIndex,pn.readTimeIndexPath,{unique:!1}),t.createIndex(pn.collectionReadTimeIndex,pn.collectionReadTimeIndexPath,{unique:!1})}(t)}))),s},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(pn.store).iterate((function(e,n){t+=$t(n)})).next((function(){var n=new dn(t);return e.store(dn.store).put(dn.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(sn.store),r=e.store(an.store);return n.loadAll().next((function(n){return je.forEach(n,(function(n){var o=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(an.userMutationsIndex,o).next((function(r){return je.forEach(r,(function(r){m(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var o=t.serializer.fromDbMutationBatch(r);return tt(e,n.userId,o).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(fn.store),n=e.store(pn.store);return dt(e).next((function(e){var r=[];return n.iterate((function(n,o){var i=new ae(n),s=function(e){return[0,Ce(e)]}(i);r.push(t.get(s).next((function(n){return n?je.resolve():function(n){return t.put(new fn(0,Ce(n),e))}(i)})))})).next((function(){return je.waitFor(r)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(vn.store,{keyPath:vn.keyPath});var n=t.store(vn.store),r=new en,o=function(e){if(r.add(e)){var t=e.lastSegment(),o=e.popLast();return n.put({collectionId:t,parent:Ce(o)})}};return t.store(pn.store).iterate({keysOnly:!0},(function(e,t){var n=new ae(e);return o(n.popLast())})).next((function(){return t.store(ln.store).iterate({keysOnly:!0},(function(e,t){var n=Ee(e[1]);return o(n.popLast())}))}))},e}(),rn=function(e,t){this.seconds=e,this.nanoseconds=t},on=function(){function e(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}return e.store="owner",e.key="owner",e}(),sn=function(){function e(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}return e.store="mutationQueues",e.keyPath="userId",e}(),an=function(){function e(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o}return e.store="mutations",e.keyPath="batchId",e.userMutationsIndex="userMutationsIndex",e.userMutationsKeyPath=["userId","batchId"],e}(),ln=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Ce(t)]},e.key=function(e,t,n){return[e,Ce(t),n]},e.store="documentMutations",e.PLACEHOLDER=new e,e}(),un=function(e,t){this.path=e,this.readTime=t},cn=function(e,t){this.path=e,this.version=t},pn=function(){function e(e,t,n,r,o,i){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=i}return e.store="remoteDocuments",e.readTimeIndex="readTimeIndex",e.readTimeIndexPath="readTime",e.collectionReadTimeIndex="collectionReadTimeIndex",e.collectionReadTimeIndexPath=["parentPath","readTime"],e}(),dn=function(){function e(e){this.byteSize=e}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e}(),hn=function(){function e(e,t,n,r,o,i,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=i,this.query=s}return e.store="targets",e.keyPath="targetId",e.queryTargetsIndexName="queryTargetsIndex",e.queryTargetsKeyPath=["canonicalId","targetId"],e}(),fn=function(){function e(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n,m(0===e==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return e.store="targetDocuments",e.keyPath=["targetId","path"],e.documentTargetsIndex="documentTargetsIndex",e.documentTargetsKeyPath=["path","targetId"],e}(),gn=function(){function e(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return e.key="targetGlobalKey",e.store="targetGlobal",e}(),vn=function(){function e(e,t){this.collectionId=e,this.parent=t}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e}();function yn(e){e.createObjectStore(fn.store,{keyPath:fn.keyPath}).createIndex(fn.documentTargetsIndex,fn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(hn.store,{keyPath:hn.keyPath}).createIndex(hn.queryTargetsIndexName,hn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(gn.store)}var mn=function(){function e(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}return e.store="clientMetadata",e.keyPath="clientId",e}(),Cn=i.__spreadArrays([sn.store,an.store,ln.store,pn.store,hn.store,on.store,gn.store,fn.store],[mn.store]),wn=i.__spreadArrays(Cn,[dn.store]),bn=i.__spreadArrays(wn,[vn.store]),En=function(){function e(){this.collectionParentsCache=new en}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(m(t.length%2==1,"Expected a collection path."),!this.collectionParentsCache.has(t)){var r=t.lastSegment(),o=t.popLast();return e.addOnCommittedListener((function(){n.collectionParentsCache.add(t)})),_n(e).put({collectionId:r,parent:Ce(o)})}return je.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[X(t),""],!1,!0);return _n(e).loadAll(r).next((function(e){for(var r=0,o=e;r<o.length;r++){var i=o[r];if(i.collectionId!==t)break;n.push(Ee(i.parent))}return n}))},e}();function _n(e){return Vn.getStore(e,vn.store)}var Sn=function(e){return e[e.Listen=0]="Listen",e[e.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",e[e.LimboResolution=2]="LimboResolution",e}({}),Rn=function(){function e(e,t,n,r,o,i,s){void 0===o&&(o=Se.MIN),void 0===i&&(i=Se.MIN),void 0===s&&(s=w()),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.lastLimboFreeSnapshotVersion.isEqual(e.lastLimboFreeSnapshotVersion)&&this.resumeToken===e.resumeToken&&this.target.isEqual(e.target)},e}(),Tn=function(){function e(e){this.remoteSerializer=e}return e.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=ce.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new jt(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}return e.unknownDocument?(t=ce.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version),new zt(t,n)):y("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(e,t){var n=this.toDbTimestampKey(t),r=e.key.path.popLast().toArray();if(e instanceof Ut){var o=e.proto?e.proto:this.remoteSerializer.toDocument(e);return new pn(null,null,o,a=e.hasCommittedMutations,n,r)}if(e instanceof jt){var i=e.key.path.toArray(),s=this.toDbTimestamp(e.version),a=e.hasCommittedMutations;return new pn(null,new un(i,s),null,a,n,r)}if(e instanceof zt){i=e.key.path.toArray();var l=this.toDbTimestamp(e.version);return new pn(new cn(i,l),null,null,!0,n,r)}return y("Unexpected MaybeDocument")},e.prototype.toDbTimestampKey=function(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]},e.prototype.fromDbTimestampKey=function(e){var t=new _e(e[0],e[1]);return Se.fromTimestamp(t)},e.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new rn(t.seconds,t.nanoseconds)},e.prototype.fromDbTimestamp=function(e){var t=new _e(e.seconds,e.nanoseconds);return Se.fromTimestamp(t)},e.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.baseMutations.map((function(e){return n.remoteSerializer.toMutation(e)})),o=t.mutations.map((function(e){return n.remoteSerializer.toMutation(e)}));return new an(e,t.batchId,t.localWriteTime.toMillis(),r,o)},e.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map((function(e){return t.remoteSerializer.fromMutation(e)})),r=e.mutations.map((function(e){return t.remoteSerializer.fromMutation(e)})),o=_e.fromMillis(e.localWriteTimeMs);return new Be(e.batchId,o,n,r)},e.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach((function(e){t.push(Ce(e.path))})),t},e.prototype.fromDbResourcePaths=function(e){for(var t=Ge(),n=0,r=e;n<r.length;n++)t=t.add(new ce(Ee(r[n])));return t},e.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?this.fromDbTimestamp(e.lastLimboFreeSnapshotVersion):Se.MIN,o=e.resumeToken;return t=void 0!==e.query.documents?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new Rn(t,e.targetId,Sn.Listen,e.lastListenSequenceNumber,n,r,o)},e.prototype.toDbTarget=function(e){m(Sn.Listen===e.purpose,"Only queries with purpose "+Sn.Listen+" may be stored, got "+e.purpose);var t,n,r=this.toDbTimestamp(e.snapshotVersion),o=this.toDbTimestamp(e.lastLimboFreeSnapshotVersion);return t=e.target.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.target):this.remoteSerializer.toQueryTarget(e.target),e.resumeToken instanceof Uint8Array?(m(qe.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence ."),n=e.resumeToken.toString()):n=e.resumeToken,new hn(e.targetId,e.target.canonicalId(),r,n,e.sequenceNumber,o,t)},e}();function On(e,t){var n=e[1],r=t[1],o=Y(e[0],t[0]);return 0===o?Y(n,r):o}var Dn=function(){function e(e){this.maxElements=e,this.buffer=new Ie(On),this.previousIndex=0}return e.prototype.nextIndex=function(){return++this.previousIndex},e.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();On(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),e}(),In={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},An=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e.COLLECTION_DISABLED=-1,e.MINIMUM_CACHE_SIZE_BYTES=1048576,e.DEFAULT=new e(e.DEFAULT_CACHE_SIZE_BYTES=41943040,e.DEFAULT_COLLECTION_PERCENTILE=10,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),e.DISABLED=new e(e.COLLECTION_DISABLED,0,0),e}(),kn=function(){function e(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.hasRun=!1,this.gcTask=null}return e.prototype.start=function(){m(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==An.COLLECTION_DISABLED&&this.scheduleGC()},e.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),e.prototype.scheduleGC=function(){var e=this;m(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(de.LruGarbageCollection,t,(function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then((function(){return e.scheduleGC()})).catch(Gn)}))},e}(),Pn=function(){function e(e,t){this.delegate=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return je.resolve(ie.INVALID);var r=new Dn(t);return this.delegate.forEachTarget(e,(function(e){return r.addElement(e.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,(function(e){return r.addElement(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===An.COLLECTION_DISABLED?(f("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(In)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),In):n.runGarbageCollection(e,t)}))},e.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},e.prototype.runGarbageCollection=function(e,t){var n,r,o,i,s,a,l,u=this,c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>u.params.maximumSequenceNumbersToCollect?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+t),r=u.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),u.nthSequenceNumber(e,r)})).next((function(r){return n=r,s=Date.now(),u.removeTargets(e,n,t)})).next((function(t){return o=t,a=Date.now(),u.removeOrphanedDocuments(e,n)})).next((function(e){return l=Date.now(),d()<=p.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(i-c)+"ms\n\tDetermined least recently used "+r+" in "+(s-i)+"ms\n\tRemoved "+o+" targets in "+(a-s)+"ms\n\tRemoved "+e+" documents in "+(l-a)+"ms\nTotal Duration: "+(l-c)+"ms"),je.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})}))},e}(),Nn=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),xn="IndexedDbPersistence",Fn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mn="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Ln=function(e){function t(t,n){var r=e.call(this)||this;return r.simpleDbTransaction=t,r.currentSequenceNumber=n,r}return i.__extends(t,e),t}(Nn),Vn=function(){function e(t,n,r,o,i,s,a,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.queue=s,this.sequenceNumberSyncer=l,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},this.referenceDelegate=new Bn(this,i),this.dbName=n+e.MAIN_DATABASE,this.serializer=new Tn(a),this.document=o.document,this.targetCache=new ut(this.referenceDelegate,this.serializer),this.indexManager=new En,this.remoteDocumentCache=new Qt(this.serializer,this.indexManager),!o.window||!o.window.localStorage)throw new E(b.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=o.window,this.webStorage=this.window.localStorage}return e.getStore=function(e,t){if(e instanceof Ln)return qe.getStore(e.simpleDbTransaction,t);throw y("IndexedDbPersistence must use instances of IndexedDbTransaction")},e.createIndexedDbPersistence=function(t){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:if(!e.isAvailable())throw new E(b.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new e(t.allowTabSynchronization,t.persistenceKey,t.clientId,t.platform,t.lruParams,t.queue,t.serializer,t.sequenceNumberSyncer)).start()];case 1:return r.sent(),[2,n]}}))}))},e.prototype.start=function(){var e=this;return m(!this.started,"IndexedDbPersistence double-started!"),m(null!==this.window,"Expected 'window' to be defined"),qe.openOrCreate(this.dbName,tn,new nn(this.serializer)).then((function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()})).then((function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.simpleDb.runTransaction("readonly-idempotent",[gn.store],(function(e){return dt(e)}))})).then((function(t){e.listenSequence=new ie(t,e.sequenceNumberSyncer)})).then((function(){e._started=!0})).catch((function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)}))},e.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.simpleDb.setVersionChangeListener((function(n){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return null!==n.newVersion?[3,2]:[4,e()];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite-idempotent",bn,(function(t){return Hn(t).put(new mn(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next((function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget((function(){return e.primaryStateListener(!1)})))}))})).next((function(){return e.canActAsPrimary(t)})).next((function(n){return e.isPrimary&&!n?e.releasePrimaryLeaseIfHeld(t).next((function(){return!1})):!!n&&e.acquireOrExtendPrimaryLease(t).next((function(){return!0}))}))})).catch((function(t){if(!e.allowTabSynchronization)throw t;return f(xn,"Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.queue.enqueueAndForget((function(){return e.primaryStateListener(t)})),e.isPrimary=t}))},e.prototype.verifyPrimaryLease=function(e){var t=this;return Wn(e).get(on.key).next((function(e){return je.resolve(t.isLocalClient(e))}))},e.prototype.removeClientMetadata=function(e){return Hn(e).delete(this.clientId)},e.prototype.maybeGarbageCollectMultiClientState=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary-idempotent",(function(n){var r=e.getStore(n,mn.store);return r.loadAll().next((function(e){var n=t.filterActiveClients(e,18e5),o=e.filter((function(e){return-1===n.indexOf(e)}));return je.forEach(o,(function(e){return r.delete(e.clientId)})).next((function(){return o}))}))}))]);case 1:n.sent().forEach((function(e){t.window.localStorage.removeItem(t.zombiedClientLocalStorageKey(e.clientId))})),n.label=2;case 2:return[2]}}))}))},e.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(de.ClientMetadataRefresh,4e3,(function(){return e.updateClientMetadataAndTryBecomePrimary().then((function(){return e.maybeGarbageCollectMultiClientState()})).then((function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},e.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.canActAsPrimary=function(e){var t=this;return Wn(e).get(on.key).next((function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new E(b.FAILED_PRECONDITION,Mn);return!1}}return!(!t.networkEnabled||!t.inForeground)||Hn(e).loadAll().next((function(e){return void 0===t.filterActiveClients(e,5e3).find((function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))}))}))})).next((function(e){return t.isPrimary!==e&&f(xn,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite-idempotent",[on.store,mn.store],(function(t){return e.releasePrimaryLeaseIfHeld(t).next((function(){return e.removeClientMetadata(t)}))}))];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},e.prototype.filterActiveClients=function(e,t){var n=this;return e.filter((function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)}))},e.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly-idempotent",[mn.store],(function(t){return Hn(t).loadAll().next((function(t){return e.filterActiveClients(t,18e5).map((function(e){return e.clientId}))}))}))},e.clearPersistence=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return e.isAvailable()?[4,qe.delete(t+e.MAIN_DATABASE)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getMutationQueue=function(e){return m(this.started,"Cannot initialize MutationQueue before persistence is started."),Je.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},e.prototype.getTargetCache=function(){return m(this.started,"Cannot initialize TargetCache before persistence is started."),this.targetCache},e.prototype.getRemoteDocumentCache=function(){return m(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},e.prototype.getIndexManager=function(){return m(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},e.prototype.runTransaction=function(e,t,n){var r=this;f(xn,"Starting transaction:",e);var o,i=t.endsWith("idempotent"),s=t.startsWith("readonly");return this.simpleDb.runTransaction(s?i?"readonly-idempotent":"readonly":i?"readwrite-idempotent":"readwrite",bn,(function(i){return o=new Ln(i,r.listenSequence.next()),"readwrite-primary"===t||"readwrite-primary-idempotent"===t?r.verifyPrimaryLease(i).next((function(e){return!!e||r.canActAsPrimary(i)})).next((function(t){if(!t)throw g("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget((function(){return r.primaryStateListener(!1)})),new E(b.FAILED_PRECONDITION,Fn);return n(o)})).next((function(e){return r.acquireOrExtendPrimaryLease(i).next((function(){return e}))})):r.verifyAllowTabSynchronization(i).next((function(){return n(o)}))})).then((function(e){return o.raiseOnCommittedEvent(),e}))},e.prototype.verifyAllowTabSynchronization=function(e){var t=this;return Wn(e).get(on.key).next((function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new E(b.FAILED_PRECONDITION,Mn)}))},e.prototype.acquireOrExtendPrimaryLease=function(e){var t=new on(this.clientId,this.allowTabSynchronization,Date.now());return Wn(e).put(on.key,t)},e.isAvailable=function(){return qe.isAvailable()},e.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=Wn(e);return n.get(on.key).next((function(e){return t.isLocalClient(e)?(f(xn,"Releasing primary lease."),n.delete(on.key)):je.resolve()}))},e.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(g("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},e.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(m(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},e.prototype.attachWindowUnloadHook=function(){var e=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},e.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(m("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},e.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return f(xn,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(n){return g(xn,"Failed to get zombied client id.",n),!1}},e.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){g("Failed to set zombie client id.",e)}},e.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}},e.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e.MAIN_DATABASE="main",e}();function Gn(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){if(!function(e){return e.code===b.FAILED_PRECONDITION&&e.message===Fn}(e))throw e;return f(xn,"Unexpectedly lost primary lease"),[2]}))}))}function Wn(e){return e.store(on.store)}function Hn(e){return e.store(mn.store)}var Bn=function(){function e(e,t){this.db=e,this.inMemoryPins=null,this.garbageCollector=new Pn(this,t)}return e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,(function(e,n){return t(n)}))},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return Un(e,t)},e.prototype.removeReference=function(e,t){return Un(e,t)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.removeMutationReference=function(e,t){return Un(e,t)},e.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?je.resolve(!0):function(e,t){var n=!1;return it(e).iterateSerial((function(r){return et(e,r,t).next((function(e){return e&&(n=!0),je.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],i=0;return this.forEachOrphanedDocument(e,(function(s,a){if(a<=t){var l=n.isPinned(e,s).next((function(t){if(!t)return i++,r.getEntry(e,s).next((function(){return r.removeEntry(s),ht(e).delete([0,Ce(s.path)])}))}));o.push(l)}})).next((function(){return je.waitFor(o)})).next((function(){return r.apply(e)})).next((function(){return i}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Un(e,t)},e.prototype.forEachOrphanedDocument=function(e,t){var n,r=ht(e),o=ie.INVALID;return r.iterate({index:fn.documentTargetsIndex},(function(e,r){var i=r.path,s=r.sequenceNumber;0===e[0]?(o!==ie.INVALID&&t(new ce(Ee(n)),o),o=s,n=i):o=ie.INVALID})).next((function(){o!==ie.INVALID&&t(new ce(Ee(n)),o)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Un(e,t){return ht(e).put(function(e,t){return new fn(0,Ce(e.path),t)}(t,e.currentSequenceNumber))}var jn=Number,zn=jn.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),qn=jn.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Kn=jn.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function Qn(e){return null==e}function Yn(e){return Kn(e)&&e<=qn&&e>=zn}var Zn=function(){function e(e,t,n,r,o,i,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=s,this.memoizedCanonicalId=null}return e.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();null!==this.collectionGroup&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++)e+=n[t].canonicalId(),e+=",";e+="|ob:";for(var r=0,o=this.orderBy;r<o.length;r++)e+=o[r].canonicalId(),e+=",";Qn(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},e.prototype.toString=function(){var e=this.path.canonicalString();return null!==this.collectionGroup&&(e+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(e+=", filters: ["+this.filters.join(", ")+"]"),Qn(this.limit)||(e+=", limit: "+this.limit),this.orderBy.length>0&&(e+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),"Target("+e+")"},e.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return this.collectionGroup===e.collectionGroup&&!!this.path.isEqual(e.path)&&!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)},e.prototype.isDocumentQuery=function(){return ce.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},e}(),Xn=function(e){return e.First="F",e.Last="L",e}({}),$n=function(){function e(e,t,n,r,o,i,s,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i=Xn.First),void 0===s&&(s=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=s,this.endAt=a,this.memoizedOrderBy=null,this.memorizedTarget=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return e.atPath=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)this.memoizedOrderBy=e.isKeyField()?[cr]:[new ur(e),cr];else{m(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,o=this.explicitOrderBy;r<o.length;r++){var i=o[r];this.memoizedOrderBy.push(i),i.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:ar.ASCENDING)===ar.ASCENDING?cr:pr)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),e.prototype.addFilter=function(t){m(null==this.getInequalityFilterField()||!(t instanceof tr)||!t.isInequality()||t.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),m(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([t]);return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.limitType,this.startAt,this.endAt)},e.prototype.addOrderBy=function(t){m(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([t]);return new e(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},e.prototype.withLimitToFirst=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,Xn.First,this.startAt,this.endAt)},e.prototype.withLimitToLast=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,Xn.Last,this.startAt,this.endAt)},e.prototype.withStartAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,t,this.endAt)},e.prototype.withEndAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,t)},e.prototype.asCollectionQueryAtPath=function(t){return new e(t,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},e.prototype.matchesAllDocuments=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.explicitOrderBy.length||1===this.explicitOrderBy.length&&this.explicitOrderBy[0].field.isKeyField())},e.prototype.canonicalId=function(){return this.toTarget().canonicalId()+"|lt:"+this.limitType},e.prototype.toString=function(){return"Query(target="+this.toTarget().toString()+"; limitType="+this.limitType+")"},e.prototype.isEqual=function(e){return this.toTarget().isEqual(e.toTarget())&&this.limitType===e.limitType},e.prototype.docComparator=function(e,t){for(var n=!1,r=0,o=this.orderBy;r<o.length;r++){var i=o[r],s=i.compare(e,t);if(0!==s)return s;n=n||i.field.isKeyField()}return m(n,"orderBy used that doesn't compare on key field"),0},e.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},e.prototype.hasLimitToFirst=function(){return!Qn(this.limit)&&this.limitType===Xn.First},e.prototype.hasLimitToLast=function(){return!Qn(this.limit)&&this.limitType===Xn.Last},e.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},e.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof tr&&n.isInequality())return n.field}return null},e.prototype.findFilterOperator=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(r instanceof tr&&e.indexOf(r.op)>=0)return r.op}return null},e.prototype.isDocumentQuery=function(){return this.toTarget().isDocumentQuery()},e.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},e.prototype.toTarget=function(){if(!this.memorizedTarget)if(this.limitType===Xn.First)this.memorizedTarget=new Zn(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var e=[],t=0,n=this.orderBy;t<n.length;t++){var r=n[t];e.push(new ur(r.field,r.dir===ar.DESCENDING?ar.ASCENDING:ar.DESCENDING))}var o=this.endAt?new lr(this.endAt.position,!this.endAt.before):null,i=this.startAt?new lr(this.startAt.position,!this.startAt.before):null;this.memorizedTarget=new Zn(this.path,this.collectionGroup,e,this.filters,this.limit,o,i)}return this.memorizedTarget},e.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):ce.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},e.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&null===e.field(r.field))return!1}return!0},e.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++)if(!n[t].matches(e))return!1;return!0},e.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,e))},e.prototype.assertValidBound=function(e){m(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},e}(),Jn=function(){},er=function(){function e(e){this.name=e}return e.fromString=function(t){switch(t){case"<":return e.LESS_THAN;case"<=":return e.LESS_THAN_OR_EQUAL;case"==":return e.EQUAL;case">=":return e.GREATER_THAN_OR_EQUAL;case">":return e.GREATER_THAN;case"array-contains":return e.ARRAY_CONTAINS;case"in":return e.IN;case"array-contains-any":return e.ARRAY_CONTAINS_ANY;default:return y("Unknown FieldFilter operator: "+t)}},e.prototype.toString=function(){return this.name},e.prototype.isEqual=function(e){return this.name===e.name},e.LESS_THAN=new e("<"),e.LESS_THAN_OR_EQUAL=new e("<="),e.EQUAL=new e("=="),e.GREATER_THAN=new e(">"),e.GREATER_THAN_OR_EQUAL=new e(">="),e.ARRAY_CONTAINS=new e("array-contains"),e.IN=new e("in"),e.ARRAY_CONTAINS_ANY=new e("array-contains-any"),e}(),tr=function(e){function t(t,n,r){var o=e.call(this)||this;return o.field=t,o.op=n,o.value=r,o}return i.__extends(t,e),t.create=function(e,n,r){if(e.isKeyField())return n===er.IN?(m(r instanceof Ht,"Comparing on key with IN, but filter value not an ArrayValue"),m(r.internalValue.every((function(e){return e instanceof Vt})),"Comparing on key with IN, but an array value was not a RefValue"),new rr(e,r)):(m(r instanceof Vt,"Comparing on key, but filter value not a RefValue"),m(n!==er.ARRAY_CONTAINS&&n!==er.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new nr(e,n,r));if(r.isEqual(Dt.INSTANCE)){if(n!==er.EQUAL)throw new E(b.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new t(e,n,r)}if(r.isEqual(Nt.NAN)){if(n!==er.EQUAL)throw new E(b.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new t(e,n,r)}return n===er.ARRAY_CONTAINS?new or(e,r):n===er.IN?(m(r instanceof Ht,"IN filter has invalid value: "+r.toString()),new ir(e,r)):n===er.ARRAY_CONTAINS_ANY?(m(r instanceof Ht,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new sr(e,r)):new t(e,n,r)},t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(e){switch(this.op){case er.LESS_THAN:return e<0;case er.LESS_THAN_OR_EQUAL:return e<=0;case er.EQUAL:return 0===e;case er.GREATER_THAN:return e>0;case er.GREATER_THAN_OR_EQUAL:return e>=0;default:return y("Unknown FieldFilter operator: "+this.op)}},t.prototype.isInequality=function(){return[er.LESS_THAN,er.LESS_THAN_OR_EQUAL,er.GREATER_THAN,er.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value)},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(Jn),nr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.matches=function(e){var t=ce.comparator(e.key,this.value.key);return this.matchesComparison(t)},t}(tr),rr=function(e){function t(t,n){var r=e.call(this,t,er.IN,n)||this;return r.value=n,r}return i.__extends(t,e),t.prototype.matches=function(e){return this.value.internalValue.some((function(t){return e.key.isEqual(t.key)}))},t}(tr),or=function(e){function t(t,n){return e.call(this,t,er.ARRAY_CONTAINS,n)||this}return i.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return t instanceof Ht&&t.contains(this.value)},t}(tr),ir=function(e){function t(t,n){var r=e.call(this,t,er.IN,n)||this;return r.value=n,r}return i.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=e.field(this.field);return null!==n&&t.contains(n)},t}(tr),sr=function(e){function t(t,n){var r=e.call(this,t,er.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return i.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return n instanceof Ht&&n.internalValue.some((function(e){return t.value.contains(e)}))},t}(tr),ar=function(){function e(e){this.name=e}return e.prototype.toString=function(){return this.name},e.ASCENDING=new e("asc"),e.DESCENDING=new e("desc"),e}(),lr=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++)e+=n[t].toString();return e},e.prototype.sortsBeforeDocument=function(e,t){m(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var o=e[r],i=this.position[r];if(o.field.isKeyField())m(i instanceof Vt,"Bound has a non-key value where the key path is being used."),n=ce.comparator(i.key,t.key);else{var s=t.field(o.field);m(null!==s,"Field should exist since document matched the orderBy already."),n=i.compareTo(s)}if(o.dir===ar.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},e.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++)if(!this.position[t].isEqual(e.position[t]))return!1;return!0},e}(),ur=function(){function e(e,t){this.field=e,void 0===t&&(t=ar.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}return e.prototype.compare=function(e,t){var n=this.isKeyOrderBy?Ut.compareByKey(e,t):Ut.compareByField(this.field,e,t);switch(this.dir){case ar.ASCENDING:return n;case ar.DESCENDING:return-1*n;default:return y("Unknown direction: "+this.dir)}},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},e.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),cr=new ur(ue.keyField(),ar.ASCENDING),pr=new ur(ue.keyField(),ar.DESCENDING),dr=function(){function e(){}return e.prototype.setLocalDocumentsView=function(e){this.localDocumentsView=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var o=this;return m(void 0!==this.localDocumentsView,"setLocalDocumentsView() not called"),t.matchesAllDocuments()?this.executeFullCollectionScan(e,t):n.isEqual(Se.MIN)?this.executeFullCollectionScan(e,t):this.localDocumentsView.getDocuments(e,r).next((function(i){var s=o.applyQuery(t,i);return(t.hasLimitToFirst()||t.hasLimitToLast())&&o.needsRefill(t.limitType,s,r,n)?o.executeFullCollectionScan(e,t):(d()<=p.DEBUG&&f("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),t.toString()),o.localDocumentsView.getDocumentsMatchingQuery(e,t,n).next((function(e){return s.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.applyQuery=function(e,t){var n=new Ie((function(t,n){return e.docComparator(t,n)}));return t.forEach((function(t,r){r instanceof Ut&&e.matches(r)&&(n=n.add(r))})),n},e.prototype.needsRefill=function(e,t,n,r){if(n.size!==t.size)return!0;var o=e===Xn.First?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)},e.prototype.executeFullCollectionScan=function(e,t){return d()<=p.DEBUG&&f("IndexFreeQueryEngine","Using full collection scan to execute query: %s",t.toString()),this.localDocumentsView.getDocumentsMatchingQuery(e,t,Se.MIN)},e}(),hr=function(){function e(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}return e.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.getDocumentInternal(e,t,r)}))},e.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next((function(e){for(var r=0,o=n;r<o.length;r++)e=o[r].applyToLocalView(t,e);return e}))},e.prototype.applyLocalMutationsToDocuments=function(e,t,n){var r=Ne();return t.forEach((function(e,t){for(var o=0,i=n;o<i.length;o++)t=i[o].applyToLocalView(e,t);r=r.insert(e,t)})),r},e.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t)}))},e.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(r){var o=n.applyLocalMutationsToDocuments(e,t,r),i=Pe();return o.forEach((function(e,t){t||(t=new jt(e,Se.forDeletedDoc())),i=i.insert(e,t)})),i}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)},e.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new ce(t)).next((function(e){var t=Fe();return e instanceof Ut&&(t=t.insert(e.key,e)),t}))},e.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t,n){var r=this;m(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var o=t.collectionGroup,i=Fe();return this.indexManager.getCollectionParents(e,o).next((function(s){return je.forEach(s,(function(s){var a=t.asCollectionQueryAtPath(s.child(o));return r.getDocumentsMatchingCollectionQuery(e,a,n).next((function(e){e.forEach((function(e,t){i=i.insert(e,t)}))}))})).next((function(){return i}))}))},e.prototype.getDocumentsMatchingCollectionQuery=function(e,t,n){var r,o,i=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,i.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i.addMissingBaseDocuments(e,o=t,r).next((function(e){r=e;for(var t=0,n=o;t<n.length;t++)for(var i=n[t],s=0,a=i.mutations;s<a.length;s++){var l=a[s],u=l.key,c=r.get(u),p=l.applyToLocalView(c,c,i.localWriteTime);r=p instanceof Ut?r.insert(u,p):r.remove(u)}}))})).next((function(){return r.forEach((function(e,n){t.matches(n)||(r=r.remove(e))})),r}))},e.prototype.addMissingBaseDocuments=function(e,t,n){for(var r=Ge(),o=0,i=t;o<i.length;o++)for(var s=0,a=i[o].mutations;s<a.length;s++){var l=a[s];l instanceof bt&&null===n.get(l.key)&&(r=r.add(l.key))}var u=n;return this.remoteDocumentCache.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof Ut&&(u=u.insert(e,t))})),u}))},e}(),fr=function(){function e(){this.refsByKey=new Ie(gr.compareByKey),this.refsByTarget=new Ie(gr.compareByTargetId)}return e.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},e.prototype.addReference=function(e,t){var n=new gr(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},e.prototype.addReferences=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.removeRef(new gr(e,t))},e.prototype.removeReferences=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.removeReferencesForId=function(e){var t=this,n=ce.EMPTY,r=new gr(n,e),o=new gr(n,e+1),i=[];return this.refsByTarget.forEachInRange([r,o],(function(e){t.removeRef(e),i.push(e.key)})),i},e.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach((function(t){return e.removeRef(t)}))},e.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},e.prototype.referencesForId=function(e){var t=ce.EMPTY,n=new gr(t,e),r=new gr(t,e+1),o=Ge();return this.refsByTarget.forEachInRange([n,r],(function(e){o=o.add(e.key)})),o},e.prototype.containsKey=function(e){var t=new gr(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),gr=function(){function e(e,t){this.key=e,this.targetOrBatchId=t}return e.compareByKey=function(e,t){return ce.comparator(e.key,t.key)||Y(e.targetOrBatchId,t.targetOrBatchId)},e.compareByTargetId=function(e,t){return Y(e.targetOrBatchId,t.targetOrBatchId)||ce.comparator(e.key,t.key)},e}(),vr=function(){function e(e,t,n){this.persistence=e,this.queryEngine=t,this.localViewReferences=new fr,this.targetDataByTarget=new Re(Y),this.targetIdByTarget=new qt((function(e){return e.canonicalId()})),this.lastDocumentChangeReadTime=Se.MIN,m(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(n),this.remoteDocuments=e.getRemoteDocumentCache(),this.targetCache=e.getTargetCache(),this.localDocuments=new hr(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager()),this.queryEngine.setLocalDocumentsView(this.localDocuments)}return e.prototype.start=function(){return this.synchronizeLastDocumentChangeReadTime()},e.prototype.handleUserChange=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return t=this.mutationQueue,n=this.localDocuments,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",(function(r){var i;return o.mutationQueue.getAllMutationBatches(r).next((function(s){return i=s,t=o.persistence.getMutationQueue(e),n=new hr(o.remoteDocuments,t,o.persistence.getIndexManager()),t.getAllMutationBatches(r)})).next((function(e){for(var t=[],o=[],s=Ge(),a=0,l=i;a<l.length;a++){t.push((h=l[a]).batchId);for(var u=0,c=h.mutations;u<c.length;u++)s=s.add(c[u].key)}for(var p=0,d=e;p<d.length;p++){var h;o.push((h=d[p]).batchId);for(var f=0,g=h.mutations;f<g.length;f++)s=s.add(g[f].key)}return n.getDocuments(r,s).next((function(e){return{affectedDocuments:e,removedBatchIds:t,addedBatchIds:o}}))}))}))];case 1:return r=i.sent(),this.mutationQueue=t,this.localDocuments=n,this.queryEngine.setLocalDocumentsView(this.localDocuments),[2,r]}}))}))},e.prototype.localWrite=function(e){var t,n=this,r=_e.now(),o=e.reduce((function(e,t){return e.add(t.key)}),Ge());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",(function(i){return n.localDocuments.getDocuments(i,o).next((function(o){t=o;for(var s=[],a=0,l=e;a<l.length;a++){var u=l[a],c=u.extractBaseValue(t.get(u.key));null!=c&&s.push(new bt(u.key,c,c.fieldMask(),mt.exists(!0)))}return n.mutationQueue.addMutationBatch(i,r,s,e)}))})).then((function(e){var n=e.applyToLocalDocumentSet(t);return{batchId:e.batchId,changes:n}}))},e.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",(function(n){return t.mutationQueue.lookupMutationKeys(n,e).next((function(e){return e?t.localDocuments.getDocuments(n,e):je.resolve(null)}))}))},e.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",(function(n){var r=e.batch.keys(),o=t.remoteDocuments.newChangeBuffer({trackRemovals:!0});return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next((function(){return t.applyWriteToRemoteDocuments(n,e,o)})).next((function(){return o.apply(n)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},e.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",(function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next((function(e){return m(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},e.prototype.getHighestUnacknowledgedBatchId=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",(function(t){return e.mutationQueue.getHighestUnacknowledgedBatchId(t)}))},e.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",(function(t){return e.mutationQueue.getLastStreamToken(t)}))},e.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",(function(n){return t.mutationQueue.setLastStreamToken(n,e)}))},e.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",(function(t){return e.targetCache.getLastRemoteSnapshotVersion(t)}))},e.prototype.applyRemoteEvent=function(t){var n=this,r=t.snapshotVersion,o=this.targetDataByTarget;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",(function(i){var s=n.remoteDocuments.newChangeBuffer({trackRemovals:!0});o=n.targetDataByTarget;var a=[];T(t.targetChanges,(function(t,s){var l=o.get(t);if(l){a.push(n.targetCache.removeMatchingKeys(i,s.removedDocuments,t).next((function(){return n.targetCache.addMatchingKeys(i,s.addedDocuments,t)})));var u=s.resumeToken;if(u.length>0){var c=l.withResumeToken(u,r).withSequenceNumber(i.currentSequenceNumber);o=o.insert(t,c),e.shouldPersistTargetData(l,c,s)&&a.push(n.targetCache.updateTargetData(i,c))}}}));var l=Pe(),u=Ge();if(t.documentUpdates.forEach((function(e,t){u=u.add(e)})),a.push(s.getEntries(i,u).next((function(e){t.documentUpdates.forEach((function(o,u){var c=e.get(o);u instanceof jt&&u.version.isEqual(Se.MIN)?(s.removeEntry(o,r),l=l.insert(o,u)):null==c||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(m(!Se.MIN.isEqual(r),"Cannot add a document when the remote version is zero"),s.addEntry(u,r),l=l.insert(o,u)):f("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",u.version),t.resolvedLimboDocuments.has(o)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,o))}))}))),!r.isEqual(Se.MIN)){var c=n.targetCache.getLastRemoteSnapshotVersion(i).next((function(e){return m(r.compareTo(e)>=0,"Watch stream reverted to previous snapshot?? "+r+" < "+e),n.targetCache.setTargetsMetadata(i,i.currentSequenceNumber,r)}));a.push(c)}return je.waitFor(a).next((function(){return s.apply(i)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(i,l)}))})).then((function(e){return n.targetDataByTarget=o,e}))},e.shouldPersistTargetData=function(e,t,n){return m(t.resumeToken.length>0,"Attempted to persist target data with no resume token"),0===e.resumeToken.length||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0},e.prototype.notifyLocalViewChanges=function(e){for(var t=this,n=0,r=e;n<r.length;n++){var o=r[n],i=o.targetId;if(this.localViewReferences.addReferences(o.addedKeys,i),this.localViewReferences.removeReferences(o.removedKeys,i),!o.fromCache){var s=this.targetDataByTarget.get(i);m(null!==s,"Can't set limbo-free snapshot version for unknown target: "+i);var a=s.withLastLimboFreeSnapshotVersion(s.snapshotVersion);this.targetDataByTarget=this.targetDataByTarget.insert(i,a)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",(function(n){return je.forEach(e,(function(e){return je.forEach(e.removedKeys,(function(e){return t.persistence.referenceDelegate.removeReference(n,e)}))}))}))},e.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",(function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)}))},e.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly-idempotent",(function(n){return t.localDocuments.getDocument(n,e)}))},e.prototype.allocateTarget=function(e){var t=this;return this.persistence.runTransaction("Allocate target","readwrite-idempotent",(function(n){var r;return t.targetCache.getTargetData(n,e).next((function(o){return o?je.resolve(r=o):t.targetCache.allocateTargetId(n).next((function(o){return r=new Rn(e,o,Sn.Listen,n.currentSequenceNumber),t.targetCache.addTargetData(n,r).next((function(){return r}))}))}))})).then((function(n){return null===t.targetDataByTarget.get(n.targetId)&&(t.targetDataByTarget=t.targetDataByTarget.insert(n.targetId,n),t.targetIdByTarget.set(e,n.targetId)),n}))},e.prototype.getTargetData=function(e,t){var n=this.targetIdByTarget.get(t);return void 0!==n?je.resolve(this.targetDataByTarget.get(n)):this.targetCache.getTargetData(e,t)},e.prototype.releaseTarget=function(e,t){var n=this,r=this.targetDataByTarget.get(e);return r?this.persistence.runTransaction("Release target",t?"readwrite-idempotent":"readwrite-primary-idempotent",(function(o){var i=n.localViewReferences.removeReferencesForId(e);return t?je.resolve():je.forEach(i,(function(e){return n.persistence.referenceDelegate.removeReference(o,e)})).next((function(){n.persistence.referenceDelegate.removeTarget(o,r)}))})).then((function(){n.targetDataByTarget=n.targetDataByTarget.remove(e),n.targetIdByTarget.delete(r.target)})):Promise.resolve()},e.prototype.executeQuery=function(e,t){var n=this,r=Se.MIN,o=Ge();return this.persistence.runTransaction("Execute query","readonly-idempotent",(function(i){return n.getTargetData(i,e.toTarget()).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,n.targetCache.getMatchingKeysForTargetId(i,e.targetId).next((function(e){o=e}))})).next((function(){return n.queryEngine.getDocumentsMatchingQuery(i,e,t?r:Se.MIN,t?o:Ge())})).next((function(e){return{documents:e,remoteKeys:o}}))}))},e.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",(function(n){return t.targetCache.getMatchingKeysForTargetId(n,e)}))},e.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},e.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},e.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},e.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,o=t.batch,i=o.keys(),s=je.resolve();return i.forEach((function(r){s=s.next((function(){return n.getEntry(e,r)})).next((function(e){var i=e,s=t.docVersions.get(r);m(null!==s,"ackVersions should contain every doc in the write."),(!i||i.version.compareTo(s)<0)&&((i=o.applyToRemoteDocument(r,i,t))?n.addEntry(i,t.commitVersion):m(!e,"Mutation batch "+o+" applied to document "+e+" resulted in null"))}))})),s.next((function(){return r.mutationQueue.removeMutationBatch(e,o)}))},e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",(function(n){return e.collect(n,t.targetDataByTarget)}))},e.prototype.getTarget=function(e){var t=this,n=this.targetDataByTarget.get(e);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly-idempotent",(function(n){return t.targetCache.getTargetDataForTarget(n,e).next((function(e){return e?e.target:null}))}))},e.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",(function(t){return e.remoteDocuments.getNewDocumentChanges(t,e.lastDocumentChangeReadTime)})).then((function(t){var n=t.changedDocs;return e.lastDocumentChangeReadTime=t.readTime,n}))},e.prototype.synchronizeLastDocumentChangeReadTime=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t=this;return i.__generator(this,(function(n){return this.remoteDocuments instanceof Qt?(e=this.remoteDocuments,[2,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",(function(t){return e.getLastDocumentChange(t)})).then((function(e){t.lastDocumentChangeReadTime=e.readTime}))]):[2]}))}))},e.RESUME_TOKEN_MAX_AGE_MICROS=3e8,e}(),yr=function(){function e(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=w(),this.batchesByDocumentKey=new Ie(gr.compareByKey)}return e.prototype.checkEmpty=function(e){return je.resolve(0===this.mutationQueue.length)},e.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId,o=this.indexOfExistingBatchId(r,"acknowledged");m(0===o,"Can only acknowledge the first batch in the mutation queue");var i=this.mutationQueue[o];return m(r===i.batchId,"Queue ordering failure: expected batch "+r+", got batch "+i.batchId),this.lastStreamToken=n,je.resolve()},e.prototype.getLastStreamToken=function(e){return je.resolve(this.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,je.resolve()},e.prototype.addMutationBatch=function(e,t,n,r){m(0!==r.length,"Mutation batches should not be empty");var o=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&m(this.mutationQueue[this.mutationQueue.length-1].batchId<o,"Mutation batchIDs must be monotonically increasing order");var i=new Be(o,t,n,r);this.mutationQueue.push(i);for(var s=0,a=r;s<a.length;s++){var l=a[s];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new gr(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast())}return je.resolve(i)},e.prototype.lookupMutationBatch=function(e,t){return je.resolve(this.findMutationBatch(t))},e.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return m(null!=n,"Failed to find local mutation batch."),je.resolve(n.keys())},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this.indexOfBatchId(t+1),r=n<0?0:n;return je.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return je.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},e.prototype.getAllMutationBatches=function(e){return je.resolve(this.mutationQueue.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new gr(t,0),o=new gr(t,Number.POSITIVE_INFINITY),i=[];return this.batchesByDocumentKey.forEachInRange([r,o],(function(e){m(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);m(null!==r,"Batches in the index must exist in the main table"),i.push(r)})),je.resolve(i)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ie(Y);return t.forEach((function(e){var t=new gr(e,0),o=new gr(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,o],(function(t){m(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)}))})),je.resolve(this.findMutationBatches(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){m(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,r=n.length+1,o=n;ce.isDocumentKey(o)||(o=o.child(""));var i=new gr(new ce(o),0),s=new Ie(Y);return this.batchesByDocumentKey.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.targetOrBatchId)),!0)}),i),je.resolve(this.findMutationBatches(s))},e.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;m(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return je.forEach(t.mutations,(function(o){var i=new gr(o.key,t.batchId);return r=r.delete(i),n.referenceDelegate.removeMutationReference(e,o.key)})).next((function(){n.batchesByDocumentKey=r}))},e.prototype.removeCachedMutationKeys=function(e){},e.prototype.containsKey=function(e,t){var n=new gr(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return je.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&m(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),je.resolve()},e.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return m(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},e.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},e.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return m(n.batchId===e,"If found batch must match"),n},e}(),mr=function(){function e(e,t){this.indexManager=e,this.sizer=t,this.docs=new Re(ce.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){m(!n.isEqual(Se.MIN),"Cannot add a document with a read time of zero");var r=t.key,o=this.docs.get(r),i=o?o.size:0,s=this.sizer(t);return this.docs=this.docs.insert(r,{maybeDocument:t,size:s,readTime:n}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return je.resolve(n?n.maybeDocument:null)},e.prototype.getEntries=function(e,t){var n=this,r=Ne();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)})),je.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){m(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=Fe(),o=new ce(t.path.child("")),i=this.docs.getIteratorFrom(o);i.hasNext();){var s=i.getNext(),a=s.value,l=a.maybeDocument,u=a.readTime;if(!t.path.isPrefixOf(s.key.path))break;u.compareTo(n)<=0||l instanceof Ut&&t.matches(l)&&(r=r.insert(l.key,l))}return je.resolve(r)},e.prototype.forEachDocumentKey=function(e,t){return je.forEach(this.docs,(function(e){return t(e)}))},e.prototype.getNewDocumentChanges=function(e,t){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},e.prototype.newChangeBuffer=function(t){return new e.RemoteDocumentChangeBuffer(this)},e.prototype.getSize=function(e){return je.resolve(this.size)},e.RemoteDocumentChangeBuffer=function(e){function t(t){var n=e.call(this)||this;return n.documentCache=t,n}return i.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,o){o?n.push(t.documentCache.addEntry(e,o,t.readTime)):t.documentCache.removeEntry(r)})),je.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.documentCache.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getEntries(e,t)},t}(Kt),e}(),Cr=function(){function e(e){this.persistence=e,this.targets=new qt((function(e){return e.canonicalId()})),this.lastRemoteSnapshotVersion=Se.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new fr,this.targetCount=0,this.targetIdGenerator=lt.forTargetCache()}return e.prototype.forEachTarget=function(e,t){return this.targets.forEach((function(e,n){return t(n)})),je.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return je.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return je.resolve(this.highestSequenceNumber)},e.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,je.resolve(t)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),je.resolve()},e.prototype.saveTargetData=function(e){this.targets.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return m(!this.targets.has(t.target),"Adding a target that already exists"),this.saveTargetData(t),this.targetCount+=1,je.resolve()},e.prototype.updateTargetData=function(e,t){return m(this.targets.has(t.target),"Updating a non-existent target"),this.saveTargetData(t),je.resolve()},e.prototype.removeTargetData=function(e,t){return m(this.targetCount>0,"Removing a target from an empty cache"),m(this.targets.has(t.target),"Removing a non-existent target from the cache"),this.targets.delete(t.target),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,je.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,o=0,i=[];return this.targets.forEach((function(s,a){a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r.targets.delete(s),i.push(r.removeMatchingKeysForTargetId(e,a.targetId)),o++)})),je.waitFor(i).next((function(){return o}))},e.prototype.getTargetCount=function(e){return je.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.targets.get(t)||null;return je.resolve(n)},e.prototype.getTargetDataForTarget=function(e,t){return y("Not yet implemented.")},e.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((function(t){o.push(r.addReference(e,t))})),je.waitFor(o)},e.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((function(t){o.push(r.removeReference(e,t))})),je.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),je.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return je.resolve(n)},e.prototype.containsKey=function(e,t){return je.resolve(this.references.containsKey(t))},e}(),wr=function(){function e(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new ie(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.targetCache=new Cr(this),this.indexManager=new Jt,this.remoteDocumentCache=new mr(this.indexManager,(function(e){return n.referenceDelegate.documentSize(e)}))}return e.createLruPersistence=function(t,n,r){return new e(t,(function(e){return new _r(e,new Tn(n),r)}))},e.createEagerPersistence=function(t){return new e(t,(function(e){return new Er(e)}))},e.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getActiveClients=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return[2,[this.clientId]]}))}))},e.prototype.setPrimaryStateListener=function(e){return e(!0)},e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(e){},e.prototype.getIndexManager=function(){return this.indexManager},e.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new yr(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.targetCache},e.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},e.prototype.runTransaction=function(e,t,n){var r=this;f("MemoryPersistence","Starting transaction:",e);var o=new br(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(o).next((function(e){return r.referenceDelegate.onTransactionCommitted(o).next((function(){return e}))})).toPromise().then((function(e){return o.raiseOnCommittedEvent(),e}))},e.prototype.mutationQueuesContainKey=function(e,t){return je.or((n=this.mutationQueues,r=[],O(n,(function(e,t){return r.push(t)})),r).map((function(n){return function(){return n.containsKey(e,t)}})));var n,r},e}(),br=function(e){function t(t){var n=e.call(this)||this;return n.currentSequenceNumber=t,n}return i.__extends(t,e),t}(Nn),Er=function(){function e(e){this.persistence=e,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(e.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw y("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),je.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),je.resolve()},e.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),je.resolve()},e.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.orphanedDocuments.add(e)}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},e.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.orphanedDocuments,(function(r){return t.isReferenced(e,r).next((function(e){e||n.removeEntry(r)}))})).next((function(){return t._orphanedDocuments=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next((function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)}))},e.prototype.documentSize=function(e){return 0},e.prototype.isReferenced=function(e,t){var n=this;return je.or([function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return je.resolve(n.inMemoryPins.containsKey(t))}])},e}(),_r=function(){function e(e,t,n){this.persistence=e,this.serializer=t,this.inMemoryPins=null,this.orphanedSequenceNumbers=new qt((function(e){return Ce(e.path)})),this.garbageCollector=new Pn(this,n)}return e.prototype.onTransactionStarted=function(){},e.prototype.onTransactionCommitted=function(e){return je.resolve()},e.prototype.forEachTarget=function(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)},e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return je.forEach(this.orphanedSequenceNumbers,(function(r,o){return n.isPinned(e,r,o).next((function(e){return e?je.resolve():t(o)}))}))},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.removeTargets=function(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,o=this.persistence.getRemoteDocumentCache(),i=o.newChangeBuffer();return o.forEachDocumentKey(e,(function(o){return n.isPinned(e,o,t).next((function(e){e||(r++,i.removeEntry(o))}))})).next((function(){return i.apply(e)})).next((function(){return r}))},e.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),je.resolve()},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)},e.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),je.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),je.resolve()},e.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),je.resolve()},e.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e,e.version);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw y("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},e.prototype.isPinned=function(e,t,n){var r=this;return je.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return je.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getTargetCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return je.resolve(void 0!==e&&e>n)}])},e.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},e}(),Sr=1e3,Rr=1.5,Tr=6e4,Or=function(){function e(e,t,n,r,o){void 0===n&&(n=Sr),void 0===r&&(r=Rr),void 0===o&&(o=Tr),this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=o,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return e.prototype.reset=function(){this.currentBaseMs=0},e.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},e.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),o=Math.max(0,n-r);this.currentBaseMs>0&&f("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,o,(function(){return t.lastAttemptTime=Date.now(),e()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},e.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},e.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},e}(),Dr=function(e){return e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.Open=2]="Open",e[e.Error=3]="Error",e[e.Backoff=4]="Backoff",e}({}),Ir=function(){function e(e,t,n,r,o,i){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=o,this.listener=i,this.state=Dr.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new Or(e,t)}return e.prototype.isStarted=function(){return this.state===Dr.Starting||this.state===Dr.Open||this.state===Dr.Backoff},e.prototype.isOpen=function(){return this.state===Dr.Open},e.prototype.start=function(){this.state!==Dr.Error?(m(this.state===Dr.Initial,"Already started"),this.auth()):this.performBackoff()},e.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(Dr.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.inhibitBackoff=function(){m(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Dr.Initial,this.backoff.reset()},e.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return e.handleIdleCloseTimer()})))},e.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},e.prototype.handleIdleCloseTimer=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.isOpen()?[2,this.close(Dr.Initial)]:[2]}))}))},e.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},e.prototype.close=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return m(this.isStarted(),"Only started streams should be closed."),m(e===Dr.Error||Qn(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==Dr.Error?this.backoff.reset():t&&t.code===b.RESOURCE_EXHAUSTED?(g(t.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===b.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.tearDown=function(){},e.prototype.auth=function(){var e=this;m(this.state===Dr.Initial,"Must be in initial state to auth"),this.state=Dr.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(t){e.closeCount===n&&e.startStream(t)}),(function(n){t((function(){var t=new E(b.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)}))}))},e.prototype.startStream=function(e){var t=this;m(this.state===Dr.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen((function(){n((function(){return m(t.state===Dr.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=Dr.Open,t.listener.onOpen()}))})),this.stream.onClose((function(e){n((function(){return t.handleStreamClose(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.performBackoff=function(){var e=this;m(this.state===Dr.Error,"Should only perform backoff when in Error state"),this.state=Dr.Backoff,this.backoff.backoffAndRun((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return m(this.state===Dr.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Dr.Initial,this.start(),m(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},e.prototype.handleStreamClose=function(e){return m(this.isStarted(),"Can't handle server close on non-started stream"),f("PersistentStream","close with error: "+e),this.stream=null,this.close(Dr.Error,e)},e.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget((function(){return t.closeCount===e?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Ar=function(e){function t(t,n,r,o,i){var s=e.call(this,t,de.ListenStreamConnectionBackoff,de.ListenStreamIdle,n,r,i)||this;return s.serializer=o,s}return i.__extends(t,e),t.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},t.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},t.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},t.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},t}(Ir),kr=function(e){function t(t,n,r,o,i){var s=e.call(this,t,de.WriteStreamConnectionBackoff,de.WriteStreamIdle,n,r,i)||this;return s.serializer=o,s.handshakeComplete_=!1,s.lastStreamToken=w(),s}return i.__extends(t,e),Object.defineProperty(t.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.handshakeComplete_=!1,e.prototype.start.call(this)},t.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},t.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},t.prototype.onMessage=function(e){if(m(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return m(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},t.prototype.writeHandshake=function(){m(this.isOpen(),"Writing handshake requires an opened stream"),m(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},t.prototype.writeMutations=function(e){var t=this;m(this.isOpen(),"Writing mutations requires an opened stream"),m(this.handshakeComplete_,"Handshake must be complete before writing mutations"),m(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map((function(e){return t.serializer.toMutation(e)}))};this.sendRequest(n)},t}(Ir),Pr=function(){function e(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}return e.prototype.newPersistentWriteStream=function(e){return new kr(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.newPersistentWatchStream=function(e){return new Ar(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map((function(e){return t.serializer.toMutation(e)}))};return this.invokeRPC("Commit",n).then((function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)}))},e.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map((function(e){return t.serializer.toName(e)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var r=Pe();n.forEach((function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)}));var o=[];return e.forEach((function(e){var t=r.get(e);m(!!t,"Missing entity in write response for "+e),o.push(t)})),o}))},e.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeRPC(e,t,r)})).catch((function(e){throw e.code===b.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},e.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeStreamingRPC(e,t,r)})).catch((function(e){throw e.code===b.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},e}(),Nr=function(){function e(e){this.datastore=e,this.readVersions=Le(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new E(b.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(e)];case 1:return(t=r.sent()).forEach((function(e){e instanceof jt||e instanceof Ut?n.recordVersion(e):y("Document in a transaction was a "+e.constructor.name)})),[2,t]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e))),this.writtenDocs.add(e)},e.prototype.update=function(e,t){try{this.write(t.toMutations(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e)},e.prototype.delete=function(e){this.write([new _t(e,this.precondition(e))]),this.writtenDocs.add(e)},e.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(e=this.readVersions,this.mutations.forEach((function(t){e=e.remove(t.key)})),!e.isEmpty())throw new E(b.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return t.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e instanceof Ut)t=e.version;else{if(!(e instanceof jt))throw y("Document in a transaction was a "+e.constructor.name);t=Se.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new E(b.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e);return!this.writtenDocs.has(e)&&t?mt.updateTime(t):mt.NONE},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(!this.writtenDocs.has(e)&&t){if(t.isEqual(Se.forDeletedDoc()))throw new E(b.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mt.updateTime(t)}return mt.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(e)},e.prototype.ensureCommitNotCalled=function(){m(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},e}(),xr=function(e){return e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Offline=2]="Offline",e}({}),Fr=function(e){return e[e.RemoteStore=0]="RemoteStore",e[e.SharedClientState=1]="SharedClientState",e}({}),Mr=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=xr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return e.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(xr.Unknown),m(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(de.OnlineStateTimeout,1e4,(function(){return e.onlineStateTimer=null,m(e.state===xr.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(xr.Offline),Promise.resolve()})))},e.prototype.handleWatchStreamFailure=function(e){this.state===xr.Online?(this.setAndBroadcast(xr.Unknown),m(0===this.watchStreamFailures,"watchStreamFailures must be 0"),m(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(xr.Offline)))},e.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===xr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},e.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(g(t),this.shouldWarnClientIsOffline=!1):f("OnlineStateTracker",t)},e.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},e}(),Lr=function(e){return e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e}({});function Vr(e){switch(e){case b.OK:return y("Treated status OK as error");case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0;default:return y("Unknown status code: "+e)}}function Gr(e){if(void 0===e)return g("GRPC error has no .code"),b.UNKNOWN;switch(e){case Lr.OK:return b.OK;case Lr.CANCELLED:return b.CANCELLED;case Lr.UNKNOWN:return b.UNKNOWN;case Lr.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case Lr.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case Lr.INTERNAL:return b.INTERNAL;case Lr.UNAVAILABLE:return b.UNAVAILABLE;case Lr.UNAUTHENTICATED:return b.UNAUTHENTICATED;case Lr.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case Lr.NOT_FOUND:return b.NOT_FOUND;case Lr.ALREADY_EXISTS:return b.ALREADY_EXISTS;case Lr.PERMISSION_DENIED:return b.PERMISSION_DENIED;case Lr.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case Lr.ABORTED:return b.ABORTED;case Lr.OUT_OF_RANGE:return b.OUT_OF_RANGE;case Lr.UNIMPLEMENTED:return b.UNIMPLEMENTED;case Lr.DATA_LOSS:return b.DATA_LOSS;default:return y("Unknown status code: "+e)}}function Wr(e){if(void 0===e)return Lr.OK;switch(e){case b.OK:return Lr.OK;case b.CANCELLED:return Lr.CANCELLED;case b.UNKNOWN:return Lr.UNKNOWN;case b.DEADLINE_EXCEEDED:return Lr.DEADLINE_EXCEEDED;case b.RESOURCE_EXHAUSTED:return Lr.RESOURCE_EXHAUSTED;case b.INTERNAL:return Lr.INTERNAL;case b.UNAVAILABLE:return Lr.UNAVAILABLE;case b.UNAUTHENTICATED:return Lr.UNAUTHENTICATED;case b.INVALID_ARGUMENT:return Lr.INVALID_ARGUMENT;case b.NOT_FOUND:return Lr.NOT_FOUND;case b.ALREADY_EXISTS:return Lr.ALREADY_EXISTS;case b.PERMISSION_DENIED:return Lr.PERMISSION_DENIED;case b.FAILED_PRECONDITION:return Lr.FAILED_PRECONDITION;case b.ABORTED:return Lr.ABORTED;case b.OUT_OF_RANGE:return Lr.OUT_OF_RANGE;case b.UNIMPLEMENTED:return Lr.UNIMPLEMENTED;case b.DATA_LOSS:return Lr.DATA_LOSS;default:return y("Unknown status code: "+e)}}var Hr=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||ce.comparator(t.key,n.key)}:function(e,t){return ce.comparator(e.key,t.key)},this.keyedMap=Fe(),this.sortedSet=new Re(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Br=function(e){return e[e.Added=0]="Added",e[e.Removed=1]="Removed",e[e.Modified=2]="Modified",e[e.Metadata=3]="Metadata",e}({}),Ur=function(e){return e[e.Local=0]="Local",e[e.Synced=1]="Synced",e}({}),jr=function(){function e(){this.changeMap=new Re(ce.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==Br.Added&&n.type===Br.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===Br.Metadata&&n.type!==Br.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===Br.Modified&&n.type===Br.Modified?this.changeMap=this.changeMap.insert(t,{type:Br.Modified,doc:e.doc}):e.type===Br.Modified&&n.type===Br.Added?this.changeMap=this.changeMap.insert(t,{type:Br.Added,doc:e.doc}):e.type===Br.Removed&&n.type===Br.Added?this.changeMap=this.changeMap.remove(t):e.type===Br.Removed&&n.type===Br.Modified?this.changeMap=this.changeMap.insert(t,{type:Br.Removed,doc:n.doc}):e.type===Br.Added&&n.type===Br.Removed?this.changeMap=this.changeMap.insert(t,{type:Br.Modified,doc:e.doc}):y("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},e.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal((function(t,n){e.push(n)})),e},e}(),zr=function(){function e(e,t,n,r,o,i,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=a}return e.fromInitialDocuments=function(t,n,r,o){var i=[];return n.forEach((function(e){i.push({type:Br.Added,doc:e})})),new e(t,n,Hr.emptySet(n),i,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),qr=function(){function e(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r,o=((r={})[t]=Kr.createSynthesizedTargetChangeForCurrentChange(t,n),r);return new e(Se.MIN,o,He(),Pe(),Ge())},e}(),Kr=function(){function e(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(w(),n,Ge(),Ge(),Ge())},e}(),Qr=function(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r},Yr=function(e,t){this.targetId=e,this.existenceFilter=t},Zr=function(e){return e[e.NoChange=0]="NoChange",e[e.Added=1]="Added",e[e.Removed=2]="Removed",e[e.Current=3]="Current",e[e.Reset=4]="Reset",e}({}),Xr=function(e,t,n,r){void 0===n&&(n=w()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},$r=function(){function e(){this.pendingResponses=0,this.documentChanges=to(),this._resumeToken=w(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),e.prototype.updateResumeToken=function(e){e.length>0&&(this._hasPendingChanges=!0,this._resumeToken=e)},e.prototype.toTargetChange=function(){var e=Ge(),t=Ge(),n=Ge();return this.documentChanges.forEach((function(r,o){switch(o){case Br.Added:e=e.add(r);break;case Br.Modified:t=t.add(r);break;case Br.Removed:n=n.add(r);break;default:y("Encountered invalid change type: "+o)}})),new Kr(this._resumeToken,this._current,e,t,n)},e.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=to()},e.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},e.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},e.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},e.prototype.recordTargetResponse=function(){this.pendingResponses-=1},e.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},e}(),Jr=function(){function e(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=Pe(),this.pendingDocumentTargetMapping=eo(),this.pendingTargetResets=new Ie(Y)}return e.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof Ut?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof jt&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var o=0,i=e.removedTargetIds;o<i.length;o++)this.removeDocumentFromTarget(r=i[o],e.key,e.newDoc)},e.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ensureTargetState(n);switch(e.state){case Zr.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case Zr.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case Zr.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),m(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case Zr.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case Zr.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:y("Unknown target watch change state: "+e.state)}}))},e.prototype.forEachTarget=function(e,t){e.targetIds.length>0?e.targetIds.forEach(t):T(this.targetStates,t)},e.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.targetDataForActiveTarget(t);if(r){var o=r.target;if(o.isDocumentQuery())if(0===n){var i=new ce(o.path);this.removeDocumentFromTarget(t,i,new jt(i,Se.forDeletedDoc()))}else m(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},e.prototype.createRemoteEvent=function(e){var t=this,n={};T(this.targetStates,(function(r,o){var i=t.targetDataForActiveTarget(r);if(i){if(o.current&&i.target.isDocumentQuery()){var s=new ce(i.target.path);null!==t.pendingDocumentUpdates.get(s)||t.targetContainsDocument(r,s)||t.removeDocumentFromTarget(r,s,new jt(s,e))}o.hasPendingChanges&&(n[r]=o.toTargetChange(),o.clearPendingChanges())}}));var r=Ge();this.pendingDocumentTargetMapping.forEach((function(e,n){var o=!0;n.forEachWhile((function(e){var n=t.targetDataForActiveTarget(e);return!n||n.purpose===Sn.LimboResolution||(o=!1,!1)})),o&&(r=r.add(e))}));var o=new qr(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Pe(),this.pendingDocumentTargetMapping=eo(),this.pendingTargetResets=new Ie(Y),o},e.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?Br.Modified:Br.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},e.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,Br.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},e.prototype.removeTarget=function(e){delete this.targetStates[e]},e.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},e.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new $r),this.targetStates[e]},e.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new Ie(Y),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},e.prototype.isActiveTarget=function(e){var t=null!==this.targetDataForActiveTarget(e);return t||f("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.targetDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getTargetDataForTarget(e)},e.prototype.resetTarget=function(e){var t=this;m(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new $r,this.metadataProvider.getRemoteKeysForTarget(e).forEach((function(n){t.removeDocumentFromTarget(e,n,null)}))},e.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},e}();function eo(){return new Re(ce.comparator)}function to(){return new Re(ce.comparator)}var no="RemoteStore",ro=function(){function e(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=o,this.connectivityMonitor.addCallback((function(e){n.enqueueAndForget((function(){return i.__awaiter(s,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(f(no,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new Mr(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(xr.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(xr.Offline),[2]}}))}))},e.prototype.disableNetworkInternal=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),this.writePipeline.length>0&&(f(no,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},e.prototype.shutdown=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return f(no,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(xr.Unknown),[2]}}))}))},e.prototype.listen=function(e){S(this.listenTargets,e.targetId)||(this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e))},e.prototype.unlisten=function(e){S(this.listenTargets,e)&&(delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),D(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(xr.Unknown)))},e.prototype.getTargetDataForTarget=function(e){return this.listenTargets[e]||null},e.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},e.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},e.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},e.prototype.startWatchStream=function(){m(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Jr(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},e.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!D(this.listenTargets)},e.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},e.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},e.prototype.onWatchStreamOpen=function(){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(t){return T(this.listenTargets,(function(t,n){e.sendWatchRequest(n)})),[2]}))}))},e.prototype.onWatchStreamClose=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return void 0===e&&m(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(xr.Unknown),[2]}))}))},e.prototype.onWatchStreamChange=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return this.onlineStateTracker.set(xr.Online),e instanceof Xr&&e.state===Zr.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof Qr?this.watchChangeAggregator.handleDocumentChange(e):e instanceof Yr?this.watchChangeAggregator.handleExistenceFilter(e):(m(e instanceof Xr,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(Se.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),t.compareTo(n)>=0?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},e.prototype.raiseWatchSnapshot=function(e){var t=this;m(!e.isEqual(Se.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return T(n.targetChanges,(function(n,r){if(r.resumeToken.length>0){var o=t.listenTargets[n];o&&(t.listenTargets[n]=o.withResumeToken(r.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.withResumeToken(w(),n.snapshotVersion),t.sendUnwatchRequest(e);var r=new Rn(n.target,e,Sn.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}})),this.syncEngine.applyRemoteEvent(n)},e.prototype.handleTargetError=function(e){var t=this;m(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach((function(e){r=r.then((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){return S(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]}))}))}))})),r},e.prototype.fillWritePipeline=function(){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(t){switch(t.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(e=t.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(e),[4,this.fillWritePipeline()];case 3:t.sent(),t.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},e.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},e.prototype.outstandingWrites=function(){return this.writePipeline.length},e.prototype.addToWritePipeline=function(e){m(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},e.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},e.prototype.startWriteStream=function(){m(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},e.prototype.onWriteStreamOpen=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.writeStream.writeHandshake(),[2]}))}))},e.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var t=0,n=e.writePipeline;t<n.length;t++)e.writeStream.writeMutations(n[t].mutations)})).catch(Gn)},e.prototype.onMutationResult=function(e,t){var n=this;m(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),o=Ue.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(o).then((function(){return n.fillWritePipeline()}))},e.prototype.onWriteStreamClose=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(n){return void 0===e&&m(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then((function(){t.shouldStartWriteStream()&&t.startWriteStream()}))]:[2]}))}))},e.prototype.handleHandshakeError=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return Vr(e.code)?(f(no,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=w(),[2,this.localStore.setLastStreamToken(w()).catch(Gn)]):[2]}))}))},e.prototype.handleWriteError=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){return Vr(o=e.code)&&o!==b.ABORTED?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then((function(){return n.fillWritePipeline()}))]):[2];var o}))}))},e.prototype.createTransaction=function(){return new Nr(this.datastore)},e.prototype.restartNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(xr.Unknown),[4,this.enableNetwork()];case 2:return e.sent(),[2]}}))}))},e.prototype.handleCredentialChange=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(f(no,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.applyPrimaryState=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.isPrimary=e,e&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(xr.Unknown),t.label=4;case 4:return[2]}}))}))},e}(),oo=function(){function e(e,t){if(A("GeoPoint",arguments,2),N("GeoPoint","number",1,e),N("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new E(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new E(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype._compareTo=function(e){return Y(this._lat,e._lat)||Y(this._long,e._long)},e}(),io=function(){function e(){}return e.prototype.applyToLocalView=function(e,t){return new Mt(t,e)},e.prototype.applyToRemoteDocument=function(e,t){return t},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e},e.instance=new e,e}(),so=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=uo(e),n=function(e){t.find((function(t){return t.isEqual(e)}))||t.push(e)},r=0,o=this.elements;r<o.length;r++)n(o[r]);return new Ht(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&Z(t.elements,this.elements)},e}(),ao=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=uo(e),n=function(e){t=t.filter((function(t){return!t.isEqual(e)}))},r=0,o=this.elements;r<o.length;r++)n(o[r]);return new Ht(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&Z(t.elements,this.elements)},e}(),lo=function(){function e(e){this.operand=e}return e.prototype.applyToLocalView=function(e,t){var n=this.computeBaseValue(e);return n instanceof Pt&&this.operand instanceof Pt?new Pt(n.internalValue+this.operand.internalValue):new Nt(n.internalValue+this.operand.internalValue)},e.prototype.applyToRemoteDocument=function(e,t){return m(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},e.prototype.computeBaseValue=function(e){return e instanceof At?e:new Pt(0)},e.prototype.isEqual=function(t){return t instanceof e&&this.operand.isEqual(t.operand)},e}();function uo(e){return e instanceof Ht?e.internalValue.slice():[]}var co,po,ho=function(){function e(e){this.count=e}return e.prototype.isEqual=function(e){return e&&e.count===this.count},e}(),fo=((co={})[ar.ASCENDING.name]="ASCENDING",co[ar.DESCENDING.name]="DESCENDING",co),go=((po={})[er.LESS_THAN.name]="LESS_THAN",po[er.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",po[er.GREATER_THAN.name]="GREATER_THAN",po[er.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",po[er.EQUAL.name]="EQUAL",po[er.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",po[er.IN.name]="IN",po[er.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",po),vo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(e,t){m(!Qn(e),t+" is missing")}function mo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):y("can't parse "+e)}var Co=function(){function e(e,t){this.databaseId=e,this.options=t}return e.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},e.prototype.unsafeCastProtoByteString=function(e){return e},e.prototype.fromRpcStatus=function(e){var t=void 0===e.code?b.UNKNOWN:Gr(e.code);return new E(t,e.message||"")},e.prototype.toInt32Value=function(e){return this.options.useProto3Json||Qn(e)?e:{value:e}},e.prototype.fromInt32Value=function(e){var t;return Qn(t="object"==typeof e?e.value:e)?null:t},e.prototype.toTimestamp=function(e){return this.options.useProto3Json?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}},e.prototype.fromTimestamp=function(e){if("string"==typeof e)return this.fromIso8601String(e);m(!!e,"Cannot deserialize null or undefined timestamp.");var t=mo(e.seconds||"0");return new _e(t,e.nanos||0)},e.prototype.fromIso8601String=function(e){var t=0,n=vo.exec(e);if(m(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e),i=Math.floor(o.getTime()/1e3);return new _e(i,t)},e.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},e.prototype.fromBlob=function(e){return"string"==typeof e?(m(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),ee.fromBase64String(e)):(m(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),ee.fromUint8Array(e))},e.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},e.prototype.fromVersion=function(e){return m(!!e,"Trying to deserialize version that isn't set"),Se.fromTimestamp(this.fromTimestamp(e))},e.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},e.prototype.fromResourceName=function(e){var t=ae.fromString(e);return m(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},e.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},e.prototype.fromName=function(e){var t=this.fromResourceName(e);return m(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),m(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new ce(this.extractLocalPathFromResourceName(t))},e.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},e.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?ae.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(e.prototype,"encodedDatabaseId",{get:function(){return new ae(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),e.prototype.fullyQualifiedPrefixPath=function(e){return new ae(["projects",e.projectId,"databases",e.database])},e.prototype.extractLocalPathFromResourceName=function(e){return m(e.length>4&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},e.prototype.isValidResourceName=function(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)},e.prototype.toValue=function(e){if(e instanceof Dt)return{nullValue:"NULL_VALUE"};if(e instanceof It)return{booleanValue:e.value()};if(e instanceof Pt)return{integerValue:""+e.value()};if(e instanceof Nt){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof xt?{stringValue:e.value()}:e instanceof Wt?{mapValue:this.toMapValue(e)}:e instanceof Ht?{arrayValue:this.toArrayValue(e)}:e instanceof Ft?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof Gt?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof Lt?{bytesValue:this.toBytes(e.value())}:e instanceof Vt?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:y("Unknown FieldValue "+JSON.stringify(e))},e.prototype.fromValue=function(e){var t=this;if("nullValue"in e)return Dt.INSTANCE;if("booleanValue"in e)return It.of(e.booleanValue);if("integerValue"in e)return new Pt(mo(e.integerValue));if("doubleValue"in e){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return Nt.NAN;if("Infinity"===e.doubleValue)return Nt.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return Nt.NEGATIVE_INFINITY}return new Nt(e.doubleValue)}if("stringValue"in e)return new xt(e.stringValue);if("mapValue"in e)return this.fromFields(e.mapValue.fields||{});if("arrayValue"in e)return yo(e.arrayValue,"arrayValue"),new Ht((e.arrayValue.values||[]).map((function(e){return t.fromValue(e)})));if("timestampValue"in e)return yo(e.timestampValue,"timestampValue"),new Ft(this.fromTimestamp(e.timestampValue));if("geoPointValue"in e)return yo(e.geoPointValue,"geoPointValue"),new Gt(new oo(e.geoPointValue.latitude||0,e.geoPointValue.longitude||0));if("bytesValue"in e){yo(e.bytesValue,"bytesValue");var n=this.fromBlob(e.bytesValue);return new Lt(n)}if("referenceValue"in e){yo(e.referenceValue,"referenceValue");var r=this.fromResourceName(e.referenceValue),o=new oe(r.get(1),r.get(3)),i=new ce(this.extractLocalPathFromResourceName(r));return new Vt(o,i)}return y("Unknown Value proto "+JSON.stringify(e))},e.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},e.prototype.toDocument=function(e){return m(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toTimestamp(e.version.toTimestamp())}},e.prototype.fromDocument=function(e,t){var n=this,r=this.fromName(e.name),o=this.fromVersion(e.updateTime);return new Ut(r,o,{hasCommittedMutations:!!t},void 0,e,(function(e){return n.fromValue(e)}))},e.prototype.toFields=function(e){var t=this,n={};return e.forEach((function(e,r){n[e]=t.toValue(r)})),n},e.prototype.fromFields=function(e){var t=this,n=Wt.EMPTY;return O(e,(function(e,r){n=n.set(new ue([e]),t.fromValue(r))})),n},e.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},e.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.toValue(e))})),{values:n}},e.prototype.fromFound=function(e){var t=this;m(!!e.found,"Tried to deserialize a found document from a missing document."),yo(e.found.name,"doc.found.name"),yo(e.found.updateTime,"doc.found.updateTime");var n=this.fromName(e.found.name),r=this.fromVersion(e.found.updateTime);return new Ut(n,r,{},void 0,e.found,(function(e){return t.fromValue(e)}))},e.prototype.fromMissing=function(e){m(!!e.missing,"Tried to deserialize a missing document from a found document."),m(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new jt(t,n)},e.prototype.fromMaybeDocument=function(e){return"found"in e?this.fromFound(e):"missing"in e?this.fromMissing(e):y("invalid batch get response: "+JSON.stringify(e))},e.prototype.toWatchTargetChangeState=function(e){switch(e){case Zr.Added:return"ADD";case Zr.Current:return"CURRENT";case Zr.NoChange:return"NO_CHANGE";case Zr.Removed:return"REMOVE";case Zr.Reset:return"RESET";default:return y("Unknown WatchTargetChangeState: "+e)}},e.prototype.toTestWatchChange=function(e){if(e instanceof Yr)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof Qr){var t;if(e.newDoc instanceof Ut)return{documentChange:{document:{name:this.toName((t=e.newDoc).key),fields:this.toFields(t.data()),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}};if(e.newDoc instanceof jt)return{documentDelete:{document:this.toName((t=e.newDoc).key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}};if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof Xr){var n=void 0;return e.cause&&(n={code:Wr(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return y("Unrecognized watch change: "+JSON.stringify(e))},e.prototype.fromWatchChange=function(e){var t,n=this;if("targetChange"in e){yo(e.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],i=e.targetChange.resumeToken||this.emptyByteString(),s=e.targetChange.cause,a=s&&this.fromRpcStatus(s);t=new Xr(r,o,i,a||null)}else if("documentChange"in e){yo(e.documentChange,"documentChange"),yo(e.documentChange.document,"documentChange.name"),yo(e.documentChange.document.name,"documentChange.document.name"),yo(e.documentChange.document.updateTime,"documentChange.document.updateTime");var l=e.documentChange,u=this.fromName(l.document.name),c=this.fromVersion(l.document.updateTime),p=new Ut(u,c,{},void 0,l.document,(function(e){return n.fromValue(e)}));t=new Qr(l.targetIds||[],l.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){yo(e.documentDelete,"documentDelete"),yo(e.documentDelete.document,"documentDelete.document");var d=e.documentDelete;u=this.fromName(d.document),c=d.readTime?this.fromVersion(d.readTime):Se.forDeletedDoc(),p=new jt(u,c),t=new Qr([],d.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){yo(e.documentRemove,"documentRemove"),yo(e.documentRemove.document,"documentRemove");var h=e.documentRemove;u=this.fromName(h.document),t=new Qr([],h.removedTargetIds||[],u,null)}else{if(!("filter"in e))return y("Unknown change type "+JSON.stringify(e));yo(e.filter,"filter"),yo(e.filter.targetId,"filter.targetId");var f=e.filter,g=new ho(f.count||0);t=new Yr(f.targetId,g)}return t},e.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?Zr.NoChange:"ADD"===e?Zr.Added:"REMOVE"===e?Zr.Removed:"CURRENT"===e?Zr.Current:"RESET"===e?Zr.Reset:y("Got unexpected TargetChange.state: "+e)},e.prototype.versionFromListenResponse=function(e){if(!("targetChange"in e))return Se.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?Se.MIN:t.readTime?this.fromVersion(t.readTime):Se.MIN},e.prototype.toMutation=function(e){var t,n=this;if(e instanceof wt)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof _t)t={delete:this.toName(e.key)};else if(e instanceof bt)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof Et))return y("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map((function(e){return n.toFieldTransform(e)}))}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},e.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):mt.NONE;if(e.update){yo(e.update.name,"name");var r=this.fromName(e.update.name),o=this.fromFields(e.update.fields||{});if(e.updateMask){var i=this.fromDocumentMask(e.updateMask);return new bt(r,o,i,n)}return new wt(r,o,n)}if(e.delete)return r=this.fromName(e.delete),new _t(r,n);if(e.transform){r=this.fromName(e.transform.document);var s=e.transform.fieldTransforms.map((function(e){return t.fromFieldTransform(e)}));return m(!0===n.exists,'Transforms only support precondition "exists == true"'),new Et(r,s)}return y("unknown mutation proto: "+JSON.stringify(e))},e.prototype.toPrecondition=function(e){return m(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:y("Unknown precondition")},e.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?mt.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?mt.exists(e.exists):mt.NONE},e.prototype.fromWriteResult=function(e,t){var n=this,r=this.fromVersion(e.updateTime?e.updateTime:t);r.isEqual(Se.MIN)&&(r=this.fromVersion(t));var o=null;return e.transformResults&&e.transformResults.length>0&&(o=e.transformResults.map((function(e){return n.fromValue(e)}))),new vt(r,o)},e.prototype.fromWriteResults=function(e,t){var n=this;return e&&e.length>0?(m(void 0!==t,"Received a write result without a commit time"),e.map((function(e){return n.fromWriteResult(e,t)}))):[]},e.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof io)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof so)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof ao)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof lo)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw y("Unknown transform: "+e.transform)},e.prototype.fromFieldTransform=function(e){var t=this,n=null;if("setToServerValue"in e)m("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),n=io.instance;else if("appendMissingElements"in e)n=new so((e.appendMissingElements.values||[]).map((function(e){return t.fromValue(e)})));else if("removeAllFromArray"in e)n=new ao((e.removeAllFromArray.values||[]).map((function(e){return t.fromValue(e)})));else if("increment"in e){var r=this.fromValue(e.increment);m(r instanceof At,"NUMERIC_ADD transform requires a NumberValue"),n=new lo(r)}else y("Unknown transform proto: "+JSON.stringify(e));var o=ue.fromServerFormat(e.fieldPath);return new gt(o,n)},e.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},e.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;return m(1===t,"DocumentsTarget contained other than 1 document: "+t),$n.atPath(this.fromQueryPath(e.documents[0])).toTarget()},e.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(m(n.length%2==0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(m(n.length%2!=0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var o=this.toOrder(e.orderBy);o&&(t.structuredQuery.orderBy=o);var i=this.toInt32Value(e.limit);return null!==i&&(t.structuredQuery.limit=i),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},e.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){m(1===r,"StructuredQuery.from with more than one collection is not supported.");var i=n.from[0];i.allDescendants?o=i.collectionId:t=t.child(i.collectionId)}var s=[];n.where&&(s=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var l=null;n.limit&&(l=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new $n(t,o,a,s,l,Xn.First,u,c).toTarget()},e.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},e.prototype.toLabel=function(e){switch(e){case Sn.Listen:return null;case Sn.ExistenceFilterMismatch:return"existence-filter-mismatch";case Sn.LimboResolution:return"limbo-document";default:return y("Unrecognized query purpose: "+e)}},e.prototype.toTarget=function(e){var t,n=e.target;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,e.resumeToken.length>0&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},e.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map((function(e){return e instanceof tr?t.toUnaryOrFieldFilter(e):y("Unrecognized filter: "+JSON.stringify(e))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromFieldFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t.fromFilter(e)})).reduce((function(e,t){return e.concat(t)})):y("Unknown filter: "+JSON.stringify(e)):[]},e.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map((function(e){return t.toPropertyOrder(e)}))},e.prototype.fromOrder=function(e){var t=this;return e.map((function(e){return t.fromPropertyOrder(e)}))},e.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map((function(e){return t.toValue(e)}))}},e.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map((function(e){return t.fromValue(e)}));return new lr(r,n)},e.prototype.toDirection=function(e){return fo[e.name]},e.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return ar.ASCENDING;case"DESCENDING":return ar.DESCENDING;default:return}},e.prototype.toOperatorName=function(e){return go[e.name]},e.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return er.EQUAL;case"GREATER_THAN":return er.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return er.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return er.LESS_THAN;case"LESS_THAN_OR_EQUAL":return er.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return er.ARRAY_CONTAINS;case"IN":return er.IN;case"ARRAY_CONTAINS_ANY":return er.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return y("Unspecified operator");default:return y("Unknown operator")}},e.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},e.prototype.fromFieldPathReference=function(e){return ue.fromServerFormat(e.fieldPath)},e.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},e.prototype.fromPropertyOrder=function(e){return new ur(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},e.prototype.fromFieldFilter=function(e){return tr.create(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},e.prototype.toUnaryOrFieldFilter=function(e){if(e.op===er.EQUAL){if(e.value.isEqual(Nt.NAN))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}};if(e.value.isEqual(Dt.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}},e.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return tr.create(t,er.EQUAL,Nt.NAN);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return tr.create(n,er.EQUAL,Dt.INSTANCE);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},e.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}},e.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map((function(e){return ue.fromServerFormat(e)}));return ft.fromArray(t)},e}(),wo=function(){this.viewSnap=null,this.targetId=0,this.listeners=[]},bo=function(){function e(e){this.syncEngine=e,this.queries=new qt((function(e){return e.canonicalId()})),this.onlineState=xr.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}return e.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);return r||(n=!0,r=new wo,this.queries.set(t,r)),r.listeners.push(e),m(!e.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.viewSnap&&e.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent(),n?this.syncEngine.listen(t).then((function(e){return r.targetId=e,e})):Promise.resolve(r.targetId)},e.prototype.unlisten=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return i.__generator(this,(function(i){return n=!1,(r=this.queries.get(t=e.query))&&(o=r.listeners.indexOf(e))>=0&&(r.listeners.splice(o,1),n=0===r.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]}))}))},e.prototype.onWatchChange=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var o=r[n],i=this.queries.get(o.query);if(i){for(var s=0,a=i.listeners;s<a.length;s++)a[s].onViewSnapshot(o)&&(t=!0);i.viewSnap=o}}t&&this.raiseSnapshotsInSyncEvent()},e.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,o=n.listeners;r<o.length;r++)o[r].onError(t);this.queries.delete(e)},e.prototype.onOnlineStateChange=function(e){this.onlineState=e;var t=!1;this.queries.forEach((function(n,r){for(var o=0,i=r.listeners;o<i.length;o++)i[o].applyOnlineStateChange(e)&&(t=!0)})),t&&this.raiseSnapshotsInSyncEvent()},e.prototype.addSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.add(e),e.next()},e.prototype.removeSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.delete(e)},e.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach((function(e){e.next()}))},e}(),Eo=function(){function e(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=xr.Unknown,this.options=n||{}}return e.prototype.onViewSnapshot=function(e){if(m(e.docChanges.length>0||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var o=r[n];o.type!==Br.Metadata&&t.push(o)}e=new zr(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var i=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),i=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),i=!0),this.snap=e,i},e.prototype.onError=function(e){this.queryObserver.error(e)},e.prototype.applyOnlineStateChange=function(e){this.onlineState=e;var t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t},e.prototype.shouldRaiseInitialEvent=function(e,t){return m(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache||(this.options.waitForSyncWhenOnline&&t!==xr.Offline?(m(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===xr.Offline)},e.prototype.shouldRaiseEvent=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.raiseInitialEvent=function(e){m(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=zr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},e}(),_o=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.addedKeys=n,this.removedKeys=r}return e.fromSnapshot=function(t,n){for(var r=Ge(),o=Ge(),i=0,s=n.docChanges;i<s.length;i++){var a=s[i];switch(a.type){case Br.Added:r=r.add(a.doc.key);break;case Br.Removed:o=o.add(a.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),So=function(e){this.key=e},Ro=function(e){this.key=e},To=function(){function e(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=Ge(),this.mutatedKeys=Ge(),this.documentSet=new Hr(e.docComparator.bind(e))}return Object.defineProperty(e.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),e.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new jr,o=t?t.documentSet:this.documentSet,i=t?t.mutatedKeys:this.mutatedKeys,s=o,a=!1,l=this.query.hasLimitToFirst()&&o.size===this.query.limit?o.last():null,u=this.query.hasLimitToLast()&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((function(e,t){var c=o.get(e),p=t instanceof Ut?t:null;p&&(m(e.isEqual(p.key),"Mismatching keys found in document changes: "+e+" != "+p.key),p=n.query.matches(p)?p:null);var d=!!c&&n.mutatedKeys.has(c.key),h=!!p&&(p.hasLocalMutations||n.mutatedKeys.has(p.key)&&p.hasCommittedMutations),f=!1;c&&p?c.data().isEqual(p.data())?d!==h&&(r.track({type:Br.Metadata,doc:p}),f=!0):n.shouldWaitForSyncedDocument(c,p)||(r.track({type:Br.Modified,doc:p}),f=!0,(l&&n.query.docComparator(p,l)>0||u&&n.query.docComparator(p,u)<0)&&(a=!0)):!c&&p?(r.track({type:Br.Added,doc:p}),f=!0):c&&!p&&(r.track({type:Br.Removed,doc:c}),f=!0,(l||u)&&(a=!0)),f&&(p?(s=s.add(p),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),this.query.hasLimitToFirst()||this.query.hasLimitToLast())for(;s.size>this.query.limit;){var c=this.query.hasLimitToFirst()?s.last():s.first();s=s.delete(c.key),i=i.delete(c.key),r.track({type:Br.Removed,doc:c})}return m(!a||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:s,changeSet:r,needsRefill:a,mutatedKeys:i}},e.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this;m(!e.needsRefill,"Cannot apply changes that need a refill");var o=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var i=e.changeSet.getChanges();i.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case Br.Added:return 1;case Br.Modified:case Br.Metadata:return 2;case Br.Removed:return 0;default:return y("Unknown ChangeType: "+e)}};return n(e)-n(t)}(e.type,t.type)||r.query.docComparator(e.doc,t.doc)})),this.applyTargetChange(n);var s=t?this.updateLimboDocuments():[],a=0===this.limboDocuments.size&&this.current?Ur.Synced:Ur.Local,l=a!==this.syncState;return this.syncState=a,0!==i.length||l?{snapshot:new zr(this.query,e.documentSet,o,i,e.mutatedKeys,a===Ur.Local,l,!1),limboChanges:s}:{limboChanges:s}},e.prototype.applyOnlineStateChange=function(e){return this.current&&e===xr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new jr,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},e.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations},e.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.add(e)})),e.modifiedDocuments.forEach((function(e){return m(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")})),e.removedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)})),this.current=e.current)},e.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=Ge(),this.documentSet.forEach((function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))}));var n=[];return t.forEach((function(t){e.limboDocuments.has(t)||n.push(new Ro(t))})),this.limboDocuments.forEach((function(e){t.has(e)||n.push(new So(e))})),n},e.prototype.synchronizeWithPersistedState=function(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=Ge();var t=this.computeDocChanges(e.documents);return this.applyChanges(t,!0)},e.prototype.computeInitialSnapshot=function(){return zr.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Ur.Local)},e}(),Oo=5,Do=function(){function e(e,t,n,r){this.asyncQueue=e,this.remoteStore=t,this.updateFunction=n,this.deferred=r,this.retries=Oo,this.backoff=new Or(this.asyncQueue,de.RetryTransaction)}return e.prototype.run=function(){this.runWithBackOff()},e.prototype.runWithBackOff=function(){var e=this;this.backoff.backoffAndRun((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,t,n=this;return i.__generator(this,(function(r){return e=this.remoteStore.createTransaction(),(t=this.tryRunUpdateFunction(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.handleTransactionError(e)}))}))})).catch((function(e){n.handleTransactionError(e)})),[2]}))}))}))},e.prototype.tryRunUpdateFunction=function(e){try{var t=this.updateFunction(e);return!Qn(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(g){return this.deferred.reject(g),null}},e.prototype.handleTransactionError=function(e){var t=this;this.retries>0&&this.isRetryableTransactionError(e)?(this.retries-=1,this.asyncQueue.enqueueAndForget((function(){return t.runWithBackOff(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.isRetryableTransactionError=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Vr(t)}return!1},e}(),Io=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Ao=function(e){this.key=e,this.receivedDocument=!1},ko=function(){function e(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new qt((function(e){return e.canonicalId()})),this.queriesByTarget={},this.limboTargetsByKey=new Re(ce.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new fr,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=lt.forSyncEngine(),this.isPrimary=void 0,this.onlineState=xr.Unknown}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){m(null!==e,"SyncEngine listener cannot be null"),m(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},e.prototype.listen=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(this.sharedClientState.addLocalQueryTarget(t=r.targetId),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateTarget(e.toTarget())];case 2:return o=i.sent(),s=this.sharedClientState.addLocalQueryTarget(o.targetId),[4,this.initializeViewAndComputeSnapshot(e,t=o.targetId,"current"===s)];case 3:n=i.sent(),this.isPrimary&&this.remoteStore.listen(o),i.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}}))}))},e.prototype.initializeViewAndComputeSnapshot=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,l,u;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(e,!0)];case 1:return r=i.sent(),o=new To(e,r.remoteKeys),s=o.computeDocChanges(r.documents),a=Kr.createSynthesizedTargetChangeForCurrentChange(t,n&&this.onlineState!==xr.Offline),m(0===(l=o.applyChanges(s,!0===this.isPrimary,a)).limboChanges.length,"View returned limbo docs before target ack from the server."),m(!!l.snapshot,"applyChanges for new view should always return a snapshot"),u=new Io(e,t,o),this.queryViewsByQuery.set(e,u),this.queriesByTarget[t]||(this.queriesByTarget[t]=[]),this.queriesByTarget[t].push(e),[2,l.snapshot]}}))}))},e.prototype.synchronizeViewAndComputeSnapshot=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.localStore.executeQuery(e.query,!0)];case 1:return t=r.sent(),n=e.view.synchronizeWithPersistedState(t),this.isPrimary&&this.updateTrackedLimbos(e.targetId,n.limboChanges),[2,n]}}))}))},e.prototype.unlisten=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r=this;return i.__generator(this,(function(o){switch(o.label){case 0:return this.assertSubscribed("unlisten()"),m(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),(n=this.queriesByTarget[t.targetId]).length>1?(this.queriesByTarget[t.targetId]=n.filter((function(t){return!t.isEqual(e)})),this.queryViewsByQuery.delete(e),[2]):this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseTarget(t.targetId,!1).then((function(){r.sharedClientState.clearQueryState(t.targetId),r.remoteStore.unlisten(t.targetId),r.removeAndCleanupTarget(t.targetId)})).catch(Gn)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupTarget(t.targetId),[4,this.localStore.releaseTarget(t.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))},e.prototype.write=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(e)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,t),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}}))}))},e.prototype.runTransaction=function(e,t,n){new Do(e,this.remoteStore,t,n).run()},e.prototype.applyRemoteEvent=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(e)];case 2:return t=r.sent(),O(e.targetChanges,(function(e,t){var r=n.limboResolutionsByTarget[Number(e)];r&&(m(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),t.addedDocuments.size>0?r.receivedDocument=!0:t.modifiedDocuments.size>0?m(r.receivedDocument,"Received change for limbo target document without add."):t.removedDocuments.size>0&&(m(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))})),[4,this.emitNewSnapsAndNotifyLocalStore(t,e)];case 3:return r.sent(),[3,6];case 4:return[4,Gn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===Fr.RemoteStore||!this.isPrimary&&t===Fr.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach((function(t,r){var o=r.view.applyOnlineStateChange(e);m(0===o.limboChanges.length,"OnlineState should not affect limbo documents."),o.snapshot&&n.push(o.snapshot)})),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},e.prototype.rejectListen=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,l=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),(r=(n=this.limboResolutionsByTarget[e])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],o=(o=new Re(ce.comparator)).insert(r,new jt(r,Se.forDeletedDoc())),s=Ge().add(r),a=new qr(Se.MIN,{},new Ie(Y),o,s),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return[4,this.localStore.releaseTarget(e,!1).then((function(){return l.removeAndCleanupTarget(e,t)})).catch(Gn)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},e.prototype.applyBatchState=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r;return i.__generator(this,(function(o){switch(o.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(r=o.sent())?(f("SyncEngine","Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return o.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):y("Unknown batchState: "+t),o.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return o.sent(),[2]}}))}))},e.prototype.applySuccessfulWrite=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(t=e.batch.batchId,null),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Gn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.rejectFailedWrite=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"rejected",t),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Gn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.registerPendingWritesCallback=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(t=r.sent())?(e.resolve(),[2]):((n=this.pendingWritesCallbacks.get(t)||[]).push(e),this.pendingWritesCallbacks.set(t,n),[2])}}))}))},e.prototype.triggerPendingWritesCallbacks=function(e){(this.pendingWritesCallbacks.get(e)||[]).forEach((function(e){e.resolve()})),this.pendingWritesCallbacks.delete(e)},e.prototype.rejectOutstandingPendingWritesCallbacks=function(e){this.pendingWritesCallbacks.forEach((function(t){t.forEach((function(t){t.reject(new E(b.CANCELLED,e))}))})),this.pendingWritesCallbacks.clear()},e.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Re(Y)),n=n.insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},e.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(m(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},e.prototype.removeAndCleanupTarget=function(e,t){var n=this;void 0===t&&(t=null),this.sharedClientState.removeLocalQueryTarget(e),m(this.queriesByTarget[e]&&0!==this.queriesByTarget[e].length,"There are no queries mapped to target id "+e);for(var r=0,o=this.queriesByTarget[e];r<o.length;r++){var i=o[r];this.queryViewsByQuery.delete(i),t&&this.syncEngineListener.onWatchError(i,t)}if(delete this.queriesByTarget[e],this.isPrimary){var s=this.limboDocumentRefs.referencesForId(e);this.limboDocumentRefs.removeReferencesForId(e),s.forEach((function(e){n.limboDocumentRefs.containsKey(e)||n.removeLimboTarget(e)}))}},e.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},e.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var o=r[n];o instanceof So?(this.limboDocumentRefs.addReference(o.key,e),this.trackLimboChange(o)):o instanceof Ro?(f("SyncEngine","Document no longer in limbo: "+o.key),this.limboDocumentRefs.removeReference(o.key,e),this.limboDocumentRefs.containsKey(o.key)||this.removeLimboTarget(o.key)):y("Unknown limbo change: "+JSON.stringify(o))}},e.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){f("SyncEngine","New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=$n.atPath(t.path);this.limboResolutionsByTarget[n]=new Ao(t),this.remoteStore.listen(new Rn(r.toTarget(),n,Sn.LimboResolution,ie.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},e.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},e.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=[],r=[],o=[],this.queryViewsByQuery.forEach((function(i,a){o.push(Promise.resolve().then((function(){var t=a.view.computeDocChanges(e);return t.needsRefill?s.localStore.executeQuery(a.query,!1).then((function(e){return a.view.computeDocChanges(e.documents,t)})):t})).then((function(e){var o=a.view.applyChanges(e,!0===s.isPrimary,t&&t.targetChanges[a.targetId]);if(s.updateTrackedLimbos(a.targetId,o.limboChanges),o.snapshot){s.isPrimary&&s.sharedClientState.updateQueryState(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var i=_o.fromSnapshot(a.targetId,o.snapshot);r.push(i)}})))})),[4,Promise.all(o)];case 1:return i.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return i.sent(),[2]}}))}))},e.prototype.assertSubscribed=function(e){m(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},e.prototype.handleCredentialChange=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(e)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}}))}))},e.prototype.applyPrimaryState=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,s,a,l=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return i.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=i.sent(),r=0,o=n;r<o.length;r++)this.remoteStore.listen(o[r]);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,s=[],a=Promise.resolve(),T(this.queriesByTarget,(function(e,t){l.sharedClientState.isLocalQueryTarget(e)?s.push(e):a=a.then((function(){return l.removeAndCleanupTarget(e),l.localStore.releaseTarget(e,!0)})),l.remoteStore.unlisten(e)})),[4,a]);case 4:return i.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(s)];case 5:return i.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))},e.prototype.resetLimboDocuments=function(){var e=this;T(this.limboResolutionsByTarget,(function(t){e.remoteStore.unlisten(t)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Re(ce.comparator)},e.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,s,a,l,u,c,p,d,h,f;return i.__generator(this,(function(i){switch(i.label){case 0:t=[],n=[],r=0,o=e,i.label=1;case 1:return r<o.length?(a=void 0,(l=this.queriesByTarget[s=o[r]])&&0!==l.length?[4,this.localStore.releaseTarget(s,!0)]:[3,8]):[3,14];case 2:return i.sent(),[4,this.localStore.allocateTarget(l[0].toTarget())];case 3:a=i.sent(),u=0,c=l,i.label=4;case 4:return u<c.length?(m(!!(d=this.queryViewsByQuery.get(p=c[u])),"No query view found for "+p),[4,this.synchronizeViewAndComputeSnapshot(d)]):[3,7];case 5:(h=i.sent()).snapshot&&n.push(h.snapshot),i.label=6;case 6:return u++,[3,4];case 7:return[3,12];case 8:return m(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.localStore.getTarget(s)];case 9:return m(!!(f=i.sent()),"Target for id "+s+" not found"),[4,this.localStore.allocateTarget(f)];case 10:return a=i.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(f),s,!1)];case 11:i.sent(),i.label=12;case 12:t.push(a),i.label=13;case 13:return r++,[3,1];case 14:return this.syncEngineListener.onWatchChange(n),[2,t]}}))}))},e.prototype.synthesizeTargetToQuery=function(e){return new $n(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,Xn.First,e.startAt,e.endAt)},e.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},e.prototype.applyTargetState=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o;return i.__generator(this,(function(i){switch(i.label){case 0:if(this.isPrimary)return f("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queriesByTarget[e])return[3,7];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.localStore.getNewDocumentChanges()];case 2:return r=i.sent(),o=qr.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(r,o)];case 3:return i.sent(),[3,7];case 4:return[4,this.localStore.releaseTarget(e,!0)];case 5:return i.sent(),this.removeAndCleanupTarget(e,n),[3,7];case 6:y("Unexpected target state: "+t),i.label=7;case 7:return[2]}}))}))},e.prototype.applyActiveTargetsChange=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,l,u,c,p,d=this;return i.__generator(this,(function(h){switch(h.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,h.label=1;case 1:return n<r.length?(m(!this.queriesByTarget[p=r[n]],"Trying to add an already active target"),[4,this.localStore.getTarget(p)]):[3,6];case 2:return m(!!(o=h.sent()),"Query data for active target "+p+" not found"),[4,this.localStore.allocateTarget(o)];case 3:return s=h.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(o),s.targetId,!1)];case 4:h.sent(),this.remoteStore.listen(s),h.label=5;case 5:return n++,[3,1];case 6:a=function(e){return i.__generator(this,(function(t){switch(t.label){case 0:return l.queriesByTarget[e]?[4,l.localStore.releaseTarget(e,!1).then((function(){d.remoteStore.unlisten(e),d.removeAndCleanupTarget(e)})).catch(Gn)]:[2,"continue"];case 1:return t.sent(),[2]}}))},l=this,u=0,c=t,h.label=7;case 7:return u<c.length?[5,a(p=c[u])]:[3,10];case 8:h.sent(),h.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))},e.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},e.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},e.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];if(t&&t.receivedDocument)return Ge().add(t.key);var n=Ge(),r=this.queriesByTarget[e];if(!r)return n;for(var o=0,i=r;o<i.length;o++){var s=i[o],a=this.queryViewsByQuery.get(s);m(!!a,"No query view found for "+s),n=n.unionWith(a.view.syncedDocuments)}return n},e}(),Po=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e.UNAUTHENTICATED=new e(null),e.GOOGLE_CREDENTIALS=new e("google-credentials-uid"),e.FIRST_PARTY=new e("first-party-uid"),e}(),No="SharedClientState",xo="firestore_clients",Fo="firestore_mutations",Mo="firestore_targets",Lo="firestore_online_state",Vo="firestore_sequence_number",Go=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r,m(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n,r){var o=JSON.parse(r),i="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error),s=void 0;return i&&o.error&&(i="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(s=new E(o.error.code,o.error.message)),i?new e(t,n,o.state,s):(g(No,"Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Wo=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n,m(void 0!==n==("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n){var r=JSON.parse(n),o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),i=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(i=new E(r.error.code,r.error.message)),o?new e(t,r.state,i):(g(No,"Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Ho=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.fromWebStorageEntry=function(t,n){for(var r=JSON.parse(n),o="object"==typeof r&&r.activeTargetIds instanceof Array,i=He(),s=0;o&&s<r.activeTargetIds.length;++s)o=Yn(r.activeTargetIds[s]),i=i.add(r.activeTargetIds[s]);return o?new e(t,i):(g(No,"Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Bo=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.fromWebStorageEntry=function(t){var n=JSON.parse(t);return"object"==typeof n&&n.onlineState in xr&&"string"==typeof n.clientId?new e(n.clientId,xr[n.onlineState]):(g(No,"Failed to parse online state: "+t),null)},e}(),Uo=function(){function e(){this.activeTargetIds=He()}return e.prototype.addQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),jo=function(){function e(t,n,r,o,i){if(this.queue=t,this.platform=n,this.persistenceKey=r,this.localClientId=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!e.isAvailable(this.platform))throw new E(b.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=i,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Vo+"_"+r,this.activeClients[this.localClientId]=new Uo,this.clientStateKeyRe=new RegExp("^"+xo+"_"+s+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Fo+"_"+s+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Mo+"_"+s+"_(\\d+)$"),this.onlineStateKey=Lo+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return e.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},e.prototype.start=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,o,s,a,l,u,c,p=this;return i.__generator(this,(function(i){switch(i.label){case 0:return m(!this.started,"WebStorageSharedClientState already started"),m(null!==this.syncEngine,"syncEngine property must be set before calling start()"),m(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=i.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.localClientId&&(o=this.getItem(this.toWebStorageClientStateKey(r)))&&(s=Ho.fromWebStorageEntry(r,o))&&(this.activeClients[s.clientId]=s);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(l=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(l),u=0,c=this.earlyEvents;u<c.length;u++)this.handleWebStorageEvent(c[u]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return p.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){var e=He();return O(this.activeClients,(function(t,n){e=e.unionWith(n.activeTargetIds)})),e},e.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},e.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(e));if(n){var r=Wo.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},e.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},e.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(this.toWebStorageQueryTargetMetadataKey(e))},e.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.removeMutationState(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.persistOnlineState(e)},e.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return f(No,"READ",e,t),t},e.prototype.setItem=function(e,t){f(No,"SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){f(No,"REMOVE",e),this.storage.removeItem(e)},e.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(f(No,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,n,r,o,s,a;return i.__generator(this,(function(i){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(o=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(o)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(s=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(s)]}else e.key===this.sequenceNumberKey&&(m(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(e){var t=ie.INVALID;if(null!=e)try{var n=JSON.parse(e);m("number"==typeof n,"Found non-numeric sequence number"),t=n}catch(r){g(No,"Failed to read sequence number from WebStorage",r)}return t}(e.newValue))!==ie.INVALID&&this.sequenceNumberHandler(a));return[2]}))}))}))}},Object.defineProperty(e.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),e.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},e.prototype.persistMutationState=function(e,t,n){var r=new Go(this.currentUser,e,t,n),o=this.toWebStorageMutationBatchKey(e);this.setItem(o,r.toWebStorageJSON())},e.prototype.removeMutationState=function(e){var t=this.toWebStorageMutationBatchKey(e);this.removeItem(t)},e.prototype.persistOnlineState=function(e){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:xr[e]}))},e.prototype.persistQueryTargetState=function(e,t,n){var r=this.toWebStorageQueryTargetMetadataKey(e),o=new Wo(e,t,n);this.setItem(r,o.toWebStorageJSON())},e.prototype.toWebStorageClientStateKey=function(e){return m(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),xo+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageQueryTargetMetadataKey=function(e){return Mo+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageMutationBatchKey=function(e){var t=Fo+"_"+this.persistenceKey+"_"+e;return this.currentUser.isAuthenticated()&&(t+="_"+this.currentUser.uid),t},e.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},e.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return m(null!==n,"Cannot parse client state key '"+e+"'"),Ho.fromWebStorageEntry(n,t)},e.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);m(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]);return Go.fromWebStorageEntry(new Po(void 0!==n[2]?n[2]:null),r,t)},e.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);m(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return Wo.fromWebStorageEntry(r,t)},e.prototype.fromWebStorageOnlineState=function(e){return Bo.fromWebStorageEntry(e)},e.prototype.handleMutationBatchEvent=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return e.user.uid!==this.currentUser.uid?(f(No,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]}))}))},e.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},e.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var o=this.getAllActiveQueryTargets(),s=[],a=[];return o.forEach((function(e){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(t){return r.has(e)||s.push(e),[2]}))}))})),r.forEach((function(e){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(t){return o.has(e)||a.push(e),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(s,a)},e.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},e}(),zo=function(){function e(){this.localState=new Uo,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},e.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.queryState[e]},e.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.start=function(){return this.localState=new Uo,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e}(),qo=function(){function e(e,t){this.cacheSizeBytes=e,this.synchronizeTabs=t}return e.prototype.lruParams=function(){return An.withCacheSize(this.cacheSizeBytes)},e}(),Ko=function(){},Qo=function(){function e(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=Q.newId()}return e.prototype.start=function(e){var t=this;this.verifyNotTerminated();var n=new pe,r=new pe,o=!1;return this.credentials.setChangeListener((function(i){o?t.asyncQueue.enqueueAndForget((function(){return t.handleCredentialChange(i)})):(o=!0,t.initializePersistence(e,r,i).then((function(e){return t.initializeRest(i,e)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),r.promise},e.prototype.enableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.enableNetwork()}))},e.prototype.initializePersistence=function(e,t,n){var r=this;return e instanceof qo?this.startIndexedDbPersistence(n,e).then((function(e){return t.resolve(),e})).catch((function(e){if(t.reject(e),!r.canFallback(e))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.startMemoryPersistence()})):(t.resolve(),this.startMemoryPersistence())},e.prototype.canFallback=function(e){return e instanceof E?e.code===b.FAILED_PRECONDITION||e.code===b.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new E(b.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.startIndexedDbPersistence=function(e,t){var n=this,r=Vn.buildStoragePrefix(this.databaseInfo),o=new Co(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return i.__awaiter(n,void 0,void 0,(function(){var n,s;return i.__generator(this,(function(i){switch(i.label){case 0:if(t.synchronizeTabs&&!jo.isAvailable(this.platform))throw new E(b.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=t.lruParams(),this.sharedClientState=t.synchronizeTabs?new jo(this.asyncQueue,this.platform,r,this.clientId,e):new zo,[4,Vn.createIndexedDbPersistence({allowTabSynchronization:t.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:o,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return s=i.sent(),this.persistence=s,[2,s.referenceDelegate.garbageCollector]}}))}))}))},e.prototype.startMemoryPersistence=function(){return this.persistence=wr.createEagerPersistence(this.clientId),this.sharedClientState=new zo,Promise.resolve(null)},e.prototype.initializeRest=function(e,t){var n=this;return f("FirestoreClient","Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then((function(r){return i.__awaiter(n,void 0,void 0,(function(){var n,o,s,a,l,u=this;return i.__generator(this,(function(c){switch(c.label){case 0:return n=new dr,this.localStore=new vr(this.persistence,n,e),[4,this.localStore.start()];case 1:return c.sent(),t&&(this.lruScheduler=new kn(t,this.asyncQueue,this.localStore)),o=this.platform.newConnectivityMonitor(),s=this.platform.newSerializer(this.databaseInfo.databaseId),a=new Pr(this.asyncQueue,r,this.credentials,s),l=function(e){return u.syncEngine.applyOnlineStateChange(e,Fr.SharedClientState)},this.remoteStore=new ro(this.localStore,a,this.asyncQueue,(function(e){return u.syncEngine.applyOnlineStateChange(e,Fr.RemoteStore)}),o),this.syncEngine=new ko(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=l,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new bo(this.syncEngine),[4,this.sharedClientState.start()];case 2:return c.sent(),[4,this.remoteStore.start()];case 3:return c.sent(),[4,this.persistence.setPrimaryStateListener((function(e){return i.__awaiter(u,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}}))}))}))];case 4:return c.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return i.__awaiter(u,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))}))];case 5:return c.sent(),[2]}}))}))}))},e.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},e.prototype.disableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.disableNetwork()}))},e.prototype.terminate=function(){var e=this;return this.asyncQueue.enqueueAndInitiateShutdown((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}}))}))}))},e.prototype.waitForPendingWrites=function(){var e=this;this.verifyNotTerminated();var t=new pe;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.registerPendingWritesCallback(t)})),t.promise},e.prototype.listen=function(e,t,n){var r=this;this.verifyNotTerminated();var o=new Eo(e,t,n);return this.asyncQueue.enqueueAndForget((function(){return r.eventMgr.listen(o)})),o},e.prototype.unlisten=function(e){var t=this;this.clientTerminated||this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.unlisten(e)}))},e.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.localStore.readDocument(e)})).then((function(e){if(e instanceof Ut)return e;if(e instanceof jt)return null;throw new E(b.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},e.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,n,r;return i.__generator(this,(function(o){switch(o.label){case 0:return[4,this.localStore.executeQuery(e,!0)];case 1:return t=o.sent(),n=new To(e,t.remoteKeys),r=n.computeDocChanges(t.documents),[2,n.applyChanges(r,!1).snapshot]}}))}))}))},e.prototype.write=function(e){var t=this;this.verifyNotTerminated();var n=new pe;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.write(e,n)})),n.promise},e.prototype.databaseId=function(){return this.databaseInfo.databaseId},e.prototype.addSnapshotsInSyncListener=function(e){var t=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.addSnapshotsInSyncListener(e),Promise.resolve()}))},e.prototype.removeSnapshotsInSyncListener=function(e){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(e)},Object.defineProperty(e.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.verifyNotTerminated();var n=new pe;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.runTransaction(t.asyncQueue,e,n),Promise.resolve()})),n.promise},e}(),Yo=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},e.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},e.prototype.mute=function(){this.muted=!0},e.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Zo=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e,t,n,r){if(!(t instanceof Array)||t.length<1)throw new E(b.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+K(1,"element")+".")}(0,e);for(var n=0;n<e.length;++n)if(N("FieldPath","string",n,e[n]),0===e[n].length)throw new E(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ue(e)}return e.documentId=function(){return e._DOCUMENT_ID},e.prototype.isEqual=function(t){if(!(t instanceof e))throw j("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},e._DOCUMENT_ID=new e(ue.keyField().canonicalString()),e}(),Xo=new RegExp("[~\\*/\\[\\]]"),$o=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}},Jo=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){m(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,e(Po.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){m(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},e}(),ei=function(){function e(e){var t=this;this.app=e,this.tokenListener=null,this.currentUser=Po.UNAUTHENTICATED,this.receivedInitialUser=!1,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return e.prototype.getToken=function(){var e=this;m(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then((function(n){if(e.tokenCounter!==t)throw new E(b.ABORTED,"getToken aborted due to token change.");return n?(m("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new $o(n.accessToken,e.currentUser)):null}))},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){m(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){m(null!=this.tokenListener,"removeChangeListener() called twice"),m(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},e.prototype.getUser=function(){var e=this.app.INTERNAL.getUid();return m(null===e||"string"==typeof e,"Received invalid UID: "+e),new Po(e)},e}(),ti=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=Po.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),e}(),ni=function(){function e(e,t){this.gapi=e,this.sessionIndex=t}return e.prototype.getToken=function(){return Promise.resolve(new ti(this.gapi,this.sessionIndex))},e.prototype.setChangeListener=function(e){e(Po.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function ri(e){if(!e)return new Jo;switch(e.type){case"gapi":var t=e.client;return m(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new ni(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new E(b.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function oi(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,o=["next","error","complete"];r<o.length;r++){var i=o[r];if(i in n&&"function"==typeof n[i])return!0}return!1}(e)}var ii=function(){function e(e){this._methodName=e}return e.delete=function(){return I("FieldValue.delete",arguments),si.instance},e.serverTimestamp=function(){return I("FieldValue.serverTimestamp",arguments),ai.instance},e.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return k("FieldValue.arrayUnion",arguments,1),new li(e)},e.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return k("FieldValue.arrayRemove",arguments,1),new ui(e)},e.increment=function(e){return N("FieldValue.increment","number",1,e),A("FieldValue.increment",arguments,1),new ci(e)},e.prototype.isEqual=function(e){return this===e},e}(),si=function(e){function t(){return e.call(this,"FieldValue.delete")||this}return i.__extends(t,e),t.instance=new t,t}(ii),ai=function(e){function t(){return e.call(this,"FieldValue.serverTimestamp")||this}return i.__extends(t,e),t.instance=new t,t}(ii),li=function(e){function t(t){var n=e.call(this,"FieldValue.arrayUnion")||this;return n._elements=t,n}return i.__extends(t,e),t}(ii),ui=function(e){function t(t){var n=e.call(this,"FieldValue.arrayRemove")||this;return n._elements=t,n}return i.__extends(t,e),t}(ii),ci=function(e){function t(t){var n=e.call(this,"FieldValue.increment")||this;return n._operand=t,n}return i.__extends(t,e),t}(ii),pi=_(ii,"Use FieldValue.<field>() instead."),di=/^__.*__$/,hi=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[];return n.push(null!==this.fieldMask?new bt(e,this.data,this.fieldMask,t):new wt(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new Et(e,this.fieldTransforms)),n},e}(),fi=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[new bt(e,this.data,this.fieldMask,t)];return this.fieldTransforms.length>0&&n.push(new Et(e,this.fieldTransforms)),n},e}(),gi=function(e){return e[e.Set=0]="Set",e[e.Update=1]="Update",e[e.MergeSet=2]="MergeSet",e[e.Argument=3]="Argument",e[e.ArrayArgument=4]="ArrayArgument",e}({});function vi(e){switch(e){case gi.Set:case gi.MergeSet:case gi.Update:return!0;case gi.Argument:case gi.ArrayArgument:return!1;default:throw y("Unexpected case for UserDataSource: "+e)}}var yi=function(){function e(e,t,n,r,o,i){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===o&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=o||[],this.fieldMask=i||[]}return e.prototype.childContextForField=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(t),r},e.prototype.childContextForFieldPath=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},e.prototype.childContextForArray=function(t){return new e(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},e.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new E(b.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},e.prototype.validatePathSegment=function(e){if(0===e.length)throw this.createError("Document fields must not be empty");if(vi(this.dataSource)&&di.test(e))throw this.createError('Document fields cannot begin and end with "__"')},e}(),mi=function(e,t){this.databaseId=e,this.key=t},Ci=function(){function e(e){this.preConverter=e}return e.prototype.parseSetData=function(e,t){var n=new yi(gi.Set,e,ue.EMPTY_PATH);bi("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new hi(r,null,n.fieldTransforms)},e.prototype.parseMergeData=function(e,t,n){var r=new yi(gi.MergeSet,e,ue.EMPTY_PATH);bi("Data must be an object, but it was:",r,t);var o,i,s=this.parseData(t,r);if(n){for(var a=new Ie(ue.comparator),l=0,u=n;l<u.length;l++){var c=u[l],p=void 0;if(c instanceof Zo)p=c._internalPath;else{if("string"!=typeof c)throw y("Expected stringOrFieldPath to be a string or a FieldPath");p=_i(e,c)}if(!r.contains(p))throw new E(b.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");a=a.add(p)}o=ft.fromSet(a),i=r.fieldTransforms.filter((function(e){return o.covers(e.field)}))}else o=ft.fromArray(r.fieldMask),i=r.fieldTransforms;return new hi(s,o,i)},e.prototype.parseUpdateData=function(e,t){var n=this,r=new yi(gi.Update,e,ue.EMPTY_PATH);bi("Data must be an object, but it was:",r,t);var o=new Ie(ue.comparator),i=Wt.EMPTY;O(t,(function(t,s){var a=_i(e,t),l=r.childContextForFieldPath(a);if((s=n.runPreConverter(s,l))instanceof si)o=o.add(a);else{var u=n.parseData(s,l);null!=u&&(o=o.add(a),i=i.set(a,u))}}));var s=ft.fromSet(o);return new fi(i,s,r.fieldTransforms)},e.prototype.parseUpdateVarargs=function(e,t,n,r){var o=new yi(gi.Update,e,ue.EMPTY_PATH),i=[Ei(e,t)],s=[n];if(r.length%2!=0)throw new E(b.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)i.push(Ei(e,r[a])),s.push(r[a+1]);var l=new Ie(ue.comparator),u=Wt.EMPTY;for(a=0;a<i.length;++a){var c=i[a],p=o.childContextForFieldPath(c),d=this.runPreConverter(s[a],p);if(d instanceof si)l=l.add(c);else{var h=this.parseData(d,p);null!=h&&(l=l.add(c),u=u.set(c,h))}}var f=ft.fromSet(l);return new fi(u,f,o.fieldTransforms)},e.prototype.parseQueryValue=function(e,t,n){void 0===n&&(n=!1);var r=new yi(n?gi.ArrayArgument:gi.Argument,e,ue.EMPTY_PATH),o=this.parseData(t,r);return m(null!=o,"Parsed data should not be null."),m(0===r.fieldTransforms.length,"Field transforms should have been disallowed."),o},e.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(r){var n=Si(r);throw t.createError(n)}},e.prototype.parseData=function(e,t){if(wi(e=this.runPreConverter(e,t)))return bi("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof ii)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement&&t.dataSource!==gi.ArrayArgument)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},e.prototype.parseObject=function(e,t){var n=this,r=new Re(Y);return D(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):O(e,(function(e,o){var i=n.parseData(o,t.childContextForField(e));null!=i&&(r=r.insert(e,i))})),new Wt(r)},e.prototype.parseArray=function(e,t){for(var n=[],r=0,o=0,i=e;o<i.length;o++){var s=this.parseData(i[o],t.childContextForArray(r));null==s&&(s=Dt.INSTANCE),n.push(s),r++}return new Ht(n)},e.prototype.parseSentinelFieldValue=function(e,t){if(!vi(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof si){if(t.dataSource!==gi.MergeSet)throw t.dataSource===gi.Update?(m(t.path.length>0,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof ai)t.fieldTransforms.push(new gt(t.path,io.instance));else if(e instanceof li){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new so(n);t.fieldTransforms.push(new gt(t.path,r))}else if(e instanceof ui){n=this.parseArrayTransformElements(e._methodName,e._elements);var o=new ao(n);t.fieldTransforms.push(new gt(t.path,o))}else if(e instanceof ci){var i=this.parseQueryValue("FieldValue.increment",e._operand),s=new lo(i);t.fieldTransforms.push(new gt(t.path,s))}else y("Unknown FieldValue type: "+e)},e.prototype.parseScalarValue=function(e,t){if(null===e)return Dt.INSTANCE;if("number"==typeof e)return Yn(e)?new Pt(e):new Nt(e);if("boolean"==typeof e)return It.of(e);if("string"==typeof e)return new xt(e);if(e instanceof Date)return new Ft(_e.fromDate(e));if(e instanceof _e)return new Ft(new _e(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof oo)return new Gt(e);if(e instanceof ee)return new Lt(e);if(e instanceof mi)return new Vt(e.databaseId,e.key);throw t.createError("Unsupported field value: "+H(e))},e.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map((function(t,r){var o=new yi(gi.Argument,e,ue.EMPTY_PATH);return n.parseData(t,o.childContextForArray(r))}))},e}();function wi(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof _e||e instanceof oo||e instanceof ee||e instanceof mi||e instanceof ii)}function bi(e,t,n){if(!wi(n)||!W(n)){var r=H(n);throw t.createError("an object"===r?e+" a custom object":e+" "+r)}}function Ei(e,t){if(t instanceof Zo)return t._internalPath;if("string"==typeof t)return _i(e,t);throw new E(b.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function _i(e,t){try{return function(e){if(e.search(Xo)>=0)throw new E(b.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Zo.bind.apply(Zo,i.__spreadArrays([void 0],e.split("."))))}catch(t){throw new E(b.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(r){var n=Si(r);throw new E(b.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function Si(e){return e instanceof Error?e.message:e.toString()}var Ri="firestore.googleapis.com",Ti=!0,Oi=!0,Di=!1,Ii=An.COLLECTION_DISABLED,Ai=function(){function e(e){if(void 0===e.host){if(void 0!==e.ssl)throw new E(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ri,this.ssl=Ti}else F("settings","non-empty string","host",e.host),this.host=e.host,M("settings","boolean","ssl",e.ssl),this.ssl=R(e.ssl,Ti);if(U("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),M("settings","object","credentials",e.credentials),this.credentials=e.credentials,M("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?g("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&g("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=R(e.timestampsInSnapshots,Oi),M("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=An.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==Ii&&e.cacheSizeBytes<An.MINIMUM_CACHE_SIZE_BYTES)throw new E(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+An.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}M("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0===e.experimentalForceLongPolling?Di:e.experimentalForceLongPolling}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},e}(),ki=function(){function e(t){var n=this;if(this._firebaseApp=null,this._queue=new fe,this.INTERNAL={delete:function(){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==typeof t.options){var r=t;this._firebaseApp=r,this._databaseId=e.databaseIdFromApp(r),this._persistenceKey=r.name,this._credentials=new ei(r)}else{var o=t;if(!o.projectId)throw new E(b.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new oe(o.projectId,o.database),this._persistenceKey="[DEFAULT]",this._credentials=new Jo}this._settings=new Ai({}),this._dataConverter=this.createDataConverter(this._databaseId)}return e.prototype.settings=function(e){if(A("Firestore.settings",arguments,1),N("Firestore.settings","object",1,e),S(e,"persistence"))throw new E(b.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new Ai(e);if(this._firestoreClient&&!this._settings.isEqual(t))throw new E(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._settings=t,void 0!==t.credentials&&(this._credentials=ri(t.credentials))},e.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},e.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},e.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new E(b.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1;return e&&(void 0!==e.experimentalTabSynchronization&&g("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),t=R(void 0!==e.synchronizeTabs?e.synchronizeTabs:e.experimentalTabSynchronization,!1)),this.configureClient(new qo(this._settings.cacheSizeBytes,t))},e.prototype.clearPersistence=function(){var e=this,t=Vn.buildStoragePrefix(this.makeDatabaseInfo()),n=new pe;return this._queue.enqueueAndForgetEvenAfterShutdown((function(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new E(b.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,Vn.clearPersistence(t)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},e.prototype.onSnapshotsInSync=function(e){return this.ensureClientConfigured(),oi(e)?this.onSnapshotsInSyncInternal(e):(N("Firestore.onSnapshotsInSync","function",1,e),this.onSnapshotsInSyncInternal({next:e}))},e.prototype.onSnapshotsInSyncInternal=function(e){var t=this,n=new Yo({next:function(){e.next&&e.next()},error:function(e){throw y("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),t._firestoreClient.removeSnapshotsInSyncListener(n)}},e.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Ko),this._firestoreClient},e.prototype.makeDatabaseInfo=function(){return new ne(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},e.prototype.configureClient=function(e){m(!!this._settings.host,"FirestoreSettings.host is not set"),m(!this._firestoreClient,"configureClient() called multiple times");var t=this.makeDatabaseInfo();return this._firestoreClient=new Qo(C.getPlatform(),t,this._credentials,this._queue),this._firestoreClient.start(e)},e.prototype.createDataConverter=function(e){return new Ci((function(t){if(t instanceof xi){var n=e,r=t.firestore._databaseId;if(!r.isEqual(n))throw new E(b.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new mi(e,t._key)}return t}))},e.databaseIdFromApp=function(e){var t=e.options;if(!S(t,"projectId"))throw new E(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!=typeof n)throw new E(b.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new oe(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this._firebaseApp)throw new E(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){return A("Firestore.collection",arguments,1),N("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new Wi(ae.fromString(e),this)},e.prototype.doc=function(e){return A("Firestore.doc",arguments,1),N("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),xi.forPath(ae.fromString(e),this)},e.prototype.collectionGroup=function(e){if(A("Firestore.collectionGroup",arguments,1),N("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new E(b.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Vi(new $n(ae.EMPTY_PATH,e),this)},e.prototype.runTransaction=function(e){var t=this;return A("Firestore.runTransaction",arguments,1),N("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction((function(n){return e(new Pi(t,n))}))},e.prototype.batch=function(){return this.ensureClientConfigured(),new Ni(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(d()){case p.DEBUG:return"debug";case p.ERROR:return"error";case p.SILENT:return"silent";default:return y("Unknown log level: "+d())}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(A("Firestore.setLogLevel",arguments,1),N("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":h(p.DEBUG);break;case"error":h(p.ERROR);break;case"silent":h(p.SILENT);break;default:throw new E(b.INVALID_ARGUMENT,"Invalid log level: "+e)}},e.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},e}(),Pi=function(){function e(e,t){this._firestore=e,this._transaction=t}return e.prototype.get=function(e){var t=this;A("Transaction.get",arguments,1);var n=ji("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return y("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof jt)return new Mi(t._firestore,n._key,null,!1,!1);if(r instanceof Ut)return new Mi(t._firestore,n._key,r,!1,!1);throw y("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},e.prototype.set=function(e,t,n){P("Transaction.set",arguments,2,3);var r=ji("Transaction.set",e,this._firestore),o=(n=Hi("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r,o,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return"string"==typeof t||t instanceof Zo?(k("Transaction.update",arguments,3),r=ji("Transaction.update",e,this._firestore),o=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,i)):(A("Transaction.update",arguments,2),r=ji("Transaction.update",e,this._firestore),o=this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(r._key,o),this},e.prototype.delete=function(e){A("Transaction.delete",arguments,1);var t=ji("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},e}(),Ni=function(){function e(e){this._firestore=e,this._mutations=[],this._committed=!1}return e.prototype.set=function(e,t,n){P("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=ji("WriteBatch.set",e,this._firestore),o=(n=Hi("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(o.toMutations(r._key,mt.NONE)),this},e.prototype.update=function(e,t,n){for(var r,o,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return this.verifyNotCommitted(),"string"==typeof t||t instanceof Zo?(k("WriteBatch.update",arguments,3),r=ji("WriteBatch.update",e,this._firestore),o=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,i)):(A("WriteBatch.update",arguments,2),r=ji("WriteBatch.update",e,this._firestore),o=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(o.toMutations(r._key,mt.exists(!0))),this},e.prototype.delete=function(e){A("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=ji("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new _t(t._key,mt.NONE)),this},e.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},e.prototype.verifyNotCommitted=function(){if(this._committed)throw new E(b.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),xi=function(){function e(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}return e.forPath=function(t,n){if(t.length%2!=0)throw new E(b.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(new ce(t),n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Wi(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(A("DocumentReference.collection",arguments,1),N("DocumentReference.collection","non-empty string",1,e),!e)throw new E(b.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=ae.fromString(e);return new Wi(this._key.path.child(t),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw j("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)},e.prototype.set=function(e,t){P("DocumentReference.set",arguments,1,2);var n=(t=Hi("DocumentReference.set",t)).merge||t.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e,t.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,mt.NONE))},e.prototype.update=function(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return"string"==typeof e||e instanceof Zo?(k("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,r)):(A("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,mt.exists(!0)))},e.prototype.delete=function(){return A("DocumentReference.delete",arguments,0),this._firestoreClient.write([new _t(this._key,mt.NONE)])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];P("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||oi(e[o])||(U("DocumentReference.onSnapshot",r=e[o],["includeMetadataChanges"]),M("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++);var i={includeMetadataChanges:r.includeMetadataChanges};return oi(e[o])?n=e[o]:(N("DocumentReference.onSnapshot","function",o,e[o]),x("DocumentReference.onSnapshot","function",o+1,e[o+1]),x("DocumentReference.onSnapshot","function",o+2,e[o+2]),n={next:e[o],error:e[o+1],complete:e[o+2]}),this.onSnapshotInternal(i,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var o=new Yo({next:function(e){if(t.next){m(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new Mi(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites))}},error:r}),i=this._firestoreClient.listen($n.atPath(this._key.path),o,e);return function(){o.mute(),n._firestoreClient.unlisten(i)}},e.prototype.get=function(e){var t=this;return P("DocumentReference.get",arguments,0,1),Ui("DocumentReference.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then((function(e){n(new Mi(t.firestore,t._key,e,!0,e instanceof Ut&&e.hasLocalMutations))}),r):t.getViaSnapshotListener(n,r,e)}))},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),!o.exists&&o.metadata.fromCache?t(new E(b.UNAVAILABLE,"Failed to get document because the client is offline.")):o.exists&&o.metadata.fromCache&&n&&"server"===n.source?t(new E(b.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(o)},error:t})},e}(),Fi=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Mi=function(){function e(e,t,n,r,o){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=o}return e.prototype.data=function(e){return P("DocumentSnapshot.data",arguments,0,1),e=Bi("DocumentSnapshot.data",e),this._document?this.convertObject(this._document.data(),Tt.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},e.prototype.get=function(e,t){if(P("DocumentSnapshot.get",arguments,1,2),t=Bi("DocumentSnapshot.get",t),this._document){var n=this._document.data().field(Ei("DocumentSnapshot.get",e));if(null!==n)return this.convertValue(n,Tt.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new xi(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new Fi(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw j("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))},e.prototype.convertObject=function(e,t){var n=this,r={};return e.forEach((function(e,o){r[e]=n.convertValue(o,t)})),r},e.prototype.convertValue=function(e,t){if(e instanceof Wt)return this.convertObject(e,t);if(e instanceof Ht)return this.convertArray(e,t);if(e instanceof Vt){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||g("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new xi(n,this._firestore)}return e.value(t)},e.prototype.convertArray=function(e,t){var n=this;return e.internalValue.map((function(e){return n.convertValue(e,t)}))},e}(),Li=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.data=function(t){var n=e.prototype.data.call(this,t);return m("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},t}(Mi),Vi=function(){function e(e,t){this._query=e,this.firestore=t}return e.prototype.where=function(t,n,r){A("Query.where",arguments,3),B("Query.where",3,r);var o,i=["<","<=","==",">=",">","array-contains","in","array-contains-any"];V("Query.where",i,2,n);var s=Ei("Query.where",t),a=er.fromString(n);if(s.isKeyField()){if(a===er.ARRAY_CONTAINS||a===er.ARRAY_CONTAINS_ANY)throw new E(b.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+a.toString()+"' queries on FieldPath.documentId().");if(a===er.IN){this.validateDisjunctiveFilterElements(r,a);for(var l=[],u=0,c=r;u<c.length;u++){var p=c[u];l.push(this.parseDocumentIdValue(p))}o=new Ht(l)}else o=this.parseDocumentIdValue(r)}else a!==er.IN&&a!==er.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,a),o=this.firestore._dataConverter.parseQueryValue("Query.where",r,a===er.IN);var d=tr.create(s,a,o);return this.validateNewFilter(d),new e(this._query.addFilter(d),this.firestore)},e.prototype.orderBy=function(t,n){var r;if(P("Query.orderBy",arguments,1,2),x("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=ar.ASCENDING;else{if("desc"!==n)throw new E(b.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=ar.DESCENDING}if(null!==this._query.startAt)throw new E(b.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new E(b.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var o=Ei("Query.orderBy",t),i=new ur(o,r);return this.validateNewOrderBy(i),new e(this._query.addOrderBy(i),this.firestore)},e.prototype.limit=function(t){return A("Query.limit",arguments,1),N("Query.limit","number",1,t),z("Query.limit",1,t),new e(this._query.withLimitToFirst(t),this.firestore)},e.prototype.limitToLast=function(t){return A("Query.limitToLast",arguments,1),N("Query.limitToLast","number",1,t),z("Query.limitToLast",1,t),new e(this._query.withLimitToLast(t),this.firestore)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.startAt",arguments,1);var o=this.boundFromDocOrFields("Query.startAt",t,n,!0);return new e(this._query.withStartAt(o),this.firestore)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.startAfter",arguments,1);var o=this.boundFromDocOrFields("Query.startAfter",t,n,!1);return new e(this._query.withStartAt(o),this.firestore)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.endBefore",arguments,1);var o=this.boundFromDocOrFields("Query.endBefore",t,n,!0);return new e(this._query.withEndAt(o),this.firestore)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.endAt",arguments,1);var o=this.boundFromDocOrFields("Query.endAt",t,n,!1);return new e(this._query.withEndAt(o),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw j("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},e.prototype.boundFromDocOrFields=function(e,t,n,r){if(B(e,1,t),t instanceof Mi){if(n.length>0)throw new E(b.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var o=t;if(!o.exists)throw new E(b.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,o._document,r)}var i=[t].concat(n);return this.boundFromFields(e,i,r)},e.prototype.boundFromDocument=function(e,t,n){for(var r=[],o=0,i=this._query.orderBy;o<i.length;o++){var s=i[o];if(s.field.isKeyField())r.push(new Vt(this.firestore._databaseId,t.key));else{var a=t.field(s.field);if(a instanceof Mt)throw new E(b.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===a){var l=s.field.canonicalString();throw new E(b.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}r.push(a)}}return new lr(r,n)},e.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new E(b.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var o=[],i=0;i<t.length;i++){var s=t[i];if(r[i].field.isKeyField()){if("string"!=typeof s)throw new E(b.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof s);if(!this._query.isCollectionGroupQuery()&&-1!==s.indexOf("/"))throw new E(b.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this._query.path.child(ae.fromString(s));if(!ce.isDocumentKey(a))throw new E(b.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var l=new ce(a);o.push(new Vt(this.firestore._databaseId,l))}else{var u=this.firestore._dataConverter.parseQueryValue(e,s);o.push(u)}}return new lr(o,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];P("Query.onSnapshot",arguments,1,4);var n,r={},o=0;return"object"!=typeof e[o]||oi(e[o])||(U("Query.onSnapshot",r=e[o],["includeMetadataChanges"]),M("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++),oi(e[o])?n=e[o]:(N("Query.onSnapshot","function",o,e[o]),x("Query.onSnapshot","function",o+1,e[o+1]),x("Query.onSnapshot","function",o+2,e[o+2]),n={next:e[o],error:e[o+1],complete:e[o+2]}),this.validateHasExplicitOrderByForLimitToLast(this._query),this.onSnapshotInternal(r,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var o=new Yo({next:function(e){t.next&&t.next(new Gi(n.firestore,n._query,e))},error:r}),i=this.firestore.ensureClientConfigured(),s=i.listen(this._query,o,e);return function(){o.mute(),i.unlisten(s)}},e.prototype.validateHasExplicitOrderByForLimitToLast=function(e){if(e.hasLimitToLast()&&0===e.explicitOrderBy.length)throw new E(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},e.prototype.get=function(e){var t=this;return P("Query.get",arguments,0,1),Ui("Query.get",e),this.validateHasExplicitOrderByForLimitToLast(this._query),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then((function(e){n(new Gi(t.firestore,t._query,e))}),r):t.getViaSnapshotListener(n,r,e)}))},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),o.metadata.fromCache&&n&&"server"===n.source?t(new E(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(o)},error:t})},e.prototype.parseDocumentIdValue=function(e){if("string"==typeof e){if(""===e)throw new E(b.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==e.indexOf("/"))throw new E(b.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var t=this._query.path.child(ae.fromString(e));if(!ce.isDocumentKey(t))throw new E(b.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return new Vt(this.firestore._databaseId,new ce(t))}if(e instanceof xi)return new Vt(this.firestore._databaseId,e._key);throw new E(b.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+H(e)+".")},e.prototype.validateDisjunctiveFilterElements=function(e,t){if(!Array.isArray(e)||0===e.length)throw new E(b.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new E(b.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(e.indexOf(null)>=0)throw new E(b.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter((function(e){return Number.isNaN(e)})).length>0)throw new E(b.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},e.prototype.validateNewFilter=function(e){if(e instanceof tr){var t=[er.ARRAY_CONTAINS,er.ARRAY_CONTAINS_ANY],n=[er.IN,er.ARRAY_CONTAINS_ANY],r=t.indexOf(e.op)>=0,o=n.indexOf(e.op)>=0;if(e.isInequality()){var i=this._query.getInequalityFilterField();if(null!==i&&!i.isEqual(e.field))throw new E(b.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+i.toString()+"' and '"+e.field.toString()+"'");var s=this._query.getFirstOrderByField();null!==s&&this.validateOrderByAndInequalityMatch(e.field,s)}else if(o||r){var a=null;if(o&&(a=this._query.findFilterOperator(n)),null===a&&r&&(a=this._query.findFilterOperator(t)),null!=a)throw new E(b.INVALID_ARGUMENT,a===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},e.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},e.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new E(b.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},e}(),Gi=function(){function e(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Fi(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;P("QuerySnapshot.forEach",arguments,1,2),N("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach((function(r){e.call(t,n.convertToDocumentImpl(r))}))},Object.defineProperty(e.prototype,"query",{get:function(){return new Vi(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),e.prototype.docChanges=function(e){e&&(U("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),M("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new E(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n){if(n.oldDocs.isEmpty()){var r,o=0;return n.docChanges.map((function(t){var i=new Li(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key));return m(t.type===Br.Added,"Invalid event type for first snapshot"),m(!r||n.query.docComparator(r,t.doc)<0,"Got added events in wrong order"),r=t.doc,{type:"added",doc:i,oldIndex:-1,newIndex:o++}}))}var i=n.oldDocs;return n.docChanges.filter((function(e){return t||e.type!==Br.Metadata})).map((function(t){var r=new Li(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key)),o=-1,s=-1;return t.type!==Br.Added&&(m((o=i.indexOf(t.doc.key))>=0,"Index for document not found"),i=i.delete(t.doc.key)),t.type!==Br.Removed&&(s=(i=i.add(t.doc)).indexOf(t.doc.key)),{type:zi(t.type),doc:r,oldIndex:o,newIndex:s}}))}(this._firestore,t,this._snapshot),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e.prototype.isEqual=function(t){if(!(t instanceof e))throw j("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)},e.prototype.convertToDocumentImpl=function(e){return new Li(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key))},e}();i.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(e){try{Object.defineProperty(Gi.prototype.docChanges,e,{get:function(){return function(){throw new E(b.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var Wi=function(e){function t(t,n){var r=e.call(this,$n.atPath(t),n)||this;if(t.length%2!=1)throw new E(b.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.canonicalString()+" has "+t.length);return r}return i.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new xi(new ce(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(P("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=Q.newId()),N("CollectionReference.doc","non-empty string",1,e),""===e)throw new E(b.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=ae.fromString(e);return xi.forPath(this._query.path.child(t),this.firestore)},t.prototype.add=function(e){A("CollectionReference.add",arguments,1),N("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then((function(){return t}))},t}(Vi);function Hi(e,t){if(void 0===t)return{merge:!1};if(U(e,t,["merge","mergeFields"]),M(e,"boolean","merge",t.merge),void 0!==(n=t.mergeFields)&&function(e,t,n,r,o){if(!(r instanceof Array))throw new E(b.INVALID_ARGUMENT,"Function "+e+"() requires its mergeFields option to be an array, but it was: "+H(r));for(var i=0;i<r.length;++i)if(!("string"==typeof(s=r[i])||s instanceof Zo))throw new E(b.INVALID_ARGUMENT,"Function "+e+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+i+" was: "+H(r[i]));var s}(e,0,0,n),void 0!==t.mergeFields&&void 0!==t.merge)throw new E(b.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');var n;return t}function Bi(e,t){return void 0===t?{}:(U(e,t,["serverTimestamps"]),L(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function Ui(e,t){x(e,"object",1,t),t&&(U(e,t,["source"]),L(e,0,"source",t.source,["default","server","cache"]))}function ji(e,t,n){if(t instanceof xi){if(t.firestore!==n)throw new E(b.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw j(e,"DocumentReference",1,t)}function zi(e){switch(e){case Br.Added:return"added";case Br.Modified:case Br.Metadata:return"modified";case Br.Removed:return"removed";default:return y("Unknown change type: "+e)}}var qi=_(ki,"Use firebase.firestore() instead."),Ki=_(Pi,"Use firebase.firestore().runTransaction() instead."),Qi=_(Ni,"Use firebase.firestore().batch() instead."),Yi=_(xi,"Use firebase.firestore().doc() instead."),Zi=_(Mi),Xi=_(Li),$i=_(Vi),Ji=_(Gi),es=_(Wi,"Use firebase.firestore().collection() instead."),ts={Firestore:qi,GeoPoint:oo,Timestamp:_e,Blob:te,Transaction:Ki,WriteBatch:Qi,DocumentReference:Yi,DocumentSnapshot:Zi,Query:$i,QueryDocumentSnapshot:Xi,QuerySnapshot:Ji,CollectionReference:es,FieldPath:Zo,FieldValue:pi,setLogLevel:ki.setLogLevel,CACHE_SIZE_UNLIMITED:Ii},ns=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.shutdown=function(){},e}(),rs=function(){function e(){var e=this;this.networkAvailableListener=function(){return e.onNetworkAvailable()},this.networkUnavailableListener=function(){return e.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return e.prototype.addCallback=function(e){this.callbacks.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},e.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},e.prototype.onNetworkAvailable=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++)(0,t[e])(0)},e.prototype.onNetworkUnavailable=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++)(0,t[e])(1)},e.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),os=function(){function e(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}return e.prototype.onOpen=function(e){m(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},e.prototype.onClose=function(e){m(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},e.prototype.onMessage=function(e){m(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},e.prototype.close=function(){this.closeFn()},e.prototype.send=function(e){this.sendFn(e)},e.prototype.callOnOpen=function(){m(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},e.prototype.callOnClose=function(e){m(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},e.prototype.callOnMessage=function(e){m(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},e}(),is="Connection",ss={BatchGetDocuments:"batchGet",Commit:"commit"},as="gl-js/ fire/"+u,ls=function(){function e(e){this.databaseId=e.databaseId,this.baseUrl=(e.ssl?"https":"http")+"://"+e.host,this.forceLongPolling=e.forceLongPolling}return e.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=as},e.prototype.invokeRPC=function(e,t,n){var r=this,o=this.makeUrl(e);return new Promise((function(s,a){var u=new l.XhrIo;u.listenOnce(l.EventType.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case l.ErrorCode.NO_ERROR:var t=u.getResponseJson();f(is,"XHR received:",JSON.stringify(t)),s(t);break;case l.ErrorCode.TIMEOUT:f(is,'RPC "'+e+'" timed out'),a(new E(b.DEADLINE_EXCEEDED,"Request time out"));break;case l.ErrorCode.HTTP_ERROR:var n=u.getStatus();if(f(is,'RPC "'+e+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var o=(i=r.status.toLowerCase().replace("_","-"),Object.values(b).indexOf(i)>=0?i:b.UNKNOWN);a(new E(o,r.message))}else a(new E(b.UNKNOWN,"Server responded with status "+u.getStatus()))}else f(is,'RPC "'+e+'" failed'),a(new E(b.UNAVAILABLE,"Connection failed."));break;default:y('RPC "'+e+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{f(is,'RPC "'+e+'" completed.')}var i}));var c=i.__assign({},t);delete c.database;var p=JSON.stringify(c);f(is,"XHR sending: ",o+" "+p);var d={"Content-Type":"text/plain"};r.modifyHeadersForRequest(d,n),u.send(o,"POST",p,d,15)}))},e.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},e.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=l.createWebChannelTransport(),o={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(o.initMessageHeaders,t),a.isReactNative()||(o.httpHeadersOverwriteParam="$httpHeaders");var i=n.join("");f(is,"Creating WebChannel: "+i+" "+o);var s=r.createWebChannel(i,o),u=!1,c=!1,p=new os({sendFn:function(e){c?f(is,"Not sending because WebChannel is closed:",e):(u||(f(is,"Opening WebChannel transport."),s.open(),u=!0),f(is,"WebChannel sending:",e),s.send(e))},closeFn:function(){return s.close()}}),d=function(e,t){s.listen(e,(function(e){try{t(e)}catch(n){setTimeout((function(){throw n}),0)}}))};return d(l.WebChannel.EventType.OPEN,(function(){c||f(is,"WebChannel transport opened.")})),d(l.WebChannel.EventType.CLOSE,(function(){c||(c=!0,f(is,"WebChannel transport closed"),p.callOnClose())})),d(l.WebChannel.EventType.ERROR,(function(e){c||(c=!0,f(is,"WebChannel transport errored:",e),p.callOnClose(new E(b.UNAVAILABLE,"The operation could not be completed")))})),d(l.WebChannel.EventType.MESSAGE,(function(e){if(!c){var t=e.data[0];m(!!t,"Got a webchannel message without data.");var n=t.error||t[0]&&t[0].error;if(n){f(is,"WebChannel received error:",n);var r=n.status,o=function(e){var t=Lr[e];if(void 0!==t)return Gr(t)}(r),i=n.message;void 0===o&&(o=b.INTERNAL,i="Unknown error status: "+r+" with message "+n.message),c=!0,p.callOnClose(new E(o,i)),s.close()}else f(is,"WebChannel received:",t),p.callOnMessage(t)}})),setTimeout((function(){p.callOnOpen()}),0),p},e.prototype.makeUrl=function(e){var t=ss[e];return m(void 0!==t,"Unknown REST mapping for: "+e),this.baseUrl+"/v1/projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents:"+t},e}();function us(e){!function(e){e.INTERNAL.registerService("firestore",(function(e){return new ki(e)}),function(e){m(e&&"object"==typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(ts))}(e)}C.setPlatform(new(function(){function e(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(e.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),e.prototype.loadConnection=function(e){return Promise.resolve(new ls(e))},e.prototype.newConnectivityMonitor=function(){return rs.isAvailable()?new rs:new ns},e.prototype.newSerializer=function(e){return new Co(e,{useProto3Json:!0})},e.prototype.formatJSON=function(e){return JSON.stringify(e)},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e}())),us(o),t.registerFirestore=us},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("n6bG"),o=n("gRHU"),i=n("quSY"),s=n("2QA8"),a=n("2fFW"),l=n("NJ4a"),u=function(e){function t(e,n,r){var i;switch(_classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=o.a;break;case 1:if(!e){i.destination=o.a;break}if("object"==typeof e){e instanceof t?(i.syncErrorThrowable=e.syncErrorThrowable,i.destination=e,e.add(_assertThisInitialized(i))):(i.syncErrorThrowable=!0,i.destination=new c(_assertThisInitialized(i),e));break}default:i.syncErrorThrowable=!0,i.destination=new c(_assertThisInitialized(i),e,n,r)}return i}return _inherits(t,e),_createClass(t,[{key:s.a,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(t.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}],[{key:"create",value:function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o}}]),t}(i.a),c=function(e){function t(e,n,i,s){var a,l;_classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._parentSubscriber=e;var u=_assertThisInitialized(a);return Object(r.a)(n)?l=n:n&&(l=n.next,i=n.error,s=n.complete,n!==o.a&&(u=Object.create(n),Object(r.a)(u.unsubscribe)&&a.add(u.unsubscribe.bind(u)),u.unsubscribe=a.unsubscribe.bind(_assertThisInitialized(a)))),a._context=u,a._next=l,a._error=i,a._complete=s,a}return _inherits(t,e),_createClass(t,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=a.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(l.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(l.a)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(l.a)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(l.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),t}(u)},"8Y7J":function(e,t,n){"use strict";n.r(t),n.d(t,"\u0275angular_packages_core_core_q",(function(){return ow})),n.d(t,"\u0275angular_packages_core_core_n",(function(){return tw})),n.d(t,"\u0275angular_packages_core_core_o",(function(){return nw})),n.d(t,"\u0275angular_packages_core_core_p",(function(){return rw})),n.d(t,"\u0275angular_packages_core_core_r",(function(){return iw})),n.d(t,"\u0275angular_packages_core_core_f",(function(){return pm})),n.d(t,"\u0275angular_packages_core_core_l",(function(){return $d})),n.d(t,"\u0275angular_packages_core_core_m",(function(){return ih})),n.d(t,"\u0275angular_packages_core_core_k",(function(){return VC})),n.d(t,"\u0275angular_packages_core_core_j",(function(){return LC})),n.d(t,"\u0275angular_packages_core_core_b",(function(){return ie})),n.d(t,"\u0275angular_packages_core_core_a",(function(){return ee})),n.d(t,"\u0275angular_packages_core_core_c",(function(){return su})),n.d(t,"\u0275angular_packages_core_core_d",(function(){return Ql})),n.d(t,"\u0275angular_packages_core_core_e",(function(){return eu})),n.d(t,"\u0275angular_packages_core_core_i",(function(){return TC})),n.d(t,"\u0275angular_packages_core_core_s",(function(){return zm})),n.d(t,"\u0275angular_packages_core_core_u",(function(){return Hm})),n.d(t,"\u0275angular_packages_core_core_t",(function(){return Wm})),n.d(t,"\u0275angular_packages_core_core_x",(function(){return jm})),n.d(t,"\u0275angular_packages_core_core_v",(function(){return Bm})),n.d(t,"\u0275angular_packages_core_core_w",(function(){return Um})),n.d(t,"\u0275angular_packages_core_core_ba",(function(){return yg})),n.d(t,"\u0275angular_packages_core_core_bb",(function(){return no})),n.d(t,"\u0275angular_packages_core_core_bc",(function(){return an})),n.d(t,"\u0275angular_packages_core_core_bd",(function(){return Cn})),n.d(t,"\u0275angular_packages_core_core_be",(function(){return Mn})),n.d(t,"\u0275angular_packages_core_core_bm",(function(){return qr})),n.d(t,"\u0275angular_packages_core_core_bl",(function(){return Qt})),n.d(t,"\u0275angular_packages_core_core_g",(function(){return Wa})),n.d(t,"\u0275angular_packages_core_core_h",(function(){return Ha})),n.d(t,"\u0275angular_packages_core_core_bg",(function(){return fi})),n.d(t,"\u0275angular_packages_core_core_bk",(function(){return be})),n.d(t,"\u0275angular_packages_core_core_bh",(function(){return h})),n.d(t,"\u0275angular_packages_core_core_bi",(function(){return f})),n.d(t,"\u0275angular_packages_core_core_bn",(function(){return E})),n.d(t,"\u0275angular_packages_core_core_y",(function(){return ng})),n.d(t,"\u0275angular_packages_core_core_z",(function(){return Ih})),n.d(t,"createPlatform",(function(){return vC})),n.d(t,"assertPlatform",(function(){return mC})),n.d(t,"destroyPlatform",(function(){return CC})),n.d(t,"getPlatform",(function(){return wC})),n.d(t,"PlatformRef",(function(){return bC})),n.d(t,"ApplicationRef",(function(){return _C})),n.d(t,"createPlatformFactory",(function(){return yC})),n.d(t,"NgProbeToken",(function(){return gC})),n.d(t,"enableProdMode",(function(){return xo})),n.d(t,"isDevMode",(function(){return No})),n.d(t,"APP_ID",(function(){return cm})),n.d(t,"PACKAGE_ROOT_URL",(function(){return ym})),n.d(t,"PLATFORM_INITIALIZER",(function(){return fm})),n.d(t,"PLATFORM_ID",(function(){return gm})),n.d(t,"APP_BOOTSTRAP_LISTENER",(function(){return vm})),n.d(t,"APP_INITIALIZER",(function(){return lm})),n.d(t,"ApplicationInitStatus",(function(){return um})),n.d(t,"DebugElement",(function(){return JC})),n.d(t,"DebugEventListener",(function(){return MC})),n.d(t,"DebugNode",(function(){return $C})),n.d(t,"asNativeElements",(function(){return GC})),n.d(t,"getDebugNode",(function(){return ZC})),n.d(t,"Testability",(function(){return sC})),n.d(t,"TestabilityRegistry",(function(){return aC})),n.d(t,"setTestabilityGetter",(function(){return lC})),n.d(t,"TRANSLATIONS",(function(){return wm})),n.d(t,"TRANSLATIONS_FORMAT",(function(){return bm})),n.d(t,"LOCALE_ID",(function(){return Cm})),n.d(t,"MissingTranslationStrategy",(function(){return Em})),n.d(t,"ApplicationModule",(function(){return sw})),n.d(t,"wtfCreateScope",(function(){return Km})),n.d(t,"wtfLeave",(function(){return Qm})),n.d(t,"wtfStartTimeRange",(function(){return Ym})),n.d(t,"wtfEndTimeRange",(function(){return Zm})),n.d(t,"Type",(function(){return Ka})),n.d(t,"EventEmitter",(function(){return Qv})),n.d(t,"ErrorHandler",(function(){return wo})),n.d(t,"Sanitizer",(function(){return ii})),n.d(t,"SecurityContext",(function(){return oi})),n.d(t,"Attribute",(function(){return w})),n.d(t,"ANALYZE_FOR_ENTRY_COMPONENTS",(function(){return au})),n.d(t,"ContentChild",(function(){return cu})),n.d(t,"ContentChildren",(function(){return uu})),n.d(t,"Query",(function(){return lu})),n.d(t,"ViewChild",(function(){return du})),n.d(t,"ViewChildren",(function(){return pu})),n.d(t,"Component",(function(){return Ky})),n.d(t,"Directive",(function(){return qy})),n.d(t,"HostBinding",(function(){return Xy})),n.d(t,"HostListener",(function(){return $y})),n.d(t,"Input",(function(){return Yy})),n.d(t,"Output",(function(){return Zy})),n.d(t,"Pipe",(function(){return Qy})),n.d(t,"NgModule",(function(){return im})),n.d(t,"CUSTOM_ELEMENTS_SCHEMA",(function(){return bo})),n.d(t,"NO_ERRORS_SCHEMA",(function(){return Eo})),n.d(t,"ViewEncapsulation",(function(){return we})),n.d(t,"Version",(function(){return Zd})),n.d(t,"VERSION",(function(){return Xd})),n.d(t,"InjectFlags",(function(){return b})),n.d(t,"\u0275\u0275defineInjectable",(function(){return S})),n.d(t,"defineInjectable",(function(){return R})),n.d(t,"\u0275\u0275defineInjector",(function(){return T})),n.d(t,"forwardRef",(function(){return N})),n.d(t,"resolveForwardRef",(function(){return x})),n.d(t,"Injectable",(function(){return gl})),n.d(t,"Injector",(function(){return Nl})),n.d(t,"\u0275\u0275inject",(function(){return te})),n.d(t,"inject",(function(){return ne})),n.d(t,"INJECTOR",(function(){return U})),n.d(t,"ReflectiveInjector",(function(){return iu})),n.d(t,"ResolvedReflectiveFactory",(function(){return Xl})),n.d(t,"ReflectiveKey",(function(){return zl})),n.d(t,"InjectionToken",(function(){return B})),n.d(t,"Inject",(function(){return g})),n.d(t,"Optional",(function(){return v})),n.d(t,"Self",(function(){return y})),n.d(t,"SkipSelf",(function(){return m})),n.d(t,"Host",(function(){return C})),n.d(t,"NgZone",(function(){return Jm})),n.d(t,"\u0275NoopNgZone",(function(){return iC})),n.d(t,"RenderComponentType",(function(){return Hd})),n.d(t,"Renderer",(function(){return Ud})),n.d(t,"Renderer2",(function(){return Kd})),n.d(t,"RendererFactory2",(function(){return zd})),n.d(t,"RendererStyleFlags2",(function(){return qd})),n.d(t,"RootRenderer",(function(){return jd})),n.d(t,"COMPILER_OPTIONS",(function(){return Vm})),n.d(t,"Compiler",(function(){return Lm})),n.d(t,"CompilerFactory",(function(){return Gm})),n.d(t,"ModuleWithComponentFactories",(function(){return Rm})),n.d(t,"ComponentFactory",(function(){return Ad})),n.d(t,"\u0275ComponentFactory",(function(){return Ad})),n.d(t,"ComponentRef",(function(){return Id})),n.d(t,"ComponentFactoryResolver",(function(){return xd})),n.d(t,"ElementRef",(function(){return Vd})),n.d(t,"NgModuleFactory",(function(){return ce})),n.d(t,"NgModuleRef",(function(){return ue})),n.d(t,"NgModuleFactoryLoader",(function(){return RC})),n.d(t,"getModuleFactory",(function(){return DC})),n.d(t,"QueryList",(function(){return Zv})),n.d(t,"SystemJsNgModuleLoader",(function(){return PC})),n.d(t,"SystemJsNgModuleLoaderConfig",(function(){return AC})),n.d(t,"TemplateRef",(function(){return hh})),n.d(t,"ViewContainerRef",(function(){return vh})),n.d(t,"EmbeddedViewRef",(function(){return FC})),n.d(t,"ViewRef",(function(){return xC})),n.d(t,"ChangeDetectionStrategy",(function(){return ye})),n.d(t,"ChangeDetectorRef",(function(){return ja})),n.d(t,"DefaultIterableDiffer",(function(){return eh})),n.d(t,"IterableDiffers",(function(){return lh})),n.d(t,"KeyValueDiffers",(function(){return uh})),n.d(t,"SimpleChange",(function(){return pd})),n.d(t,"WrappedValue",(function(){return Su})),n.d(t,"platformCore",(function(){return ew})),n.d(t,"\u0275ALLOW_MULTIPLE_PLATFORMS",(function(){return fC})),n.d(t,"\u0275APP_ID_RANDOM_PROVIDER",(function(){return dm})),n.d(t,"\u0275defaultIterableDiffers",(function(){return ph})),n.d(t,"\u0275defaultKeyValueDiffers",(function(){return dh})),n.d(t,"\u0275devModeEqual",(function(){return _u})),n.d(t,"\u0275isListLikeIterable",(function(){return Ru})),n.d(t,"\u0275ChangeDetectorStatus",(function(){return me})),n.d(t,"\u0275isDefaultChangeDetectionStrategy",(function(){return Ce})),n.d(t,"\u0275Console",(function(){return mm})),n.d(t,"\u0275setCurrentInjector",(function(){return $})),n.d(t,"\u0275getInjectableDef",(function(){return O})),n.d(t,"\u0275APP_ROOT",(function(){return ml})),n.d(t,"\u0275DEFAULT_LOCALE_ID",(function(){return Tg})),n.d(t,"\u0275ivyEnabled",(function(){return Sm})),n.d(t,"\u0275CodegenComponentFactoryResolver",(function(){return Fd})),n.d(t,"\u0275clearResolutionOfComponentResourcesQueue",(function(){return yu})),n.d(t,"\u0275resolveComponentResources",(function(){return hu})),n.d(t,"\u0275ReflectionCapabilities",(function(){return Ja})),n.d(t,"\u0275RenderDebugInfo",(function(){return Bd})),n.d(t,"\u0275_sanitizeHtml",(function(){return ni})),n.d(t,"\u0275_sanitizeStyle",(function(){return li})),n.d(t,"\u0275_sanitizeUrl",(function(){return Vo})),n.d(t,"\u0275global",(function(){return G})),n.d(t,"\u0275looseIdentical",(function(){return Eu})),n.d(t,"\u0275stringify",(function(){return k})),n.d(t,"\u0275makeDecorator",(function(){return p})),n.d(t,"\u0275isObservable",(function(){return Uc})),n.d(t,"\u0275isPromise",(function(){return Bc})),n.d(t,"\u0275clearOverrides",(function(){return Fb})),n.d(t,"\u0275initServicesIfNeeded",(function(){return Zw})),n.d(t,"\u0275overrideComponentView",(function(){return xb})),n.d(t,"\u0275overrideProvider",(function(){return Nb})),n.d(t,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",(function(){return ug})),n.d(t,"\u0275getLocalePluralCase",(function(){return Sg})),n.d(t,"\u0275findLocaleData",(function(){return Rg})),n.d(t,"\u0275LOCALE_DATA",(function(){return wg})),n.d(t,"\u0275LocaleDataIndex",(function(){return bg})),n.d(t,"\u0275\u0275attribute",(function(){return Fu})),n.d(t,"\u0275\u0275attributeInterpolate1",(function(){return zu})),n.d(t,"\u0275\u0275attributeInterpolate2",(function(){return qu})),n.d(t,"\u0275\u0275attributeInterpolate3",(function(){return Ku})),n.d(t,"\u0275\u0275attributeInterpolate4",(function(){return Qu})),n.d(t,"\u0275\u0275attributeInterpolate5",(function(){return Yu})),n.d(t,"\u0275\u0275attributeInterpolate6",(function(){return Zu})),n.d(t,"\u0275\u0275attributeInterpolate7",(function(){return Xu})),n.d(t,"\u0275\u0275attributeInterpolate8",(function(){return $u})),n.d(t,"\u0275\u0275attributeInterpolateV",(function(){return Ju})),n.d(t,"\u0275\u0275defineBase",(function(){return Ge})),n.d(t,"\u0275\u0275defineComponent",(function(){return Pe})),n.d(t,"\u0275\u0275defineDirective",(function(){return We})),n.d(t,"\u0275\u0275definePipe",(function(){return He})),n.d(t,"\u0275\u0275defineNgModule",(function(){return Me})),n.d(t,"\u0275detectChanges",(function(){return ec})),n.d(t,"\u0275renderComponent",(function(){return id})),n.d(t,"\u0275Render3ComponentFactory",(function(){return mg})),n.d(t,"\u0275Render3ComponentRef",(function(){return Cg})),n.d(t,"\u0275\u0275directiveInject",(function(){return cc})),n.d(t,"\u0275\u0275injectAttribute",(function(){return pc})),n.d(t,"\u0275\u0275injectPipeChangeDetectorRef",(function(){return Cy})),n.d(t,"\u0275\u0275getFactoryOf",(function(){return po})),n.d(t,"\u0275\u0275getInheritedFactory",(function(){return ho})),n.d(t,"\u0275\u0275setComponentScope",(function(){return Ne})),n.d(t,"\u0275\u0275setNgModuleScope",(function(){return Le})),n.d(t,"\u0275\u0275templateRefExtractor",(function(){return my})),n.d(t,"\u0275\u0275ProvidersFeature",(function(){return Dd})),n.d(t,"\u0275\u0275InheritDefinitionFeature",(function(){return yd})),n.d(t,"\u0275\u0275NgOnChangesFeature",(function(){return dd})),n.d(t,"\u0275LifecycleHooksFeature",(function(){return ud})),n.d(t,"\u0275Render3NgModuleRef",(function(){return Ov})),n.d(t,"\u0275markDirty",(function(){return tc})),n.d(t,"\u0275NgModuleFactory",(function(){return Dv})),n.d(t,"\u0275NO_CHANGE",(function(){return ns})),n.d(t,"\u0275\u0275container",(function(){return nc})),n.d(t,"\u0275\u0275nextContext",(function(){return Yc})),n.d(t,"\u0275\u0275elementStart",(function(){return kc})),n.d(t,"\u0275\u0275namespaceHTML",(function(){return zn})),n.d(t,"\u0275\u0275namespaceMathML",(function(){return jn})),n.d(t,"\u0275\u0275namespaceSVG",(function(){return Un})),n.d(t,"\u0275\u0275element",(function(){return Nc})),n.d(t,"\u0275\u0275listener",(function(){return jc})),n.d(t,"\u0275\u0275text",(function(){return pp})),n.d(t,"\u0275\u0275textInterpolate",(function(){return hp})),n.d(t,"\u0275\u0275textInterpolate1",(function(){return fp})),n.d(t,"\u0275\u0275textInterpolate2",(function(){return gp})),n.d(t,"\u0275\u0275textInterpolate3",(function(){return vp})),n.d(t,"\u0275\u0275textInterpolate4",(function(){return yp})),n.d(t,"\u0275\u0275textInterpolate5",(function(){return mp})),n.d(t,"\u0275\u0275textInterpolate6",(function(){return Cp})),n.d(t,"\u0275\u0275textInterpolate7",(function(){return wp})),n.d(t,"\u0275\u0275textInterpolate8",(function(){return bp})),n.d(t,"\u0275\u0275textInterpolateV",(function(){return Ep})),n.d(t,"\u0275\u0275embeddedViewStart",(function(){return Gc})),n.d(t,"\u0275\u0275projection",(function(){return ep})),n.d(t,"\u0275\u0275pipeBind1",(function(){return Hv})),n.d(t,"\u0275\u0275pipeBind2",(function(){return Bv})),n.d(t,"\u0275\u0275pipeBind3",(function(){return Uv})),n.d(t,"\u0275\u0275pipeBind4",(function(){return jv})),n.d(t,"\u0275\u0275pipeBindV",(function(){return zv})),n.d(t,"\u0275\u0275pureFunction0",(function(){return Av})),n.d(t,"\u0275\u0275pureFunction1",(function(){return kv})),n.d(t,"\u0275\u0275pureFunction2",(function(){return Pv})),n.d(t,"\u0275\u0275pureFunction3",(function(){return Nv})),n.d(t,"\u0275\u0275pureFunction4",(function(){return xv})),n.d(t,"\u0275\u0275pureFunction5",(function(){return Fv})),n.d(t,"\u0275\u0275pureFunction6",(function(){return Mv})),n.d(t,"\u0275\u0275pureFunction7",(function(){return Lv})),n.d(t,"\u0275\u0275pureFunction8",(function(){return Vv})),n.d(t,"\u0275\u0275pureFunctionV",(function(){return Gv})),n.d(t,"\u0275\u0275getCurrentView",(function(){return Hc})),n.d(t,"\u0275getDirectives",(function(){return Qp})),n.d(t,"\u0275getHostElement",(function(){return Zp})),n.d(t,"\u0275\u0275restoreView",(function(){return mn})),n.d(t,"\u0275\u0275containerRefreshStart",(function(){return oc})),n.d(t,"\u0275\u0275containerRefreshEnd",(function(){return ic})),n.d(t,"\u0275\u0275queryRefresh",(function(){return iy})),n.d(t,"\u0275\u0275viewQuery",(function(){return ay})),n.d(t,"\u0275\u0275staticViewQuery",(function(){return sy})),n.d(t,"\u0275\u0275staticContentQuery",(function(){return py})),n.d(t,"\u0275\u0275loadViewQuery",(function(){return uy})),n.d(t,"\u0275\u0275contentQuery",(function(){return cy})),n.d(t,"\u0275\u0275loadContentQuery",(function(){return hy})),n.d(t,"\u0275\u0275elementEnd",(function(){return Pc})),n.d(t,"\u0275\u0275hostProperty",(function(){return Hp})),n.d(t,"\u0275\u0275property",(function(){return Nu})),n.d(t,"\u0275\u0275propertyInterpolate",(function(){return tp})),n.d(t,"\u0275\u0275propertyInterpolate1",(function(){return np})),n.d(t,"\u0275\u0275propertyInterpolate2",(function(){return rp})),n.d(t,"\u0275\u0275propertyInterpolate3",(function(){return op})),n.d(t,"\u0275\u0275propertyInterpolate4",(function(){return ip})),n.d(t,"\u0275\u0275propertyInterpolate5",(function(){return sp})),n.d(t,"\u0275\u0275propertyInterpolate6",(function(){return ap})),n.d(t,"\u0275\u0275propertyInterpolate7",(function(){return lp})),n.d(t,"\u0275\u0275propertyInterpolate8",(function(){return up})),n.d(t,"\u0275\u0275propertyInterpolateV",(function(){return cp})),n.d(t,"\u0275\u0275updateSyntheticHostBinding",(function(){return Bp})),n.d(t,"\u0275\u0275componentHostSyntheticListener",(function(){return zc})),n.d(t,"\u0275\u0275projectionDef",(function(){return Xc})),n.d(t,"\u0275\u0275reference",(function(){return lc})),n.d(t,"\u0275\u0275enableBindings",(function(){return on})),n.d(t,"\u0275\u0275disableBindings",(function(){return sn})),n.d(t,"\u0275\u0275allocHostVars",(function(){return Cu})),n.d(t,"\u0275\u0275elementContainerStart",(function(){return Mc})),n.d(t,"\u0275\u0275elementContainerEnd",(function(){return Lc})),n.d(t,"\u0275\u0275elementContainer",(function(){return Vc})),n.d(t,"\u0275\u0275styling",(function(){return dc})),n.d(t,"\u0275\u0275styleMap",(function(){return mc})),n.d(t,"\u0275\u0275styleSanitizer",(function(){return hc})),n.d(t,"\u0275\u0275classMap",(function(){return Cc})),n.d(t,"\u0275\u0275classMapInterpolate1",(function(){return _p})),n.d(t,"\u0275\u0275classMapInterpolate2",(function(){return Sp})),n.d(t,"\u0275\u0275classMapInterpolate3",(function(){return Rp})),n.d(t,"\u0275\u0275classMapInterpolate4",(function(){return Tp})),n.d(t,"\u0275\u0275classMapInterpolate5",(function(){return Op})),n.d(t,"\u0275\u0275classMapInterpolate6",(function(){return Dp})),n.d(t,"\u0275\u0275classMapInterpolate7",(function(){return Ip})),n.d(t,"\u0275\u0275classMapInterpolate8",(function(){return Ap})),n.d(t,"\u0275\u0275classMapInterpolateV",(function(){return kp})),n.d(t,"\u0275\u0275styleProp",(function(){return fc})),n.d(t,"\u0275\u0275stylePropInterpolate1",(function(){return Pp})),n.d(t,"\u0275\u0275stylePropInterpolate2",(function(){return Np})),n.d(t,"\u0275\u0275stylePropInterpolate3",(function(){return xp})),n.d(t,"\u0275\u0275stylePropInterpolate4",(function(){return Fp})),n.d(t,"\u0275\u0275stylePropInterpolate5",(function(){return Mp})),n.d(t,"\u0275\u0275stylePropInterpolate6",(function(){return Lp})),n.d(t,"\u0275\u0275stylePropInterpolate7",(function(){return Vp})),n.d(t,"\u0275\u0275stylePropInterpolate8",(function(){return Gp})),n.d(t,"\u0275\u0275stylePropInterpolateV",(function(){return Wp})),n.d(t,"\u0275\u0275stylingApply",(function(){return _c})),n.d(t,"\u0275\u0275classProp",(function(){return vc})),n.d(t,"\u0275\u0275elementHostAttrs",(function(){return xc})),n.d(t,"\u0275\u0275select",(function(){return fs})),n.d(t,"\u0275\u0275textBinding",(function(){return dp})),n.d(t,"\u0275\u0275template",(function(){return rc})),n.d(t,"\u0275\u0275embeddedViewEnd",(function(){return Wc})),n.d(t,"\u0275store",(function(){return ac})),n.d(t,"\u0275\u0275load",(function(){return uc})),n.d(t,"\u0275\u0275pipe",(function(){return Wv})),n.d(t,"\u0275whenRendered",(function(){return cd})),n.d(t,"\u0275\u0275i18n",(function(){return ov})),n.d(t,"\u0275\u0275i18nAttributes",(function(){return iv})),n.d(t,"\u0275\u0275i18nExp",(function(){return lv})),n.d(t,"\u0275\u0275i18nStart",(function(){return Xg})),n.d(t,"\u0275\u0275i18nEnd",(function(){return ev})),n.d(t,"\u0275\u0275i18nApply",(function(){return uv})),n.d(t,"\u0275\u0275i18nPostprocess",(function(){return Jg})),n.d(t,"\u0275i18nConfigureLocalize",(function(){return vv})),n.d(t,"\u0275\u0275i18nLocalize",(function(){return mv})),n.d(t,"\u0275setLocaleId",(function(){return wv})),n.d(t,"\u0275setClassMetadata",(function(){return Iv})),n.d(t,"\u0275\u0275resolveWindow",(function(){return Jn})),n.d(t,"\u0275\u0275resolveDocument",(function(){return er})),n.d(t,"\u0275\u0275resolveBody",(function(){return tr})),n.d(t,"\u0275compileComponent",(function(){return xy})),n.d(t,"\u0275compileDirective",(function(){return Fy})),n.d(t,"\u0275compileNgModule",(function(){return Ty})),n.d(t,"\u0275compileNgModuleDefs",(function(){return Oy})),n.d(t,"\u0275patchComponentDefWithScope",(function(){return Ay})),n.d(t,"\u0275resetCompiledComponents",(function(){return Dy})),n.d(t,"\u0275flushModuleScopingQueueAsMuchAsPossible",(function(){return Sy})),n.d(t,"\u0275transitiveScopesFor",(function(){return ky})),n.d(t,"\u0275compilePipe",(function(){return zy})),n.d(t,"\u0275\u0275sanitizeHtml",(function(){return ui})),n.d(t,"\u0275\u0275sanitizeStyle",(function(){return ci})),n.d(t,"\u0275\u0275defaultStyleSanitizer",(function(){return vi})),n.d(t,"\u0275\u0275sanitizeScript",(function(){return hi})),n.d(t,"\u0275\u0275sanitizeUrl",(function(){return pi})),n.d(t,"\u0275\u0275sanitizeResourceUrl",(function(){return di})),n.d(t,"\u0275\u0275sanitizeUrlOrResourceUrl",(function(){return gi})),n.d(t,"\u0275bypassSanitizationTrustHtml",(function(){return Ro})),n.d(t,"\u0275bypassSanitizationTrustStyle",(function(){return To})),n.d(t,"\u0275bypassSanitizationTrustScript",(function(){return Oo})),n.d(t,"\u0275bypassSanitizationTrustUrl",(function(){return Do})),n.d(t,"\u0275bypassSanitizationTrustResourceUrl",(function(){return Io})),n.d(t,"\u0275getLContext",(function(){return wi})),n.d(t,"\u0275NG_ELEMENT_ID",(function(){return Ae})),n.d(t,"\u0275NG_COMPONENT_DEF",(function(){return Se})),n.d(t,"\u0275NG_DIRECTIVE_DEF",(function(){return Re})),n.d(t,"\u0275NG_PIPE_DEF",(function(){return Te})),n.d(t,"\u0275NG_MODULE_DEF",(function(){return Oe})),n.d(t,"\u0275NG_BASE_DEF",(function(){return Ie})),n.d(t,"\u0275NG_INJECTABLE_DEF",(function(){return I})),n.d(t,"\u0275NG_INJECTOR_DEF",(function(){return A})),n.d(t,"\u0275compileNgModuleFactory__POST_R3__",(function(){return dC})),n.d(t,"\u0275isBoundToModule__POST_R3__",(function(){return hC})),n.d(t,"\u0275SWITCH_COMPILE_COMPONENT__POST_R3__",(function(){return Jy})),n.d(t,"\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__",(function(){return em})),n.d(t,"\u0275SWITCH_COMPILE_PIPE__POST_R3__",(function(){return tm})),n.d(t,"\u0275SWITCH_COMPILE_NGMODULE__POST_R3__",(function(){return sm})),n.d(t,"\u0275getDebugNode__POST_R3__",(function(){return YC})),n.d(t,"\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__",(function(){return vl})),n.d(t,"\u0275SWITCH_IVY_ENABLED__POST_R3__",(function(){return _m})),n.d(t,"\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__",(function(){return za})),n.d(t,"\u0275Compiler_compileModuleSync__POST_R3__",(function(){return Im})),n.d(t,"\u0275Compiler_compileModuleAsync__POST_R3__",(function(){return km})),n.d(t,"\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__",(function(){return Nm})),n.d(t,"\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__",(function(){return Fm})),n.d(t,"\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__",(function(){return Gd})),n.d(t,"\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__",(function(){return fh})),n.d(t,"\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__",(function(){return yh})),n.d(t,"\u0275SWITCH_RENDERER2_FACTORY__POST_R3__",(function(){return Qd})),n.d(t,"\u0275getModuleFactory__POST_R3__",(function(){return OC})),n.d(t,"\u0275registerNgModuleType",(function(){return Sv})),n.d(t,"\u0275publishGlobalUtil",(function(){return od})),n.d(t,"\u0275publishDefaultGlobalUtils",(function(){return rd})),n.d(t,"\u0275createInjector",(function(){return Sl})),n.d(t,"\u0275INJECTOR_IMPL__POST_R3__",(function(){return kl})),n.d(t,"\u0275registerModuleFactory",(function(){return Ev})),n.d(t,"\u0275EMPTY_ARRAY",(function(){return ff})),n.d(t,"\u0275EMPTY_MAP",(function(){return gf})),n.d(t,"\u0275and",(function(){return aw})),n.d(t,"\u0275ccf",(function(){return Df})),n.d(t,"\u0275cmf",(function(){return Mb})),n.d(t,"\u0275crt",(function(){return Lh})),n.d(t,"\u0275did",(function(){return Jf})),n.d(t,"\u0275eld",(function(){return lw})),n.d(t,"\u0275getComponentViewDefinitionFactory",(function(){return If})),n.d(t,"\u0275inlineInterpolate",(function(){return df})),n.d(t,"\u0275interpolate",(function(){return pf})),n.d(t,"\u0275mod",(function(){return bf})),n.d(t,"\u0275mpd",(function(){return wf})),n.d(t,"\u0275ncd",(function(){return mw})),n.d(t,"\u0275nov",(function(){return Wf})),n.d(t,"\u0275pid",(function(){return eg})),n.d(t,"\u0275prd",(function(){return tg})),n.d(t,"\u0275pad",(function(){return bw})),n.d(t,"\u0275pod",(function(){return Ew})),n.d(t,"\u0275ppd",(function(){return ww})),n.d(t,"\u0275qud",(function(){return hw})),n.d(t,"\u0275ted",(function(){return Sw})),n.d(t,"\u0275unv",(function(){return xh})),n.d(t,"\u0275vid",(function(){return Ow}));var r=n("XNiG"),o=n("quSY"),i=n("HDdC"),s=n("VRyK"),a=n("w1tV"),l="__annotations__",u="__parameters__",c="__prop__metadata__";function p(e,t,n,r,o){var i=d(t);function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof s)return i.call.apply(i,[this].concat(t)),this;var a=_construct(s,t);return function(e){return o&&o.apply(void 0,[e].concat(t)),(e.hasOwnProperty(l)?e[l]:Object.defineProperty(e,l,{value:[]})[l]).push(a),r&&r(e),e}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}function d(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}function h(e,t,n){var r=d(t);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof o)return r.apply(this,t),this;var i=_construct(o,t);return s.annotation=i,s;function s(e,t,n){for(var r=e.hasOwnProperty(u)?e[u]:Object.defineProperty(e,u,{value:[]})[u];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(i),e}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}function f(e,t,n,r){var o=d(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return o.apply(this,t),this;var s=_construct(i,t);return function(e,n){var o=e.constructor,i=o.hasOwnProperty(c)?o[c]:Object.defineProperty(o,c,{value:{}})[c];i[n]=i.hasOwnProperty(n)&&i[n]||[],i[n].unshift(s),r&&r.apply(void 0,[e,n].concat(t))}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}var g=h("Inject",(function(e){return{token:e}})),v=h("Optional"),y=h("Self"),m=h("SkipSelf"),C=h("Host"),w=h("Attribute",(function(e){return{attributeName:e}})),b=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function E(e){for(var t in e)if(e[t]===E)return t;throw Error("Could not find renamed property on target object.")}function _(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function S(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}var R=S;function T(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function O(e){var t=e[I];return t&&t.token===e?t:null}function D(e){return e&&e.hasOwnProperty(A)?e[A]:null}var I=E({ngInjectableDef:E}),A=E({ngInjectorDef:E});function k(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(k).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}var P=E({__forward_ref__:E});function N(e){return e.__forward_ref__=N,e.toString=function(){return k(this())},e}function x(e){var t=e;return"function"==typeof t&&t.hasOwnProperty(P)&&t.__forward_ref__===N?t():e}var F="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,L="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,G=F||V||M||L;function W(){var e=G.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}var H,B=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.ngInjectableDef=S({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),U=new B("INJECTOR",-1),j=new Object,z="ngTempTokenPath",q="ngTokenPath",K=/\n/gm,Q="\u0275",Y="__source",Z=E({provide:String,useValue:E}),X=void 0;function $(e){var t=X;return X=e,t}function J(e){var t=H;return H=e,t}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.Default;if(void 0===X)throw new Error("inject() must be called from an injection context");return null===X?re(e,void 0,t):X.get(e,t&b.Optional?null:void 0,t)}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.Default;return(H||ee)(e,t)}var ne=te;function re(e,t,n){var r=O(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&b.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(k(e),"]"))}function oe(e){for(var t=[],n=0;n<e.length;n++){var r=x(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var o=void 0,i=b.Default,s=0;s<r.length;s++){var a=r[s];a instanceof v||"Optional"===a.ngMetadataName||a===v?i|=b.Optional:a instanceof m||"SkipSelf"===a.ngMetadataName||a===m?i|=b.SkipSelf:a instanceof y||"Self"===a.ngMetadataName||a===y?i|=b.Self:o=a instanceof g||a===g?a.token:a}t.push(te(o,i))}else t.push(te(r))}return t}var ie=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j;if(t===j){var n=new Error("NullInjectorError: No provider for ".concat(k(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}();function se(e,t,n,r){var o=e[z];throw t[Y]&&o.unshift(t[Y]),e.message=ae("\n"+e.message,o,n,r),e[q]=o,e[z]=null,e}function ae(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Q?e.substr(2):e;var o=k(t);if(t instanceof Array)o=t.map(k).join(" -> ");else if("object"==typeof t){var i=[];for(var s in t)if(t.hasOwnProperty(s)){var a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):k(a)))}o="{".concat(i.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(o,"]: ").concat(e.replace(K,"\n  "))}var le={"\u0275\u0275defineInjectable":S,"\u0275\u0275defineInjector":T,"\u0275\u0275inject":te,"\u0275\u0275getFactoryOf":function(e){var t=e,n=O(t)||D(t);return n&&void 0!==n.factory?n.factory:null}},ue=function e(){_classCallCheck(this,e)},ce=function e(){_classCallCheck(this,e)};function pe(e,t){for(var n=0;n<e.length;n++)t.push(e[n])}function de(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),de(r,t)):t!==e&&t.push(r)}return t}function he(e,t){e.forEach((function(e){return Array.isArray(e)?he(e,t):t(e)}))}function fe(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ge(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ve(e){throw new Error("ASSERTION ERROR: ".concat(e))}var ye=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),me=function(){var e={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};return e[e.CheckOnce]="CheckOnce",e[e.Checked]="Checked",e[e.CheckAlways]="CheckAlways",e[e.Detached]="Detached",e[e.Errored]="Errored",e[e.Destroyed]="Destroyed",e}();function Ce(e){return null==e||e===ye.Default}var we=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}();function be(e){return""+{toString:e}}var Ee={},_e=[],Se=E({ngComponentDef:E}),Re=E({ngDirectiveDef:E}),Te=E({ngPipeDef:E}),Oe=E({ngModuleDef:E}),De=E({ngLocaleIdDef:E}),Ie=E({ngBaseDef:E}),Ae=E({__NG_ELEMENT_ID__:E}),ke=0;function Pe(e){var t=e.type,n=t.prototype,r={},o={type:t,providersResolver:null,consts:e.consts,vars:e.vars,factory:e.factory,template:e.template||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===ye.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||we.Emulated,id:"c",styles:e.styles||_e,_:null,setInput:null,schemas:e.schemas||null,tView:null};return o._=be((function(){var n=e.directives,i=e.features,s=e.pipes;o.id+=ke++,o.inputs=Ve(e.inputs,r),o.outputs=Ve(e.outputs),i&&i.forEach((function(e){return e(o)})),o.directiveDefs=n?function(){return("function"==typeof n?n():n).map(xe)}:null,o.pipeDefs=s?function(){return("function"==typeof s?s():s).map(Fe)}:null,t.hasOwnProperty(I)||(t[I]=S({token:t,factory:e.factory}))})),o}function Ne(e,t,n){var r=e.ngComponentDef;r.directiveDefs=function(){return t.map(xe)},r.pipeDefs=function(){return n.map(Fe)}}function xe(e){return Be(e)||Ue(e)}function Fe(e){return je(e)}function Me(e){return{type:e.type,bootstrap:e.bootstrap||_e,declarations:e.declarations||_e,imports:e.imports||_e,exports:e.exports||_e,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}}function Le(e,t){return be((function(){var n=qe(e,!0);n.declarations=t.declarations||_e,n.imports=t.imports||_e,n.exports=t.exports||_e}))}function Ve(e,t){if(null==e)return Ee;var n={};for(var r in e)if(e.hasOwnProperty(r)){var o=e[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,t&&(t[o]=i)}return n}function Ge(e){var t={};return{inputs:Ve(e.inputs,t),declaredInputs:t,outputs:Ve(e.outputs),viewQuery:e.viewQuery||null,contentQueries:e.contentQueries||null,hostBindings:e.hostBindings||null}}var We=Pe;function He(e){return{name:e.name,factory:e.factory,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Be(e){return e[Se]||null}function Ue(e){return e[Re]||null}function je(e){return e[Te]||null}function ze(e){return e[Ie]||null}function qe(e,t){var n=e[Oe]||null;if(!n&&!0===t)throw new Error("Type ".concat(k(e)," does not have 'ngModuleDef' property."));return n}var Ke=0,Qe=1,Ye=2,Ze=3,Xe=4,$e=5,Je=6,et=7,tt=8,nt=9,rt=10,ot=11,it=12,st=13,at=14,lt=15,ut=16,ct=17,pt=18,dt=19,ht=1,ft=2,gt=5,vt=7,yt=8,mt=9;function Ct(e){return Array.isArray(e)&&"object"==typeof e[ht]}function wt(e){return Array.isArray(e)&&!0===e[ht]}function bt(e){return 0!=(4&e.flags)}function Et(e){return 1==(1&e.flags)}function _t(e){return null!==e.template}function St(e){return 0!=(512&e[Ye])}var Rt=8,Tt=8,Ot=9,Dt=-1,It=function e(t,n,r){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function At(e,t,n,r,o,i){var s=t.onChanges,a=t.onInit,l=t.doCheck;o>=0&&(!n.preOrderHooks||o===n.preOrderHooks.length)&&(s||a||l)&&(n.preOrderHooks||(n.preOrderHooks=[])).push(r),i>=0&&(!n.preOrderCheckHooks||i===n.preOrderCheckHooks.length)&&(s||l)&&(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)),a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,a),l&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,l),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,l))}function kt(e,t){if(e.firstTemplatePass)for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var o=e.data[n];o.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,o.afterContentInit),o.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,o.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,o.afterContentChecked)),o.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,o.afterViewInit),o.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,o.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o.afterViewChecked)),null!=o.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,o.onDestroy)}}function Pt(e,t,n,r){n||Nt(e,t.preOrderHooks,t.preOrderCheckHooks,n,0,void 0!==r?r:null)}function Nt(e,t,n,r,o,i){if(!r){var s=(3&e[Ye])===o?t:n;s&&function(e,t,n,r){for(var o=null!=r?r:-1,i=0,s=void 0!==r?65535&e[pt]:0;s<t.length;s++)if("number"==typeof t[s+1]){if(i=t[s],null!=r&&i>=r)break}else t[s]<0&&(e[pt]+=65536),(i<o||-1==o)&&(xt(e,n,t,s),e[pt]=(4294901760&e[pt])+s+2),s++}(e,s,o,i),null==i&&(3&e[Ye])===o&&3!==o&&(e[Ye]&=1023,e[Ye]+=1)}}function xt(e,t,n,r){var o=n[r]<0,i=n[r+1],s=e[o?-n[r]:n[r]];o?e[Ye]>>10<e[pt]>>16&&(3&e[Ye])===t&&(e[Ye]+=1024,i.call(s)):i.call(s)}var Ft=null,Mt=new Map,Lt=null,Vt=1,Gt=0;function Wt(e,t){return Lt&&e===Lt||(Lt=e,t&&(Ft=Mt.get(e)||null),Ft=Ft||{classesBitMask:Gt,classesIndex:Vt,stylesBitMask:Gt,stylesIndex:Vt}),Ft}function Ht(){Ft=null,Lt=null}var Bt="__ngContext__";function Ut(e){for(;Array.isArray(e);)e=e[Ke];return e}function jt(e,t){return Ut(t[e+dt])}function zt(e,t){return Ut(t[e.index])}function qt(e,t){var n=e.index;return-1==n?null:Ut(t[n])}function Kt(e,t){return t[Qe].data[e+dt]}function Qt(e,t){return e[t+dt]}function Yt(e,t){var n=t[e];return Ct(n)?n:n[Ke]}function Zt(e){return e[Bt]}function Xt(e){var t=Zt(e);return t?Array.isArray(t)?t:t.lView:null}function $t(e){e[pt]=0}var Jt,en,tn=null;function nn(e){tn=e}function rn(){return en}function on(){en=!0}function sn(){en=!1}function an(){return cn}var ln,un,cn,pn=1,dn=pn,hn=0,fn=0;function gn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Vn!==e&&(Wn(null==e?-1:e),dn=null==e?0:pn,hn=0,fn=0)}function vn(){dn+=1+fn,hn=0,fn=0}function yn(e){hn+=e,fn=Math.max(fn,hn)}function mn(e){Rn=e}function Cn(){return ln}function wn(e,t){ln=e,un=t}function bn(e,t){ln=e,cn=t}function En(){return un}function _n(){un=!1}function Sn(){return 4==(4&(arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn)[Ye])}var Rn=null,Tn=!1;function On(){return Tn}function Dn(e){Tn=e}var In=-1;function An(){return In}function kn(e){In=e}var Pn=0;function Nn(){return Pn}function xn(e){Pn=e}function Fn(e,t){var n=cn;return e&&(In=e[Qe].bindingStartIndex),ln=t,un=!0,cn=Rn=e,n}function Mn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(Rn=function(e,t){for(;e>0;)t=t[ut],e--;return t}(e,Rn))[nt]}function Ln(e,t){var n=cn[Qe];if(Sn(cn))cn[Ye]&=-5;else try{$t(cn),t&&Nt(cn,n.viewHooks,n.viewCheckHooks,Tn,2,void 0)}finally{cn[Ye]&=-73,cn[et]=n.bindingStartIndex}Fn(e,null)}var Vn=-1;function Gn(){return Vn}function Wn(e){Vn=e,Ht()}var Hn,Bn=null;function Un(){Bn="http://www.w3.org/2000/svg"}function jn(){Bn="http://www.w3.org/1998/MathML/"}function zn(){qn()}function qn(){Bn=null}function Kn(e){Hn=e}function Qn(){return Hn}function Yn(e,t){return!(e!=e&&t!=t)&&e!==t}function Zn(e){return"string"==typeof e?e:null==e?"":""+e}function Xn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Zn(e)}var $n=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G);function Jn(e){return{name:"window",target:e.ownerDocument.defaultView}}function er(e){return{name:"document",target:e.ownerDocument}}function tr(e){return{name:"body",target:e.ownerDocument.body}}var nr="\ufffd";function rr(e){return e.indexOf(nr)>=0}function or(e){return e instanceof Function?e():e}var ir="--MAP--",sr=0;function ar(e,t){t===sr?e[2]>sr&&function(e){ur(e,2|lr(e))}(e):e[2]=t}function lr(e){return e[1]}function ur(e,t){e[1]=t}function cr(e,t){return e[t+2]}function pr(e,t){return 1&e[t+0]}function dr(e,t){return(1&pr(e,t))>0}function hr(e,t){return e[t+0]>>1}function fr(e,t,n){var r=pr(e,t);e[t+0]=r|n<<1}function gr(e,t){return e[t+1]}function vr(e,t,n){return e[t+3+n]}function yr(e,t){return!(!e||t!==e[2])}function mr(e){return(1&lr(e))>0}function Cr(e){return(2&lr(e))>0}function wr(e){return 6+e[4]}function br(e,t){var n=Array.isArray(e)?e[0]:e,r=Array.isArray(t)?t[0]:t;return n instanceof String&&(n=n.toString()),r instanceof String&&(r=r.toString()),Yn(n,r)}function Er(e){return null!=e&&""!==e}function _r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";return e+(t.length&&e.length?n:"")+t}function Sr(e){return e.replace(/[a-z][A-Z]/g,(function(e){return e.charAt(0)+"-"+e.charAt(1)})).toLowerCase()}function Rr(e){return Tr(e)?e[0]:e}function Tr(e){return Array.isArray(e)&&e.length>=6&&"string"!=typeof e[1]}function Or(e){var t=Rr(e);return t&&t[0]||""}function Dr(e){return 0!=(8&e.flags)}function Ir(e){return 0!=(16&e.flags)}function Ar(e,t){return e[t+0]}function kr(e,t,n){e[t+1]=n}function Pr(e,t){return e[t+1]}var Nr=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();function xr(e){return!!e.listen}var Fr={createRenderer:function(e,t){return document}};function Mr(e,t){for(var n=an()[it],r=xr(n),o=0;o<t.length;){var i=t[o];if("number"==typeof i){if(0!==i)break;o++;var s=t[o++],a=t[o++],l=t[o++];r?n.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{var u=i,c=t[++o];Gr(u)?r&&n.setProperty(e,u,c):r?n.setAttribute(e,u,c):e.setAttribute(u,c),o++}}return o}function Lr(e){return 3===e||4===e||6===e}var Vr="@";function Gr(e){return e[0]===Vr}function Wr(e){return e!==Dt}function Hr(e){return 32767&e}function Br(e){return e>>16}function Ur(e,t){for(var n=Br(e),r=t;n>0;)r=r[ut],n--;return r}function jr(e){var t=e[Ze];return wt(t)?t[Ze]:t}function zr(e){for(var t=e[Je];null!==t&&2===t.type;)t=(e=e[ut])[Je];return e}function qr(e){return function(e){for(var t=Ct(e)?e:Xt(e);t&&!(512&t[Ye]);)t=jr(t);return t}(e)[nt]}var Kr=!0;function Qr(e){var t=Kr;return Kr=e,t}var Yr=255,Zr=0;function Xr(e,t){var n=Jr(e,t);if(-1!==n)return n;var r=t[Qe];r.firstTemplatePass&&(e.injectorIndex=t.length,$r(r.data,e),$r(t,null),$r(r.blueprint,null));var o=eo(e,t),i=Hr(o),s=Ur(o,t),a=e.injectorIndex;if(Wr(o))for(var l=s[Qe].data,u=0;u<8;u++)t[a+u]=s[i+u]|l[i+u];return t[a+Tt]=o,a}function $r(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Jr(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+Tt]?-1:e.injectorIndex}function eo(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[Je],r=1;n&&-1===n.injectorIndex;)n=(t=t[ut])?t[Je]:null,r++;return n?n.injectorIndex|r<<16:-1}function to(e,t,n){!function(e,t,n){var r="string"!=typeof n?n[Ae]:n.charCodeAt(0)||0;null==r&&(r=n[Ae]=Zr++);var o=r&Yr,i=1<<o,s=64&o,a=32&o,l=t.data;128&o?s?a?l[e+7]|=i:l[e+6]|=i:a?l[e+5]|=i:l[e+4]|=i:s?a?l[e+3]|=i:l[e+2]|=i:a?l[e+1]|=i:l[e]|=i}(e,t,n)}function no(e,t){if("class"===t)return Or(e.classes);if("style"===t)return Or(e.styles);var n=e.attrs;if(n)for(var r=n.length,o=0;o<r;){var i=n[o];if(Lr(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===t)return n[o+1];o+=2}}return null}function ro(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b.Default,o=arguments.length>4?arguments[4]:void 0;if(e){var i=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[Ae];return"number"==typeof t&&t>0?t&Yr:t}(n);if("function"==typeof i){var s=Cn(),a=an();bn(e,t);try{var l=i();if(null!=l||r&b.Optional)return l;throw new Error("No provider for ".concat(Xn(n),"!"))}finally{bn(s,a)}}else if("number"==typeof i){if(-1===i)return new co(e,t);var u=null,c=Jr(e,t),p=Dt,d=r&b.Host?zr(t)[Je]:null;for((-1===c||r&b.SkipSelf)&&(p=-1===c?eo(e,t):t[c+Tt],uo(r,!1)?(u=t[Qe],c=Hr(p),t=Ur(p,t)):c=-1);-1!==c;){p=t[c+Tt];var h=t[Qe];if(lo(i,c,h.data)){var f=io(c,t,n,u,r,d);if(f!==oo)return f}uo(r,t[Qe].data[c+Rt]===d)&&lo(i,c,t)?(u=h,c=Hr(p),t=Ur(p,t)):c=-1}}}if(r&b.Optional&&void 0===o&&(o=null),0==(r&(b.Self|b.Host))){var g=t[rt],v=J(void 0);try{return g?g.get(n,o,r&b.Optional):re(n,o,r&b.Optional)}finally{J(v)}}if(r&b.Optional)return o;throw new Error("NodeInjector: NOT_FOUND [".concat(Xn(n),"]"))}var oo={};function io(e,t,n,r,o,i){var s=t[Qe],a=s.data[e+Rt],l=so(a,s,n,null==r?Et(a)&&Kr:r!=s&&3===a.type,o&b.Host&&i===a);return null!==l?ao(s.data,t,l,a):oo}function so(e,t,n,r,o){for(var i=e.providerIndexes,s=t.data,a=65535&i,l=e.directiveStart,u=i>>16,c=o?a+u:e.directiveEnd,p=r?a:a+u;p<c;p++){var d=s[p];if(p<l&&n===d||p>=l&&d.type===n)return p}if(o){var h=s[l];if(h&&_t(h)&&h.type===n)return l}return null}function ao(e,t,n,r){var o,i=t[n];if(null!==(o=i)&&"object"==typeof o&&Object.getPrototypeOf(o)==It.prototype){var s=i;if(s.resolving)throw new Error("Circular dep for ".concat(Xn(e[n])));var a,l=Qr(s.canSeeViewProviders);s.resolving=!0,s.injectImpl&&(a=J(s.injectImpl));var u=Cn(),c=an();bn(r,t);try{i=t[n]=s.factory(void 0,e,t,r)}finally{s.injectImpl&&J(a),Qr(l),s.resolving=!1,bn(u,c)}}return i}function lo(e,t,n){var r=64&e,o=32&e;return!!((128&e?r?o?n[t+7]:n[t+6]:o?n[t+5]:n[t+4]:r?o?n[t+3]:n[t+2]:o?n[t+1]:n[t])&1<<e)}function uo(e,t){return!(e&b.Self||e&b.Host&&t)}var co=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return ro(this._tNode,this._lView,e,void 0,t)}}]),e}();function po(e){var t=e,n=Be(t)||Ue(t)||je(t)||O(t)||D(t);return n&&void 0!==n.factory?n.factory:null}function ho(e){var t=po(Object.getPrototypeOf(e.prototype).constructor);return null!==t?t:function(e){return new e}}var fo="ngDebugContext",go="ngOriginalError",vo="ngErrorLogger";function yo(e){return e[fo]}function mo(e){return e[go]}function Co(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var wo=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e[vo]||Co}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?yo(e)?yo(e):this._findContext(mo(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=mo(e);t&&mo(t);)t=mo(t);return t}}]),e}(),bo={name:"custom-elements"},Eo={name:"no-errors-schema"},_o="__SANITIZER_TRUSTED_BRAND__";function So(e,t){return e instanceof String&&e[_o]===t}function Ro(e){return Ao(e,"Html")}function To(e){return Ao(e,"Style")}function Oo(e){return Ao(e,"Script")}function Do(e){return Ao(e,"Url")}function Io(e){return Ao(e,"ResourceUrl")}function Ao(e,t){var n=new String(e);return n[_o]=t,n}var ko=!0,Po=!1;function No(){return Po=!0,ko}function xo(){if(Po)throw new Error("Cannot enable prod mode after platform setup.");ko=!1}var Fo=function(){function e(t){if(_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n),this.inertBodyElement=this.inertDocument.createElement("body"),n.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var o=e.firstChild;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}]),e}(),Mo=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Lo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Vo(e){return(e=String(e)).match(Mo)||e.match(Lo)?e:(No()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function Go(e){return(e=String(e)).split(",").map((function(e){return Vo(e.trim())})).join(", ")}function Wo(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,s=e.split(",")[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){t[i.value]=!0}}catch(a){r=!0,o=a}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return t}function Ho(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=0,i=n;o<i.length;o++){var s=i[o];for(var a in s)s.hasOwnProperty(a)&&(e[a]=!0)}return e}var Bo,Uo=Wo("area,br,col,hr,img,wbr"),jo=Wo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zo=Wo("rp,rt"),qo=Ho(zo,jo),Ko=Ho(Uo,Ho(jo,Wo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ho(zo,Wo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qo),Qo=Wo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yo=Wo("srcset"),Zo=Ho(Qo,Yo,Wo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xo=Wo("script,style,template"),$o=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!Ko.hasOwnProperty(t))return this.sanitizedSomething=!0,!Xo.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n=e.attributes,r=0;r<n.length;r++){var o=n.item(r),i=o.name,s=i.toLowerCase();if(Zo.hasOwnProperty(s)){var a=o.value;Qo[s]&&(a=Vo(a)),Yo[s]&&(a=Go(a)),this.buf.push(" ",i,'="',ti(a),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();Ko.hasOwnProperty(t)&&!Uo.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(ti(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),Jo=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ei=/([^\#-~ |!])/g;function ti(e){return e.replace(/&/g,"&amp;").replace(Jo,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(ei,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ni(e,t){var n=null;try{Bo=Bo||new Fo(e);var r=t?String(t):"";n=Bo.getInertBodyElement(r);var o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=Bo.getInertBodyElement(r)}while(r!==i);var s=new $o,a=s.sanitizeChildren(ri(n)||n);return No()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n)for(var l=ri(n)||n;l.firstChild;)l.removeChild(l.firstChild)}}function ri(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var oi=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),ii=function e(){_classCallCheck(this,e)},si=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ai=/^url\(([^)]+)\)$/;function li(e){if(!(e=String(e).trim()))return"";var t=e.match(ai);return t&&Vo(t[1])===t[1]||e.match(si)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var o=e.charAt(r);"'"===o&&n?t=!t:'"'===o&&t&&(n=!n)}return t&&n}(e)?e:(No()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}function ui(e){var t=yi();return t?t.sanitize(oi.HTML,e)||"":So(e,"Html")?e.toString():ni(document,Zn(e))}function ci(e){var t=yi();return t?t.sanitize(oi.STYLE,e)||"":So(e,"Style")?e.toString():li(Zn(e))}function pi(e){var t=yi();return t?t.sanitize(oi.URL,e)||"":So(e,"Url")?e.toString():Vo(Zn(e))}function di(e){var t=yi();if(t)return t.sanitize(oi.RESOURCE_URL,e)||"";if(So(e,"ResourceUrl"))return e.toString();throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function hi(e){var t=yi();if(t)return t.sanitize(oi.SCRIPT,e)||"";if(So(e,"Script"))return e.toString();throw new Error("unsafe value used in a script context")}function fi(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?di:pi}function gi(e,t,n){return fi(t,n)(e)}var vi=function(e,t,n){var r=!0;return 1&(n=n||3)&&(r="background-image"===e||"background"===e||"border-image"===e||"filter"===e||"list-style"===e||"list-style-image"===e||"clip-path"===e),2&n?r?ci(t):t:r};function yi(){var e=an();return e&&e[st]}var mi=/([A-Z])/g;function Ci(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function wi(e){var t,n=Zt(e);if(n){if(Array.isArray(n)){var r,o=n,i=void 0,s=void 0;if((t=e)&&t.constructor&&t.constructor.ngComponentDef){if(-1==(r=Ti(o,e)))throw new Error("The provided component was not found in the application");i=e}else if(function(e){return e&&e.constructor&&e.constructor.ngDirectiveDef}(e)){if(-1==(r=function(e,t){for(var n=e[Qe].firstChild;n;){for(var r=n.directiveEnd,o=n.directiveStart;o<r;o++)if(e[o]===t)return n.index;n=Ri(n)}return-1}(o,e)))throw new Error("The provided directive was not found in the application");s=Oi(r,o,!1)}else if(-1==(r=Si(o,e)))return null;var a=Ut(o[r]),l=Zt(a),u=l&&!Array.isArray(l)?l:bi(o,r,a);if(i&&void 0===u.component&&(u.component=i,_i(u.component,u)),s&&void 0===u.directives){u.directives=s;for(var c=0;c<s.length;c++)_i(s[c],u)}_i(u.native,u),n=u}}else for(var p=e,d=p;d=d.parentNode;){var h=Zt(d);if(h){var f;if(!(f=Array.isArray(h)?h:h.lView))return null;var g=Si(f,p);if(g>=0){var v=Ut(f[g]),y=bi(f,g,v);_i(v,y),n=y;break}}}return n||null}function bi(e,t,n){return{lView:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}function Ei(e){var t,n=Zt(e);if(Array.isArray(n)){var r=Ti(n,e),o=bi(n,r,(t=Yt(r,n))[Ke]);o.component=e,_i(e,o),_i(o.native,o)}else t=Yt(n.nodeIndex,n.lView);return t}function _i(e,t){e[Bt]=t}function Si(e,t){for(var n=e[Qe].firstChild;n;){if(qt(n,e)===t)return n.index;n=Ri(n)}return-1}function Ri(e){if(e.child)return e.child;if(e.next)return e.next;for(;e.parent&&!e.parent.next;)e=e.parent;return e.parent&&e.parent.next}function Ti(e,t){var n=e[Qe].components;if(n)for(var r=0;r<n.length;r++){var o=n[r];if(Yt(o,e)[nt]===t)return o}else if(Yt(dt,e)[nt]===t)return dt;return-1}function Oi(e,t,n){var r=t[Qe].data[e],o=r.directiveStart;return 0==o?_e:(!n&&1&r.flags&&o++,t.slice(o,r.directiveEnd))}function Di(e){throw new Error("Multiple components match node with tagname ".concat(e.tagName))}function Ii(){throw new Error("Cannot mix multi providers and regular providers")}var Ai="ng-template";function ki(e,t){var n=e.length,r=e.indexOf(t),o=r+t.length;return!(-1===r||r>0&&" "!==e[r-1]||o<n&&" "!==e[o])}function Pi(e,t,n){return t===(0!==e.type||n?e.tagName:Ai)}function Ni(e,t,n){for(var r=4,o=e.attrs||[],i=function(e){for(var t=0;t<e.length;t++)if(Lr(e[t]))return t;return e.length}(o),s=!1,a=0;a<t.length;a++){var l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!Pi(e,l,n)||""===l&&1===t.length){if(xi(r))return!1;s=!0}}else{var u=8&r?l:t[++a];if(8&r&&e.classes){if(!ki(Or(e.classes),u)){if(xi(r))return!1;s=!0}continue}var c=Fi(8&r?"class":l,o,0==e.type&&e.tagName!==Ai,n);if(-1===c){if(xi(r))return!1;s=!0;continue}if(""!==u){var p;p=c>i?"":o[c+1];var d=8&r?p:null;if(d&&!ki(d,u)||2&r&&u!==p){if(xi(r))return!1;s=!0}}}}else{if(!s&&!xi(r)&&!xi(l))return!1;if(s&&xi(l))continue;s=!1,r=l|1&r}}return xi(r)||s}function xi(e){return 0==(1&e)}function Fi(e,t,n,r){if(null===t)return-1;var o=0;if(r||!n){for(var i=!1;o<t.length;){var s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s){for(var a=t[++o];"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){if(e[n]===t)return n;n++}return-1}(t,e)}function Mi(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(Ni(e,t[r],n))return!0;return!1}function Li(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}var Vi=1,Gi=0,Wi=null,Hi=1,Bi=[];function Ui(e,t,n,r,o,i,s,a){var l=!r,u=Wt(n,Cr(e)),c=l?Gi:u.classesIndex++;return!(!zi(e,t,c,r,o,i,s,a,!1)&&!a||(u.classesBitMask|=1<<c,0))}function ji(e,t,n,r,o,i,s,a,l){var u=!r,c=Wt(n,Cr(e)),p=u?Gi:c.stylesIndex++;return!(!zi(e,t,p,r,o,i,a,l,!!u||!!s&&s(r,null,1))&&!l||(c.stylesBitMask|=1<<p,0))}function zi(e,t,n,r,o,i,s,a,l){mr(e)||(s?function(e,t,n,r,o){Bi.unshift(e,t,n,r,o)}(e,n,r,o,l):(Bi.length&&qi(),Ki(e,n,r,o,l)));var u=a||br(t[o],i);return u&&(t[o]=i),u}function qi(){for(var e=0;e<Bi.length;)Ki(Bi[e++],Bi[e++],Bi[e++],Bi[e++],Bi[e++]);Bi.length=0}function Ki(e,t,n,r,o){var i=!1;if(n){for(var s=!1,a=wr(e);a<e.length;){var l=gr(e,a),u=cr(e,a);if(s=n<=u){n<u&&Qi(e,a,n,o),Yi(e,!1,a,r,t);break}a+=3+l}s||(Qi(e,e.length,n,o),Yi(e,!1,a,r,t),i=!0)}else Yi(e,!0,3,r,t),i=!0;return i}function Qi(e,t,n,r){e.splice(t,0,r?1:0,Hi,n,Wi),fr(e,t,Vi)}function Yi(e,t,n,r,o){var i=n+3,s=i+gr(e,n);if(t||s--,"number"==typeof r){for(var a=i;a<=s;a++)if(e[a]===r)return;e.splice(s,0,r),e[n+1]++,fr(e,n,hr(e,n)|1<<o)}else null!==r&&null==e[s]&&(e[s]=r)}function Zi(e,t,n,r,o,i,s,a){return o&&r&&(function(e){if(!mr(e)){var t=Rr(e);t&&function(e,t){for(var n=1;n<t.length;n+=2){var r=Pr(t,n);r&&Ki(e,-1,Ar(t,n),r,!1)}}(e,t),function(e){ur(e,1|lr(e))}(e)}}(r),function(e,t){return e&&t>Gt}(r,i))?(Xi(r,e,t,n,i,s,a),!0):o}function Xi(e,t,n,r,o,i,s){for(var a,l=!0===(a=o)?-1:!1===a?0:a,u=$i,c=(l&hr(e,3))>0?1:0,p=wr(e);p<e.length;){var d=gr(e,p);if(l&hr(e,p)){for(var h=!1,f=cr(e,p),g=d-1,v=vr(e,p,g),y=0;y<g;y++){var m=vr(e,p,y),C=r[m];if(Er(C)){i(t,n,f,s&&dr(e,p)?s(f,C,2):C,m),h=!0;break}}if(u){var w=u(e,t,n,r,i,s,c|(h?4:2),f,v);h=h||w}h||i(t,n,f,v)}p+=3+d}u&&u(e,t,n,r,i,s,c)}var $i=null,Ji=function(e,t,n,r){var o=t.style;r?(r=r.toString(),e&&xr(e)?e.setStyle(t,n,r,Nr.DashCase):o&&o.setProperty(n,r)):e&&xr(e)?e.removeStyle(t,n,Nr.DashCase):o&&o.removeProperty(n)},es=function(e,t,n,r){if(""!==n){var o=t.classList;r?e&&xr(e)?e.addClass(t,n):o&&o.add(n):e&&xr(e)?e.removeClass(t,n):o&&o.remove(n)}};function ts(e,t,n,r){var o=Rr(n);if(o)for(var i=1;i<o.length;i+=2){var s=Ar(o,i),a=Pr(o,i);r?es(e,t,s,a,null):Ji(e,t,s,a,null)}}var ns={},rs={marker:"element"},os={marker:"comment"},is=function(e,t,n,r,o,i,s,a,l){var u=!1;if(gr(e,3)){var c=!0,p=!a;p&&-2&s&&(c=!1,u=!0),c&&(u=function e(t,n,r,o,i,s,a,l,u,c){var p,d=!1;if(u<gr(t,3)){for(var h=vr(t,3,u),f=o[h],g=((p=u)>=us.length&&us.push(1),us[p]);g<f.length;){var v=Ar(f,g),y=l&&v>l,m=!y&&v===l,C=Pr(f,g),w=Er(C),b=e(t,n,r,o,i,s,y?a:as(a,w,m),y?l:v,u+1,c);if(y){d||(d=b);break}if(!b&&ls(a,m)){var E=m&&!w,_=E?c:C,S=E?h:null;i(n,r,v,s?s(v,_,3):_,S),b=!0}d=b&&m,g+=2}if(us[u]=g,1===f.length||!l)return e(t,n,r,o,i,s,a,l,u+1,c)}return d}(e,t,n,r,o,i,s,a||null,0,l||null)),p&&function(){for(var e=0;e<us.length;e++)us[e]=1}()}return u};function ss(){$i=is}function as(e,t,n){var r=e;return t||4&e||!(n||1&e)?(r|=4,r&=-3):(r|=2,r&=-5),r}function ls(e,t){var n=(1&e)>0;return n?4&e&&t&&(n=!1):2&e&&(n=t),n}var us=[];function cs(e,t,n,r){for(var o=1;o<e.length;o+=2){var i=Ar(e,o);if(t<=i){var s=!1;if(i===t){var a=e[o];!r&&Er(a)||(s=!0,kr(e,o,n))}else s=!0,e.splice(o,0,t,n);return s}}return e.push(t,n),!0}function ps(e,t){for(var n="",r=1;r<e.length;r+=2){var o=Ar(e,r),i=Pr(e,r),s=_r(o,t?"":i,":");n=_r(n,s,t?" ":"; ")}return n}function ds(e){var t={};if(e)for(var n=1;n<e.length;n+=2){var r=Ar(e,n),o=Pr(e,n);t[r]=o}return t}var hs=function(){function e(t,n,r){_classCallCheck(this,e),this.context=t,this._data=n,this._isClassBased=r,this._sanitizer=null}return _createClass(e,[{key:"overrideSanitizer",value:function(e){this._sanitizer=e}},{key:"_mapValues",value:function(e){gr(this.context,3)>0&&ss();var t=this._isClassBased?null:this._sanitizer||Qn();Xi(this.context,null,{},this._data,!0,(function(t,n,r,o,i){e(r,o,i||null)}),t)}},{key:"summary",get:function(){var e={};return this._mapValues((function(t,n,r){e[t]={prop:t,value:n,bindingIndex:r}})),e}},{key:"values",get:function(){var e={};return this._mapValues((function(t,n){e[t]=n})),e}}]),e}();function fs(e){gs(an(),e)}function gs(e,t){Pt(e,e[Qe],On(),t),Wn(t)}var vs=Promise.resolve(null);function ys(e){var t=e[Qe],n=Sn(e);if(t.firstTemplatePass=!1,e[et]=t.bindingStartIndex,!n){var r=On();Pt(e,t,r,void 0),function(e){for(var t=e[at];null!==t;t=t[Xe])if(-1===t[ft]&&wt(t))for(var n=mt;n<t.length;n++){var r=t[n];_s(r,r[Qe],r[nt])}}(e),ms(t,e),$t(e),Nt(e,t.contentHooks,t.contentCheckHooks,r,1,void 0),function(e,t){var n=Gn();try{if(e.expandoInstructions){var r=t[et]=e.expandoStartIndex;kn(r);for(var o=-1,i=-1,s=0;s<e.expandoInstructions.length;s++){var a=e.expandoInstructions[s];if("number"==typeof a){if(a<=0){gn(i=-a);var l=e.expandoInstructions[++s];o=r+=Ot+l}else r+=a;kn(r)}else null!==a&&(t[et]=r,a(2,Ut(t[o]),i),vn()),o++}}}finally{gn(n)}}(t,e)}n&&t.staticContentQueries&&ms(t,e),n&&!t.staticViewQueries||ta(2,t,e[nt]),function(e,t){if(null!=t)for(var n=0;n<t.length;n++)Qs(e,t[n])}(e,t.components)}function ms(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var o=n[r],i=n[r+1];if(-1!==i){var s=e.data[i];xn(o),s.contentQueries(2,t[i],i)}}}function Cs(e,t){var n=t||an()[it],r=Bn;return xr(n)?n.createElement(e,r):null===r?n.createElement(e):n.createElementNS(r,e)}function ws(e,t,n,r,o,i,s,a,l,u){var c=t.blueprint.slice();return c[Ke]=o,c[Ye]=140|r,$t(c),c[Ze]=c[ut]=e,c[nt]=n,c[ot]=s||e&&e[ot],c[it]=a||e&&e[it],c[st]=l||e&&e[st]||null,c[rt]=u||e&&e[rt]||null,c[Je]=i,c}function bs(e,t,n,r,o,i){var s=n+dt,a=e.data[s]||function(e,t,n,r,o,i,s){var a=Cn(),l=En(),u=l?a:a&&a.parent,c=e.data[n]=Ps(0,u&&u!==t?u:null,r,n,o,i);return 0!==s&&e.firstChild||(e.firstChild=c),a&&(!l||null!=a.child||null===c.parent&&2!==a.type?l||(a.next=c):a.child=c),c}(e,t,s,r,o,i,n);return wn(a,!0),a}function Es(e,t,n,r){var o=e.node;return null==o&&(e.node=o=Ps(0,t,2,n,null,null)),r[Je]=o}function _s(e,t,n){var r,o=En(),i=Cn();if(512&e[Ye])Xs(qr(e));else{var s=!1;try{wn(null,!0),r=Fn(e,e[Je]),$t(e),Rs(e,t.template,Ts(e),n),t.firstTemplatePass=!1,ys(e),s=!0}finally{Ln(r,s),wn(i,o)}}}function Ss(e,t,n){var r=e[ot],o=Fn(e,e[Je]),i=!On(),s=Sn(e),a=!1;try{i&&!s&&r.begin&&r.begin(),s&&(n&&Rs(e,n,1,t),ys(e),e[Ye]&=-5),$t(e),n&&Rs(e,n,2,t),ys(e),a=!0}finally{i&&!s&&r.end&&r.end(),Ln(o,a)}}function Rs(e,t,n,r){qn();var o=Gn();try{gn(null),2&n&&gs(e,0),t(n,r)}finally{Wn(o)}}function Ts(e){return Sn(e)?1:2}function Os(e,t,n){if(bt(t))for(var r=t.directiveEnd,o=t.directiveStart;o<r;o++){var i=e.data[o];i.contentQueries&&i.contentQueries(1,n[o],o)}}function Ds(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:zt;rn()&&(function(e,t,n){var r=n.directiveStart,o=n.directiveEnd;!e.firstTemplatePass&&r<o&&Xr(n,t);for(var i=r;i<o;i++){var s=e.data[i];_t(s)&&zs(t,n,s),Gs(t,ao(e.data,t,i,n),s,i)}}(e,t,n),function(e,t,n){var r=n.directiveStart,o=n.directiveEnd,i=e.expandoInstructions,s=e.firstTemplatePass,a=n.index-dt,l=Gn();try{gn(a);for(var u=r;u<o;u++){var c=e.data[u],p=t[u];c.hostBindings?(Ls(c,i,p,n,s),vn()):s&&i.push(null)}}finally{gn(l)}}(e,t,n),function(e,t,n){var r=t.localNames;if(r)for(var o=t.index+1,i=0;i<r.length;i+=2){var s=r[i+1],a=-1===s?n(t,e):e[s];e[o++]=a}}(t,n,r),gn(null))}function Is(e){return e.tView||(e.tView=As(-1,e.template,e.consts,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas))}function As(e,t,n,r,o,i,s,a){var l=dt+n,u=l+r,c=function(e,t){var n=new Array(t).fill(null,0,e).fill(ns,e);return n[et]=e,n}(l,u);return c[Qe]={id:e,blueprint:c,template:t,queries:null,viewQuery:s,node:null,data:c.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:u,expandoInstructions:null,firstTemplatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof i?i():i,firstChild:null,schemas:a}}function ks(e,t){var n=e.createRenderer(null,null);return"string"==typeof t?xr(n)?n.selectRootElement(t):n.querySelector(t):t}function Ps(e,t,n,r,o,i){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,propertyMetadataStartIndex:-1,propertyMetadataEndIndex:-1,flags:0,providerIndexes:0,tagName:o,attrs:i,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,classes:null}}function Ns(e,t){var n=an()[Qe],r=null,o=e.directiveStart,i=e.directiveEnd;if(i>o)for(var s=0===t,a=n.data,l=o;l<i;l++){var u=a[l],c=s?u.inputs:u.outputs;for(var p in c)if(c.hasOwnProperty(p)){var d=c[p];(r=r||{}).hasOwnProperty(p)?r[p].push(l,p,d):r[p]=[l,p,d]}}return r}var xs={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"};function Fs(e,t,n,r,o,i){var s,a,l=an(),u=jt(e,l),c=Kt(e,l);if(!o&&(s=oa(c))&&(a=s[t]))ua(l,a,n),Et(c)&&function(e,t){var n=Yt(t,e);16&n[Ye]||(n[Ye]|=64)}(l,e+dt);else if(3===c.type){!function(e,t,n,r,o){var i=t[et]-1,s=r[i];s[0]==nr&&(r[i]=n+s,o||(-1==e.propertyMetadataStartIndex&&(e.propertyMetadataStartIndex=i),e.propertyMetadataEndIndex=i+1))}(c,l,t=xs[t]||t,l[Qe].data,o);var p=i?i(c,l):l[it];n=null!=r?r(n,c.tagName||"",t):n,xr(p)?p.setProperty(u,t,n):Gr(t)||(u.setProperty?u.setProperty(t,n):u[t]=n)}}function Ms(e,t,n,r){if(rn()){var o=function(e,t,n){var r=e.directiveRegistry,o=null;if(r)for(var i=0;i<r.length;i++){var s=r[i];Mi(n,s.selectors,!1)&&(o||(o=[]),to(Xr(n,t),e,s.type),_t(s)?(1&n.flags&&Di(n),n.flags=1,o.unshift(s)):o.push(s))}return o}(e,t,n),i=r?{"":-1}:null;if(o){Us(n,e.data.length,o.length);for(var s=0;s<o.length;s++){var a=o[s];a.providersResolver&&a.providersResolver(a)}Vs(e,n,o.length);for(var l=e.preOrderHooks&&e.preOrderHooks.length||0,u=e.preOrderCheckHooks&&e.preOrderCheckHooks.length||0,c=n.index-dt,p=0;p<o.length;p++){var d=o[p],h=e.data.length;js(e,t,d,d.factory),Bs(e.data.length-1,d,i),At(h,d,e,c,l,u)}}i&&function(e,t,n){if(t)for(var r=e.localNames=[],o=0;o<t.length;o+=2){var i=n[t[o+1]];if(null==i)throw new Error("Export of name '".concat(t[o+1],"' not found!"));r.push(t[o],i)}}(n,r,i)}}function Ls(e,t,n,r,o){var i=t.length;nn(e),e.hostBindings(1,n,r.index-dt),nn(null),i===t.length&&o&&t.push(e.hostBindings)}function Vs(e,t,n){var r=-(t.index-dt),o=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,o,n)}function Gs(e,t,n,r){var o=Cn();Ws(e,o,t),o&&o.attrs&&function(e,t,n,r){var o=r.initialInputs;(void 0===o||e>=o.length)&&(o=function(e,t,n){for(var r=n.initialInputs||(n.initialInputs=[]),o=r.length;o<=e;o++)r.push(null);for(var i=n.attrs,s=0;s<i.length;){var a=i[s];if(0!==a)if(5!==a){if("number"==typeof a)break;var l=t[a],u=i[s+1];void 0!==l&&(r[e]||(r[e]=[])).push(a,l,u),s+=2}else s+=2;else s+=4}return r}(e,n.inputs,r));var i=o[e];if(i)for(var s=n.setInput,a=0;a<i.length;){var l=i[a++],u=i[a++],c=i[a++];s?n.setInput(t,c,l,u):t[u]=c}}(r,t,n,o),e[Qe].firstTemplatePass&&n.contentQueries&&(o.flags|=4),_t(n)&&(Yt(o.index,e)[nt]=t)}function Ws(e,t,n){var r=zt(t,e);_i(n,e),r&&_i(r,e)}function Hs(e){var t=an()[Qe];(t.components||(t.components=[])).push(e.index)}function Bs(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;t.template&&(n[""]=e)}}function Us(e,t,n){e.flags=1&e.flags,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function js(e,t,n,r){e.data.push(n);var o=new It(r,_t(n),null);e.blueprint.push(o),t.push(o)}function zs(e,t,n){var r=zt(t,e),o=Is(n),i=e[ot],s=Ys(e,ws(e,o,null,n.onPush?64:16,e[t.index],t,i,i.createRenderer(r,n)));s[Je]=t,e[t.index]=s,e[Qe].firstTemplatePass&&Hs(t)}function qs(e,t,n,r,o,i){var s=jt(e,r),a=r[it];if(null==n)xr(a)?a.removeAttribute(s,t,i):s.removeAttribute(t);else{var l=Kt(e,r),u=null==o?Zn(n):o(n,l.tagName||"",t);xr(a)?a.setAttribute(s,t,u,i):i?s.setAttributeNS(i,t,u):s.setAttribute(t,u)}}function Ks(e,t,n,r,o){return new Array(e,!0,o?-1:0,t,null,null,r,n,null)}function Qs(e,t){var n=Yt(t,e);(128==(128&n[Ye])||Sn(e))&&80&n[Ye]&&(function(e){for(var t=e[Qe],n=e.length;n<t.blueprint.length;n++)e[n]=t.blueprint[n]}(n),ea(n,n[nt]))}function Ys(e,t){return e[at]?e[lt][Xe]=t:e[at]=t,e[lt]=t,t}function Zs(e){for(;e;){e[Ye]|=64;var t=jr(e);if(St(e)&&!t)return e;e=t}return null}function Xs(e){for(var t=0;t<e.components.length;t++){var n=e.components[t];Ss(Xt(n),n)}}function $s(e,t){var n=e[ot];n.begin&&n.begin();try{Sn(e)&&ea(e,t),ea(e,t)}catch(r){throw la(e,r),r}finally{n.end&&n.end()}}function Js(e){Xs(e[nt])}function ea(e,t){var n=e[Qe],r=Fn(e,e[Je]),o=n.template,i=Sn(e),s=!1;try{$t(e),i&&ta(1,n,t),Rs(e,o,Ts(e),t),ys(e),s=!0}finally{Ln(r,s)}}function ta(e,t,n){var r=t.viewQuery;null!==r&&(xn(0),r(e,n))}function na(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=e[Qe].data,o=e[et]-1;return null==r[o]?r[o]=nr+t+nr+n:null}var ra=vs;function oa(e){return void 0===e.inputs&&(e.inputs=Ns(e,0)),e.inputs}function ia(e){return e[tt]||(e[tt]=[])}function sa(e){return e[Qe].cleanup||(e[Qe].cleanup=[])}function aa(e,t){return t[e.index][it]}function la(e,t){var n=e[rt],r=n?n.get(wo,null):null;r&&r.handleError(t)}function ua(e,t,n){for(var r=e[Qe],o=0;o<t.length;){var i=t[o++],s=t[o++],a=t[o++],l=e[i],u=r.data[i];u.setInput?u.setInput(l,n,s,a):l[a]=n}}function ca(e,t,n){var r=jt(t,e),o=e[it];xr(o)?o.setValue(r,n):r.textContent=n}function pa(e,t,n){ts(e,t,n.classes,!0),ts(e,t,n.styles,!1)}function da(e,t){var n=t[Ze];return-1===e.index?wt(n)?n:null:n}function ha(e,t){var n=da(e,t);return n?Ta(t[it],n[vt]):null}function fa(e,t,n,r,o){if(null!=r){var i,s=!1;wt(r)?i=r:Ct(r)&&(s=!0,r=r[Ke]);var a=Ut(r);0===e?Sa(t,n,a,o||null):1===e?Ia(t,a,s):2===e&&t.destroyNode(a),null!=i&&function(e,t,n,r,o){var i=n[vt];i!==Ut(n)&&fa(t,e,r,i,o);for(var s=mt;s<n.length;s++)Na(e,t,n[s],r,i)}(t,e,i,n,o)}}function ga(e,t){return xr(t)?t.createText(Zn(e)):t.createTextNode(Zn(e))}function va(e,t,n){var r=ha(e[Qe].node,e);r&&Na(e[it],t?0:1,e,r,n)}function ya(e,t,n){var r=mt+n,o=t.length;n>0&&(t[r-1][Xe]=e),n<o-mt?(e[Xe]=t[r],fe(t,mt+n,e)):(t.push(e),e[Xe]=null),e[Ze]=t;var i=e[ct];null!==i&&t!==i&&function(e,t){var n=e[gt];null===n?e[gt]=[t]:n.push(t)}(i,e);var s=e[$e];null!==s&&s.insertView(e[Qe]),e[Ye]|=128}function ma(e,t){var n=e[gt],r=n.indexOf(t);n.splice(r,1)}function Ca(e,t){if(!(e.length<=mt)){var n=mt+t,r=e[n];if(r){var o=r[ct];null!==o&&o!==e&&ma(o,r),t>0&&(e[n-1][Xe]=r[Xe]);var i=ge(e,mt+t);va(r,!1);var s=i[$e];null!==s&&s.detachView(i[Qe]),r[Ze]=null,r[Xe]=null,r[Ye]&=-129}return r}}function wa(e,t){var n=Ca(e,t);n&&ba(n)}function ba(e){if(!(256&e[Ye])){var t=e[it];xr(t)&&t.destroyNode&&Na(t,2,e,null,null),function(e){var t=e[at];if(!t)return _a(e);for(;t;){var n=null;if(Ct(t))n=t[at];else{var r=t[mt];r&&(n=r)}if(!n){for(;t&&!t[Xe]&&t!==e;)_a(t),t=Ea(t,e);_a(t||e),n=t&&t[Xe]}t=n}}(e)}}function Ea(e,t){var n;return Ct(e)&&(n=e[Je])&&2===n.type?da(n,e):e[Ze]===t?null:e[Ze]}function _a(e){if(Ct(e)&&!(256&e[Ye])){e[Ye]&=-129,e[Ye]|=256,function(e){var t,n=e[Qe];if(null!=n&&null!=(t=n.destroyHooks))for(var r=0;r<t.length;r+=2){var o=e[t[r]];o instanceof It||t[r+1].call(o)}}(e),function(e){var t=e[Qe].cleanup;if(null!==t){for(var n=e[tt],r=0;r<t.length-1;r+=2)if("string"==typeof t[r]){var o=t[r+1],i="function"==typeof o?o(e):Ut(e[o]),s=n[t[r+2]],a=t[r+3];"boolean"==typeof a?i.removeEventListener(t[r],s,a):a>=0?n[a]():n[-a].unsubscribe(),r+=2}else t[r].call(n[t[r+1]]);e[tt]=null}}(e);var t=e[Je];t&&3===t.type&&xr(e[it])&&e[it].destroy();var n=e[ct];if(null!==n&&wt(e[Ze])){n!==e[Ze]&&ma(n,e);var r=e[$e];null!==r&&r.detachView(e[Qe])}}}function Sa(e,t,n,r){xr(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function Ra(e,t,n,r){null!==r?Sa(e,t,n,r):function(e,t,n){xr(e)?e.appendChild(t,n):t.appendChild(n)}(e,t,n)}function Ta(e,t){return xr(e)?e.parentNode(t):t.parentNode}function Oa(e,t,n){var r=function(e,t){if(St(t))return Ta(t[it],zt(e,t));var n=function(e){for(;null!=e.parent&&(4===e.parent.type||5===e.parent.type);)e=e.parent;return e}(e),r=n.parent;if(null==r){var o=t[Je];return 2===o.type?ha(o,t):function(e){var t=e[Je];return t&&3===t.type?zt(t,jr(e)):null}(t)}var i=n&&5===n.type;if(i&&2&n.flags)return zt(n,t).parentNode;if(1&r.flags&&!i){var s=t[Qe].data,a=s[s[r.index].directiveStart].encapsulation;if(a!==we.ShadowDom&&a!==we.Native)return null}return zt(r,t)}(t,n);if(null!=r){var o=n[it],i=function(e,t){if(2===e.type){var n=da(e,t);return Da(n.indexOf(t,mt)-mt,n)}return 4===e.type||5===e.type?zt(e,t):null}(t.parent||n[Je],n);if(Array.isArray(e)){var s=!0,a=!1,l=void 0;try{for(var u,c=e[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){Ra(o,r,u.value,i)}}catch(p){a=!0,l=p}finally{try{s||null==c.return||c.return()}finally{if(a)throw l}}}else Ra(o,r,e,i)}}function Da(e,t){var n=mt+e+1;if(n<t.length){var r=t[n],o=r[Je].child;return null!==o?qt(o,r):t[vt]}return t[vt]}function Ia(e,t,n){var r=Ta(e,t);r&&function(e,t,n,r){xr(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function Aa(e,t,n,r){var o=r[Ze],i=r[Je].projection[n];if(Array.isArray(i))Oa(i,t,e);else for(;i;)32&i.flags||(1===i.type?Aa(e,t,i.projection,zr(o)):(i.flags|=2,Pa(i,t,e,o))),i=i.projectionNext}function ka(e,t,n,r){for(;e;)Pa(e,t,n,r),e=e.next}function Pa(e,t,n,r){var o=zt(e,r);Oa(o,t,n),_i(o,r);var i=r[e.index];if(0===e.type)for(var s=mt;s<i.length;s++)va(i[s],!0,i[vt]);else if(5===e.type){var a=e.child;ka(a,a,r,r)}else 4===e.type&&ka(e.child,t,n,r),wt(i)&&Oa(i[vt],t,n)}function Na(e,t,n,r,o){for(var i=n[Qe].node.child;null!==i;)xa(e,t,n,i,r,o),i=i.next}function xa(e,t,n,r,o,i){var s=r.type;32&r.flags||(4===s||5===s?function(e,t,n,r,o,i){fa(t,e,o,n[r.index],i);for(var s=r.child;s;)xa(e,t,n,s,o,i),s=s.next}(e,t,n,r,o,i):1===s?function(e,t,n,r,o,i){var s=zr(n),a=s[Je].projection[r.projection];if(void 0!==a)if(Array.isArray(a))for(var l=0;l<a.length;l++)fa(t,e,o,a[l],i);else for(var u=a,c=s[Ze];null!==u;)xa(e,t,c,u,o,i),u=u.projectionNext}(e,t,n,r,o,i):fa(t,e,o,n[r.index],i))}var Fa,Ma,La,Va=function(){function e(t,n,r){_classCallCheck(this,e),this._context=n,this._componentIndex=r,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=t}return _createClass(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}ba(this._lView)}},{key:"onDestroy",value:function(e){var t,n;n=e,ia(t=this._lView).push(n),t[Qe].firstTemplatePass&&sa(t).push(t[tt].length-1,null)}},{key:"markForCheck",value:function(){Zs(this._lView)}},{key:"detach",value:function(){this._lView[Ye]&=-129}},{key:"reattach",value:function(){this._lView[Ye]|=128}},{key:"detectChanges",value:function(){$s(this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t){Dn(!0);try{$s(e,t)}finally{Dn(!1)}}(this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){this._appRef=null,function(e){Na(e[it],1,e,null,null)}(this._lView)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"_lookUpContext",value:function(){return this._context=jr(this._lView)[this._componentIndex]}},{key:"rootNodes",get:function(){return null==this._lView[Ke]?function e(t,n,r){for(var o=n.child;o;){var i=qt(o,t);if(i&&r.push(i),4===o.type)e(t,o,r);else if(1===o.type)for(var s=zr(t),a=s[Je],l=jr(s),u=a.projection[o.projection];u&&l;)r.push(zt(u,l)),u=u.next;o=o.next}return r}(this._lView,this._lView[Je],[]):[]}},{key:"context",get:function(){return this._context?this._context:this._lookUpContext()}},{key:"destroyed",get:function(){return 256==(256&this._lView[Ye])}}]),e}(),Ga=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,null,-1)))._view=e,n}return _inherits(t,e),_createClass(t,[{key:"detectChanges",value:function(){Js(this._view)}},{key:"checkNoChanges",value:function(){!function(e){Dn(!0);try{Js(e)}finally{Dn(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),t}(Va);function Wa(e,t,n){return Fa||(Fa=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(e)),new Fa(zt(t,n))}function Ha(e,t,n,r){return Ma||(Ma=function(e){function t(e,n,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._declarationView=e,o._declarationTContainer=n,o.elementRef=r,o}return _inherits(t,e),_createClass(t,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=function(e,t,n,r){var o=En(),i=Cn();wn(null,!0);var s=ws(n,e,t,16,null,null);return s[ut]=n,Es(e,null,-1,s),e.firstTemplatePass&&(e.node.injectorIndex=r),wn(i,o),s}(t,e,this._declarationView,this._declarationTContainer.injectorIndex);n[ct]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[$e];null!==r&&(n[$e]=r.createEmbeddedView(t)),_s(n,t,e);var o=new Va(n,e,-1);return o._tViewNode=n[Je],o}}]),t}(e)),0===n.type?new Ma(r,n,Wa(t,n,r)):null}function Ba(e,t,n,r){var o;La||(La=function(e){function n(e,t,r){var o;return _classCallCheck(this,n),(o=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this)))._lContainer=e,o._hostTNode=t,o._hostView=r,o}return _inherits(n,e),_createClass(n,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[yt]&&this._lContainer[yt][e]||null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,o){var i=n||this.parentInjector;!o&&null==e.ngModule&&i&&(o=i.get(ue,null));var s=e.create(i,r,void 0,o);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");this.allocateContainerIfNeeded();var n=e._lView,r=this._adjustIndex(t);return wt(n[Ze])?this.move(e,r):(ya(n,this._lContainer,r),va(n,!0,Da(r,this._lContainer)),e.attachToViewContainerRef(this),fe(this._lContainer[yt],r,e),e)}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n=this.indexOf(e);return-1!==n&&this.detach(n),this.insert(e,t),e}},{key:"indexOf",value:function(e){return null!==this._lContainer[yt]?this._lContainer[yt].indexOf(e):0}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);wa(this._lContainer,t),ge(this._lContainer[yt],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=Ca(this._lContainer,t);return n&&null!=ge(this._lContainer[yt],t)?new Va(n,n[nt],-1):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[yt]&&(this._lContainer[yt]=[])}},{key:"element",get:function(){return Wa(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new co(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=eo(this._hostTNode,this._hostView),t=Ur(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,o=n.parent;null!=o.parent&&r==o.injectorIndex;)o=o.parent;return o}for(var i=Br(e),s=t,a=t[Je];i>1;)a=(s=s[ut])[Je],i--;return a}(e,this._hostView,this._hostTNode);return Wr(e)&&null!=n?new co(n,t):new co(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-mt}}]),n}(e));var i=r[n.index];if(wt(i))(o=i)[ft]=-1;else{var s;if(s=4===n.type?Ut(i):r[it].createComment(""),St(r)){var a=r[it],l=zt(n,r);Sa(a,Ta(a,l),s,function(e,t){return xr(e)?e.nextSibling(t):t.nextSibling}(a,l))}else Oa(s,n,r);r[n.index]=o=Ks(i,r,s,n,!0),Ys(r,o)}return new La(o,n,r)}function Ua(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(Et(e)&&!n){var r=e.directiveStart,o=Yt(e.index,t);return new Va(o,null,r)}if(3===e.type||0===e.type||4===e.type){var i=zr(t);return new Va(i,i[nt],-1)}return null}(Cn(),an(),e)}var ja=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return qa()},e}(),za=Ua,qa=function(){},Ka=Function;function Qa(e){return"function"==typeof e}var Ya=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Za=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Xa=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,$a=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/,Ja=function(){function e(t){_classCallCheck(this,e),this._reflect=t||G.Reflect}return _createClass(e,[{key:"isReflectionEnabled",value:function(){return!0}},{key:"factory",value:function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _construct(e,n)}}},{key:"_zipTypesAndAnnotations",value:function(e,t){var n;n=void 0===e?new Array(t.length):new Array(e.length);for(var r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}},{key:"_ownParameters",value:function(e,t){if(n=e.toString(),Ya.test(n)||$a.test(n)||Za.test(n)&&!Xa.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;var r=e.ctorParameters;if(r&&r!==t.ctorParameters){var o="function"==typeof r?r():r,i=o.map((function(e){return e&&e.type})),s=o.map((function(e){return e&&el(e.decorators)}));return this._zipTypesAndAnnotations(i,s)}var a=e.hasOwnProperty(u)&&e[u],l=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return l||a?this._zipTypesAndAnnotations(l,a):new Array(e.length).fill(void 0)}},{key:"parameters",value:function(e){if(!Qa(e))return[];var t=tl(e),n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}},{key:"_ownAnnotations",value:function(e,t){if(e.annotations&&e.annotations!==t.annotations){var n=e.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return e.decorators&&e.decorators!==t.decorators?el(e.decorators):e.hasOwnProperty(l)?e[l]:null}},{key:"annotations",value:function(e){if(!Qa(e))return[];var t=tl(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}},{key:"_ownPropMetadata",value:function(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){var n=e.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(e.propDecorators&&e.propDecorators!==t.propDecorators){var r=e.propDecorators,o={};return Object.keys(r).forEach((function(e){o[e]=el(r[e])})),o}return e.hasOwnProperty(c)?e[c]:null}},{key:"propMetadata",value:function(e){if(!Qa(e))return{};var t=tl(e),n={};if(t!==Object){var r=this.propMetadata(t);Object.keys(r).forEach((function(e){n[e]=r[e]}))}var o=this._ownPropMetadata(e,t);return o&&Object.keys(o).forEach((function(e){var t=[];n.hasOwnProperty(e)&&t.push.apply(t,_toConsumableArray(n[e])),t.push.apply(t,_toConsumableArray(o[e])),n[e]=t})),n}},{key:"ownPropMetadata",value:function(e){return Qa(e)&&this._ownPropMetadata(e,tl(e))||{}}},{key:"hasLifecycleHook",value:function(e,t){return e instanceof Ka&&t in e.prototype}},{key:"guards",value:function(e){return{}}},{key:"getter",value:function(e){return new Function("o","return o."+e+";")}},{key:"setter",value:function(e){return new Function("o","v","return o."+e+" = v;")}},{key:"method",value:function(e){return new Function("o","args","if (!o.".concat(e,") throw new Error('\"").concat(e,"\" is undefined');\n        return o.").concat(e,".apply(o, args);"))}},{key:"importUri",value:function(e){return"object"==typeof e&&e.filePath?e.filePath:"./".concat(k(e))}},{key:"resourceUri",value:function(e){return"./".concat(k(e))}},{key:"resolveIdentifier",value:function(e,t,n,r){return r}},{key:"resolveEnum",value:function(e,t){return e[t]}}]),e}();function el(e){return e?e.map((function(e){return _construct(e.type.annotationCls,_toConsumableArray(e.args?e.args:[]))})):[]}function tl(e){var t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}var nl=null;function rl(){return nl=nl||new Ja}function ol(e){return il(rl().parameters(e))}function il(e){var t=W();return e.map((function(e){return function(e,t){var n={token:null,host:!1,optional:!1,resolved:e.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(t){n.resolved=e.R3ResolvedDependencyType.Token,n.token=t}if(Array.isArray(t)){if(0===t.length)throw new Error("Dependency array must have arguments.");for(var o=0;o<t.length;o++){var i=t[o];if(void 0!==i)if(i instanceof v||"Optional"===i.__proto__.ngMetadataName)n.optional=!0;else if(i instanceof m||"SkipSelf"===i.__proto__.ngMetadataName)n.skipSelf=!0;else if(i instanceof y||"Self"===i.__proto__.ngMetadataName)n.self=!0;else if(i instanceof C||"Host"===i.__proto__.ngMetadataName)n.host=!0;else if(i instanceof g)n.token=i.token;else if(i instanceof w){if(void 0===i.attributeName)throw new Error("Attribute name must be defined.");n.token=i.attributeName,n.resolved=e.R3ResolvedDependencyType.Attribute}else i===ja?(n.token=i,n.resolved=e.R3ResolvedDependencyType.ChangeDetectorRef):r(i)}}else r(t);return n}(t,e)}))}function sl(e,t){var n=null;e.hasOwnProperty(I)||Object.defineProperty(e,I,{get:function(){if(null===n){var r=t||{providedIn:null},o=ll(r)||cl(r)||ul(r)||pl(r),i={name:e.name,type:e,typeArgumentCount:0,providedIn:r.providedIn,ctorDeps:ol(e),userDeps:void 0};if((ll(r)||cl(r))&&void 0!==r.deps&&(i.userDeps=il(r.deps)),o)if(ll(r))i.useClass=r.useClass;else if(ul(r))i.useValue=r.useValue;else if(cl(r))i.useFactory=r.useFactory;else{if(!pl(r))throw new Error("Unreachable state.");i.useExisting=r.useExisting}else i.useClass=e;n=W().compileInjectable(le,"ng:///".concat(e.name,"/ngInjectableDef.js"),i)}return n}})}var al=E({provide:String,useValue:E});function ll(e){return void 0!==e.useClass}function ul(e){return al in e}function cl(e){return void 0!==e.useFactory}function pl(e){return void 0!==e.useExisting}var dl=E({provide:String,useValue:E}),hl=[];function fl(e,t){if(!t){var n=(new Ja).parameters(e);return function(){return _construct(e,_toConsumableArray(oe(n)))}}if(dl in t){var r=t;return function(){return r.useValue}}if(t.useExisting){var o=t;return function(){return te(o.useExisting)}}if(t.useFactory){var i=t;return function(){return i.useFactory.apply(i,_toConsumableArray(oe(i.deps||hl)))}}if(t.useClass){var s=t,a=t.deps;if(!a){var l=new Ja;a=l.parameters(e)}return function(){return _construct(s.useClass,_toConsumableArray(oe(a)))}}var u=t.deps;if(!u){var c=new Ja;u=c.parameters(e)}return function(){return _construct(e,_toConsumableArray(oe(u)))}}var gl=p("Injectable",void 0,void 0,void 0,(function(e,t){return yl(e,t)})),vl=sl,yl=function(e,t){t&&void 0!==t.providedIn&&!O(e)&&(e.ngInjectableDef=S({token:e,providedIn:t.providedIn,factory:fl(e,t)}))},ml=new B("The presence of this token marks an injector as being the root injector."),Cl={},wl={},bl=[],El=void 0;function _l(){return void 0===El&&(El=new ie),El}function Sl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return t=t||_l(),new Rl(e,n,t,r)}var Rl=function(){function e(t,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];he([t],(function(e){return o.processInjectorType(e,[],s)})),n&&he(n,(function(e){return o.processProvider(e,t,n)})),this.records.set(U,Dl(void 0,this)),this.isRootInjector=this.records.has(ml),this.injectorDefTypes.forEach((function(e){return o.get(e)})),this.source=i||("object"==typeof t?null:k(t))}return _createClass(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.Default;this.assertNotDestroyed();var r,o=$(this);try{if(!(n&b.SkipSelf)){var i=this.records.get(e);if(void 0===i){var s=("function"==typeof(r=e)||"object"==typeof r&&r instanceof B)&&O(e);s&&this.injectableDefInScope(s)&&(i=Dl(Tl(e),Cl),this.records.set(e,i))}if(void 0!==i)return this.hydrate(e,i)}return(n&b.Self?_l():this.parent).get(e,n&b.Optional?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[z]=a[z]||[]).unshift(k(e)),o)throw a;return se(a,e,"R3InjectorError",this.source)}throw a}finally{$(o)}}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(k(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=x(e)))return!1;var o=D(e),i=null==o&&e.ngModule||void 0,s=void 0===i?e:i,a=-1!==n.indexOf(s);if(void 0!==i&&(o=D(i)),null==o)return!1;if(this.injectorDefTypes.add(s),this.records.set(s,Dl(o.factory,Cl)),null!=o.imports&&!a){var l;n.push(s);try{he(o.imports,(function(e){r.processInjectorType(e,t,n)&&(void 0===l&&(l=[]),l.push(e))}))}finally{}if(void 0!==l)for(var u=function(e){var t=l[e],n=t.ngModule,o=t.providers;he(o,(function(e){return r.processProvider(e,n,o||bl)}))},c=0;c<l.length;c++)u(c)}var p=o.providers;if(null!=p&&!a){var d=e;he(p,(function(e){return r.processProvider(e,d,p)}))}return void 0!==i&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=Al(e=x(e))?e:x(e&&e.provide),o=function(e,t,n){var r=Ol(e,t,n);return Il(e)?Dl(void 0,e.useValue):Dl(r,Cl)}(e,t,n);if(Al(e)||!0!==e.multi){var i=this.records.get(r);i&&void 0!==i.multi&&Ii()}else{var s=this.records.get(r);s?void 0===s.multi&&Ii():((s=Dl(void 0,Cl,!0)).factory=function(){return oe(s.multi)},this.records.set(r,s)),r=e,s.multi.push(e)}this.records.set(r,o)}},{key:"hydrate",value:function(e,t){var n;return t.value===wl?function(e){throw new Error("Cannot instantiate cyclic dependency! ".concat(e))}(k(e)):t.value===Cl&&(t.value=wl,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||"root"===e.providedIn&&this.isRootInjector:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function Tl(e){var t=O(e);if(null!==t)return t.factory;var n=D(e);if(null!==n)return n.factory;if(e instanceof B)throw new Error("Token ".concat(k(e)," is missing an ngInjectableDef definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=new Array(t).fill("?");throw new Error("Can't resolve all parameters for ".concat(k(e),": (").concat(n.join(", "),")."))}var r,o=(r=e)&&r[I]?(console.warn('DEPRECATED: DI is instantiating a token "'.concat(r.name,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in v10. Please add @Injectable() to the "'.concat(r.name,'" class.')),r[I]):null;return null!==o?function(){return o.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function Ol(e,t,n){var r,o=void 0;if(Al(e))return Tl(x(e));if(Il(e))o=function(){return x(e.useValue)};else if((r=e)&&r.useExisting)o=function(){return te(x(e.useExisting))};else if(function(e){return!(!e||!e.useFactory)}(e))o=function(){return e.useFactory.apply(e,_toConsumableArray(oe(e.deps||[])))};else{var i=x(e&&(e.useClass||e.provide));if(i||function(e,t,n){var r="";throw e&&t&&(r=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(k(e),"'")+r)}(t,n,e),!function(e){return!!e.deps}(e))return Tl(i);o=function(){return _construct(i,_toConsumableArray(oe(e.deps)))}}return o}function Dl(e,t){return{factory:e,value:t,multi:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?[]:void 0}}function Il(e){return null!==e&&"object"==typeof e&&Z in e}function Al(e){return"function"==typeof e}function kl(e,t,n){return Sl({name:n},t,e,n)}var Pl=function(e,t,n){return new Vl(e,t,n)},Nl=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Pl(e,t,""):Pl(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=j,e.NULL=new ie,e.ngInjectableDef=S({token:e,providedIn:"any",factory:function(){return te(U)}}),e.__NG_ELEMENT_ID__=-1,e}(),xl=function(e){return e},Fl=[],Ml=xl,Ll=function(){return Array.prototype.slice.call(arguments)},Vl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nl.NULL,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,e),this.parent=n,this.source=r;var o=this._records=new Map;o.set(Nl,{token:Nl,fn:xl,deps:Fl,value:this,useNew:!1}),o.set(U,{token:U,fn:xl,deps:Fl,value:this,useNew:!1}),function e(t,n){if(n)if((n=x(n))instanceof Array)for(var r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw Wl("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Wl("Unexpected provider",n);var o=x(n.provide),i=function(e){var t=function(e){var t=Fl,n=e.deps;if(n&&n.length){t=[];for(var r=0;r<n.length;r++){var o=6,i=x(n[r]);if(i instanceof Array)for(var s=0,a=i;s<a.length;s++){var l=a[s];l instanceof v||l==v?o|=1:l instanceof m||l==m?o&=-3:l instanceof y||l==y?o&=-5:i=l instanceof g?l.token:x(l)}t.push({token:i,options:o})}}else if(e.useExisting)t=[{token:x(e.useExisting),options:6}];else if(!(n||Z in e))throw Wl("'deps' required",e);return t}(e),n=xl,r=Fl,o=!1,i=x(e.provide);if(Z in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)o=!0,n=x(e.useClass);else{if("function"!=typeof i)throw Wl("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);o=!0,n=i}return{deps:t,fn:n,useNew:o,value:r}}(n);if(!0===n.multi){var s=t.get(o);if(s){if(s.fn!==Ll)throw Gl(o)}else t.set(o,s={token:n.provide,deps:[],useNew:!1,fn:Ll,value:Fl});s.deps.push({token:o=n,options:6})}var a=t.get(o);if(a&&a.fn==Ll)throw Gl(o);t.set(o,i)}}(o,t)}return _createClass(e,[{key:"get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.Default,r=this._records.get(e);try{return function e(t,n,r,o,i,s){try{return function(t,n,r,o,i,s){var a;if(!n||s&b.SkipSelf)s&b.Self||(a=o.get(t,i,b.Default));else{if((a=n.value)==Ml)throw Error("\u0275Circular dependency");if(a===Fl){n.value=Ml;var l=n.useNew,u=n.fn,c=n.deps,p=Fl;if(c.length){p=[];for(var d=0;d<c.length;d++){var h=c[d],f=h.options,g=2&f?r.get(h.token):void 0;p.push(e(h.token,g,r,g||4&f?o:Nl.NULL,1&f?null:Nl.THROW_IF_NOT_FOUND,b.Default))}}n.value=a=l?_construct(u,_toConsumableArray(p)):u.apply(void 0,p)}}return a}(t,n,r,o,i,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a[z]=a[z]||[]).unshift(t),n&&n.value==Ml&&(n.value=Fl),a}}(e,r,this._records,this.parent,t,n)}catch(o){return se(o,e,"StaticInjectorError",this.source)}}},{key:"toString",value:function(){var e=[];return this._records.forEach((function(t,n){return e.push(k(n))})),"StaticInjector[".concat(e.join(", "),"]")}}]),e}();function Gl(e){return Wl("Cannot mix multi providers and regular providers",e)}function Wl(e,t){return new Error(ae(e,t,"StaticInjectorError"))}function Hl(e){return e.length>1?" ("+function(e){for(var t=[],n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map((function(e){return k(e.token)})).join(" -> ")+")":""}function Bl(e,t,n,r){var o=[t],i=n(o),s=r?function(e,t){var n="".concat(e," caused by: ").concat(t instanceof Error?t.message:t),r=Error(n);return r[go]=t,r}(i,r):Error(i);return s.addKey=Ul,s.keys=o,s.injectors=[e],s.constructResolvingMessage=n,s[go]=r,s}function Ul(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function jl(e,t){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];n.push(i&&0!=i.length?i.map(k).join(" "):"?")}return Error("Cannot resolve all parameters for '"+k(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+k(e)+"' is decorated with Injectable.")}var zl=function(){function e(t,n){if(_classCallCheck(this,e),this.token=t,this.id=n,!t)throw new Error("Token must be defined!");this.displayName=k(this.token)}return _createClass(e,null,[{key:"get",value:function(e){return ql.get(x(e))}},{key:"numberOfKeys",get:function(){return ql.numberOfKeys}}]),e}(),ql=new(function(){function e(){_classCallCheck(this,e),this._allKeys=new Map}return _createClass(e,[{key:"get",value:function(e){if(e instanceof zl)return e;if(this._allKeys.has(e))return this._allKeys.get(e);var t=new zl(e,zl.numberOfKeys);return this._allKeys.set(e,t),t}},{key:"numberOfKeys",get:function(){return this._allKeys.size}}]),e}()),Kl=new(function(){function e(t){_classCallCheck(this,e),this.reflectionCapabilities=t}return _createClass(e,[{key:"updateCapabilities",value:function(e){this.reflectionCapabilities=e}},{key:"factory",value:function(e){return this.reflectionCapabilities.factory(e)}},{key:"parameters",value:function(e){return this.reflectionCapabilities.parameters(e)}},{key:"annotations",value:function(e){return this.reflectionCapabilities.annotations(e)}},{key:"propMetadata",value:function(e){return this.reflectionCapabilities.propMetadata(e)}},{key:"hasLifecycleHook",value:function(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}},{key:"getter",value:function(e){return this.reflectionCapabilities.getter(e)}},{key:"setter",value:function(e){return this.reflectionCapabilities.setter(e)}},{key:"method",value:function(e){return this.reflectionCapabilities.method(e)}},{key:"importUri",value:function(e){return this.reflectionCapabilities.importUri(e)}},{key:"resourceUri",value:function(e){return this.reflectionCapabilities.resourceUri(e)}},{key:"resolveIdentifier",value:function(e,t,n,r){return this.reflectionCapabilities.resolveIdentifier(e,t,n,r)}},{key:"resolveEnum",value:function(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}]),e}())(new Ja),Ql=function(){function e(t,n,r){_classCallCheck(this,e),this.key=t,this.optional=n,this.visibility=r}return _createClass(e,null,[{key:"fromKey",value:function(t){return new e(t,!1,null)}}]),e}(),Yl=[],Zl=function e(t,n,r){_classCallCheck(this,e),this.key=t,this.resolvedFactories=n,this.multiProvider=r,this.resolvedFactory=this.resolvedFactories[0]},Xl=function e(t,n){_classCallCheck(this,e),this.factory=t,this.dependencies=n};function $l(e){var t,n;if(e.useClass){var r=x(e.useClass);t=Kl.factory(r),n=tu(r)}else e.useExisting?(t=function(e){return e},n=[Ql.fromKey(zl.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){var n=t.map((function(e){return[e]}));return t.map((function(t){return nu(e,t,n)}))}return tu(e)}(e.useFactory,e.deps)):(t=function(){return e.useValue},n=Yl);return new Xl(t,n)}function Jl(e){return new Zl(zl.get(e.provide),[$l(e)],e.multi||!1)}function eu(e){var t=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=t.get(r.key.id);if(o){if(r.multiProvider!==o.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: ".concat(o," ").concat(r));if(r.multiProvider)for(var i=0;i<r.resolvedFactories.length;i++)o.resolvedFactories.push(r.resolvedFactories[i]);else t.set(r.key.id,r)}else{var s;s=r.multiProvider?new Zl(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,s)}}return t}(function e(t,n){return t.forEach((function(t){if(t instanceof Ka)n.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)n.push(t);else{if(!(t instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: ".concat(t));e(t,n)}})),n}(e,[]).map(Jl),new Map);return Array.from(t.values())}function tu(e){var t=Kl.parameters(e);if(!t)return[];if(t.some((function(e){return null==e})))throw jl(e,t);return t.map((function(n){return nu(e,n,t)}))}function nu(e,t,n){var r=null,o=!1;if(!Array.isArray(t))return ru(t instanceof g?t.token:t,o,null);for(var i=null,s=0;s<t.length;++s){var a=t[s];a instanceof Ka?r=a:a instanceof g?r=a.token:a instanceof v?o=!0:a instanceof y||a instanceof m?i=a:a instanceof B&&(r=a)}if(null!=(r=x(r)))return ru(r,o,i);throw jl(e,n)}function ru(e,t,n){return new Ql(zl.get(e),t,n)}var ou=new Object,iu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"resolve",value:function(e){return eu(e)}},{key:"resolveAndCreate",value:function(t,n){var r=e.resolve(t);return e.fromResolvedProviders(r,n)}},{key:"fromResolvedProviders",value:function(e,t){return new su(e,t)}}]),e}(),su=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._constructionCounter=0,this._providers=t,this.parent=n||null;var r=t.length;this.keyIds=new Array(r),this.objs=new Array(r);for(var o=0;o<r;o++)this.keyIds[o]=t[o].key.id,this.objs[o]=ou}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j;return this._getByKey(zl.get(e),null,t)}},{key:"resolveAndCreateChild",value:function(e){var t=iu.resolve(e);return this.createChildFromResolved(t)}},{key:"createChildFromResolved",value:function(t){var n=new e(t);return n.parent=this,n}},{key:"resolveAndInstantiate",value:function(e){return this.instantiateResolved(iu.resolve([e])[0])}},{key:"instantiateResolved",value:function(e){return this._instantiateProvider(e)}},{key:"getProviderAtIndex",value:function(e){if(e<0||e>=this._providers.length)throw function(e){return Error("Index ".concat(e," is out-of-bounds."))}(e);return this._providers[e]}},{key:"_new",value:function(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw Bl(this,e.key,(function(e){return"Cannot instantiate cyclic dependency!".concat(Hl(e))}));return this._instantiateProvider(e)}},{key:"_getMaxNumberOfObjects",value:function(){return this.objs.length}},{key:"_instantiateProvider",value:function(e){if(e.multiProvider){for(var t=new Array(e.resolvedFactories.length),n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}},{key:"_instantiate",value:function(e,t){var n,r,o,i=this,s=t.factory;try{n=t.dependencies.map((function(e){return i._getByReflectiveDependency(e)}))}catch(a){throw a.addKey&&a.addKey(this,e.key),a}try{r=s.apply(void 0,_toConsumableArray(n))}catch(a){throw Bl(this,e.key,(function(e){var t=k(e[0].token);return"".concat(o.message,": Error during instantiation of ").concat(t,"!").concat(Hl(e),".")}),o=a)}return r}},{key:"_getByReflectiveDependency",value:function(e){return this._getByKey(e.key,e.visibility,e.optional?null:j)}},{key:"_getByKey",value:function(t,n,r){return t===e.INJECTOR_KEY?this:n instanceof y?this._getByKeySelf(t,r):this._getByKeyDefault(t,r,n)}},{key:"_getObjByKeyId",value:function(e){for(var t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===ou&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return ou}},{key:"_throwOrNull",value:function(e,t){if(t!==j)return t;throw function(e,t){return Bl(e,t,(function(e){return"No provider for ".concat(k(e[0].token),"!").concat(Hl(e))}))}(this,e)}},{key:"_getByKeySelf",value:function(e,t){var n=this._getObjByKeyId(e.id);return n!==ou?n:this._throwOrNull(e,t)}},{key:"_getByKeyDefault",value:function(t,n,r){var o;for(o=r instanceof m?this.parent:this;o instanceof e;){var i=o,s=i._getObjByKeyId(t.id);if(s!==ou)return s;o=i.parent}return null!==o?o.get(t.token,n):this._throwOrNull(t,n)}},{key:"toString",value:function(){return this.displayName}},{key:"displayName",get:function(){return"ReflectiveInjector(providers: [".concat(function(e,t){for(var n=new Array(e._providers.length),r=0;r<e._providers.length;++r)n[r]=' "'+e.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", "),"])")}}]),e}();return e.INJECTOR_KEY=zl.get(Nl),e}(),au=new B("AnalyzeForEntryComponents"),lu=function e(){_classCallCheck(this,e)},uu=f("ContentChildren",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1},t)}),lu),cu=f("ContentChild",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t)}),lu),pu=f("ViewChildren",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0},t)}),lu),du=f("ViewChild",(function(e,t){return Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t)}),lu);function hu(e){var t=[],n=new Map;function r(t){var r=n.get(t);if(!r){var o=e(t);n.set(t,r=o.then(mu))}return r}return fu.forEach((function(e,n){var o=[];e.templateUrl&&o.push(r(e.templateUrl).then((function(t){e.template=t})));var i=e.styleUrls,s=e.styles||(e.styles=[]),a=e.styles.length;i&&i.forEach((function(t,n){s.push(""),o.push(r(t).then((function(r){s[a+n]=r,i.splice(i.indexOf(t),1),0==i.length&&(e.styleUrls=void 0)})))}));var l=Promise.all(o).then((function(){return function(e){gu.delete(e)}(n)}));t.push(l)})),yu(),Promise.all(t).then((function(){}))}var fu=new Map,gu=new Set;function vu(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length)}function yu(){var e=fu;return fu=new Map,e}function mu(e){return"string"==typeof e?e:e.text()}function Cu(e){var t=an(),n=t[Qe];n.firstTemplatePass&&(function(e,t,n){var r=e.expandoInstructions,o=r.length;o>=2&&r[o-2]===t.hostBindings?r[o-1]=r[o-1]+n:r.push(t.hostBindings,n)}(n,tn,e),function(e,t,n){for(var r=0;r<n;r++)t.push(ns),e.blueprint.push(ns),e.data.push(null)}(n,t,e))}var wu=null;function bu(){if(!wu){var e=G.Symbol;if(e&&e.iterator)wu=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(wu=r)}}return wu}function Eu(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function _u(e,t){var n=Ru(e),r=Ru(t);return n&&r?function(e,t,n){for(var r=e[bu()](),o=t[bu()]();;){var i=r.next(),s=o.next();if(i.done&&s.done)return!0;if(i.done||s.done)return!1;if(!n(i.value,s.value))return!1}}(e,t,_u):!(n||!(e&&("object"==typeof e||"function"==typeof e))||r||!(t&&("object"==typeof t||"function"==typeof t)))||Eu(e,t)}var Su=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Ru(e){return!!Tu(e)&&(Array.isArray(e)||!(e instanceof Map)&&bu()in e)}function Tu(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ou(e,t,n){return e[t]=n}function Du(e,t){return e[t]}function Iu(e,t,n){return!!Yn(e[t],n)&&(e[t]=n,!0)}function Au(e,t,n,r){var o=Iu(e,t,n);return Iu(e,t+1,r)||o}function ku(e,t,n,r,o){var i=Au(e,t,n,r);return Iu(e,t+2,o)||i}function Pu(e,t,n,r,o,i){var s=Au(e,t,n,r);return Au(e,t+2,o,i)||s}function Nu(e,t,n){var r=Gn(),o=xu(an(),t);return o!==ns&&Fs(r,e,o,n),Nu}function xu(e,t){var n=e[et]++;return na(e),Iu(e,n,t)?t:ns}function Fu(e,t,n,r){var o=Gn(),i=an(),s=xu(i,t);return s!==ns&&qs(o,e,s,i,n,r),Fu}function Mu(e,t){var n=!1,r=e[Qe].data,o=e[et];if(null==r[o]){for(var i=2;i<t.length;i+=2)r[o++]=t[i];o=e[et]}for(var s=1;s<t.length;s+=2)n=Iu(e,o++,t[s])||n;if(e[et]=o,na(e,t[0],t[t.length-1]),!n)return ns;for(var a=t[0],l=1;l<t.length;l+=2)a+=Zn(t[l])+t[l+1];return a}function Lu(e,t,n,r){var o=Iu(e,e[et]++,n);return na(e,t,r),o?t+Zn(n)+r:ns}function Vu(e,t,n,r,o,i){var s=e[et],a=Au(e,s,n,o);return e[et]+=2,na(e,t,i)&&(e[Qe].data[s]=r),a?t+Zn(n)+r+Zn(o)+i:ns}function Gu(e,t,n,r,o,i,s,a){var l=e[et],u=ku(e,l,n,o,s);if(e[et]+=3,na(e,t,a)){var c=e[Qe].data;c[l]=r,c[l+1]=i}return u?t+Zn(n)+r+Zn(o)+i+Zn(s)+a:ns}function Wu(e,t,n,r,o,i,s,a,l,u){var c=e[et],p=Pu(e,c,n,o,s,l);if(e[et]+=4,na(e,t,u)){var d=e[Qe].data;d[c]=r,d[c+1]=i,d[c+2]=a}return p?t+Zn(n)+r+Zn(o)+i+Zn(s)+a+Zn(l)+u:ns}function Hu(e,t,n,r,o,i,s,a,l,u,c,p){var d=e[et],h=Pu(e,d,n,o,s,l);if(h=Iu(e,d+4,c)||h,e[et]+=5,na(e,t,p)){var f=e[Qe].data;f[d]=r,f[d+1]=i,f[d+2]=a,f[d+3]=u}return h?t+Zn(n)+r+Zn(o)+i+Zn(s)+a+Zn(l)+u+Zn(c)+p:ns}function Bu(e,t,n,r,o,i,s,a,l,u,c,p,d,h){var f=e[et],g=Pu(e,f,n,o,s,l);if(g=Au(e,f+4,c,d)||g,e[et]+=6,na(e,t,h)){var v=e[Qe].data;v[f]=r,v[f+1]=i,v[f+2]=a,v[f+3]=u,v[f+4]=p}return g?t+Zn(n)+r+Zn(o)+i+Zn(s)+a+Zn(l)+u+Zn(c)+p+Zn(d)+h:ns}function Uu(e,t,n,r,o,i,s,a,l,u,c,p,d,h,f,g){var v=e[et],y=Pu(e,v,n,o,s,l);if(y=ku(e,v+4,c,d,f)||y,e[et]+=7,na(e,t,g)){var m=e[Qe].data;m[v]=r,m[v+1]=i,m[v+2]=a,m[v+3]=u,m[v+4]=p,m[v+5]=h}return y?t+Zn(n)+r+Zn(o)+i+Zn(s)+a+Zn(l)+u+Zn(c)+p+Zn(d)+h+Zn(f)+g:ns}function ju(e,t,n,r,o,i,s,a,l,u,c,p,d,h,f,g,v,y){var m=e[et],C=Pu(e,m,n,o,s,l);if(C=Pu(e,m+4,c,d,f,v)||C,e[et]+=8,na(e,t,y)){var w=e[Qe].data;w[m]=r,w[m+1]=i,w[m+2]=a,w[m+3]=u,w[m+4]=p,w[m+5]=h,w[m+6]=g}return C?t+Zn(n)+r+Zn(o)+i+Zn(s)+a+Zn(l)+u+Zn(c)+p+Zn(d)+h+Zn(f)+g+Zn(v)+y:ns}function zu(e,t,n,r,o,i){var s=Gn(),a=an(),l=Lu(a,t,n,r);return l!==ns&&qs(s,e,l,a,o,i),zu}function qu(e,t,n,r,o,i,s,a){var l=Gn(),u=an(),c=Vu(u,t,n,r,o,i);return c!==ns&&qs(l,e,c,u,s,a),qu}function Ku(e,t,n,r,o,i,s,a,l,u){var c=Gn(),p=an(),d=Gu(p,t,n,r,o,i,s,a);return d!==ns&&qs(c,e,d,p,l,u),Ku}function Qu(e,t,n,r,o,i,s,a,l,u,c,p){var d=Gn(),h=an(),f=Wu(h,t,n,r,o,i,s,a,l,u);return f!==ns&&qs(d,e,f,h,c,p),Qu}function Yu(e,t,n,r,o,i,s,a,l,u,c,p,d,h){var f=Gn(),g=an(),v=Hu(g,t,n,r,o,i,s,a,l,u,c,p);return v!==ns&&qs(f,e,v,g,d,h),Yu}function Zu(e,t,n,r,o,i,s,a,l,u,c,p,d,h,f,g){var v=Gn(),y=an(),m=Bu(y,t,n,r,o,i,s,a,l,u,c,p,d,h);return m!==ns&&qs(v,e,m,y,f,g),Zu}function Xu(e,t,n,r,o,i,s,a,l,u,c,p,d,h,f,g,v,y){var m=Gn(),C=an(),w=Uu(C,t,n,r,o,i,s,a,l,u,c,p,d,h,f,g);return w!==ns&&qs(m,e,w,C,v,y),Xu}function $u(e,t,n,r,o,i,s,a,l,u,c,p,d,h,f,g,v,y,m,C){var w=Gn(),b=an(),E=ju(b,t,n,r,o,i,s,a,l,u,c,p,d,h,f,g,v,y);return E!==ns&&qs(w,e,E,b,m,C),$u}function Ju(e,t,n,r){var o=Gn(),i=an(),s=Mu(i,t);return s!==ns&&qs(o,e,s,i,n,r),Ju}function ec(e){$s(Ei(e),e)}function tc(e){var t,n,r;t=Zs(Ei(e))[nt],r=0===t.flags,t.flags|=1,r&&t.clean==vs&&(t.clean=new Promise((function(e){return n=e})),t.scheduler((function(){if(1&t.flags&&(t.flags&=-2,Xs(t)),2&t.flags){t.flags&=-3;var e=t.playerHandler;e&&e.flushPlayers()}t.clean=vs,n(null)})))}function nc(e){var t=an(),n=sc(t,e,null,null);t[Qe].firstTemplatePass&&(n.tViews=[]),_n()}function rc(e,t,n,r,o,i,s,a){var l=an(),u=l[Qe],c=sc(l,e,o||null,i||null);if(u.firstTemplatePass){Ms(u,l,c,s||null);var p=c.tViews=As(-1,t,n,r,u.directiveRegistry,u.pipeRegistry,null,null);null!==u.queries&&(u.queries.template(u,c),p.queries=u.queries.embeddedTView(c))}Ds(u,l,c,a),_i(zt(c,l),l),kt(u,c),_n()}function oc(e){var t=an(),n=t[Qe];wn(Qt(n.data,e),!0),t[e+dt][ft]=0,Pt(t,n,On(),void 0)}function ic(){var e=Cn();En()?_n():wn(e=e.parent,!1);for(var t=an()[e.index],n=t[ft];n<t.length-mt;)wa(t,n)}function sc(e,t,n,r){var o=t+dt,i=e[o]=e[it].createComment(""),s=bs(e[Qe],e[Je],t,0,n,r),a=e[o]=Ks(i,e,i,s);return Oa(i,s,e),Ys(e,a),s}function ac(e,t){var n=an(),r=n[Qe],o=e+dt;o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),n[o]=t}function lc(e){return Qt(Rn,e)}function uc(e){return Qt(an(),e)}function cc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.Default;e=x(e);var n=an();return null==n?te(e,t):ro(Cn(),n,e,t)}function pc(e){return no(Cn(),e)}function dc(){var e,t;an()[Qe].firstTemplatePass&&(e=Cn(),t=Tc(),ar(Dc(e),t),ar(Oc(e),t))}function hc(e){Kn(e)}function fc(e,t,n){gc(Gn(),e,t,n)}function gc(e,t,n,r){yc(e,an()[et]++,t,function(e,t){if(e===ns)return e;var n=null;return null!==e&&(n=t?Zn(e)+t:e),n}(n,r),!1,Ac())}function vc(e,t){var n=an()[et]++;yc(Gn(),n,e,t,!0,Ac())}function yc(e,t,n,r,o,i){var s=an(),a=Kt(e,s),l=zt(a,s),u=!1;if(r!==ns)if(o)u=Ui(Dc(a),s,l,n,t,r,i,!1);else{var c=Qn();u=ji(Oc(a),s,l,n,t,r,c,i,!1)}return u}function mc(e){var t=Gn(),n=an(),r=Kt(t,n),o=Oc(r),i=Tc(),s=n[et]++;!i&&Ir(r)&&e!==ns&&(Ec(o,n,r,s,e,!1),e=ns),bc(t,o,s,e,!1,Ac())}function Cc(e){wc(Gn(),e)}function wc(e,t){var n=an(),r=Kt(e,n),o=Dc(r),i=Tc(),s=n[et]++;!i&&Dr(r)&&t!==ns&&(Ec(o,n,r,s,t,!0),t=ns),bc(e,o,s,t,!0,Ac())}function bc(e,t,n,r,o,i){ss();var s=an(),a=!1;if(r!==ns){var l=zt(Kt(e,s),s),u=s[n];a=br(u,r);var c=function(e,t,n){var r=Array.isArray(e)?e:[null];r[0]=t||null;for(var o=1;o<r.length;o+=2)kr(r,o,null);var i,s=null,a=!1;if("string"==typeof t?t.length&&(s=t.split(/\s+/),a=!0):(s=t?Object.keys(t):null,i=t),s)for(var l=0;l<s.length;l++){var u=s[l];cs(r,n?Sr(u):u,!!a||i[u],!0)}return r}(u,r,!o);o?Ui(t,s,l,null,n,c,i,a):ji(t,s,l,null,n,c,Qn(),i,a)}return a}function Ec(e,t,n,r,o,i){t[r]!==o&&((o||mr(e))&&ua(t,n.inputs[i?"class":"style"],function(e,t,n){var r,o=t;return e.length>0&&(o=n?_r(e,((r=t)&&"string"!=typeof r&&(r=Object.keys(r).join(" ")),r||"")):_r(e,function(e){var t="";if(e)for(var n=Object.keys(e),r=0;r<n.length;r++){var o=n[r];t=_r(t,"".concat(o,":").concat(e[o]),";")}return t}(t),";")),o}(Or(e),o,i)),t[r]=o)}function _c(){var e=Gn(),t=an(),n=Kt(e,t),r=function(e,t){return 3===e.type?t[it]:null}(n,t),o=zt(n,t),i=Tc(),s=Qn();(function(e,t,n,r,o,i,s){var a=n?Cr(n):!!r&&Cr(r),l=yr(n,i),u=yr(r,i);Bi.length&&(l||u)&&qi();var c=Wt(o,a),p=Zi(e,o,t,n,l,c.classesBitMask,es,null),d=Zi(e,o,t,r,u,c.stylesBitMask,Ji,s);p&&d?(Ht(),a&&function(e){Mt.delete(e)}(o)):a&&function(e,t){Mt.set(e,t)}(o,c)})(r,t,Dc(n),Oc(n),o,i,s),Kn(null)}function Sc(e,t,n){for(var r=!1,o=Rr(e.styles),i=Rr(e.classes),s=-1,a=n;a<t.length;a++){var l=t[a];"number"==typeof l?s=l:1==s?(cs(i=i||[""],l,!0),r=!0):2==s&&(cs(o=o||[""],l,t[++a]),r=!0)}return i&&i.length>1&&(e.classes||(e.classes=i),Rc(e.classes,ps(i,!0))),o&&o.length>1&&(e.styles||(e.styles=o),Rc(e.styles,ps(o,!1))),r}function Rc(e,t){Rr(e)[0]=t}function Tc(){return dn+hn}function Oc(e){return Ic(e,!1)}function Dc(e){return Ic(e,!0)}function Ic(e,t){var n=t?e.classes:e.styles;return Tr(n)||(n=[n||[""],0,sr,1,0,ir],t?e.classes=n:e.styles=n),n}function Ac(){return fn>0}function kc(e,t,n,r){var o=an(),i=o[Qe],s=o[e+dt]=Cs(t),a=o[it],l=bs(i,o[Je],e,3,t,n||null);if(null!=n){var u=Mr(s,n);i.firstTemplatePass&&Sc(l,n,u)}if(pa(a,s,l),Oa(s,l,o),0===Jt&&_i(s,o),Jt++,i.firstTemplatePass){Ms(i,o,l,r||null);var c=oa(l);c&&c.hasOwnProperty("class")&&(l.flags|=8),c&&c.hasOwnProperty("style")&&(l.flags|=16),null!==i.queries&&i.queries.elementStart(i,l)}Ds(i,o,l),Os(i,l,o)}function Pc(){var e=Cn();En()?_n():wn(e=e.parent,!1);var t=e,n=an(),r=n[Qe];kt(r,e),Jt--,r.firstTemplatePass&&null!==r.queries&&bt(e)&&r.queries.elementEnd(e),Dr(t)&&t.classes&&Fc(t.classes,n,t.inputs.class),Ir(t)&&t.styles&&Fc(t.styles,n,t.inputs.style)}function Nc(e,t,n,r){kc(e,t,n,r),Pc()}function xc(e){var t=Gn(),n=an(),r=n[Qe],o=Kt(t,n);if(3===o.type){var i=zt(o,n),s=Mr(i,e);r.firstTemplatePass&&Sc(o,e,s)&&pa(n[it],i,o)}}function Fc(e,t,n){ua(t,n,Or(e)||null)}function Mc(e,t,n){var r=an(),o=r[Qe],i=r[e+dt]=r[it].createComment(""),s=bs(o,r[Je],e,4,"ng-container",t||null);t&&o.firstTemplatePass&&Sc(s,t,0),Oa(i,s,r),o.firstTemplatePass&&(Ms(o,r,s,n||null),o.queries&&o.queries.elementStart(o,s)),Ds(o,r,s),_i(i,r),Os(o,s,r)}function Lc(){var e=Cn(),t=an()[Qe];En()?_n():wn(e=e.parent,!1),kt(t,e),t.firstTemplatePass&&null!==t.queries&&bt(e)&&t.queries.elementEnd(e)}function Vc(e,t,n){Mc(e,t,n),Lc()}function Gc(e,t,n){var r=an(),o=Cn(),i=2===o.type?o.parent:o,s=r[i.index],a=function(e,t,n){for(var r=t+mt;r<e.length;r++){var o=e[r][Qe].id;if(o===n)return e[r];if(!(o<n))break;wa(e,r-mt)}return null}(s,s[ft],e);if(a)un=!0,Fn(a,a[Qe].node);else{a=ws(r,function(e,t,n,r){var o=an()[Qe],i=r.tViews;return(e>=i.length||null==i[e])&&(i[e]=As(e,null,t,n,o.directiveRegistry,o.pipeRegistry,null,null)),i[e]}(e,t,n,i),null,16,null,null);var l=En()?o:o&&o.parent;Es(a[Qe],l,e,a),Fn(a,a[Qe].node)}return s&&(Sn(a)&&ya(a,s,s[ft]),s[ft]++),Sn(a)?3:2}function Wc(){var e=an(),t=e[Je];Sn(e)&&(ys(e),e[Ye]&=-5),$t(e),ys(e),Ln(e[Ze][Ze],!0),wn(t,!1)}function Hc(){return an()}function Bc(e){return!!e&&"function"==typeof e.then}function Uc(e){return!!e&&"function"==typeof e.subscribe}function jc(e,t){qc(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3?arguments[3]:void 0)}function zc(e,t){qc(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3?arguments[3]:void 0,aa)}function qc(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=an(),s=Cn(),a=i[Qe],l=a.firstTemplatePass&&(a.cleanup||(a.cleanup=[])),u=!0;if(3===s.type){var c=zt(s,i),p=r?r(c):Ee,d=p.target||c,h=o?o(s,i):i[it],f=ia(i),g=f.length,v=r?function(e){return r(Ut(e[s.index])).target}:s.index;if(xr(h)){var y=null;if(!r&&function(e){return e.directiveEnd>e.directiveStart}(s)&&(y=function(e,t,n){var r=e[Qe].cleanup;if(null!=r)for(var o=0;o<r.length-1;o+=2){var i=r[o];if(i===t&&r[o+1]===n){var s=e[tt],a=r[o+2];return s.length>a?s[a]:null}"string"==typeof i&&(o+=2)}return null}(i,e,s.index)),null!==y)t.__ngNextListenerFn__=y.__ngNextListenerFn__,y.__ngNextListenerFn__=t,u=!1;else{t=Qc(s,i,t,!1);var m=h.listen(p.name||d,e,t);f.push(t,m),l&&l.push(e,v,g,g+1)}}else t=Qc(s,i,t,!0),d.addEventListener(e,t,n),f.push(t),l&&l.push(e,v,g,n)}void 0===s.outputs&&(s.outputs=Ns(s,1));var C,w=s.outputs;if(u&&w&&(C=w[e])){var b=C.length;if(b)for(var E=ia(i),_=0;_<b;_+=3){var S=i[C[_]][C[_+2]].subscribe(t),R=E.length;E.push(t,S),l&&l.push(e,s.index,R,-(R+1))}}}function Kc(e,t,n){try{return!1!==t(n)}catch(r){return la(e,r),!1}}function Qc(e,t,n,r){return function o(i){var s=1&e.flags?Yt(e.index,t):t;0==(32&t[Ye])&&Zs(s);for(var a=Kc(t,n,i),l=o.__ngNextListenerFn__;l;)a=Kc(t,l,i)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&(i.preventDefault(),i.returnValue=!1),a}}function Yc(){return Mn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)}function Zc(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),o=0;o<t.length;o++){var i=t[o];if("*"!==i){if(null===r?Mi(e,i,!0):Li(r,i))return o}else n=o}return n}function Xc(e){var t=zr(an())[Je];if(!t.projection)for(var n=t.projection=new Array(e?e.length:1).fill(null),r=n.slice(),o=t.child;null!==o;){var i=e?Zc(o,e):0;null!==i&&(r[i]?r[i].projectionNext=o:n[i]=o,r[i]=o),o=o.next}}var $c=!1;function Jc(e){$c=e}function ep(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=an(),o=bs(r[Qe],r[Je],e,1,null,n||null);null===o.projection&&(o.projection=t),_n(),$c||Aa(r,o,t,zr(r))}function tp(e,t,n){return np(e,"",t,"",n),tp}function np(e,t,n,r,o){var i=Gn(),s=Lu(an(),t,n,r);return s!==ns&&Fs(i,e,s,o),np}function rp(e,t,n,r,o,i,s){var a=Gn(),l=Vu(an(),t,n,r,o,i);return l!==ns&&Fs(a,e,l,s),rp}function op(e,t,n,r,o,i,s,a,l){var u=Gn(),c=Gu(an(),t,n,r,o,i,s,a);return c!==ns&&Fs(u,e,c,l),op}function ip(e,t,n,r,o,i,s,a,l,u,c){var p=Gn(),d=Wu(an(),t,n,r,o,i,s,a,l,u);return d!==ns&&Fs(p,e,d,c),ip}function sp(e,t,n,r,o,i,s,a,l,u,c,p,d){var h=Gn(),f=Hu(an(),t,n,r,o,i,s,a,l,u,c,p);return f!==ns&&Fs(h,e,f,d),sp}function ap(e,t,n,r,o,i,s,a,l,u,c,p,d,h,f){var g=Gn(),v=Bu(an(),t,n,r,o,i,s,a,l,u,c,p,d,h);return v!==ns&&Fs(g,e,v,f),ap}function lp(e,t,n,r,o,i,s,a,l,u,c,p,d,h,f,g,v){var y=Gn(),m=Uu(an(),t,n,r,o,i,s,a,l,u,c,p,d,h,f,g);return m!==ns&&Fs(y,e,m,v),lp}function up(e,t,n,r,o,i,s,a,l,u,c,p,d,h,f,g,v,y,m){var C=Gn(),w=ju(an(),t,n,r,o,i,s,a,l,u,c,p,d,h,f,g,v,y);return w!==ns&&Fs(C,e,w,m),up}function cp(e,t,n){var r=Gn(),o=Mu(an(),t);return o!==ns&&Fs(r,e,o,n),cp}function pp(e,t){var n=an(),r=n[e+dt]=ga(t,n[it]),o=bs(n[Qe],n[Je],e,3,null,null);_n(),Oa(r,o,n)}function dp(e){var t=an(),n=Gn(),r=xu(t,e);r!==ns&&ca(t,n,Zn(r))}function hp(e){return fp("",e,""),hp}function fp(e,t,n){var r=Gn(),o=an(),i=Lu(o,e,t,n);return i!==ns&&ca(o,r,i),fp}function gp(e,t,n,r,o){var i=Gn(),s=an(),a=Vu(s,e,t,n,r,o);return a!==ns&&ca(s,i,a),gp}function vp(e,t,n,r,o,i,s){var a=Gn(),l=an(),u=Gu(l,e,t,n,r,o,i,s);return u!==ns&&ca(l,a,u),vp}function yp(e,t,n,r,o,i,s,a,l){var u=Gn(),c=an(),p=Wu(c,e,t,n,r,o,i,s,a,l);return p!==ns&&ca(c,u,p),yp}function mp(e,t,n,r,o,i,s,a,l,u,c){var p=Gn(),d=an(),h=Hu(d,e,t,n,r,o,i,s,a,l,u,c);return h!==ns&&ca(d,p,h),mp}function Cp(e,t,n,r,o,i,s,a,l,u,c,p,d){var h=Gn(),f=an(),g=Bu(f,e,t,n,r,o,i,s,a,l,u,c,p,d);return g!==ns&&ca(f,h,g),Cp}function wp(e,t,n,r,o,i,s,a,l,u,c,p,d,h,f){var g=Gn(),v=an(),y=Uu(v,e,t,n,r,o,i,s,a,l,u,c,p,d,h,f);return y!==ns&&ca(v,g,y),wp}function bp(e,t,n,r,o,i,s,a,l,u,c,p,d,h,f,g,v){var y=Gn(),m=an(),C=ju(m,e,t,n,r,o,i,s,a,l,u,c,p,d,h,f,g,v);return C!==ns&&ca(m,y,C),bp}function Ep(e){var t=Gn(),n=an(),r=Mu(n,e);return r!==ns&&ca(n,t,r),Ep}function _p(e,t,n){var r=Lu(an(),e,t,n);wc(Gn(),r)}function Sp(e,t,n,r,o){var i=Vu(an(),e,t,n,r,o);wc(Gn(),i)}function Rp(e,t,n,r,o,i,s){var a=Gu(an(),e,t,n,r,o,i,s);wc(Gn(),a)}function Tp(e,t,n,r,o,i,s,a,l){var u=Wu(an(),e,t,n,r,o,i,s,a,l);wc(Gn(),u)}function Op(e,t,n,r,o,i,s,a,l,u,c){var p=Hu(an(),e,t,n,r,o,i,s,a,l,u,c);wc(Gn(),p)}function Dp(e,t,n,r,o,i,s,a,l,u,c,p,d){var h=Bu(an(),e,t,n,r,o,i,s,a,l,u,c,p,d);wc(Gn(),h)}function Ip(e,t,n,r,o,i,s,a,l,u,c,p,d,h,f){var g=Uu(an(),e,t,n,r,o,i,s,a,l,u,c,p,d,h,f);wc(Gn(),g)}function Ap(e,t,n,r,o,i,s,a,l,u,c,p,d,h,f,g,v){var y=ju(an(),e,t,n,r,o,i,s,a,l,u,c,p,d,h,f,g,v);wc(Gn(),y)}function kp(e){var t=Mu(an(),e);wc(Gn(),t)}function Pp(e,t,n,r,o){var i=Lu(an(),t,n,r);return gc(Gn(),e,i,o),Pp}function Np(e,t,n,r,o,i,s){var a=Vu(an(),t,n,r,o,i);return gc(Gn(),e,a,s),Np}function xp(e,t,n,r,o,i,s,a,l){var u=Gu(an(),t,n,r,o,i,s,a);return gc(Gn(),e,u,l),xp}function Fp(e,t,n,r,o,i,s,a,l,u,c){var p=Wu(an(),t,n,r,o,i,s,a,l,u);return gc(Gn(),e,p,c),Fp}function Mp(e,t,n,r,o,i,s,a,l,u,c,p,d){var h=Hu(an(),t,n,r,o,i,s,a,l,u,c,p);return gc(Gn(),e,h,d),Mp}function Lp(e,t,n,r,o,i,s,a,l,u,c,p,d,h,f){var g=Bu(an(),t,n,r,o,i,s,a,l,u,c,p,d,h);return gc(Gn(),e,g,f),Lp}function Vp(e,t,n,r,o,i,s,a,l,u,c,p,d,h,f,g,v){var y=Uu(an(),t,n,r,o,i,s,a,l,u,c,p,d,h,f,g);return gc(Gn(),e,y,v),Vp}function Gp(e,t,n,r,o,i,s,a,l,u,c,p,d,h,f,g,v,y,m){var C=ju(an(),t,n,r,o,i,s,a,l,u,c,p,d,h,f,g,v,y);return gc(Gn(),e,C,m),Gp}function Wp(e,t,n){var r=Mu(an(),t);return gc(Gn(),e,r,n),Wp}function Hp(e,t,n){var r=Gn(),o=xu(an(),t);return o!==ns&&Fs(r,e,o,n,!0),Hp}function Bp(e,t,n){var r=Gn(),o=xu(an(),t);return o!==ns&&Fs(r,e,o,n,!0,aa),Bp}function Up(e){var t=Xp(e);return void 0===t.component&&(t.component=function(e,t){var n=t[Qe].data[e];return 1&n.flags?t[n.directiveStart]:null}(t.nodeIndex,t.lView)),t.component}function jp(e){return Xp(e).lView[nt]}function zp(e){for(var t,n=Yp(e).lView;null===n[Ke]&&(t=jr(n));)n=t;return 512&n[Ye]?null:n[nt]}function qp(e){return _toConsumableArray(qr(e).components)}function Kp(e){var t=Yp(e);return new co(t.lView[Qe].data[t.nodeIndex],t.lView)}function Qp(e){var t=Yp(e);return void 0===t.directives&&(t.directives=Oi(t.nodeIndex,t.lView,!1)),t.directives||[]}function Yp(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=wi(e);if(!n&&t)throw new Error("Invalid ng target");return n}function Zp(e){return wi(e).native}function Xp(e){if(!(e instanceof Node))throw new Error("Expecting instance of DOM Node");return Yp(e)}function $p(e){return"boolean"==typeof e.useCapture}function Jp(e){var t=Xp(e).lView,n=t[tt],r=t[Qe].cleanup,o=[];if(r&&n)for(var i=0;i<r.length;){var s=r[i++],a=r[i++];if("string"==typeof s){var l=s,u=Ut(t[a]),c=n[r[i++]],p=r[i++],d="boolean"==typeof p?p:!(p>=0)&&null;e==u&&o.push({element:e,name:l,callback:c,useCapture:d})}}return o.sort(ed),o}function ed(e,t){return e.name==t.name?0:e.name<t.name?-1:1}var td="ng",nd=!1;function rd(){nd||(nd=!0,od("getComponent",Up),od("getContext",jp),od("getListeners",Jp),od("getViewComponent",zp),od("getHostElement",Zp),od("getInjector",Kp),od("getRootComponents",qp),od("getDirectives",Qp),od("markDirty",tc))}function od(e,t){if(G){var n=G[td];n||(n=G[td]={}),n[e]=t}}function id(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};gn(null);var n=t.rendererFactory||Fr,r=t.sanitizer||null,o=Be(e);o.type!=e&&(o.type=e);var i,s=ks(n,t.host||o.selectors[0][0]),a=o.onPush?576:528,l=ld(t.scheduler,t.playerHandler),u=n.createRenderer(s,o),c=ws(null,As(-1,null,1,0,null,null,null,null),l,a,null,null,n,u,void 0,t.injector||null),p=Fn(c,null),d=!1;try{n.begin&&n.begin();var h=sd(s,o,c,n,u,r);i=ad(h,o,c,l,t.hostFeatures||null),Ys(c,h),ys(c),c[Ye]&=-5,$t(c),ys(c),d=!0}finally{Ln(p,d),n.end&&n.end()}return i}function sd(e,t,n,r,o,i){un=!1,ln=null,Jt=0,en=!0,Kn(null),Ht(),Mt.clear();var s=n[Qe];n[0+dt]=e;var a=bs(s,null,0,3,null,null),l=ws(n,Is(t),null,t.onPush?64:16,n[dt],a,r,o,i);return s.firstTemplatePass&&(to(Xr(a,n),s,t.type),a.flags=1,Us(a,n.length,1),Hs(a)),n[dt]=l}function ad(e,t,n,r,o){var i=n[Qe],s=function(e,t,n){var r=Cn();e.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),Vs(e,r,1),js(e,t,n,n.factory));var o=ao(e.data,t,t.length-1,r);return Ws(t,r,o),o}(i,n,t);r.components.push(s),e[nt]=s,o&&o.forEach((function(e){return e(s,t)})),t.contentQueries&&t.contentQueries(1,s,n.length-1);var a=Cn();return i.firstTemplatePass&&t.hostBindings&&(gn(a.index-dt),Ls(t,i.expandoInstructions,s,a,i.firstTemplatePass),gn(null)),s}function ld(e,t){return{components:[],scheduler:e||$n,clean:ra,playerHandler:t||null,flags:0}}function ud(e,t){var n=Xt(e)[Qe],r=n.data.length-1;At(r,t,n,-1,-1,-1),kt(n,{directiveStart:r,directiveEnd:r+1})}function cd(e){return qr(e).clean}var pd=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function dd(){return hd.ngInherit=!0,hd}function hd(e){e.type.prototype.ngOnChanges&&(e.setInput=fd,e.onChanges=function(){var e=vd(this),t=e&&e.current;if(t){var n=e.previous;if(n===Ee)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}})}function fd(e,t,n,r){var o=vd(e)||function(e,t){return e[gd]=t}(e,{previous:Ee,current:null}),i=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[n],l=s[a];i[a]=new pd(l&&l.currentValue,t,s===Ee),e[r]=t}var gd="__ngSimpleChanges__";function vd(e){return e[gd]||null}function yd(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor;t;){var n=void 0;if(_t(e))n=t.ngComponentDef||t.ngDirectiveDef;else{if(t.ngComponentDef)throw new Error("Directives cannot inherit Components");n=t.ngDirectiveDef}var r=t.ngBaseDef;if(r||n){var o=e;o.inputs=md(e.inputs),o.declaredInputs=md(e.declaredInputs),o.outputs=md(e.outputs)}if(r){var i=r.viewQuery,s=r.contentQueries,a=r.hostBindings;a&&bd(e,a),i&&Cd(e,i),s&&wd(e,s),_(e.inputs,r.inputs),_(e.declaredInputs,r.declaredInputs),_(e.outputs,r.outputs)}if(n){var l=n.hostBindings;l&&bd(e,l);var u=n.viewQuery,c=n.contentQueries;u&&Cd(e,u),c&&wd(e,c),_(e.inputs,n.inputs),_(e.declaredInputs,n.declaredInputs),_(e.outputs,n.outputs),e.afterContentChecked=e.afterContentChecked||n.afterContentChecked,e.afterContentInit=e.afterContentInit||n.afterContentInit,e.afterViewChecked=e.afterViewChecked||n.afterViewChecked,e.afterViewInit=e.afterViewInit||n.afterViewInit,e.doCheck=e.doCheck||n.doCheck,e.onDestroy=e.onDestroy||n.onDestroy,e.onInit=e.onInit||n.onInit;var p=n.features;if(p){var d=!0,h=!1,f=void 0;try{for(var g,v=p[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){var y=g.value;y&&y.ngInherit&&y(e)}}catch(C){h=!0,f=C}finally{try{d||null==v.return||v.return()}finally{if(h)throw f}}}}else{var m=t.prototype;m&&(e.afterContentChecked=e.afterContentChecked||m.ngAfterContentChecked,e.afterContentInit=e.afterContentInit||m.ngAfterContentInit,e.afterViewChecked=e.afterViewChecked||m.ngAfterViewChecked,e.afterViewInit=e.afterViewInit||m.ngAfterViewInit,e.doCheck=e.doCheck||m.ngDoCheck,e.onDestroy=e.onDestroy||m.ngOnDestroy,e.onInit=e.onInit||m.ngOnInit,m.ngOnChanges&&dd()(e))}t=Object.getPrototypeOf(t)}}function md(e){return e===Ee?{}:e===_e?[]:e}function Cd(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function wd(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,o){t(e,r,o),n(e,r,o)}:t}function bd(e,t){var n=e.hostBindings;t!==n&&(e.hostBindings=n?function(e,r,o){yn(1);try{t(e,r,o)}finally{yn(-1)}n(e,r,o)}:t)}function Ed(e,t,n,r,o){if(e=x(e),Array.isArray(e))for(var i=0;i<e.length;i++)Ed(e[i],t,n,r,o);else{var s=an(),a=s[Qe],l=Al(e)?e:x(e.provide),u=Ol(e),c=Cn(),p=65535&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>16;if(e.useClass||Al(e)){var f=(e.useClass||e).prototype.ngOnDestroy;f&&(a.destroyHooks||(a.destroyHooks=[])).push(t.length,f)}if(Al(e)||!e.multi){var g=new It(u,o,cc),v=Sd(l,t,o?p:p+h,d);-1==v?(to(Xr(c,s),a,l),t.push(l),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=65536),n.push(g),s.push(g)):(n[v]=g,s[v]=g)}else{var y=Sd(l,t,p+h,d),m=Sd(l,t,p,p+h),C=y>=0&&n[y],w=m>=0&&n[m];if(o&&!w||!o&&!C){to(Xr(c,s),a,l);var b=function(e,t,n,r,o){var i=new It(e,n,cc);return i.multi=[],i.index=t,i.componentProviders=0,_d(i,o,r&&!n),i}(o?Td:Rd,n.length,o,r,u);!o&&w&&(n[m].providerFactory=b),t.push(l),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=65536),n.push(b),s.push(b)}else _d(n[o?m:y],u,!o&&r);!o&&r&&w&&n[m].componentProviders++}}}function _d(e,t,n){e.multi.push(t),n&&e.componentProviders++}function Sd(e,t,n,r){for(var o=n;o<r;o++)if(t[o]===e)return o;return-1}function Rd(e,t,n,r){return Od(this.multi,[])}function Td(e,t,n,r){var o,i=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=ao(t,n,this.providerFactory.index,r);Od(i,o=a.slice(0,s));for(var l=s;l<a.length;l++)o.push(a[l])}else Od(i,o=[]);return o}function Od(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function Dd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=an()[Qe];if(r.firstTemplatePass){var o=_t(e);Ed(n,r.data,r.blueprint,o,!0),Ed(t,r.data,r.blueprint,o,!1)}}(n,r?r(e):e,t)}}}var Id=function e(){_classCallCheck(this,e)},Ad=function e(){_classCallCheck(this,e)};function kd(e){var t=Error("No component factory found for ".concat(k(e),". Did you add it to @NgModule.entryComponents?"));return t[Pd]=e,t}var Pd="ngComponent",Nd=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw kd(e)}}]),e}(),xd=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new Nd,e}(),Fd=function(){function e(t,n,r){_classCallCheck(this,e),this._parent=n,this._ngModule=r,this._factories=new Map;for(var o=0;o<t.length;o++){var i=t[o];this._factories.set(i.componentType,i)}}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw kd(e);return new Md(t,this._ngModule)}}]),e}(),Md=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}]),t}(Ad);function Ld(){}var Vd=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return Wd(e)},e}(),Gd=function(e){return Wa(e,Cn(),an())},Wd=Ld,Hd=function e(t,n,r,o,i,s){_classCallCheck(this,e),this.id=t,this.templateUrl=n,this.slotCount=r,this.encapsulation=o,this.styles=i,this.animations=s},Bd=function e(){_classCallCheck(this,e)},Ud=function e(){_classCallCheck(this,e)},jd=function e(){_classCallCheck(this,e)},zd=function e(){_classCallCheck(this,e)},qd=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),Kd=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Yd()},e}(),Qd=function(){var e=an(),t=Yt(Cn().index,e);return function(e){var t=e[it];if(xr(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ct(t)?t:e)},Yd=Ld,Zd=function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},Xd=new Zd("8.2.11"),$d=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return Ru(e)}},{key:"create",value:function(e){return new eh(e)}}]),e}(),Jd=function(e,t){return t},eh=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Jd}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,o=null;t||n;){var i=!n||t&&t.currentIndex<oh(n,r,o)?t:n,s=oh(i,r,o),a=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)r++;else{o||(o=[]);var l=s-r,u=a-r;if(l!=u){for(var c=0;c<l;c++){var p=c<o.length?o[c]:o[c]=0,d=p+c;u<=d&&d<l&&(o[c]=p+1)}o[i.previousIndex]=u-l}}s!==a&&e(i,s,a)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Ru(e))throw new Error("Error trying to diff '".concat(k(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,o,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(var a=0;a<this.length;a++)o=this._trackByFn(a,r=e[a]),null!==i&&Eu(i.trackById,o)?(s&&(i=this._verifyReinsertion(i,r,o,a)),Eu(i.item,r)||this._addIdentityChange(i,r)):(i=this._mismatch(i,r,o,a),s=!0),i=i._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,o=e[bu()]();!(r=o.next()).done;)t(r.value)}(e,(function(e){o=t._trackByFn(n,e),null!==i&&Eu(i.trackById,o)?(s&&(i=t._verifyReinsertion(i,e,o,n)),Eu(i.item,e)||t._addIdentityChange(i,e)):(i=t._mismatch(i,e,o,n),s=!0),i=i._next,n++})),this.length=n;return this._truncate(i),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Eu(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Eu(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):e=this._addAfter(new th(t,n),o,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new rh),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),th=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},nh=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Eu(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),rh=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new nh,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function oh(e,t,n){var r=e.previousIndex;if(null===r)return r;var o=0;return n&&r<n.length&&(o=n[r]),r+t+o}var ih=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||Tu(e)}},{key:"create",value:function(){return new sh}}]),e}(),sh=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Tu(e)))throw new Error("Error trying to diff '".concat(k(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var o=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,o)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,o=n._next;return r&&(r._next=o),o&&(o._prev=r),n._next=null,n._prev=null,n}var i=new ah(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Eu(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),ah=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},lh=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new m,new v]]}}}]),e}();return e.ngInjectableDef=S({token:e,providedIn:"root",factory:function(){return new e([new $d])}}),e}(),uh=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new m,new v]]}}}]),e}();return e.ngInjectableDef=S({token:e,providedIn:"root",factory:function(){return new e([new ih])}}),e}(),ch=[new ih],ph=new lh([new $d]),dh=new uh(ch),hh=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return gh(e,Vd)},e}(),fh=function(e,t){return Ha(e,t,Cn(),an())},gh=Ld,vh=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return mh(e,Vd)},e}(),yh=function(e,t){return Ba(e,t,Cn(),an())},mh=Ld;function Ch(e,t,n,r){var o="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(t,"'. Current value: '").concat(n,"'.");return r&&(o+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return wh(n,t),n}(o,e)}function wh(e,t){e[fo]=t,e[vo]=t.logError.bind(t)}function bh(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: ".concat(e))}function Eh(e,t,n){var r=e.state,o=1792&r;return o===t?(e.state=-1793&r|n,e.initIndex=-1,!0):o===n}function _h(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function Sh(e,t){return e.nodes[t]}function Rh(e,t){return e.nodes[t]}function Th(e,t){return e.nodes[t]}function Oh(e,t){return e.nodes[t]}function Dh(e,t){return e.nodes[t]}var Ih=function e(){_classCallCheck(this,e)},Ah={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},kh=function(){},Ph=new Map;function Nh(e){var t=Ph.get(e);return t||(t=k(e)+"_"+Ph.size,Ph.set(e,t)),t}function xh(e,t,n,r){if(Su.isWrapped(r)){r=Su.unwrap(r);var o=e.def.nodes[t].bindingIndex+n,i=Su.unwrap(e.oldValues[o]);e.oldValues[o]=new Su(i)}return r}var Fh="$$undefined",Mh="$$empty";function Lh(e){return{id:Fh,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var Vh=0;function Gh(e,t,n,r){return!(!(2&e.state)&&Eu(e.oldValues[t.bindingIndex+n],r))}function Wh(e,t,n,r){return!!Gh(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function Hh(e,t,n,r){var o=e.oldValues[t.bindingIndex+n];if(1&e.state||!_u(o,r)){var i=t.bindings[n].name;throw Ch(Ah.createDebugContext(e,t.nodeIndex),"".concat(i,": ").concat(o),"".concat(i,": ").concat(r),0!=(1&e.state))}}function Bh(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Uh(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function jh(e,t,n,r){try{return Bh(33554432&e.def.nodes[t].flags?Rh(e,t).componentView:e),Ah.handleEvent(e,t,n,r)}catch(o){e.root.errorHandler.handleError(o)}}function zh(e){return e.parent?Rh(e.parent,e.parentNodeDef.nodeIndex):null}function qh(e){return e.parent?e.parentNodeDef.parent:null}function Kh(e,t){switch(201347067&t.flags){case 1:return Rh(e,t.nodeIndex).renderElement;case 2:return Sh(e,t.nodeIndex).renderText}}function Qh(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Yh(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Zh(e){return 1<<e%32}function Xh(e){var t={},n=0,r={};return e&&e.forEach((function(e){var o=_slicedToArray(e,2),i=o[0],s=o[1];"number"==typeof i?(t[i]=s,n|=Zh(i)):r[i]=s})),{matchedQueries:t,references:r,matchedQueryIds:n}}function $h(e,t){return e.map((function(e){var n,r,o;return Array.isArray(e)?(o=(n=_slicedToArray(e,2))[0],r=n[1]):(o=0,r=e),r&&("function"==typeof r||"object"==typeof r)&&t&&Object.defineProperty(r,Y,{value:t,configurable:!0}),{flags:o,token:r,tokenKey:Nh(r)}}))}function Jh(e,t,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===we.Native?Rh(e,n.renderParent.nodeIndex).renderElement:void 0:t}var ef=new WeakMap;function tf(e){var t=ef.get(e);return t||((t=e((function(){return kh}))).factory=e,ef.set(e,t)),t}function nf(e,t,n,r,o){3===t&&(n=e.renderer.parentNode(Kh(e,e.def.lastRenderRootNode))),rf(e,t,0,e.def.nodes.length-1,n,r,o)}function rf(e,t,n,r,o,i,s){for(var a=n;a<=r;a++){var l=e.def.nodes[a];11&l.flags&&sf(e,l,t,o,i,s),a+=l.childCount}}function of(e,t,n,r,o,i){for(var s=e;s&&!Qh(s);)s=s.parent;for(var a=s.parent,l=qh(s),u=l.nodeIndex+l.childCount,c=l.nodeIndex+1;c<=u;c++){var p=a.def.nodes[c];p.ngContentIndex===t&&sf(a,p,n,r,o,i),c+=p.childCount}if(!a.parent){var d=e.root.projectableNodes[t];if(d)for(var h=0;h<d.length;h++)af(e,d[h],n,r,o,i)}}function sf(e,t,n,r,o,i){if(8&t.flags)of(e,t.ngContent.index,n,r,o,i);else{var s=Kh(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&af(e,s,n,r,o,i),32&t.bindingFlags&&af(Rh(e,t.nodeIndex).componentView,s,n,r,o,i)):af(e,s,n,r,o,i),16777216&t.flags)for(var a=Rh(e,t.nodeIndex).viewContainer._embeddedViews,l=0;l<a.length;l++)nf(a[l],n,r,o,i);1&t.flags&&!t.element.name&&rf(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,o,i)}}function af(e,t,n,r,o,i){var s=e.renderer;switch(n){case 1:s.appendChild(r,t);break;case 2:s.insertBefore(r,t,o);break;case 3:s.removeChild(r,t);break;case 0:i.push(t)}}var lf=/^:([^:]+):(.+)$/;function uf(e){if(":"===e[0]){var t=e.match(lf);return[t[1],t[2]]}return["",e]}function cf(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function pf(e,t){for(var n="",r=0;r<2*e;r+=2)n=n+t[r]+hf(t[r+1]);return n+t[2*e]}function df(e,t,n,r,o,i,s,a,l,u,c,p,d,h,f,g,v,y,m,C){switch(e){case 1:return t+hf(n)+r;case 2:return t+hf(n)+r+hf(o)+i;case 3:return t+hf(n)+r+hf(o)+i+hf(s)+a;case 4:return t+hf(n)+r+hf(o)+i+hf(s)+a+hf(l)+u;case 5:return t+hf(n)+r+hf(o)+i+hf(s)+a+hf(l)+u+hf(c)+p;case 6:return t+hf(n)+r+hf(o)+i+hf(s)+a+hf(l)+u+hf(c)+p+hf(d)+h;case 7:return t+hf(n)+r+hf(o)+i+hf(s)+a+hf(l)+u+hf(c)+p+hf(d)+h+hf(f)+g;case 8:return t+hf(n)+r+hf(o)+i+hf(s)+a+hf(l)+u+hf(c)+p+hf(d)+h+hf(f)+g+hf(v)+y;case 9:return t+hf(n)+r+hf(o)+i+hf(s)+a+hf(l)+u+hf(c)+p+hf(d)+h+hf(f)+g+hf(v)+y+hf(m)+C;default:throw new Error("Does not support more than 9 expressions")}}function hf(e){return null!=e?e.toString():""}var ff=[],gf={},vf=new Object,yf=Nh(Nl),mf=Nh(U),Cf=Nh(ue);function wf(e,t,n,r){return n=x(n),{index:-1,deps:$h(r,k(t)),flags:e,token:t,value:n}}function bf(e){for(var t={},n=[],r=!1,o=0;o<e.length;o++){var i=e[o];i.token===ml&&!0===i.value&&(r=!0),1073741824&i.flags&&n.push(i.token),i.index=o,t[Nh(i.token)]=i}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}function Ef(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nl.THROW_IF_NOT_FOUND,i=$(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(o=null),1&t.flags)return e._parent.get(t.token,o);var s=t.tokenKey;switch(s){case yf:case mf:case Cf:return e}var a,l=e._def.providersByKey[s];if(l){var u=e._providers[l.index];return void 0===u&&(u=e._providers[l.index]=_f(e,l)),u===vf?void 0:u}if((a=O(t.token))&&(n=e,null!=(r=a).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(n,r.providedIn)||"root"===r.providedIn&&n._def.isRoot))){var c=e._providers.length;return e._def.providers[c]=e._def.providersByKey[t.tokenKey]={flags:5120,value:a.factory,deps:[],index:c,token:t.token},e._providers[c]=vf,e._providers[c]=_f(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?o:e._parent.get(t.token,o)}finally{$(i)}}function _f(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var r=n.length;switch(r){case 0:return new t;case 1:return new t(Ef(e,n[0]));case 2:return new t(Ef(e,n[0]),Ef(e,n[1]));case 3:return new t(Ef(e,n[0]),Ef(e,n[1]),Ef(e,n[2]));default:for(var o=new Array(r),i=0;i<r;i++)o[i]=Ef(e,n[i]);return _construct(t,o)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var r=n.length;switch(r){case 0:return t();case 1:return t(Ef(e,n[0]));case 2:return t(Ef(e,n[0]),Ef(e,n[1]));case 3:return t(Ef(e,n[0]),Ef(e,n[1]),Ef(e,n[2]));default:for(var o=Array(r),i=0;i<r;i++)o[i]=Ef(e,n[i]);return t.apply(void 0,o)}}(e,t.value,t.deps);break;case 2048:n=Ef(e,t.deps[0]);break;case 256:n=t.value}return n===vf||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?vf:n}function Sf(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var r=n[t];return r.viewContainerParent=null,ge(n,t),Ah.dirtyParentQueries(r),Tf(r),r}function Rf(e,t,n){var r=t?Kh(t,t.def.lastRenderRootNode):e.renderElement,o=n.renderer.parentNode(r),i=n.renderer.nextSibling(r);nf(n,2,o,i,void 0)}function Tf(e){nf(e,3,null,null,void 0)}var Of=new Object;function Df(e,t,n,r,o,i){return new Af(e,t,n,r,o,i)}function If(e){return e.viewDefFactory}var Af=function(e){function t(e,n,r,o,i,s){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).selector=e,a.componentType=n,a._inputs=o,a._outputs=i,a.ngContentSelectors=s,a.viewDefFactory=r,a}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e,t,n,r){if(!r)throw new Error("ngModule should be provided");var o=tf(this.viewDefFactory),i=o.nodes[0].element.componentProvider.nodeIndex,s=Ah.createRootView(e,t||[],n,o,r,Of),a=Th(s,i).instance;return n&&s.renderer.setAttribute(Rh(s,0).renderElement,"ng-version",Xd.full),new kf(s,new Ff(s),a)}},{key:"inputs",get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e}},{key:"outputs",get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}}]),t}(Ad),kf=function(e){function t(e,n,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._view=e,o._viewRef=n,o._component=r,o._elDef=o._view.def.nodes[0],o.hostView=n,o.changeDetectorRef=n,o.instance=r,o}return _inherits(t,e),_createClass(t,[{key:"destroy",value:function(){this._viewRef.destroy()}},{key:"onDestroy",value:function(e){this._viewRef.onDestroy(e)}},{key:"location",get:function(){return new Vd(Rh(this._view,this._elDef.nodeIndex).renderElement)}},{key:"injector",get:function(){return new Gf(this._view,this._elDef)}},{key:"componentType",get:function(){return this._component.constructor}}]),t}(Id);function Pf(e,t,n){return new Nf(e,t,n)}var Nf=function(){function e(t,n,r){_classCallCheck(this,e),this._view=t,this._elDef=n,this._data=r,this._embeddedViews=[]}return _createClass(e,[{key:"clear",value:function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=Sf(this._data,e);Ah.destroyView(t)}}},{key:"get",value:function(e){var t=this._embeddedViews[e];if(t){var n=new Ff(t);return n.attachToViewContainerRef(this),n}return null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,o){var i=n||this.parentInjector;o||e instanceof Md||(o=i.get(ue));var s=e.create(i,r,void 0,o);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,o,i,s,a=e;return n=this._view,r=this._data,o=t,i=a._view,s=r.viewContainer._embeddedViews,null==o&&(o=s.length),i.viewContainerParent=n,fe(s,o,i),function(e,t){var n=zh(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(!(4&t.flags)){e.nodeFlags|=4,t.flags|=4;for(var n=t.parent;n;)n.childFlags|=4,n=n.parent}}(t.parent.def,t.parentNodeDef)}}(r,i),Ah.dirtyParentQueries(i),Rf(r,o>0?s[o-1]:null,i),a.attachToViewContainerRef(this),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,o,i,s,a=this._embeddedViews.indexOf(e._view);return n=this._data,r=a,o=t,i=n.viewContainer._embeddedViews,s=i[r],ge(i,r),null==o&&(o=i.length),fe(i,o,s),Ah.dirtyParentQueries(s),Tf(s),Rf(n,o>0?i[o-1]:null,s),e}},{key:"indexOf",value:function(e){return this._embeddedViews.indexOf(e._view)}},{key:"remove",value:function(e){var t=Sf(this._data,e);t&&Ah.destroyView(t)}},{key:"detach",value:function(e){var t=Sf(this._data,e);return t?new Ff(t):null}},{key:"element",get:function(){return new Vd(this._data.renderElement)}},{key:"injector",get:function(){return new Gf(this._view,this._elDef)}},{key:"parentInjector",get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=qh(e),e=e.parent;return e?new Gf(e,t):new Gf(this._view,null)}},{key:"length",get:function(){return this._embeddedViews.length}}]),e}();function xf(e){return new Ff(e)}var Ff=function(){function e(t){_classCallCheck(this,e),this._view=t,this._viewContainerRef=null,this._appRef=null}return _createClass(e,[{key:"markForCheck",value:function(){Bh(this._view)}},{key:"detach",value:function(){this._view.state&=-5}},{key:"detectChanges",value:function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{Ah.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}},{key:"checkNoChanges",value:function(){Ah.checkNoChangesView(this._view)}},{key:"reattach",value:function(){this._view.state|=4}},{key:"onDestroy",value:function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}},{key:"destroy",value:function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Ah.destroyView(this._view)}},{key:"detachFromAppRef",value:function(){this._appRef=null,Tf(this._view),Ah.dirtyParentQueries(this._view)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"rootNodes",get:function(){return nf(this._view,0,void 0,void 0,e=[]),e;var e}},{key:"context",get:function(){return this._view.context}},{key:"destroyed",get:function(){return 0!=(128&this._view.state)}}]),e}();function Mf(e,t){return new Lf(e,t)}var Lf=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._parentView=e,r._def=n,r}return _inherits(t,e),_createClass(t,[{key:"createEmbeddedView",value:function(e){return new Ff(Ah.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}},{key:"elementRef",get:function(){return new Vd(Rh(this._parentView,this._def.nodeIndex).renderElement)}}]),t}(hh);function Vf(e,t){return new Gf(e,t)}var Gf=function(){function e(t,n){_classCallCheck(this,e),this.view=t,this.elDef=n}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nl.THROW_IF_NOT_FOUND;return Ah.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Nh(e)},t)}}]),e}();function Wf(e,t){var n=e.def.nodes[t];if(1&n.flags){var r=Rh(e,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Sh(e,n.nodeIndex).renderText;if(20240&n.flags)return Th(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index ".concat(t))}function Hf(e){return new Bf(e.renderer)}var Bf=function(){function e(t){_classCallCheck(this,e),this.delegate=t}return _createClass(e,[{key:"selectRootElement",value:function(e){return this.delegate.selectRootElement(e)}},{key:"createElement",value:function(e,t){var n=_slicedToArray(uf(t),2),r=n[0],o=n[1],i=this.delegate.createElement(o,r);return e&&this.delegate.appendChild(e,i),i}},{key:"createViewRoot",value:function(e){return e}},{key:"createTemplateAnchor",value:function(e){var t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}},{key:"createText",value:function(e,t){var n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}},{key:"projectNodes",value:function(e,t){for(var n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}},{key:"attachViewAfter",value:function(e,t){for(var n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e),o=0;o<t.length;o++)this.delegate.insertBefore(n,t[o],r)}},{key:"detachView",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}},{key:"destroyView",value:function(e,t){for(var n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"listenGlobal",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"setElementProperty",value:function(e,t,n){this.delegate.setProperty(e,t,n)}},{key:"setElementAttribute",value:function(e,t,n){var r=_slicedToArray(uf(t),2),o=r[0],i=r[1];null!=n?this.delegate.setAttribute(e,i,n,o):this.delegate.removeAttribute(e,i,o)}},{key:"setBindingDebugInfo",value:function(e,t,n){}},{key:"setElementClass",value:function(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}},{key:"setElementStyle",value:function(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}},{key:"invokeElementMethod",value:function(e,t,n){e[t].apply(e,n)}},{key:"setText",value:function(e,t){this.delegate.setValue(e,t)}},{key:"animate",value:function(){throw new Error("Renderer.animate is no longer supported!")}}]),e}();function Uf(e,t,n,r){return new jf(e,t,n,r)}var jf=function(){function e(t,n,r,o){_classCallCheck(this,e),this._moduleType=t,this._parent=n,this._bootstrapComponents=r,this._def=o,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=new Array(t.providers.length),r=0;r<t.providers.length;r++){var o=t.providers[r];4096&o.flags||void 0===n[r]&&(n[r]=_f(e,o))}}(this)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nl.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.Default,r=0;return n&b.SkipSelf?r|=1:n&b.Self&&(r|=4),Ef(this,{token:e,tokenKey:Nh(e),flags:r},t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The ng module ".concat(k(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(e,t){for(var n=e._def,r=new Set,o=0;o<n.providers.length;o++)if(131072&n.providers[o].flags){var i=e._providers[o];if(i&&i!==vf){var s=i.ngOnDestroy;"function"!=typeof s||r.has(i)||(s.apply(i),r.add(i))}}}(this),this._destroyListeners.forEach((function(e){return e()}))}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"instance",get:function(){return this.get(this._moduleType)}},{key:"componentFactoryResolver",get:function(){return this.get(xd)}}]),e}(),zf=Nh(Ud),qf=Nh(Kd),Kf=Nh(Vd),Qf=Nh(vh),Yf=Nh(hh),Zf=Nh(ja),Xf=Nh(Nl),$f=Nh(U);function Jf(e,t,n,r,o,i,s,a){var l=[];if(s)for(var u in s){var c=_slicedToArray(s[u],2),p=c[0],d=c[1];l[p]={flags:8,name:u,nonMinifiedName:d,ns:null,securityContext:null,suffix:null}}var h=[];if(a)for(var f in a)h.push({type:1,propName:f,target:null,eventName:a[f]});return ng(e,t|=16384,n,r,o,o,i,l,h)}function eg(e,t,n){return ng(-1,e|=16,null,0,t,t,n)}function tg(e,t,n,r,o){return ng(-1,e,t,0,n,r,o)}function ng(e,t,n,r,o,i,s,a,l){var u=Xh(n),c=u.matchedQueries,p=u.references,d=u.matchedQueryIds;l||(l=[]),a||(a=[]),i=x(i);var h=$h(s,k(o));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:d,references:p,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:cf(a),outputs:l,element:null,provider:{token:o,value:i,deps:h},text:null,query:null,ngContent:null}}function rg(e,t){return ag(e,t)}function og(e,t){for(var n=e;n.parent&&!Qh(n);)n=n.parent;return lg(n.parent,qh(n),!0,t.provider.value,t.provider.deps)}function ig(e,t){var n=lg(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var r=0;r<t.outputs.length;r++){var o=t.outputs[r],i=n[o.propName];if(!Uc(i))throw new Error("@Output ".concat(o.propName," not initialized in '").concat(n.constructor.name,"'."));var s=i.subscribe(sg(e,t.parent.nodeIndex,o.eventName));e.disposables[t.outputIndex+r]=s.unsubscribe.bind(s)}return n}function sg(e,t,n){return function(r){return jh(e,t,n,r)}}function ag(e,t){var n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return lg(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,o){var i=o.length;switch(i){case 0:return r();case 1:return r(cg(e,t,n,o[0]));case 2:return r(cg(e,t,n,o[0]),cg(e,t,n,o[1]));case 3:return r(cg(e,t,n,o[0]),cg(e,t,n,o[1]),cg(e,t,n,o[2]));default:for(var s=Array(i),a=0;a<i;a++)s[a]=cg(e,t,n,o[a]);return r.apply(void 0,s)}}(e,t.parent,n,r.value,r.deps);case 2048:return cg(e,t.parent,n,r.deps[0]);case 256:return r.value}}function lg(e,t,n,r,o){var i=o.length;switch(i){case 0:return new r;case 1:return new r(cg(e,t,n,o[0]));case 2:return new r(cg(e,t,n,o[0]),cg(e,t,n,o[1]));case 3:return new r(cg(e,t,n,o[0]),cg(e,t,n,o[1]),cg(e,t,n,o[2]));default:for(var s=new Array(i),a=0;a<i;a++)s[a]=cg(e,t,n,o[a]);return _construct(r,s)}}var ug={};function cg(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Nl.THROW_IF_NOT_FOUND;if(8&r.flags)return r.token;var i=e;2&r.flags&&(o=null);var s=r.tokenKey;s===Zf&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);for(var a=e;a;){if(t)switch(s){case zf:return Hf(pg(a,t,n));case qf:return pg(a,t,n).renderer;case Kf:return new Vd(Rh(a,t.nodeIndex).renderElement);case Qf:return Rh(a,t.nodeIndex).viewContainer;case Yf:if(t.element.template)return Rh(a,t.nodeIndex).template;break;case Zf:return xf(pg(a,t,n));case Xf:case $f:return Vf(a,t);default:var l=(n?t.element.allProviders:t.element.publicProviders)[s];if(l){var u=Th(a,l.nodeIndex);return u||(u={instance:ag(a,l)},a.nodes[l.nodeIndex]=u),u.instance}}n=Qh(a),t=qh(a),a=a.parent,4&r.flags&&(a=null)}var c=i.root.injector.get(r.token,ug);return c!==ug||o===ug?c:i.root.ngModule.injector.get(r.token,o)}function pg(e,t,n){var r;if(n)r=Rh(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!Qh(r);)r=r.parent;return r}function dg(e,t,n,r,o,i){if(32768&n.flags){var s=Rh(e,n.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}if(t.instance[n.bindings[r].name]=o,524288&n.flags){i=i||{};var a=Su.unwrap(e.oldValues[n.bindingIndex+r]);i[n.bindings[r].nonMinifiedName]=new pd(a,o,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=o,i}function hg(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,r=0,o=0;o<n.length;o++){var i=n[o],s=i.parent;for(!s&&i.flags&t&&gg(e,o,i.flags&t,r++),0==(i.childFlags&t)&&(o+=i.childCount);s&&1&s.flags&&o===s.nodeIndex+s.childCount;)s.directChildFlags&t&&(r=fg(e,s,t,r)),s=s.parent}}function fg(e,t,n,r){for(var o=t.nodeIndex+1;o<=t.nodeIndex+t.childCount;o++){var i=e.def.nodes[o];i.flags&n&&gg(e,o,i.flags&n,r++),o+=i.childCount}return r}function gg(e,t,n,r){var o=Th(e,t);if(o){var i=o.instance;i&&(Ah.setCurrentNode(e,t),1048576&n&&_h(e,512,r)&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&_h(e,768,r)&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}}function vg(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var yg=new B("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return $n}}),mg=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).componentDef=e,r.ngModule=n,r.componentType=e.type,r.selector=e.selectors[0][0]||"div",r.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],r.isBoundToModule=!!n,r}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e,t,n,r){var o=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,o){var i=e.get(n,ug,o);return i!==ug||r===ug?i:t.get(n,r,o)}}}(e,r.injector):e,i=o.get(zd,Fr),s=o.get(ii,null);qn();var a=n?ks(i,n):Cs(this.selector,i.createRenderer(null,this.componentDef)),l=this.componentDef.onPush?576:528,u="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),c=ld(),p=i.createRenderer(a,this.componentDef);n&&a&&(xr(p)?p.setAttribute(a,"ng-version",Xd.full):a.setAttribute("ng-version",Xd.full));var d,h,f=ws(null,As(-1,null,1,0,null,null,null,null),c,l,null,null,i,p,s,o),g=Fn(f,null),v=!1;try{var y=sd(a,this.componentDef,f,i,p);h=Kt(0,f),t&&(h.projection=t.map((function(e){return Array.from(e)}))),d=ad(y,this.componentDef,f,c,[ud]),Ys(f,y),ys(f),v=!0}finally{Ln(g,v)}var m=new Cg(this.componentType,d,Wa(Vd,h,f),f,h);return n&&!u||(m.hostView._tViewNode.child=h),m}},{key:"inputs",get:function(){return vg(this.componentDef.inputs)}},{key:"outputs",get:function(){return vg(this.componentDef.outputs)}}]),t}(Ad),Cg=function(e){function t(e,n,r,o,i){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).location=r,s._rootLView=o,s._tNode=i,s.destroyCbs=[],s.instance=n,s.hostView=s.changeDetectorRef=new Ga(o),s.hostView._tViewNode=Es(o[Qe],null,-1,o),s.componentType=e,s}return _inherits(t,e),_createClass(t,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new co(this._tNode,this._rootLView)}}]),t}(Id),wg={},bg=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),Eg=void 0,_g=["en",[["a","p"],["AM","PM"],Eg],[["AM","PM"],Eg,Eg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eg,"{1} 'at' {0}",Eg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];function Sg(e){return Rg(e)[bg.PluralCase]}function Rg(e){var t=e.toLowerCase().replace(/_/g,"-"),n=wg[t];if(n)return n;var r=t.split("-")[0];if(n=wg[r])return n;if("en"===r)return _g;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}var Tg="en-US",Og="\ufffd",Dg=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ig=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Ag=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,kg=/\ufffd(\d+):?\d*\ufffd/gi,Pg=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Ng=0,xg=/\[(\ufffd.+?\ufffd?)\]/,Fg=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Mg=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Lg=/{([A-Z0-9_]+)}/g,Vg=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Gg=/\/\*/,Wg=/\d+\:(\d+)/;function Hg(e){if(!e)return[];var t,n=0,r=[],o=[],i=/[{}]/g;for(i.lastIndex=0;t=i.exec(e);){var s=t.index;if("}"==t[0]){if(r.pop(),0==r.length){var a=e.substring(n,s);Dg.test(a)?o.push(Bg(a)):o.push(a),n=s+1}}else{if(0==r.length){var l=e.substring(n,s);o.push(l),n=s+1}r.push("{")}}var u=e.substring(n);return o.push(u),o}function Bg(e){for(var t=[],n=[],r=1,o=0,i=Hg(e=e.replace(Dg,(function(e,t,n){return r="select"===n?0:1,o=parseInt(t.substr(1),10),""}))),s=0;s<i.length;){var a=i[s++].trim();1===r&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&t.push(a);var l=Hg(i[s++]);t.length>n.length&&n.push(l)}return t.indexOf("other")<=-1&&ve('Missing key "other" in ICU statement.'),{type:r,mainBinding:o,cases:t,values:n}}function Ug(e){for(var t,n,r="",o=0,i=!1;null!==(t=Ig.exec(e));)i?t[0]==="".concat(Og,"/*").concat(n).concat(Og)&&(o=t.index,i=!1):(r+=e.substring(o,t.index+t[0].length),n=t[1],i=!0);return r+e.substr(o)}function jg(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=[null,null],i=e.split(kg),s=0,a=0;a<i.length;a++){var l=i[a];if(1&a){var u=parseInt(l,10);o.push(-1-u),s|=Qg(u)}else""!==l&&o.push(l)}return o.push(t<<2|(n?1:0)),n&&o.push(n,r),o[0]=s,o[1]=o.length-2,o}function zg(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n|=Qg(e.mainBinding);for(var r=0;r<e.values.length;r++)for(var o=e.values[r],i=0;i<o.length;i++){var s=o[i];if("string"==typeof s)for(;t=kg.exec(s);)n|=Qg(parseInt(t[1],10));else n=zg(s,n)}return n}var qg=[],Kg=-1;function Qg(e){return 1<<Math.min(e,31)}var Yg,Zg=[];function Xg(e,t,n){var r=an()[Qe];qg[++Kg]=e,Jc(!0),r.firstTemplatePass&&null===r.data[e+dt]&&function(e,t,n,r){var o=an(),i=e.blueprint.length-dt;Yg=0;var s=Cn(),a=En()?Cn():s&&s.parent,l=a&&a!==o[Je]?a.index-dt:t,u=0;Zg[u]=l;var c=[];t>0&&s!==a&&c.push(s.index<<3|0);for(var p,d=[],h=[],f=(p=function(e,t){if("number"!=typeof t)return Ug(e);var n=e.indexOf(":".concat(t).concat(Og))+2+t.toString().length,r=e.search(new RegExp("".concat(Og,"\\/\\*\\d+:").concat(t).concat(Og)));return Ug(e.substring(n,r))}(n,r),p.replace(fv," ")).split(Ag),g=0;g<f.length;g++){var v=f[g];if(1&g)if("/"===v.charAt(0)){if("#"===v.charAt(1)){var y=parseInt(v.substr(2),10);l=Zg[--u],c.push(y<<3|5)}}else{var m=parseInt(v.substr(1),10);c.push(m<<3|0,l<<17|1),"#"===v.charAt(0)&&(Zg[++u]=l=m)}else for(var C=Hg(v),w=0;w<C.length;w++)if(1&w){var b=i+Yg++;c.push(os,"",b,l<<17|1);var E=C[w],_=zg(E);pv(h,E,b,b);var S=h.length-1;d.push(Qg(E.mainBinding),3,-1-E.mainBinding,b<<2|2,S,_,2,b<<2|3,S)}else if(""!==C[w]){var R=C[w],T=R.match(kg),O=i+Yg++;c.push(T?"":R,O,l<<17|1),T&&pe(jg(R,O),d)}}Yg>0&&function(e,t){if(t>0){var n=e[Qe];if(n.firstTemplatePass){for(var r=0;r<t;r++)n.blueprint.push(null),n.data.push(null),e.push(null);n.expandoInstructions?n.expandoInstructions.push(t):n.expandoStartIndex+=t}}}(o,Yg),e.data[t+dt]={vars:Yg,create:c,update:d,icus:h.length?h:null}}(r,e,t,n)}function $g(e,t,n,r){var o=e.next;n||(n=t),n===t&&e!==t.child?(e.next=t.child,t.child=e):n!==t&&e!==n.next?(e.next=n.next,n.next=e):e.next=null,t!==r[Je]&&(e.parent=t);for(var i=e.next;i;)i.next===e&&(i.next=o),i=i.next;if(1===e.type)return Aa(r,e,e.projection,zr(r)),e;Oa(zt(e,r),e,r);var s=r[e.index];return 0!==e.type&&wt(s)&&Oa(s[vt],e,r),e}function Jg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if(xg.test(e)){var r={},o=[Ng];n=n.replace(Fg,(function(e,t,n){var i=t||n,s=r[i]||[];if(s.length||(i.split("|").forEach((function(e){var t=e.match(Wg),n=t?parseInt(t[1],10):Ng,r=Gg.test(e);s.push([n,r,e])})),r[i]=s),!s.length)throw new Error("i18n postprocess: unmatched placeholder - ".concat(i));for(var a=o[o.length-1],l=0,u=0;u<s.length;u++)if(s[u][0]===a){l=u;break}var c=_slicedToArray(s[l],3),p=c[0],d=c[1],h=c[2];return d?o.pop():a!==p&&o.push(p),s.splice(l,1),h}))}return Object.keys(t).length?n=(n=(n=n.replace(Mg,(function(e,n,r,o,i,s){return t.hasOwnProperty(r)?"".concat(n).concat(t[r]).concat(s):e}))).replace(Lg,(function(e,n){return t.hasOwnProperty(n)?t[n]:e}))).replace(Vg,(function(e,n){if(t.hasOwnProperty(n)){var r=t[n];if(!r.length)throw new Error("i18n postprocess: unmatched ICU - ".concat(e," with key: ").concat(n));return r.shift()}return e})):n}function ev(){!function(e){for(var t=an(),n=qg[Kg--],r=e.data[n+dt],o=Cn(),i=nv(n,r.create,0,t),s=n+1;s<=o.index-dt;s++)-1===i.indexOf(s)&&rv(s,t)}(an()[Qe]),Jc(!1)}function tv(e,t,n,r,o){var i=Cn();e[t+dt]=r;var s=bs(e[Qe],e[Je],t,n,o,null);return i.next===s&&(i.next=null),s}function nv(e,t,n,r){for(var o=an()[it],i=null,s=null,a=[],l=0;l<t.length;l++){var u=t[l];if("string"==typeof u){var c=ga(u,o),p=t[++l];s=i,i=tv(r,p,3,c,null),a.push(p),_n()}else if("number"==typeof u)switch(7&u){case 1:var d=u>>>17;s=$g(i,d===e?r[Je]:Kt(d,r),s,r);break;case 0:var h=u>>>3;a.push(h),s=i,(i=Kt(h,r))&&wn(i,3===i.type);break;case 5:s=i=Kt(u>>>3,r),wn(i,!1);break;case 4:qs(u>>>3,t[++l],t[++l],r);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(u,'"'))}else switch(u){case os:var f=t[++l],g=t[++l],v=o.createComment(f);s=i,i=tv(r,g,5,v,null),a.push(g),_i(v,r),i.activeCaseIndex=null,_n();break;case rs:var y=t[++l],m=t[++l];s=i,i=tv(r,m,3,o.createElement(y),y),a.push(m);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(u,'"'))}}return _n(),a}function rv(e,t){var n=Kt(e,t),r=jt(e,t);r&&Ia(t[it],r);var o=uc(e);if(wt(o)){var i=o;0!==n.type&&Ia(t[it],i[vt])}n.flags|=32}function ov(e,t,n){Xg(e,t,n),ev()}function iv(e,t){!function(e,t,n){for(var r=Cn().index-dt,o=[],i=0;i<n.length;i+=2)for(var s=n[i],a=n[i+1].split(Pg),l=0;l<a.length;l++){var u=a[l];if(1&l)throw new Error("ICU expressions are not yet supported in attributes");if(""!==u)if(u.match(kg))e.firstTemplatePass&&null===e.data[t+dt]&&pe(jg(u,r,s),o);else{var c=an();qs(r,s,u,c);var p=Kt(r,c),d=p.inputs&&p.inputs[s];d&&ua(c,d,u)}}e.firstTemplatePass&&null===e.data[t+dt]&&(e.data[t+dt]=o)}(an()[Qe],e,t)}var sv=0,av=0;function lv(e){return xu(an(),e)!==ns&&(sv|=1<<av),av++,lv}function uv(e){if(av){var t,n=an(),r=n[Qe].data[e+dt],o=null;Array.isArray(r)?t=r:(t=r.update,o=r.icus),function e(t,n,r,o,i){for(var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=!1,l=0;l<t.length;l++){var u=t[l],c=t[++l];if(s||u&o)for(var p="",d=l+1;d<=l+c;d++){var h=t[d];if("string"==typeof h)p+=h;else if("number"==typeof h)if(h<0)p+=Zn(i[r-h]);else{var f=h>>>2,g=void 0,v=void 0;switch(3&h){case 1:Fs(f,t[++d],p,t[++d]);break;case 0:ca(i,f,p);break;case 2:if(g=n[t[++d]],null!==(v=Kt(f,i)).activeCaseIndex)for(var y=g.remove[v.activeCaseIndex],m=0;m<y.length;m++){var C=y[m];switch(7&C){case 3:rv(C>>>3,i);break;case 6:var w=Kt(y[m+1]>>>3,i).activeCaseIndex;null!==w&&pe(n[C>>>3].remove[w],y)}}var b=cv(g,p);v.activeCaseIndex=-1!==b?b:null,nv(-1,g.create[b],0,i),a=!0;break;case 3:g=n[t[++d]],v=Kt(f,i),e(g.update[v.activeCaseIndex],n,r,o,i,a)}}}l+=c}}(t,o,n[et]-av-1,sv,n),sv=0,av=0}}function cv(e,t){var n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:var r=function(e,t){switch(Sg(t)(e)){case 0:return"zero";case 1:return"one";case 2:return"two";case 3:return"few";case 4:return"many";default:return"other"}}(t,Cv);-1===(n=e.cases.indexOf(r))&&"other"!==r&&(n=e.cases.indexOf("other"));break;case 0:n=e.cases.indexOf("other")}return n}function pv(e,t,n,r){for(var o=[],i=[],s=[],a=[],l=[],u=0;u<t.values.length;u++){for(var c=t.values[u],p=[],d=0;d<c.length;d++){var h=c[d];if("string"!=typeof h){var f=p.push(h)-1;c[d]="\x3c!--\ufffd".concat(f,"\ufffd--\x3e")}}var g=dv(c.join(""),n,p,e,r);o.push(g.create),i.push(g.remove),s.push(g.update),a.push(g.vars),l.push(g.childIcus)}e.push({type:t.type,vars:a,childIcus:l,cases:t.cases,create:o,remove:i,update:s}),Yg+=Math.max.apply(Math,a)}function dv(e,t,n,r,o){var i=new Fo(document).getInertBodyElement(e);if(!i)throw new Error("Unable to generate inert body element");var s={vars:0,childIcus:[],create:[],remove:[],update:[]};return function e(t,n,r,o,i,s){if(t){for(var a=[];t;){var l=t.nextSibling,u=s+ ++n.vars;switch(t.nodeType){case Node.ELEMENT_NODE:var c=t,p=c.tagName.toLowerCase();if(Ko.hasOwnProperty(p)){n.create.push(rs,p,u,r<<17|1);for(var d=c.attributes,h=0;h<d.length;h++){var f=d.item(h),g=f.name.toLowerCase();f.value.match(kg)?Zo.hasOwnProperty(g)&&pe(Qo[g]?jg(f.value,u,f.name,Vo):Yo[g]?jg(f.value,u,f.name,Go):jg(f.value,u,f.name),n.update):n.create.push(u<<3|4,f.name,f.value)}e(t.firstChild,n,u,o,i,s),n.remove.push(u<<3|3)}else n.vars--;break;case Node.TEXT_NODE:var v=t.textContent||"",y=v.match(kg);n.create.push(y?"":v,u,r<<17|1),n.remove.push(u<<3|3),y&&pe(jg(v,u),n.update);break;case Node.COMMENT_NODE:var m=hv.exec(t.textContent||"");if(m){var C=parseInt(m[1],10);n.create.push(os,"",u,r<<17|1),a.push([o[C],u])}else n.vars--;break;default:n.vars--}t=l}for(var w=0;w<a.length;w++){var b=a[w][0],E=a[w][1];pv(i,b,E,s+n.vars);var _=i.length-1;n.vars+=Math.max.apply(Math,_toConsumableArray(i[_].vars)),n.childIcus.push(_);var S=zg(b);n.update.push(Qg(b.mainBinding),3,-1-b.mainBinding,E<<2|2,_,S,2,E<<2|3,_),n.remove.push(_<<3|6,E<<3|3)}}}((ri(i)||i).firstChild,s,t,n,r,o),s}var hv=/\ufffd(\d+)\ufffd/,fv=/\uE500/g,gv={};function vv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{translations:{}};gv=e.translations}var yv=/\{\$(.*?)\}/g;function mv(e,t){return void 0!==gv[e]&&(e=gv[e]),void 0!==t&&Object.keys(t).length?e.replace(yv,(function(e,n){return t[n]||""})):e}var Cv=Tg;function wv(e){null==e&&ve("Expected localeId to be defined"),"string"==typeof e&&(Cv=e.toLowerCase().replace(/_/g,"-"))}var bv=new Map;function Ev(e,t){var n=bv.get(e);_v(e,n&&n.moduleType,t.moduleType),bv.set(e,t)}function _v(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(k(t)," vs ").concat(k(t.name)))}function Sv(e){if(null!==e.ngModuleDef.id){var t=e.ngModuleDef.id;_v(t,bv.get(t),e),bv.set(t,e)}var n=e.ngModuleDef.imports;n instanceof Function&&(n=n()),n&&n.forEach((function(e){return Sv(e)}))}function Rv(e){return bv.get(e)}var Tv={provide:xd,useClass:function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).ngModule=e,n}return _inherits(t,e),_createClass(t,[{key:"resolveComponentFactory",value:function(e){var t=Be(e);return new mg(t,this.ngModule)}}]),t}(xd),deps:[ue]},Ov=function(e){function t(e,n){var r;_classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._parent=n,r._bootstrapComponents=[],r.injector=_assertThisInitialized(r),r.destroyCbs=[];var o=qe(e),i=e[De]||null;return i&&wv(i),r._bootstrapComponents=or(o.bootstrap),r._r3Injector=Sl(e,n,[{provide:ue,useValue:_assertThisInitialized(r)},Tv],k(e)),r.instance=r.get(e),r}return _inherits(t,e),_createClass(t,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nl.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.Default;return e===Nl||e===ue||e===U?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}},{key:"componentFactoryResolver",get:function(){return this.get(xd)}}]),t}(ue),Dv=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).moduleType=e,null!==qe(e)&&Sv(e),n}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e){return new Ov(this.moduleType,e)}}]),t}(ce);function Iv(e,t,n,r){return be((function(){var o,i=e,s=i.prototype?Object.getPrototypeOf(i.prototype):null,a=s&&s.constructor;null!==t&&(void 0===i.decorators||a&&a.decorators===i.decorators?i.decorators=t:(o=i.decorators).push.apply(o,_toConsumableArray(t))),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=void 0===i.propDecorators||a&&a.propDecorators===i.propDecorators?r:Object.assign({},i.propDecorators,r))}))}function Av(e,t,n){var r=An()+e,o=an();return Sn()?Ou(o,r,n?t.call(n):t()):Du(o,r)}function kv(e,t,n,r){var o=an(),i=An()+e;return Iu(o,i,n)?Ou(o,i+1,r?t.call(r,n):t(n)):Du(o,i+1)}function Pv(e,t,n,r,o){var i=An()+e,s=an();return Au(s,i,n,r)?Ou(s,i+2,o?t.call(o,n,r):t(n,r)):Du(s,i+2)}function Nv(e,t,n,r,o,i){var s=An()+e,a=an();return ku(a,s,n,r,o)?Ou(a,s+3,i?t.call(i,n,r,o):t(n,r,o)):Du(a,s+3)}function xv(e,t,n,r,o,i,s){var a=An()+e,l=an();return Pu(l,a,n,r,o,i)?Ou(l,a+4,s?t.call(s,n,r,o,i):t(n,r,o,i)):Du(l,a+4)}function Fv(e,t,n,r,o,i,s,a){var l=An()+e,u=an(),c=Pu(u,l,n,r,o,i);return Iu(u,l+4,s)||c?Ou(u,l+5,a?t.call(a,n,r,o,i,s):t(n,r,o,i,s)):Du(u,l+5)}function Mv(e,t,n,r,o,i,s,a,l){var u=An()+e,c=an(),p=Pu(c,u,n,r,o,i);return Au(c,u+4,s,a)||p?Ou(c,u+6,l?t.call(l,n,r,o,i,s,a):t(n,r,o,i,s,a)):Du(c,u+6)}function Lv(e,t,n,r,o,i,s,a,l,u){var c=An()+e,p=an(),d=Pu(p,c,n,r,o,i);return ku(p,c+4,s,a,l)||d?Ou(p,c+7,u?t.call(u,n,r,o,i,s,a,l):t(n,r,o,i,s,a,l)):Du(p,c+7)}function Vv(e,t,n,r,o,i,s,a,l,u,c){var p=An()+e,d=an(),h=Pu(d,p,n,r,o,i);return Pu(d,p+4,s,a,l,u)||h?Ou(d,p+8,c?t.call(c,n,r,o,i,s,a,l,u):t(n,r,o,i,s,a,l,u)):Du(d,p+8)}function Gv(e,t,n,r){for(var o=An()+e,i=!1,s=an(),a=0;a<n.length;a++)Iu(s,o++,n[a])&&(i=!0);return i?Ou(s,o,t.apply(r,n)):Du(s,o)}function Wv(e,t){var n,r=an()[Qe],o=e+dt;r.firstTemplatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[o]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(o,n.onDestroy)):n=r.data[o];var i=n.factory();return ac(e,i),i}function Hv(e,t,n){var r=uc(e);return Kv(qv(e)?kv(t,r.transform,n,r):r.transform(n))}function Bv(e,t,n,r){var o=uc(e);return Kv(qv(e)?Pv(t,o.transform,n,r,o):o.transform(n,r))}function Uv(e,t,n,r,o){var i=uc(e);return Kv(qv(e)?Nv(t,i.transform,n,r,o,i):i.transform(n,r,o))}function jv(e,t,n,r,o,i){var s=uc(e);return Kv(qv(e)?xv(t,s.transform,n,r,o,i,s):s.transform(n,r,o,i))}function zv(e,t,n){var r=uc(e);return Kv(qv(e)?Gv(t,r.transform,n,r):r.transform.apply(r,n))}function qv(e){return an()[Qe].data[e+dt].pure}function Kv(e){if(Su.isWrapped(e)){e=Su.unwrap(e);var t=an();t[t[et]]=ns}return e}var Qv=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).__isAsync=n,e}return _inherits(t,e),_createClass(t,[{key:"emit",value:function(e){_get(_getPrototypeOf(t.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,n,r){var i,s=function(e){return null},a=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(s=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},n&&(s=this.__isAsync?function(e){setTimeout((function(){return n(e)}))}:function(e){n(e)}),r&&(a=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var l=_get(_getPrototypeOf(t.prototype),"subscribe",this).call(this,i,s,a);return e instanceof o.a&&e.add(l),l}}]),t}(r.a);function Yv(){return this._results[bu()]()}var Zv=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new Qv,this.length=0;var t=bu(),n=e.prototype;n[t]||(n[t]=Yv)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=de(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Xv=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),$v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=new Array(r),i=0;i<r;i++){var s=n.getByIndex(i);o[i]=this.queries[s.indexInDeclarationView].clone()}return new e(o)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==yy(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Jv=function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=n,this.isStatic=r,this.read=o},ey=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,s=this.queries[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){i.value.elementStart(e,t)}}catch(a){r=!0,o=a}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}}},{key:"elementEnd",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this.queries[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.elementEnd(e)}}catch(s){n=!0,r=s}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var o=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,s=this.queries[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){i.value.template(e,t)}}catch(a){r=!0,o=a}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),e}(),ty=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){return this._appliesToNextNode&&!1===this.metadata.descendants?this._declarationNodeIndex===(e.parent?e.parent.index:-1):this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(e,t,ny(t,n[r]));else{var o=this.metadata.predicate;o===hh?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,so(t,e,o,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Vd||r===vh||r===hh&&0===t.type)this.addMatch(t.index,-2);else{var o=so(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function ny(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function ry(e,t,n,r){return-1===n?function(e,t){return 3===e.type||4===e.type?Wa(Vd,e,t):0===e.type?Ha(hh,Vd,e,t):null}(t,e):-2===n?function(e,t,n){return n===Vd?Wa(Vd,t,e):n===hh?Ha(hh,Vd,t,e):n===vh?Ba(vh,Vd,t,e):void 0}(e,t,r):ao(e[Qe].data,e,n,t)}function oy(e,t,n){var r=e[$e].queries[n];if(null===r.matches){for(var o=e[Qe].data,i=t.matches,s=new Array(i.length/2),a=0;a<i.length;a+=2){var l=i[a];s[a/2]=l<0?null:ry(e,o[l],i[a+1],t.metadata.read)}r.matches=s}return r.matches}function iy(e){var t=an(),n=Nn();xn(n+1);var r=yy(t[Qe],n);if(e.dirty&&Sn()===r.metadata.isStatic){if(null===r.matches)e.reset([]);else{var o=r.crossesNgTemplate?function e(t,n,r){var o=t[Qe].queries.getByIndex(n),i=o.matches;if(null!==i)for(var s=oy(t,o,n),a=0;a<i.length;a+=2){var l=i[a];if(l>0)r.push(s[a/2]);else{for(var u=i[a+1],c=t[-l],p=mt;p<c.length;p++){var d=c[p];d[ct]===d[Ze]&&e(d,u,r)}if(null!==c[gt]){var h=!0,f=!1,g=void 0;try{for(var v,y=c[gt][Symbol.iterator]();!(h=(v=y.next()).done);h=!0){e(v.value,u,r)}}catch(m){f=!0,g=m}finally{try{h||null==y.return||y.return()}finally{if(f)throw g}}}}}return r}(t,n,[]):oy(t,r,n);e.reset(o),e.notifyOnChanges()}return!0}return!1}function sy(e,t,n){ly(an(),e,t,n,!0)}function ay(e,t,n){ly(an(),e,t,n,!1)}function ly(e,t,n,r,o){var i=e[Qe];i.firstTemplatePass&&(vy(i,new Jv(t,n,o,r),-1),o&&(i.staticViewQueries=!0)),gy(e)}function uy(){return fy(an(),Nn())}function cy(e,t,n,r){dy(an(),t,n,r,!1,Cn(),e)}function py(e,t,n,r){dy(an(),t,n,r,!0,Cn(),e)}function dy(e,t,n,r,o,i,s){var a=e[Qe];a.firstTemplatePass&&(vy(a,new Jv(t,n,o,r),i.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,s),o&&(a.staticContentQueries=!0)),gy(e)}function hy(){return fy(an(),Nn())}function fy(e,t){return e[$e].queries[t].queryList}function gy(e){var t=new Zv;!function(e,t,n){var r=ia(e);r.push(t),e[Qe].firstTemplatePass&&sa(e).push(n,r.length-1)}(e,t,t.destroy),null===e[$e]&&(e[$e]=new $v),e[$e].queries.push(new Xv(t))}function vy(e,t,n){null===e.queries&&(e.queries=new ey),e.queries.track(new ty(t,n))}function yy(e,t){return e.queries.getByIndex(t)}function my(e,t){return Ha(hh,Vd,e,t)}function Cy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.Default,t=Ua(!0);if(null!=t||e&b.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}var wy={"\u0275\u0275attribute":Fu,"\u0275\u0275attributeInterpolate1":zu,"\u0275\u0275attributeInterpolate2":qu,"\u0275\u0275attributeInterpolate3":Ku,"\u0275\u0275attributeInterpolate4":Qu,"\u0275\u0275attributeInterpolate5":Yu,"\u0275\u0275attributeInterpolate6":Zu,"\u0275\u0275attributeInterpolate7":Xu,"\u0275\u0275attributeInterpolate8":$u,"\u0275\u0275attributeInterpolateV":Ju,"\u0275\u0275defineBase":Ge,"\u0275\u0275defineComponent":Pe,"\u0275\u0275defineDirective":We,"\u0275\u0275defineInjectable":S,"\u0275\u0275defineInjector":T,"\u0275\u0275defineNgModule":Me,"\u0275\u0275definePipe":He,"\u0275\u0275directiveInject":cc,"\u0275\u0275getFactoryOf":po,"\u0275\u0275getInheritedFactory":ho,"\u0275\u0275inject":te,"\u0275\u0275injectAttribute":pc,"\u0275\u0275injectPipeChangeDetectorRef":Cy,"\u0275\u0275templateRefExtractor":my,"\u0275\u0275NgOnChangesFeature":dd,"\u0275\u0275ProvidersFeature":Dd,"\u0275\u0275InheritDefinitionFeature":yd,"\u0275\u0275container":nc,"\u0275\u0275nextContext":Yc,"\u0275\u0275containerRefreshStart":oc,"\u0275\u0275containerRefreshEnd":ic,"\u0275\u0275namespaceHTML":zn,"\u0275\u0275namespaceMathML":jn,"\u0275\u0275namespaceSVG":Un,"\u0275\u0275enableBindings":on,"\u0275\u0275disableBindings":sn,"\u0275\u0275allocHostVars":Cu,"\u0275\u0275elementStart":kc,"\u0275\u0275elementEnd":Pc,"\u0275\u0275element":Nc,"\u0275\u0275elementContainerStart":Mc,"\u0275\u0275elementContainerEnd":Lc,"\u0275\u0275elementContainer":Vc,"\u0275\u0275pureFunction0":Av,"\u0275\u0275pureFunction1":kv,"\u0275\u0275pureFunction2":Pv,"\u0275\u0275pureFunction3":Nv,"\u0275\u0275pureFunction4":xv,"\u0275\u0275pureFunction5":Fv,"\u0275\u0275pureFunction6":Mv,"\u0275\u0275pureFunction7":Lv,"\u0275\u0275pureFunction8":Vv,"\u0275\u0275pureFunctionV":Gv,"\u0275\u0275getCurrentView":Hc,"\u0275\u0275restoreView":mn,"\u0275\u0275listener":jc,"\u0275\u0275load":uc,"\u0275\u0275projection":ep,"\u0275\u0275updateSyntheticHostBinding":Bp,"\u0275\u0275componentHostSyntheticListener":zc,"\u0275\u0275pipeBind1":Hv,"\u0275\u0275pipeBind2":Bv,"\u0275\u0275pipeBind3":Uv,"\u0275\u0275pipeBind4":jv,"\u0275\u0275pipeBindV":zv,"\u0275\u0275projectionDef":Xc,"\u0275\u0275hostProperty":Hp,"\u0275\u0275property":Nu,"\u0275\u0275propertyInterpolate":tp,"\u0275\u0275propertyInterpolate1":np,"\u0275\u0275propertyInterpolate2":rp,"\u0275\u0275propertyInterpolate3":op,"\u0275\u0275propertyInterpolate4":ip,"\u0275\u0275propertyInterpolate5":sp,"\u0275\u0275propertyInterpolate6":ap,"\u0275\u0275propertyInterpolate7":lp,"\u0275\u0275propertyInterpolate8":up,"\u0275\u0275propertyInterpolateV":cp,"\u0275\u0275pipe":Wv,"\u0275\u0275queryRefresh":iy,"\u0275\u0275viewQuery":ay,"\u0275\u0275staticViewQuery":sy,"\u0275\u0275staticContentQuery":py,"\u0275\u0275loadViewQuery":uy,"\u0275\u0275contentQuery":cy,"\u0275\u0275loadContentQuery":hy,"\u0275\u0275reference":lc,"\u0275\u0275elementHostAttrs":xc,"\u0275\u0275classMap":Cc,"\u0275\u0275classMapInterpolate1":_p,"\u0275\u0275classMapInterpolate2":Sp,"\u0275\u0275classMapInterpolate3":Rp,"\u0275\u0275classMapInterpolate4":Tp,"\u0275\u0275classMapInterpolate5":Op,"\u0275\u0275classMapInterpolate6":Dp,"\u0275\u0275classMapInterpolate7":Ip,"\u0275\u0275classMapInterpolate8":Ap,"\u0275\u0275classMapInterpolateV":kp,"\u0275\u0275styling":dc,"\u0275\u0275styleMap":mc,"\u0275\u0275styleProp":fc,"\u0275\u0275stylePropInterpolate1":Pp,"\u0275\u0275stylePropInterpolate2":Np,"\u0275\u0275stylePropInterpolate3":xp,"\u0275\u0275stylePropInterpolate4":Fp,"\u0275\u0275stylePropInterpolate5":Mp,"\u0275\u0275stylePropInterpolate6":Lp,"\u0275\u0275stylePropInterpolate7":Vp,"\u0275\u0275stylePropInterpolate8":Gp,"\u0275\u0275stylePropInterpolateV":Wp,"\u0275\u0275styleSanitizer":hc,"\u0275\u0275stylingApply":_c,"\u0275\u0275classProp":vc,"\u0275\u0275select":fs,"\u0275\u0275template":rc,"\u0275\u0275text":pp,"\u0275\u0275textBinding":dp,"\u0275\u0275textInterpolate":hp,"\u0275\u0275textInterpolate1":fp,"\u0275\u0275textInterpolate2":gp,"\u0275\u0275textInterpolate3":vp,"\u0275\u0275textInterpolate4":yp,"\u0275\u0275textInterpolate5":mp,"\u0275\u0275textInterpolate6":Cp,"\u0275\u0275textInterpolate7":wp,"\u0275\u0275textInterpolate8":bp,"\u0275\u0275textInterpolateV":Ep,"\u0275\u0275embeddedViewStart":Gc,"\u0275\u0275embeddedViewEnd":Wc,"\u0275\u0275i18n":ov,"\u0275\u0275i18nAttributes":iv,"\u0275\u0275i18nExp":lv,"\u0275\u0275i18nStart":Xg,"\u0275\u0275i18nEnd":ev,"\u0275\u0275i18nApply":uv,"\u0275\u0275i18nPostprocess":Jg,"\u0275\u0275i18nLocalize":mv,"\u0275\u0275resolveWindow":Jn,"\u0275\u0275resolveDocument":er,"\u0275\u0275resolveBody":tr,"\u0275\u0275setComponentScope":Ne,"\u0275\u0275setNgModuleScope":Le,"\u0275\u0275sanitizeHtml":ui,"\u0275\u0275sanitizeStyle":ci,"\u0275\u0275defaultStyleSanitizer":vi,"\u0275\u0275sanitizeResourceUrl":di,"\u0275\u0275sanitizeScript":hi,"\u0275\u0275sanitizeUrl":pi,"\u0275\u0275sanitizeUrlOrResourceUrl":gi},by=[],Ey=[],_y=!1;function Sy(){if(!_y){_y=!0;try{for(var e=Ey.length-1;e>=0;e--){var t=Ey[e],n=t.moduleType,r=t.ngModule;r.declarations&&r.declarations.every(Ry)&&(Ey.splice(e,1),Iy(n,r))}}finally{_y=!1}}}function Ry(e){return Array.isArray(e)?e.every(Ry):!!x(e)}function Ty(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Oy(e,t),function(e,t){Ey.push({moduleType:e,ngModule:t})}(e,t)}function Oy(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=de(t.declarations||by),r=null;Object.defineProperty(e,Oe,{configurable:!0,get:function(){return null===r&&(r=W().compileNgModule(wy,"ng:///".concat(e.name,"/ngModuleDef.js"),{type:e,bootstrap:de(t.bootstrap||by).map(x),declarations:n.map(x),imports:de(t.imports||by).map(x).map(Py),exports:de(t.exports||by).map(x).map(Py),emitInline:!0,schemas:t.schemas?de(t.schemas):null,id:t.id||null})),r}});var o=null;Object.defineProperty(e,A,{get:function(){if(null===o){var n={name:e.name,type:e,deps:ol(e),providers:t.providers||by,imports:[(t.imports||by).map(x),(t.exports||by).map(x)]};o=W().compileInjector(wy,"ng:///".concat(e.name,"/ngInjectorDef.js"),n)}return o},configurable:!1})}new Map,new Map;function Dy(){new Map,new Map,Ey.length=0}function Iy(e,t){var n=de(t.declarations||by),r=ky(e);n.forEach((function(t){t.hasOwnProperty(Se)?Ay(Be(t),r):t.hasOwnProperty(Re)||t.hasOwnProperty(Te)||(t.ngSelectorScope=e)}))}function Ay(e,t){e.directiveDefs=function(){return Array.from(t.compilation.directives).map((function(e){return e.hasOwnProperty(Se)?Be(e):Ue(e)})).filter((function(e){return!!e}))},e.pipeDefs=function(){return Array.from(t.compilation.pipes).map((function(e){return je(e)}))},e.schemas=t.schemas,e.tView=null}function ky(e,t){if(!Ny(e))throw new Error("".concat(e.name," does not have an ngModuleDef"));var n=qe(e);if(null!==n.transitiveCompileScopes)return n.transitiveCompileScopes;var r={schemas:n.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return or(n.declarations).forEach((function(e){je(e)?r.compilation.pipes.add(e):r.compilation.directives.add(e)})),or(n.imports).forEach((function(e){var n=e;if(!Ny(n))throw new Error("Importing ".concat(n.name," which does not have an ngModuleDef"));t&&t(n);var o=ky(n,t);o.exported.directives.forEach((function(e){return r.compilation.directives.add(e)})),o.exported.pipes.forEach((function(e){return r.compilation.pipes.add(e)}))})),or(n.exports).forEach((function(e){var n=e;if(Ny(n)){var o=ky(n,t);o.exported.directives.forEach((function(e){r.compilation.directives.add(e),r.exported.directives.add(e)})),o.exported.pipes.forEach((function(e){r.compilation.pipes.add(e),r.exported.pipes.add(e)}))}else je(n)?r.exported.pipes.add(n):r.exported.directives.add(n)})),n.transitiveCompileScopes=r,r}function Py(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function Ny(e){return!!qe(e)}function xy(e,t){var n=null;!function(e,t){vu(t)&&(fu.set(e,t),gu.add(e))}(e,t),Object.defineProperty(e,Se,{get:function(){var r=W();if(null===n){if(vu(t)){var o=["Component '".concat(e.name,"' is not resolved:")];throw t.templateUrl&&o.push(" - templateUrl: ".concat(t.templateUrl)),t.styleUrls&&t.styleUrls.length&&o.push(" - styleUrls: ".concat(JSON.stringify(t.styleUrls))),o.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(o.join("\n"))}var i=t.templateUrl||"ng:///".concat(e.name,"/template.html"),s=Object.assign({},Ly(e,t),{typeSourceSpan:r.createParseSourceSpan("Component",e.name,i),template:t.template||"",preserveWhitespaces:t.preserveWhitespaces||!1,styles:t.styles||_e,animations:t.animations,directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:t.encapsulation||we.Emulated,interpolation:t.interpolation,viewProviders:t.viewProviders||null});if(s.usesInheritance&&Vy(e),n=r.compileComponent(wy,i,s),Sy(),void 0!==e.ngSelectorScope){var a=ky(e.ngSelectorScope);Ay(n,a)}}return n},configurable:!1}),sl(e)}function Fy(e,t){var n=null;Object.defineProperty(e,Re,{get:function(){if(null===n){var r=e&&e.name,o="ng:///".concat(r,"/ngDirectiveDef.js"),i=W(),s=Ly(e,t);s.typeSourceSpan=i.createParseSourceSpan("Directive",r,o),s.usesInheritance&&Vy(e),n=i.compileDirective(wy,o,s)}return n},configurable:!1}),sl(e)}function My(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function Ly(e,t){var n,r=rl().ownPropMetadata(e);return{name:e.name,type:e,typeArgumentCount:0,selector:t.selector,deps:ol(e),host:t.host||Ee,propMetadata:r,inputs:t.inputs||_e,outputs:t.outputs||_e,queries:Hy(e,r,By),lifecycle:{usesOnChanges:e.prototype.hasOwnProperty("ngOnChanges")},typeSourceSpan:null,usesInheritance:!My(e),exportAs:(n=t.exportAs,void 0===n?null:n.split(",").map((function(e){return e.trim()}))),providers:t.providers||null,viewQueries:Hy(e,r,Uy)}}function Vy(e){for(var t=Object.prototype,n=Object.getPrototypeOf(e);n&&n!==t;){if(!Ue(n)&&!Be(n)&&!ze(n)){var r=Wy(n);r&&Gy(n,r)}n=Object.getPrototypeOf(n)}}function Gy(e,t){var n=null;Object.defineProperty(e,Ie,{get:function(){if(null===n){var r="ng://".concat(e&&e.name,"/ngBaseDef.js"),o=W();n=o.compileBase(wy,r,t)}return n},configurable:!1})}function Wy(e){var t,n,r=rl().ownPropMetadata(e),o=Hy(e,r,Uy),i=Hy(e,r,By),s=!1,a=function(e){r[e].forEach((function(r){var o=r.ngMetadataName;"Input"===o?(t=t||{})[e]=r.bindingPropertyName?[r.bindingPropertyName,e]:e:"Output"===o?(n=n||{})[e]=r.bindingPropertyName||e:"HostBinding"!==o&&"HostListener"!==o||(s=!0)}))};for(var l in r)a(l);return t||n||o.length||i.length||s?{name:e.name,type:e,inputs:t,outputs:n,viewQueries:o,queries:i,propMetadata:r}:null}function Hy(e,t,n){var r=[],o=function(o){if(t.hasOwnProperty(o)){var i=t[o];i.forEach((function(t){if(n(t)){if(!t.selector)throw new Error("Can't construct a query for the property \"".concat(o,'" of ')+'"'.concat(Xn(e),"\" since the query selector wasn't defined."));if(i.some(jy))throw new Error("Cannot combine @Input decorators with query decorators");r.push(function(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?n.split(",").map((function(e){return e.trim()})):x(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static};var n}(o,t))}}))}};for(var i in t)o(i);return r}function By(e){var t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function Uy(e){var t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function jy(e){return"Input"===e.ngMetadataName}function zy(e,t){var n=null;Object.defineProperty(e,Te,{get:function(){if(null===n){var r=e.name;n=W().compilePipe(wy,"ng:///".concat(r,"/ngPipeDef.js"),{type:e,typeArgumentCount:0,name:r,deps:ol(e),pipeName:t.name,pure:void 0===t.pure||t.pure})}return n},configurable:!1})}var qy=p("Directive",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),void 0,void 0,(function(e,t){return rm(e,t)})),Ky=p("Component",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({changeDetection:ye.Default},e)}),qy,void 0,(function(e,t){return nm(e,t)})),Qy=p("Pipe",(function(e){return Object.assign({pure:!0},e)}),void 0,void 0,(function(e,t){return om(e,t)})),Yy=f("Input",(function(e){return{bindingPropertyName:e}})),Zy=f("Output",(function(e){return{bindingPropertyName:e}})),Xy=f("HostBinding",(function(e){return{hostPropertyName:e}})),$y=f("HostListener",(function(e,t){return{eventName:e,args:t}})),Jy=xy,em=Fy,tm=zy,nm=Ld,rm=Ld,om=Ld,im=p("NgModule",(function(e){return e}),void 0,void 0,(function(e,t){return am(e,t)})),sm=Ty,am=function(e,t){var n=t&&t.imports||[];t&&t.exports&&(n=[].concat(_toConsumableArray(n),[t.exports])),e.ngInjectorDef=T({factory:fl(e,{useClass:e}),providers:t&&t.providers,imports:n})},lm=new B("Application Initializer"),um=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var o=this.appInits[r]();Bc(o)&&t.push(o)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}(),cm=new B("AppId");function pm(){return"".concat(hm()).concat(hm()).concat(hm())}var dm={provide:cm,useFactory:pm,deps:[]};function hm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var fm=new B("Platform Initializer"),gm=new B("Platform ID"),vm=new B("appBootstrapListener"),ym=new B("Application Packages Root URL"),mm=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}(),Cm=new B("LocaleId"),wm=new B("Translations"),bm=new B("TranslationsFormat"),Em=function(){var e={Error:0,Warning:1,Ignore:2};return e[e.Error]="Error",e[e.Warning]="Warning",e[e.Ignore]="Ignore",e}(),_m=!0,Sm=!1,Rm=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n};function Tm(){throw new Error("Runtime compiler is not loaded")}var Om,Dm,Im=function(e){return new Dv(e)},Am=Tm,km=function(e){return Promise.resolve(Im(e))},Pm=Tm,Nm=function(e){var t=Im(e),n=or(qe(e).declarations).reduce((function(e,t){var n=Be(t);return n&&e.push(new mg(n)),e}),[]);return new Rm(t,n)},xm=Tm,Fm=function(e){return Promise.resolve(Nm(e))},Mm=Tm,Lm=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Am,this.compileModuleAsync=Pm,this.compileModuleAndAllComponentsSync=xm,this.compileModuleAndAllComponentsAsync=Mm}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}(),Vm=new B("compilerOptions"),Gm=function e(){_classCallCheck(this,e)};function Wm(){var e=G.wtf;return!(!e||!(Om=e.trace)||(Dm=Om.events,0))}function Hm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Dm.createScope(e,t)}function Bm(e,t){return Om.leaveScope(e,t),t}function Um(e,t){return Om.beginTimeRange(e,t)}function jm(e){Om.endTimeRange(e)}var zm=Wm();function qm(e,t){return null}var Km=zm?Hm:function(e,t){return qm},Qm=zm?Bm:function(e,t){return t},Ym=zm?Um:function(e,t){return null},Zm=zm?jm:function(e){return null},Xm=Promise.resolve(0);function $m(e){"undefined"==typeof Zone?Xm.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Jm=function(){function e(t){var n,r=t.enableLongStackTrace,o=void 0!==r&&r;if(_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qv(!1),this.onMicrotaskEmpty=new Qv(!1),this.onStable=new Qv(!1),this.onError=new Qv(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,r,o,i,s){try{return rC(n),e.invokeTask(r,o,i,s)}finally{oC(n)}},onInvoke:function(e,t,r,o,i,s,a){try{return rC(n),e.invoke(r,o,i,s,a)}finally{oC(n)}},onHasTask:function(e,t,r,o){e.hasTask(r,o),t===r&&("microTask"==o.change?(n.hasPendingMicrotasks=o.microTask,nC(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:function(e,t,r,o){return e.handleError(r,o),n.runOutsideAngular((function(){return n.onError.emit(o)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var o=this._inner,i=o.scheduleEventTask("NgZoneEvent: "+r,e,tC,eC,eC);try{return o.runTask(i,t,n)}finally{o.cancelTask(i)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function eC(){}var tC={};function nC(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function rC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function oC(e){e._nesting--,nC(e)}var iC=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qv,this.onMicrotaskEmpty=new Qv,this.onStable=new Qv,this.onError=new Qv}return _createClass(e,[{key:"run",value:function(e){return e()}},{key:"runGuarded",value:function(e){return e()}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e){return e()}}]),e}(),sC=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){Jm.assertNotInAngularZone(),$m((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())$m((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,o=-1;t&&t>0&&(o=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==o})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}(),aC=function(){function e(){_classCallCheck(this,e),this._applications=new Map,cC.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return cC.findTestabilityInTree(this,e,t)}}]),e}();function lC(e){cC=e}var uC,cC=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),pC=function(e,t,n){return e.get(Gm).createCompiler([t]).compileModuleAsync(n)};function dC(e,t,n){var r=new Dv(n);if(0===fu.size)return Promise.resolve(r);var o,i,s=(o=e.get(Vm,[]).concat(t).map((function(e){return e.providers})),i=[],o.forEach((function(e){return e&&i.push.apply(i,_toConsumableArray(e))})),i);if(0===s.length)return Promise.resolve(r);var a=W(),l=Nl.create({providers:s}).get(a.ResourceLoader);return hu((function(e){return Promise.resolve(l.get(e))})).then((function(){return r}))}function hC(e){return e.isBoundToModule}var fC=new B("AllowMultipleToken"),gC=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function vC(e){if(uC&&!uC.destroyed&&!uC.injector.get(fC,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");uC=e.get(bC);var t=e.get(fm,null);return t&&t.forEach((function(e){return e()})),uC}function yC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),o=new B(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=wC();if(!i||i.injector.get(fC,!1))if(e)e(n.concat(t).concat({provide:o,useValue:!0}));else{var s=n.concat(t).concat({provide:o,useValue:!0});vC(Nl.create({providers:s,name:r}))}return mC(o)}}function mC(e){var t=wC();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function CC(){uC&&!uC.destroyed&&uC.destroy()}function wC(){return uC&&!uC.destroyed?uC:null}var bC=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r=this,o="noop"===(n=t?t.ngZone:void 0)?new iC:("zone.js"===n?void 0:n)||new Jm({enableLongStackTrace:No()}),i=[{provide:Jm,useValue:o}];return o.run((function(){var t=Nl.create({providers:i,parent:r.injector,name:e.moduleType.name}),n=e.create(t),s=n.injector.get(wo,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return Sm&&wv(n.injector.get(Cm,Tg)||Tg),n.onDestroy((function(){return SC(r._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){s.handleError(e)}})})),function(e,t,o){try{var i=((s=n.injector.get(um)).runInitializers(),s.donePromise.then((function(){return r._moduleDoBootstrap(n),n})));return Bc(i)?i.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):i}catch(a){throw t.runOutsideAngular((function(){return e.handleError(a)})),a}var s}(s,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=EC({},n);return pC(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(_C);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(k(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function EC(e,t){return Array.isArray(t)?t.reduce(EC,e):Object.assign({},e,t)}var _C=function(){var e=function(){function e(t,n,r,o,l,u){var c=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=o,this._componentFactoryResolver=l,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=No(),this._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run((function(){c.tick()}))}});var p=new i.a((function(e){c._stable=c._zone.isStable&&!c._zone.hasPendingMacrotasks&&!c._zone.hasPendingMicrotasks,c._zone.runOutsideAngular((function(){e.next(c._stable),e.complete()}))})),d=new i.a((function(e){var t;c._zone.runOutsideAngular((function(){t=c._zone.onStable.subscribe((function(){Jm.assertNotInAngularZone(),$m((function(){c._stable||c._zone.hasPendingMacrotasks||c._zone.hasPendingMicrotasks||(c._stable=!0,e.next(!0))}))}))}));var n=c._zone.onUnstable.subscribe((function(){Jm.assertInAngularZone(),c._stable&&(c._stable=!1,c._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(s.a)(p,d.pipe(Object(a.a)()))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Ad?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var o=n instanceof Md?null:this._injector.get(ue),i=n.create(Nl.NULL,[],t||n.selector,o);i.onDestroy((function(){r._unloadComponent(i)}));var s=i.injector.get(sC,null);return s&&i.injector.get(aC).registerApplication(i.location.nativeElement,s),this._loadComponent(i),No()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0;var r=!0,o=!1,i=void 0;try{for(var s,a=this._views[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){s.value.detectChanges()}}catch(h){o=!0,i=h}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}if(this._enforceNoNewChanges){var l=!0,u=!1,c=void 0;try{for(var p,d=this._views[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){p.value.checkNoChanges()}}catch(h){u=!0,c=h}finally{try{l||null==d.return||d.return()}finally{if(u)throw c}}}}catch(f){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(f)}))}finally{this._runningTick=!1,Qm(n)}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;SC(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(vm,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),SC(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e._tickScope=Km("ApplicationRef#tick()"),e}();function SC(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var RC=function e(){_classCallCheck(this,e)};function TC(e){var t=Rv(e);if(!t)throw IC(e);return t}function OC(e){var t=Rv(e);if(!t)throw IC(e);return new Dv(t)}var DC=TC;function IC(e){return new Error("No module with ID ".concat(e," loaded"))}var AC=function e(){_classCallCheck(this,e)},kC={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},PC=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||kC}return _createClass(e,[{key:"load",value:function(e){return!Sm&&this._compiler instanceof Lm?this.loadFactory(e):this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),o=r[0],i=r[1];return void 0===i&&(i="default"),n("zn8P")(o).then((function(e){return e[i]})).then((function(e){return NC(e,o,i)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],o=t[1],i="NgFactory";return void 0===o&&(o="default",i=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[o+i]})).then((function(e){return NC(e,r,o)}))}}]),e}();function NC(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var xC=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(ja),FC=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(xC),MC=function e(t,n){_classCallCheck(this,e),this.name=t,this.callback=n},LC=function(){function e(t,n,r){_classCallCheck(this,e),this.listeners=[],this.parent=null,this._debugContext=r,this.nativeNode=t,n&&n instanceof VC&&n.addChild(this)}return _createClass(e,[{key:"injector",get:function(){return this._debugContext.injector}},{key:"componentInstance",get:function(){return this._debugContext.component}},{key:"context",get:function(){return this._debugContext.context}},{key:"references",get:function(){return this._debugContext.references}},{key:"providerTokens",get:function(){return this._debugContext.providerTokens}}]),e}(),VC=function(e){function t(e,n,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,r))).properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=e,o}return _inherits(t,e),_createClass(t,[{key:"addChild",value:function(e){e&&(this.childNodes.push(e),e.parent=this)}},{key:"removeChild",value:function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}},{key:"insertChildrenAfter",value:function(e,t){var n,r=this,o=this.childNodes.indexOf(e);-1!==o&&((n=this.childNodes).splice.apply(n,[o+1,0].concat(_toConsumableArray(t))),t.forEach((function(t){t.parent&&t.parent.removeChild(t),e.parent=r})))}},{key:"insertBefore",value:function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}},{key:"query",value:function(e){return this.queryAll(e)[0]||null}},{key:"queryAll",value:function(e){var n=[];return function e(n,r,o){n.childNodes.forEach((function(n){n instanceof t&&(r(n)&&o.push(n),e(n,r,o))}))}(this,e,n),n}},{key:"queryAllNodes",value:function(e){var n=[];return function e(n,r,o){n instanceof t&&n.childNodes.forEach((function(n){r(n)&&o.push(n),n instanceof t&&e(n,r,o)}))}(this,e,n),n}},{key:"triggerEventHandler",value:function(e,t){this.listeners.forEach((function(n){n.name==e&&n.callback(t)}))}},{key:"children",get:function(){return this.childNodes.filter((function(e){return e instanceof t}))}}]),t}(LC);function GC(e){return e.map((function(e){return e.nativeElement}))}var WC=function(){function e(t){_classCallCheck(this,e),this.nativeNode=t}return _createClass(e,[{key:"parent",get:function(){var e=this.nativeNode.parentNode;return e?new HC(e):null}},{key:"injector",get:function(){return Kp(this.nativeNode)}},{key:"componentInstance",get:function(){var e=this.nativeNode;return e&&(Up(e)||zp(e))}},{key:"context",get:function(){return Up(this.nativeNode)||jp(this.nativeNode)}},{key:"listeners",get:function(){return Jp(this.nativeNode).filter($p)}},{key:"references",get:function(){return e=this.nativeNode,void 0===(t=Yp(e)).localRefs&&(t.localRefs=function(e,t){var n=e[Qe].data[t];if(n&&n.localNames){for(var r={},o=n.index+1,i=0;i<n.localNames.length;i+=2)r[n.localNames[i]]=e[o],o++;return r}return null}(t.lView,t.nodeIndex)),t.localRefs||{};var e,t}},{key:"providerTokens",get:function(){return function(e){var t=Yp(e,!1);if(!t)return[];for(var n,r=t.lView[Qe],o=r.data[t.nodeIndex],i=[],s=o.directiveEnd,a=65535&o.providerIndexes;a<s;a++){var l=r.data[a];void 0!==(n=l).type&&void 0!==n.template&&void 0!==n.declaredInputs&&(l=l.type),i.push(l)}return i}(this.nativeNode)}}]),e}(),HC=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),_createClass(t,[{key:"query",value:function(e){return this.queryAll(e)[0]||null}},{key:"queryAll",value:function(e){var t=[];return UC(this,e,t,!0),t}},{key:"queryAllNodes",value:function(e){var t=[];return UC(this,e,t,!1),t}},{key:"triggerEventHandler",value:function(e,t){this.listeners.forEach((function(n){n.name===e&&n.callback(t)}))}},{key:"nativeElement",get:function(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}},{key:"name",get:function(){return this.nativeElement.nodeName}},{key:"properties",get:function(){var e=Yp(this.nativeNode),t=e.lView,n=t[Qe].data,r=n[e.nodeIndex],o=function(e,t,n){for(var r={},o=function(e,t){for(var n=e-1,r=t[n];"string"==typeof r&&!rr(r);)r=t[--n];return n+1}(e.propertyMetadataStartIndex,n);o<e.propertyMetadataEndIndex;){for(var i=void 0,s=n[o];!rr(s);)i=(i||"")+Zn(t[o])+n[o],s=n[++o];i=void 0===i?t[o]:i+=t[o];var a=s.split(nr),l=a[0];l&&(r[l]=a[1]&&a[2]?a[1]+i+a[2]:i),o++}return r}(r,t,n),i=function(e,t,n){for(var r={},o=e.directiveEnd,i=n[o];"string"==typeof i;)r[i.split(nr)[0]]=t[o],i=n[++o];return r}(r,t,n),s=function(e){for(var t=e.classes,n="",r=0,o=Object.keys(t);r<o.length;r++){var i=o[r];t[i]&&(n=n?n+" ".concat(i):i)}return n}(this),a=Object.assign({},o,i);return s&&(a.className=a.className?a.className+" ".concat(s):s),a}},{key:"attributes",get:function(){var e={},t=this.nativeElement;if(!t)return e;var n=Yp(t),r=n.lView[Qe].data[n.nodeIndex].attrs,o=[];if(r)for(var i=0;i<r.length;){var s=r[i];if("string"!=typeof s)break;e[s]=r[i+1],o.push(s.toLowerCase()),i+=2}for(var a=t.attributes,l=0;l<a.length;l++){var u=a[l];-1===o.indexOf(u.name)&&(e[u.name]=u.value)}return e}},{key:"styles",get:function(){return BC(this.nativeElement,!1)}},{key:"classes",get:function(){return BC(this.nativeElement,!0)}},{key:"childNodes",get:function(){for(var e=this.nativeNode.childNodes,t=[],n=0;n<e.length;n++)t.push(YC(e[n]));return t}},{key:"children",get:function(){var e=this.nativeElement;if(!e)return[];for(var t=e.children,n=[],r=0;r<t.length;r++)n.push(YC(t[r]));return n}}]),t}(WC);function BC(e,t){if(e){var n=Xp(e),r=n.lView,o=r[Qe].data[n.nodeIndex];return t?Tr(o.classes)?new hs(o.classes,r,!0).values:ds(o.classes):Tr(o.styles)?new hs(o.styles,r,!1).values:ds(o.styles)}return{}}function UC(e,t,n,r){var o=Yp(e.nativeNode);jC(o.lView[Qe].data[o.nodeIndex],o.lView,t,n,r,e.nativeNode)}function jC(e,t,n,r,o,i){var s=qt(e,t);if(3===e.type||4===e.type){if(qC(s,n,r,o,i),Et(e)){var a=Yt(e.index,t);a&&a[Qe].firstChild&&jC(a[Qe].firstChild,a,n,r,o,i)}else e.child&&jC(e.child,t,n,r,o,i),s&&function e(t,n,r,o){for(var i=t.childNodes,s=i.length,a=0;a<s;a++){var l=i[a],u=ZC(l);u&&(o&&u instanceof HC&&n(u)&&-1===r.indexOf(u)?r.push(u):!o&&n(u)&&-1===r.indexOf(u)&&r.push(u),e(l,n,r,o))}}(s,n,r,o);var l=t[e.index];wt(l)&&zC(l,n,r,o,i)}else if(0===e.type){var u=t[e.index];qC(u[vt],n,r,o,i),zC(u,n,r,o,i)}else if(1===e.type){var c=zr(t),p=c[Je].projection[e.projection];if(Array.isArray(p)){var d=!0,h=!1,f=void 0;try{for(var g,v=p[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){qC(g.value,n,r,o,i)}}catch(C){h=!0,f=C}finally{try{d||null==v.return||v.return()}finally{if(h)throw f}}}else if(p){var y=c[Ze];jC(y[Qe].data[p.index],y,n,r,o,i)}}else e.child&&jC(e.child,t,n,r,o,i);if(i!==s){var m=2&e.flags?e.projectionNext:e.next;m&&jC(m,t,n,r,o,i)}}function zC(e,t,n,r,o){for(var i=mt;i<e.length;i++){var s=e[i];jC(s[Qe].node,s,t,n,r,o)}}function qC(e,t,n,r,o){if(o!==e){var i=ZC(e);if(!i)return;r&&i instanceof HC&&t(i)&&-1===n.indexOf(i)?n.push(i):!r&&t(i)&&-1===n.indexOf(i)&&n.push(i)}}var KC=new Map,QC="__ng_debug__";function YC(e){return e instanceof Node?(e.hasOwnProperty(QC)||(e[QC]=e.nodeType==Node.ELEMENT_NODE?new HC(e):new WC(e)),e[QC]):null}var ZC=function(e){return KC.get(e)||null};function XC(e){KC.set(e.nativeNode,e)}var $C=LC,JC=VC,ew=yC(null,"core",[{provide:gm,useValue:"unknown"},{provide:bC,deps:[Nl]},{provide:aC,deps:[]},{provide:mm,deps:[]}]);function tw(){return ph}function nw(){return dh}function rw(e){return e?(Sm&&wv(e),e):Tg}var ow=[{provide:_C,useClass:_C,deps:[Jm,mm,Nl,wo,xd,um]},{provide:yg,deps:[Jm],useFactory:iw},{provide:um,useClass:um,deps:[[new v,lm]]},{provide:Lm,useClass:Lm,deps:[]},dm,{provide:lh,useFactory:tw,deps:[]},{provide:uh,useFactory:nw,deps:[]},{provide:Cm,useFactory:rw,deps:[[new g(Cm),new v,new m]]}];function iw(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}var sw=function e(t){_classCallCheck(this,e)};function aw(e,t,n,r,o,i){e|=1;var s=Xh(t),a=s.matchedQueries,l=s.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:s.matchedQueryIds,references:l,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?tf(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:o||kh},provider:null,text:null,query:null,ngContent:null}}function lw(e,t,n,r,o,i){var s,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,p=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0;c||(c=kh);var h=Xh(n),f=h.matchedQueries,g=h.references,v=h.matchedQueryIds,y=null,m=null;i&&(y=(s=_slicedToArray(uf(i),2))[0],m=s[1]),l=l||[];for(var C=new Array(l.length),w=0;w<l.length;w++){var b=_slicedToArray(l[w],3),E=b[0],_=b[1],S=b[2],R=_slicedToArray(uf(_),2),T=R[0],O=R[1],D=void 0,I=void 0;switch(15&E){case 4:I=S;break;case 1:case 8:D=S}C[w]={flags:E,ns:T,name:O,nonMinifiedName:O,securityContext:D,suffix:I}}u=u||[];for(var A=new Array(u.length),k=0;k<u.length;k++){var P=_slicedToArray(u[k],2),N=P[0],x=P[1];A[k]={type:0,target:N,eventName:x,propName:null}}var F=(a=a||[]).map((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],o=_slicedToArray(uf(n),2);return[o[0],o[1],r]}));return d=function(e){if(e&&e.id===Fh){var t=null!=e.encapsulation&&e.encapsulation!==we.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c".concat(Vh++):Mh}return e&&e.id===Mh&&(e=null),e||null}(d),p&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:f,matchedQueryIds:v,references:g,ngContentIndex:r,childCount:o,bindings:C,bindingFlags:cf(C),outputs:A,element:{ns:y,name:m,attrs:F,template:null,componentProvider:null,componentView:p||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:c||kh},provider:null,text:null,query:null,ngContent:null}}function uw(e,t,n){var r,o=n.element,i=e.root.selectorOrNode,s=e.renderer;if(e.parent||!i){r=o.name?s.createElement(o.name,o.ns):s.createComment("");var a=Jh(e,t,n);a&&s.appendChild(a,r)}else r=s.selectRootElement(i,!!o.componentRendererType&&o.componentRendererType.encapsulation===we.ShadowDom);if(o.attrs)for(var l=0;l<o.attrs.length;l++){var u=_slicedToArray(o.attrs[l],3),c=u[0],p=u[1],d=u[2];s.setAttribute(r,p,d,c)}return r}function cw(e,t,n,r){for(var o=0;o<n.outputs.length;o++){var i=n.outputs[o],s=pw(e,n.nodeIndex,(p=i.eventName,(c=i.target)?"".concat(c,":").concat(p):p)),a=i.target,l=e;"component"===i.target&&(a=null,l=t);var u=l.renderer.listen(a||r,i.eventName,s);e.disposables[n.outputIndex+o]=u}var c,p}function pw(e,t,n){return function(r){return jh(e,t,n,r)}}function dw(e,t,n,r){if(!Wh(e,t,n,r))return!1;var o=t.bindings[n],i=Rh(e,t.nodeIndex),s=i.renderElement,a=o.name;switch(15&o.flags){case 1:!function(e,t,n,r,o,i){var s=t.securityContext,a=s?e.root.sanitizer.sanitize(s,i):i;a=null!=a?a.toString():null;var l=e.renderer;null!=i?l.setAttribute(n,o,a,r):l.removeAttribute(n,o,r)}(e,o,s,o.ns,a,r);break;case 2:!function(e,t,n,r){var o=e.renderer;r?o.addClass(t,n):o.removeClass(t,n)}(e,s,a,r);break;case 4:!function(e,t,n,r,o){var i=e.root.sanitizer.sanitize(oi.STYLE,o);if(null!=i){i=i.toString();var s=t.suffix;null!=s&&(i+=s)}else i=null;var a=e.renderer;null!=i?a.setStyle(n,r,i):a.removeStyle(n,r)}(e,o,s,a,r);break;case 8:!function(e,t,n,r,o){var i=t.securityContext,s=i?e.root.sanitizer.sanitize(i,o):o;e.renderer.setProperty(n,r,s)}(33554432&t.flags&&32&o.flags?i.componentView:e,o,s,a,r)}return!0}function hw(e,t,n){var r=[];for(var o in n)r.push({propName:o,bindingType:n[o]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Zh(t),bindings:r},ngContent:null}}function fw(e){for(var t=e.def.nodeMatchedQueries;e.parent&&Yh(e);){var n=e.parentNodeDef;e=e.parent;for(var r=n.nodeIndex+n.childCount,o=0;o<=r;o++){var i=e.def.nodes[o];67108864&i.flags&&536870912&i.flags&&(i.query.filterId&t)===i.query.filterId&&Dh(e,o).setDirty(),!(1&i.flags&&o+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(o+=i.childCount)}}if(134217728&e.def.nodeFlags)for(var s=0;s<e.def.nodes.length;s++){var a=e.def.nodes[s];134217728&a.flags&&536870912&a.flags&&Dh(e,s).setDirty(),s+=a.childCount}}function gw(e,t){var n=Dh(e,t.nodeIndex);if(n.dirty){var r,o=void 0;if(67108864&t.flags){var i=t.parent.parent;o=vw(e,i.nodeIndex,i.nodeIndex+i.childCount,t.query,[]),r=Th(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(o=vw(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(o);for(var s=t.query.bindings,a=!1,l=0;l<s.length;l++){var u=s[l],c=void 0;switch(u.bindingType){case 0:c=n.first;break;case 1:c=n,a=!0}r[u.propName]=c}a&&n.notifyOnChanges()}}function vw(e,t,n,r,o){for(var i=t;i<=n;i++){var s=e.def.nodes[i],a=s.matchedQueries[r.id];if(null!=a&&o.push(yw(e,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var l=Rh(e,i);if((s.childMatchedQueries&r.filterId)===r.filterId&&(vw(e,i+1,i+s.childCount,r,o),i+=s.childCount),16777216&s.flags)for(var u=l.viewContainer._embeddedViews,c=0;c<u.length;c++){var p=u[c],d=zh(p);d&&d===l&&vw(p,0,p.def.nodes.length-1,r,o)}var h=l.template._projectedViews;if(h)for(var f=0;f<h.length;f++){var g=h[f];vw(g,0,g.def.nodes.length-1,r,o)}}(s.childMatchedQueries&r.filterId)!==r.filterId&&(i+=s.childCount)}return o}function yw(e,t,n){if(null!=n)switch(n){case 1:return Rh(e,t.nodeIndex).renderElement;case 0:return new Vd(Rh(e,t.nodeIndex).renderElement);case 2:return Rh(e,t.nodeIndex).template;case 3:return Rh(e,t.nodeIndex).viewContainer;case 4:return Th(e,t.nodeIndex).instance}}function mw(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function Cw(e,t,n){var r=Jh(e,t,n);r&&of(e,n.ngContent.index,1,r,null,void 0)}function ww(e,t){return _w(128,e,new Array(t+1))}function bw(e,t){return _w(32,e,new Array(t))}function Ew(e,t){for(var n=Object.keys(t),r=n.length,o=new Array(r),i=0;i<r;i++){var s=n[i];o[t[s]]=s}return _w(64,e,o)}function _w(e,t,n){for(var r=new Array(n.length),o=0;o<n.length;o++){var i=n[o];r[o]={flags:8,name:i,ns:null,nonMinifiedName:i,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:cf(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Sw(e,t,n){for(var r=new Array(n.length-1),o=1;o<n.length;o++)r[o-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[o]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Rw(e,t,n){var r,o=e.renderer;r=o.createText(n.text.prefix);var i=Jh(e,t,n);return i&&o.appendChild(i,r),{renderText:r}}function Tw(e,t){return(null!=e?e.toString():"")+t.suffix}function Ow(e,t,n,r){for(var o=0,i=0,s=0,a=0,l=0,u=null,c=null,p=!1,d=!1,h=null,f=0;f<t.length;f++){var g=t[f];if(g.nodeIndex=f,g.parent=u,g.bindingIndex=o,g.outputIndex=i,g.renderParent=c,s|=g.flags,l|=g.matchedQueryIds,g.element){var v=g.element;v.publicProviders=u?u.element.publicProviders:Object.create(null),v.allProviders=v.publicProviders,p=!1,d=!1,g.element.template&&(l|=g.element.template.nodeMatchedQueries)}if(Iw(u,g,t.length),o+=g.bindings.length,i+=g.outputs.length,!c&&3&g.flags&&(h=g),20224&g.flags){p||(p=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);var y=0!=(32768&g.flags);0==(8192&g.flags)||y?u.element.publicProviders[Nh(g.provider.token)]=g:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Nh(g.provider.token)]=g),y&&(u.element.componentProvider=g)}if(u?(u.childFlags|=g.flags,u.directChildFlags|=g.flags,u.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(u.childMatchedQueries|=g.element.template.nodeMatchedQueries)):a|=g.flags,g.childCount>0)u=g,Dw(g)||(c=g);else for(;u&&f===u.nodeIndex+u.childCount;){var m=u.parent;m&&(m.childFlags|=u.childFlags,m.childMatchedQueries|=u.childMatchedQueries),c=(u=m)&&Dw(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:l,flags:e,nodes:t,updateDirectives:n||kh,updateRenderer:r||kh,handleEvent:function(e,n,r,o){return t[n].element.handleEvent(e,r,o)},bindingCount:o,outputCount:i,lastRenderRootNode:h}}function Dw(e){return 0!=(1&e.flags)&&null===e.element.name}function Iw(e,t,n){var r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(t.nodeIndex,"!"))}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(t.nodeIndex,"!"));if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(t.nodeIndex,"!"));if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(t.nodeIndex,"!"))}if(t.childCount){var o=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=o&&t.nodeIndex+t.childCount>o)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(t.nodeIndex,"!"))}}function Aw(e,t,n,r){var o=Nw(e.root,e.renderer,e,t,n);return xw(o,e.component,r),Fw(o),o}function kw(e,t,n){var r=Nw(e,e.renderer,null,null,t);return xw(r,n,n),Fw(r),r}function Pw(e,t,n,r){var o,i=t.element.componentRendererType;return o=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,Nw(e.root,o,e,t.element.componentProvider,n)}function Nw(e,t,n,r,o){var i=new Array(o.nodes.length),s=o.outputCount?new Array(o.outputCount):null;return{def:o,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:i,state:13,root:e,renderer:t,oldValues:new Array(o.bindingCount),disposables:s,initIndex:-1}}function xw(e,t,n){e.component=t,e.context=n}function Fw(e){var t;Qh(e)&&(t=Rh(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,r=e.nodes,o=0;o<n.nodes.length;o++){var i=n.nodes[o],s=void 0;switch(Ah.setCurrentNode(e,o),201347067&i.flags){case 1:var a=uw(e,t,i),l=void 0;if(33554432&i.flags){var u=tf(i.element.componentView);l=Ah.createComponentView(e,i,u,a)}cw(e,l,i,a),s={renderElement:a,componentView:l,viewContainer:null,template:i.element.template?Mf(e,i):void 0},16777216&i.flags&&(s.viewContainer=Pf(e,i,s));break;case 2:s=Rw(e,t,i);break;case 512:case 1024:case 2048:case 256:(s=r[o])||4096&i.flags||(s={instance:rg(e,i)});break;case 16:s={instance:og(e,i)};break;case 16384:(s=r[o])||(s={instance:ig(e,i)}),32768&i.flags&&xw(Rh(e,i.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Zv;break;case 8:Cw(e,t,i),s=void 0}r[o]=s}jw(e,Uw.CreateViewNodes),Qw(e,201326592,268435456,0)}function Mw(e){Gw(e),Ah.updateDirectives(e,1),zw(e,Uw.CheckNoChanges),Ah.updateRenderer(e,1),jw(e,Uw.CheckNoChanges),e.state&=-97}function Lw(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Eh(e,0,256),Gw(e),Ah.updateDirectives(e,0),zw(e,Uw.CheckAndUpdate),Qw(e,67108864,536870912,0);var t=Eh(e,256,512);hg(e,2097152|(t?1048576:0)),Ah.updateRenderer(e,0),jw(e,Uw.CheckAndUpdate),Qw(e,134217728,536870912,0),hg(e,8388608|((t=Eh(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Eh(e,768,1024)}function Vw(e,t,n,r,o,i,s,a,l,u,c,p,d){return 0===n?function(e,t,n,r,o,i,s,a,l,u,c,p){switch(201347067&t.flags){case 1:return function(e,t,n,r,o,i,s,a,l,u,c,p){var d=t.bindings.length,h=!1;return d>0&&dw(e,t,0,n)&&(h=!0),d>1&&dw(e,t,1,r)&&(h=!0),d>2&&dw(e,t,2,o)&&(h=!0),d>3&&dw(e,t,3,i)&&(h=!0),d>4&&dw(e,t,4,s)&&(h=!0),d>5&&dw(e,t,5,a)&&(h=!0),d>6&&dw(e,t,6,l)&&(h=!0),d>7&&dw(e,t,7,u)&&(h=!0),d>8&&dw(e,t,8,c)&&(h=!0),d>9&&dw(e,t,9,p)&&(h=!0),h}(e,t,n,r,o,i,s,a,l,u,c,p);case 2:return function(e,t,n,r,o,i,s,a,l,u,c,p){var d=!1,h=t.bindings,f=h.length;if(f>0&&Wh(e,t,0,n)&&(d=!0),f>1&&Wh(e,t,1,r)&&(d=!0),f>2&&Wh(e,t,2,o)&&(d=!0),f>3&&Wh(e,t,3,i)&&(d=!0),f>4&&Wh(e,t,4,s)&&(d=!0),f>5&&Wh(e,t,5,a)&&(d=!0),f>6&&Wh(e,t,6,l)&&(d=!0),f>7&&Wh(e,t,7,u)&&(d=!0),f>8&&Wh(e,t,8,c)&&(d=!0),f>9&&Wh(e,t,9,p)&&(d=!0),d){var g=t.text.prefix;f>0&&(g+=Tw(n,h[0])),f>1&&(g+=Tw(r,h[1])),f>2&&(g+=Tw(o,h[2])),f>3&&(g+=Tw(i,h[3])),f>4&&(g+=Tw(s,h[4])),f>5&&(g+=Tw(a,h[5])),f>6&&(g+=Tw(l,h[6])),f>7&&(g+=Tw(u,h[7])),f>8&&(g+=Tw(c,h[8])),f>9&&(g+=Tw(p,h[9]));var v=Sh(e,t.nodeIndex).renderText;e.renderer.setValue(v,g)}return d}(e,t,n,r,o,i,s,a,l,u,c,p);case 16384:return function(e,t,n,r,o,i,s,a,l,u,c,p){var d=Th(e,t.nodeIndex),h=d.instance,f=!1,g=void 0,v=t.bindings.length;return v>0&&Gh(e,t,0,n)&&(f=!0,g=dg(e,d,t,0,n,g)),v>1&&Gh(e,t,1,r)&&(f=!0,g=dg(e,d,t,1,r,g)),v>2&&Gh(e,t,2,o)&&(f=!0,g=dg(e,d,t,2,o,g)),v>3&&Gh(e,t,3,i)&&(f=!0,g=dg(e,d,t,3,i,g)),v>4&&Gh(e,t,4,s)&&(f=!0,g=dg(e,d,t,4,s,g)),v>5&&Gh(e,t,5,a)&&(f=!0,g=dg(e,d,t,5,a,g)),v>6&&Gh(e,t,6,l)&&(f=!0,g=dg(e,d,t,6,l,g)),v>7&&Gh(e,t,7,u)&&(f=!0,g=dg(e,d,t,7,u,g)),v>8&&Gh(e,t,8,c)&&(f=!0,g=dg(e,d,t,8,c,g)),v>9&&Gh(e,t,9,p)&&(f=!0,g=dg(e,d,t,9,p,g)),g&&h.ngOnChanges(g),65536&t.flags&&_h(e,256,t.nodeIndex)&&h.ngOnInit(),262144&t.flags&&h.ngDoCheck(),f}(e,t,n,r,o,i,s,a,l,u,c,p);case 32:case 64:case 128:return function(e,t,n,r,o,i,s,a,l,u,c,p){var d=t.bindings,h=!1,f=d.length;if(f>0&&Wh(e,t,0,n)&&(h=!0),f>1&&Wh(e,t,1,r)&&(h=!0),f>2&&Wh(e,t,2,o)&&(h=!0),f>3&&Wh(e,t,3,i)&&(h=!0),f>4&&Wh(e,t,4,s)&&(h=!0),f>5&&Wh(e,t,5,a)&&(h=!0),f>6&&Wh(e,t,6,l)&&(h=!0),f>7&&Wh(e,t,7,u)&&(h=!0),f>8&&Wh(e,t,8,c)&&(h=!0),f>9&&Wh(e,t,9,p)&&(h=!0),h){var g,v=Oh(e,t.nodeIndex);switch(201347067&t.flags){case 32:g=new Array(d.length),f>0&&(g[0]=n),f>1&&(g[1]=r),f>2&&(g[2]=o),f>3&&(g[3]=i),f>4&&(g[4]=s),f>5&&(g[5]=a),f>6&&(g[6]=l),f>7&&(g[7]=u),f>8&&(g[8]=c),f>9&&(g[9]=p);break;case 64:g={},f>0&&(g[d[0].name]=n),f>1&&(g[d[1].name]=r),f>2&&(g[d[2].name]=o),f>3&&(g[d[3].name]=i),f>4&&(g[d[4].name]=s),f>5&&(g[d[5].name]=a),f>6&&(g[d[6].name]=l),f>7&&(g[d[7].name]=u),f>8&&(g[d[8].name]=c),f>9&&(g[d[9].name]=p);break;case 128:var y=n;switch(f){case 1:g=y.transform(n);break;case 2:g=y.transform(r);break;case 3:g=y.transform(r,o);break;case 4:g=y.transform(r,o,i);break;case 5:g=y.transform(r,o,i,s);break;case 6:g=y.transform(r,o,i,s,a);break;case 7:g=y.transform(r,o,i,s,a,l);break;case 8:g=y.transform(r,o,i,s,a,l,u);break;case 9:g=y.transform(r,o,i,s,a,l,u,c);break;case 10:g=y.transform(r,o,i,s,a,l,u,c,p)}}v.value=g}return h}(e,t,n,r,o,i,s,a,l,u,c,p);default:throw"unreachable"}}(e,t,r,o,i,s,a,l,u,c,p,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var r=!1,o=0;o<n.length;o++)dw(e,t,o,n[o])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){for(var r=t.bindings,o=!1,i=0;i<n.length;i++)Wh(e,t,i,n[i])&&(o=!0);if(o){for(var s="",a=0;a<n.length;a++)s+=Tw(n[a],r[a]);s=t.text.prefix+s;var l=Sh(e,t.nodeIndex).renderText;e.renderer.setValue(l,s)}return o}(e,t,n);case 16384:return function(e,t,n){for(var r=Th(e,t.nodeIndex),o=r.instance,i=!1,s=void 0,a=0;a<n.length;a++)Gh(e,t,a,n[a])&&(i=!0,s=dg(e,r,t,a,n[a],s));return s&&o.ngOnChanges(s),65536&t.flags&&_h(e,256,t.nodeIndex)&&o.ngOnInit(),262144&t.flags&&o.ngDoCheck(),i}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var r=t.bindings,o=!1,i=0;i<n.length;i++)Wh(e,t,i,n[i])&&(o=!0);if(o){var s,a=Oh(e,t.nodeIndex);switch(201347067&t.flags){case 32:s=n;break;case 64:s={};for(var l=0;l<n.length;l++)s[r[l].name]=n[l];break;case 128:var u=n[0],c=n.slice(1);s=u.transform.apply(u,_toConsumableArray(c))}a.value=s}return o}(e,t,n);default:throw"unreachable"}}(e,t,r)}function Gw(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var r=t.nodes[n];if(4&r.flags){var o=Rh(e,n).template._projectedViews;if(o)for(var i=0;i<o.length;i++){var s=o[i];s.state|=32,Uh(s,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Ww(e,t,n,r,o,i,s,a,l,u,c,p,d){return 0===n?function(e,t,n,r,o,i,s,a,l,u,c,p){var d=t.bindings.length;d>0&&Hh(e,t,0,n),d>1&&Hh(e,t,1,r),d>2&&Hh(e,t,2,o),d>3&&Hh(e,t,3,i),d>4&&Hh(e,t,4,s),d>5&&Hh(e,t,5,a),d>6&&Hh(e,t,6,l),d>7&&Hh(e,t,7,u),d>8&&Hh(e,t,8,c),d>9&&Hh(e,t,9,p)}(e,t,r,o,i,s,a,l,u,c,p,d):function(e,t,n){for(var r=0;r<n.length;r++)Hh(e,t,r,n[r])}(e,t,r),!1}function Hw(e,t){if(Dh(e,t.nodeIndex).dirty)throw Ch(Ah.createDebugContext(e,t.nodeIndex),"Query ".concat(t.query.id," not dirty"),"Query ".concat(t.query.id," dirty"),0!=(1&e.state))}function Bw(e){if(!(128&e.state)){if(zw(e,Uw.Destroy),jw(e,Uw.Destroy),hg(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=zh(e);if(t){var n=t.template._projectedViews;n&&(ge(n,n.indexOf(e)),Ah.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var r=e.def.nodes[n];1&r.flags?e.renderer.destroyNode(Rh(e,n).renderElement):2&r.flags?e.renderer.destroyNode(Sh(e,n).renderText):(67108864&r.flags||134217728&r.flags)&&Dh(e,n).destroy()}}(e),Qh(e)&&e.renderer.destroy(),e.state|=128}}var Uw=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function jw(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];33554432&o.flags?qw(Rh(e,r).componentView,t):0==(33554432&o.childFlags)&&(r+=o.childCount)}}function zw(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];if(16777216&o.flags)for(var i=Rh(e,r).viewContainer._embeddedViews,s=0;s<i.length;s++)qw(i[s],t);else 0==(16777216&o.childFlags)&&(r+=o.childCount)}}function qw(e,t){var n=e.state;switch(t){case Uw.CheckNoChanges:0==(128&n)&&(12==(12&n)?Mw(e):64&n&&Kw(e,Uw.CheckNoChangesProjectedViews));break;case Uw.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Mw(e):64&n&&Kw(e,t));break;case Uw.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Lw(e):64&n&&Kw(e,Uw.CheckAndUpdateProjectedViews));break;case Uw.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Lw(e):64&n&&Kw(e,t));break;case Uw.Destroy:Bw(e);break;case Uw.CreateViewNodes:Fw(e)}}function Kw(e,t){zw(e,t),jw(e,t)}function Qw(e,t,n,r){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var o=e.def.nodes.length,i=0;i<o;i++){var s=e.def.nodes[i];if(s.flags&t&&s.flags&n)switch(Ah.setCurrentNode(e,s.nodeIndex),r){case 0:gw(e,s);break;case 1:Hw(e,s)}s.childFlags&t&&s.childFlags&n||(i+=s.childCount)}}var Yw=!1;function Zw(){if(!Yw){Yw=!0;var e=No()?{setCurrentNode:Cb,createRootView:$w,createEmbeddedView:eb,createComponentView:tb,createNgModuleRef:nb,overrideProvider:sb,overrideComponentView:ab,clearOverrides:lb,checkAndUpdateView:db,checkNoChangesView:hb,destroyView:fb,createDebugContext:function(e,t){return new Ob(e,t)},handleEvent:wb,updateDirectives:bb,updateRenderer:Eb}:{setCurrentNode:function(){},createRootView:Xw,createEmbeddedView:Aw,createComponentView:Pw,createNgModuleRef:Uf,overrideProvider:kh,overrideComponentView:kh,clearOverrides:kh,checkAndUpdateView:Lw,checkNoChangesView:Mw,destroyView:Bw,createDebugContext:function(e,t){return new Ob(e,t)},handleEvent:function(e,t,n,r){return e.def.handleEvent(e,t,n,r)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?cb:pb,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?cb:pb,e)}};Ah.setCurrentNode=e.setCurrentNode,Ah.createRootView=e.createRootView,Ah.createEmbeddedView=e.createEmbeddedView,Ah.createComponentView=e.createComponentView,Ah.createNgModuleRef=e.createNgModuleRef,Ah.overrideProvider=e.overrideProvider,Ah.overrideComponentView=e.overrideComponentView,Ah.clearOverrides=e.clearOverrides,Ah.checkAndUpdateView=e.checkAndUpdateView,Ah.checkNoChangesView=e.checkNoChangesView,Ah.destroyView=e.destroyView,Ah.resolveDep=cg,Ah.createDebugContext=e.createDebugContext,Ah.handleEvent=e.handleEvent,Ah.updateDirectives=e.updateDirectives,Ah.updateRenderer=e.updateRenderer,Ah.dirtyParentQueries=fw}}function Xw(e,t,n,r,o,i){var s=o.injector.get(zd);return kw(Jw(e,o,s,t,n),r,i)}function $w(e,t,n,r,o,i){var s=o.injector.get(zd),a=Jw(e,o,new kb(s),t,n),l=ub(r);return Ib(mb.create,kw,null,[a,l,i])}function Jw(e,t,n,r,o){var i=t.injector.get(ii),s=t.injector.get(wo),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:o,sanitizer:i,rendererFactory:n,renderer:a,errorHandler:s}}function eb(e,t,n,r){var o=ub(n);return Ib(mb.create,Aw,null,[e,t,o,r])}function tb(e,t,n,r){return n=ib.get(t.element.componentProvider.provider.token)||ub(n),Ib(mb.create,Pw,null,[e,t,n,r])}function nb(e,t,n,r){return Uf(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===rb.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach((function(e){var r=rb.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)})),e.modules.forEach((function(e){ob.forEach((function(r,o){O(o).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)}))})),{hasOverrides:t,hasDeprecatedOverrides:n})}(e),n=t.hasOverrides,r=t.hasDeprecatedOverrides;return n?(function(e){for(var t=0;t<e.providers.length;t++){var n=e.providers[t];r&&(n.flags|=4096);var o=rb.get(n.token);o&&(n.flags=-3841&n.flags|o.flags,n.deps=$h(o.deps),n.value=o.value)}if(ob.size>0){var i=new Set(e.modules);ob.forEach((function(t,n){if(i.has(O(n).providedIn)){var o={token:n,flags:t.flags|(r?4096:0),deps:$h(t.deps),value:t.value,index:e.providers.length};e.providers.push(o),e.providersByKey[Nh(n)]=o}}))}}(e=e.factory((function(){return kh}))),e):e}(r))}var rb=new Map,ob=new Map,ib=new Map;function sb(e){var t;rb.set(e.token,e),"function"==typeof e.token&&(t=O(e.token))&&"function"==typeof t.providedIn&&ob.set(e.token,e)}function ab(e,t){var n=tf(If(t)),r=tf(n.nodes[0].element.componentView);ib.set(e,r)}function lb(){rb.clear(),ob.clear(),ib.clear()}function ub(e){if(0===rb.size)return e;var t=function(e){for(var t=[],n=null,r=0;r<e.nodes.length;r++){var o=e.nodes[r];1&o.flags&&(n=o),n&&3840&o.flags&&rb.has(o.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory((function(){return kh}));for(var n=0;n<t.length;n++)r(e,t[n]);return e;function r(e,t){for(var n=t+1;n<e.nodes.length;n++){var r=e.nodes[n];if(1&r.flags)return;if(3840&r.flags){var o=r.provider,i=rb.get(o.token);i&&(r.flags=-3841&r.flags|i.flags,o.deps=$h(i.deps),o.value=i.value)}}}}function cb(e,t,n,r,o,i,s,a,l,u,c,p,d){var h=e.def.nodes[t];return Vw(e,h,n,r,o,i,s,a,l,u,c,p,d),224&h.flags?Oh(e,t).value:void 0}function pb(e,t,n,r,o,i,s,a,l,u,c,p,d){var h=e.def.nodes[t];return Ww(e,h,n,r,o,i,s,a,l,u,c,p,d),224&h.flags?Oh(e,t).value:void 0}function db(e){return Ib(mb.detectChanges,Lw,null,[e])}function hb(e){return Ib(mb.checkNoChanges,Mw,null,[e])}function fb(e){return Ib(mb.destroy,Bw,null,[e])}var gb,vb,yb,mb=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();function Cb(e,t){vb=e,yb=t}function wb(e,t,n,r){return Cb(e,t),Ib(mb.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function bb(e,t){if(128&e.state)throw bh(mb[gb]);return Cb(e,Rb(e,0)),e.def.updateDirectives((function(e,n,r){for(var o=e.def.nodes[n],i=arguments.length,s=new Array(i>3?i-3:0),a=3;a<i;a++)s[a-3]=arguments[a];return 0===t?_b(e,o,r,s):Sb(e,o,r,s),16384&o.flags&&Cb(e,Rb(e,n)),224&o.flags?Oh(e,o.nodeIndex).value:void 0}),e)}function Eb(e,t){if(128&e.state)throw bh(mb[gb]);return Cb(e,Tb(e,0)),e.def.updateRenderer((function(e,n,r){for(var o=e.def.nodes[n],i=arguments.length,s=new Array(i>3?i-3:0),a=3;a<i;a++)s[a-3]=arguments[a];return 0===t?_b(e,o,r,s):Sb(e,o,r,s),3&o.flags&&Cb(e,Tb(e,n)),224&o.flags?Oh(e,o.nodeIndex).value:void 0}),e)}function _b(e,t,n,r){if(Vw.apply(void 0,[e,t,n].concat(_toConsumableArray(r)))){var o=1===n?r[0]:r;if(16384&t.flags){for(var i={},s=0;s<t.bindings.length;s++){var a=t.bindings[s],l=o[s];8&a.flags&&(i[(h=a.nonMinifiedName,f=void 0,f=h.replace(/[$@]/g,"_"),"ng-reflect-".concat(h=f.replace(mi,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"-"+t[1].toLowerCase()}))))]=Ci(l))}var u=t.parent,c=Rh(e,u.nodeIndex).renderElement;if(u.element.name)for(var p in i){var d=i[p];null!=d?e.renderer.setAttribute(c,p,d):e.renderer.removeAttribute(c,p)}else e.renderer.setValue(c,"bindings=".concat(JSON.stringify(i,null,2)))}}var h,f}function Sb(e,t,n,r){Ww.apply(void 0,[e,t,n].concat(_toConsumableArray(r)))}function Rb(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Tb(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var Ob=function(){function e(t,n){_classCallCheck(this,e),this.view=t,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=t.def.nodes[n];for(var r=this.nodeDef,o=t;r&&0==(1&r.flags);)r=r.parent;if(!r)for(;!r&&o;)r=qh(o),o=o.parent;this.elDef=r,this.elView=o}return _createClass(e,[{key:"logError",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o,i;2&this.nodeDef.flags?(o=this.view.def,i=this.nodeDef.nodeIndex):(o=this.elView.def,i=this.elDef.nodeIndex);var s=function(e,t){for(var n=-1,r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(o,i),a=-1;o.factory((function(){var t;return++a===s?(t=e.error).bind.apply(t,[e].concat(n)):kh})),a<s&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,n))}},{key:"elOrCompView",get:function(){return Rh(this.elView,this.elDef.nodeIndex).componentView||this.view}},{key:"injector",get:function(){return Vf(this.elView,this.elDef)}},{key:"component",get:function(){return this.elOrCompView.component}},{key:"context",get:function(){return this.elOrCompView.context}},{key:"providerTokens",get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}},{key:"references",get:function(){var e={};if(this.elDef){Db(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&Db(this.elView,n,e),t+=n.childCount}}return e}},{key:"componentRenderElement",get:function(){var e=function(e){for(;e&&!Qh(e);)e=e.parent;return e.parent?Rh(e.parent,qh(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}},{key:"renderNode",get:function(){return 2&this.nodeDef.flags?Kh(this.view,this.nodeDef):Kh(this.elView,this.elDef)}}]),e}();function Db(e,t,n){for(var r in t.references)n[r]=yw(e,t,t.references[r])}function Ib(e,t,n,r){var o,i,s=gb,a=vb,l=yb;try{gb=e;var u=t.apply(n,r);return vb=a,yb=l,gb=s,u}catch(c){if(yo(c)||!vb)throw c;throw o=c,i=Ab(),o instanceof Error||(o=new Error(o.toString())),wh(o,i),o}}function Ab(){return vb?new Ob(vb,yb):null}var kb=function(){function e(t){_classCallCheck(this,e),this.delegate=t}return _createClass(e,[{key:"createRenderer",value:function(e,t){return new Pb(this.delegate.createRenderer(e,t))}},{key:"begin",value:function(){this.delegate.begin&&this.delegate.begin()}},{key:"end",value:function(){this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}]),e}(),Pb=function(){function e(t){_classCallCheck(this,e),this.delegate=t,this.debugContextFactory=Ab,this.data=this.delegate.data}return _createClass(e,[{key:"createDebugContext",value:function(e){return this.debugContextFactory(e)}},{key:"destroyNode",value:function(e){var t=ZC(e);!function(e){KC.delete(e.nativeNode)}(t),t instanceof LC&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}},{key:"destroy",value:function(){this.delegate.destroy()}},{key:"createElement",value:function(e,t){var n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){var o=new VC(n,null,r);o.name=e,XC(o)}return n}},{key:"createComment",value:function(e){var t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&XC(new LC(t,null,n)),t}},{key:"createText",value:function(e){var t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&XC(new LC(t,null,n)),t}},{key:"appendChild",value:function(e,t){var n=ZC(e),r=ZC(t);n&&r&&n instanceof VC&&n.addChild(r),this.delegate.appendChild(e,t)}},{key:"insertBefore",value:function(e,t,n){var r=ZC(e),o=ZC(t),i=ZC(n);r&&o&&r instanceof VC&&r.insertBefore(i,o),this.delegate.insertBefore(e,t,n)}},{key:"removeChild",value:function(e,t){var n=ZC(e),r=ZC(t);n&&r&&n instanceof VC&&n.removeChild(r),this.delegate.removeChild(e,t)}},{key:"selectRootElement",value:function(e,t){var n=this.delegate.selectRootElement(e,t),r=Ab();return r&&XC(new VC(n,null,r)),n}},{key:"setAttribute",value:function(e,t,n,r){var o=ZC(e);o&&o instanceof VC&&(o.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){var r=ZC(e);r&&r instanceof VC&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){var n=ZC(e);n&&n instanceof VC&&(n.classes[t]=!0),this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){var n=ZC(e);n&&n instanceof VC&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){var o=ZC(e);o&&o instanceof VC&&(o.styles[t]=n),this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){var r=ZC(e);r&&r instanceof VC&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){var r=ZC(e);r&&r instanceof VC&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){if("string"!=typeof e){var r=ZC(e);r&&r.listeners.push(new MC(t,n))}return this.delegate.listen(e,t,n)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setValue",value:function(e,t){return this.delegate.setValue(e,t)}}]),e}();function Nb(e){return Zw(),Ah.overrideProvider(e)}function xb(e,t){return Zw(),Ah.overrideComponentView(e,t)}function Fb(){return Zw(),Ah.clearOverrides()}function Mb(e,t,n){return new Lb(e,t,n)}var Lb=function(e){function t(e,n,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).moduleType=e,o._bootstrapComponents=n,o._ngModuleDefFactory=r,o}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e){Zw();var t=function(e){var t=Array.from(e.providers),n=Array.from(e.modules),r={};for(var o in e.providersByKey)r[o]=e.providersByKey[o];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(tf(this._ngModuleDefFactory));return Ah.createNgModuleRef(this.moduleType,e||Nl.NULL,this._bootstrapComponents,t)}}]),t}(ce)},"9ppp":function(e,t,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(t,"a",(function(){return o})),r.prototype=Object.create(Error.prototype);var o=r},CRDf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("kJWO"),o=function(e){return function(t){var n=e[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},Cfvw:function(e,t,n){"use strict";var r=n("HDdC"),o=n("c2HN"),i=n("I55L"),s=n("kJWO"),a=n("Lhse"),l=n("yCtX"),u=n("quSY"),c=n("a7t3"),p=n("pLzU"),d=n("CRDf"),h=n("SeVD");function f(e,t){if(!t)return e instanceof r.a?e:new r.a(Object(h.a)(e));if(null!=e){if(function(e){return e&&"function"==typeof e[s.a]}(e))return function(e,t){return new r.a(t?function(n){var r=new u.a;return r.add(t.schedule((function(){var o=e[s.a]();r.add(o.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}:Object(d.a)(e))}(e,t);if(Object(o.a)(e))return function(e,t){return new r.a(t?function(n){var r=new u.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}:Object(c.a)(e))}(e,t);if(Object(i.a)(e))return Object(l.a)(e,t);if(function(e){return e&&"function"==typeof e[a.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a(t?function(n){var r,o=new u.a;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(t.schedule((function(){r=e[a.a](),o.add(t.schedule((function(){if(!n.closed){var e,t;try{var o=r.next();e=o.value,t=o.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())}})))}))),o}:Object(p.a)(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}n.d(t,"a",(function(){return f}))},DH7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},HDdC:function(e,t,n){"use strict";var r=n("7o/Q"),o=n("2QA8"),i=n("gRHU"),s=n("kJWO"),a=n("mCNh"),l=n("2fFW");n.d(t,"a",(function(){return c}));var u,c=((u=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var s=this.operator,a=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new r.a(e,t,n):new r.a(i.a)}(e,t,n);if(a.add(s?s.call(a,this.source):this.source||l.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){l.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,o=t.destination,i=t.isStopped;if(n||i)return!1;e=o&&o instanceof r.a?o:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=p(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(n){r(n),o&&o.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:Object(a.b)(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=p(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new u(e)},u);function p(e){if(e||(e=l.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},I55L:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},KqfI:function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},L5g3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("8Y7J");t.AgGridColumn=function(){function e(){}return e.prototype.hasChildColumns=function(){return!(!(this.childColumns&&this.childColumns.length>0)||1===this.childColumns.length&&this.childColumns.first===this)},e.prototype.toColDef=function(){var e=this.createColDefFromGridColumn(this);return this.hasChildColumns()&&(e.children=this.getChildColDefs(this.childColumns)),e},e.prototype.getChildColDefs=function(e){return e.filter((function(e){return!e.hasChildColumns()})).map((function(e){return e.toColDef()}))},e.prototype.createColDefFromGridColumn=function(e){var t={};return Object.assign(t,e),delete t.childColumns,t},e.decorators=[{type:r.Component,args:[{selector:"ag-grid-column",template:""}]}],e.propDecorators={childColumns:[{type:r.ContentChildren,args:[e]}],children:[{type:r.Input}],sortingOrder:[{type:r.Input}],allowedAggFuncs:[{type:r.Input}],menuTabs:[{type:r.Input}],cellClassRules:[{type:r.Input}],icons:[{type:r.Input}],headerGroupComponent:[{type:r.Input}],headerGroupComponentFramework:[{type:r.Input}],headerGroupComponentParams:[{type:r.Input}],cellStyle:[{type:r.Input}],cellRendererParams:[{type:r.Input}],cellEditorFramework:[{type:r.Input}],cellEditorParams:[{type:r.Input}],pinnedRowCellRendererFramework:[{type:r.Input}],pinnedRowCellRendererParams:[{type:r.Input}],filterFramework:[{type:r.Input}],filterParams:[{type:r.Input}],headerComponent:[{type:r.Input}],headerComponentFramework:[{type:r.Input}],headerComponentParams:[{type:r.Input}],floatingFilterComponent:[{type:r.Input}],floatingFilterComponentParams:[{type:r.Input}],floatingFilterComponentFramework:[{type:r.Input}],tooltipComponent:[{type:r.Input}],tooltipComponentParams:[{type:r.Input}],tooltipComponentFramework:[{type:r.Input}],refData:[{type:r.Input}],headerName:[{type:r.Input}],columnGroupShow:[{type:r.Input}],headerClass:[{type:r.Input}],toolPanelClass:[{type:r.Input}],headerValueGetter:[{type:r.Input}],groupId:[{type:r.Input}],colId:[{type:r.Input}],sort:[{type:r.Input}],field:[{type:r.Input}],type:[{type:r.Input}],tooltipField:[{type:r.Input}],headerTooltip:[{type:r.Input}],cellClass:[{type:r.Input}],showRowGroup:[{type:r.Input}],filter:[{type:r.Input}],aggFunc:[{type:r.Input}],cellRenderer:[{type:r.Input}],cellEditor:[{type:r.Input}],pinned:[{type:r.Input}],chartDataType:[{type:r.Input}],sortedAt:[{type:r.Input}],width:[{type:r.Input}],minWidth:[{type:r.Input}],maxWidth:[{type:r.Input}],rowGroupIndex:[{type:r.Input}],pivotIndex:[{type:r.Input}],dndSourceOnRowDrag:[{type:r.Input}],valueGetter:[{type:r.Input}],valueSetter:[{type:r.Input}],filterValueGetter:[{type:r.Input}],keyCreator:[{type:r.Input}],cellRendererFramework:[{type:r.Input}],pinnedRowCellRenderer:[{type:r.Input}],valueFormatter:[{type:r.Input}],pinnedRowValueFormatter:[{type:r.Input}],valueParser:[{type:r.Input}],comparator:[{type:r.Input}],equals:[{type:r.Input}],pivotComparator:[{type:r.Input}],suppressKeyboardEvent:[{type:r.Input}],colSpan:[{type:r.Input}],rowSpan:[{type:r.Input}],getQuickFilterText:[{type:r.Input}],newValueHandler:[{type:r.Input}],onCellValueChanged:[{type:r.Input}],onCellClicked:[{type:r.Input}],onCellDoubleClicked:[{type:r.Input}],onCellContextMenu:[{type:r.Input}],tooltip:[{type:r.Input}],tooltipValueGetter:[{type:r.Input}],cellRendererSelector:[{type:r.Input}],cellEditorSelector:[{type:r.Input}],suppressCellFlash:[{type:r.Input}],suppressColumnsToolPanel:[{type:r.Input}],suppressFiltersToolPanel:[{type:r.Input}],openByDefault:[{type:r.Input}],marryChildren:[{type:r.Input}],hide:[{type:r.Input}],rowGroup:[{type:r.Input}],pivot:[{type:r.Input}],checkboxSelection:[{type:r.Input}],headerCheckboxSelection:[{type:r.Input}],headerCheckboxSelectionFilteredOnly:[{type:r.Input}],suppressMenu:[{type:r.Input}],suppressSorting:[{type:r.Input}],suppressMovable:[{type:r.Input}],suppressFilter:[{type:r.Input}],lockPosition:[{type:r.Input}],lockVisible:[{type:r.Input}],lockPinned:[{type:r.Input}],unSortIcon:[{type:r.Input}],suppressSizeToFit:[{type:r.Input}],suppressResize:[{type:r.Input}],suppressAutoSize:[{type:r.Input}],enableRowGroup:[{type:r.Input}],enablePivot:[{type:r.Input}],enableValue:[{type:r.Input}],editable:[{type:r.Input}],suppressPaste:[{type:r.Input}],suppressNavigable:[{type:r.Input}],enableCellChangeFlash:[{type:r.Input}],rowDrag:[{type:r.Input}],dndSource:[{type:r.Input}],autoHeight:[{type:r.Input}],sortable:[{type:r.Input}],resizable:[{type:r.Input}],singleClickEdit:[{type:r.Input}]},e}()},Lhse:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}))}n.d(t,"a",(function(){return r}))},SXLW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("8Y7J"),o=n("jIY6"),i=n("L5g3");t.AgGridModule=function(){function e(){}return e.withComponents=function(t){return{ngModule:e,providers:[{provide:r.ANALYZE_FOR_ENTRY_COMPONENTS,useValue:t,multi:!0}]}},e.forRoot=function(t){return{ngModule:e,providers:[{provide:r.ANALYZE_FOR_ENTRY_COMPONENTS,useValue:t,multi:!0}]}},e.decorators=[{type:r.NgModule,args:[{imports:[],declarations:[o.AgGridAngular,i.AgGridColumn],exports:[o.AgGridAngular,i.AgGridColumn]}]}],e}()},SeVD:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("HDdC"),o=n("ngJS"),i=n("a7t3"),s=n("pLzU"),a=n("CRDf"),l=n("I55L"),u=n("c2HN"),c=n("XoHu"),p=n("Lhse"),d=n("kJWO"),h=function(e){if(e instanceof r.a)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[d.a])return Object(a.a)(e);if(Object(l.a)(e))return Object(o.a)(e);if(Object(u.a)(e))return Object(i.a)(e);if(e&&"function"==typeof e[p.a])return Object(s.a)(e);var t=Object(c.a)(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(t," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")}},SpAZ:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},VRyK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),o=n("z+Ro"),i=n("bHdf"),s=n("yCtX");function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=Number.POSITIVE_INFINITY,l=null,u=t[t.length-1];return Object(o.a)(u)?(l=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(a=t.pop())):"number"==typeof u&&(a=t.pop()),null===l&&1===t.length&&t[0]instanceof r.a?t[0]:Object(i.a)(a)(Object(s.a)(t,l))}},Wcq6:function(e,t,n){"use strict";var r,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;e.exports=o},XNiG:function(e,t,n){"use strict";var r=n("HDdC"),o=n("7o/Q"),i=n("quSY"),s=n("9ppp"),a=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).subject=e,r.subscriber=n,r.closed=!1,r}return _inherits(t,e),_createClass(t,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),t}(i.a),l=n("2QA8");n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return p}));var u,c=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).destination=e,n}return _inherits(t,e),t}(o.a),p=((u=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _inherits(t,e),_createClass(t,[{key:l.a,value:function(){return new c(this)}},{key:"lift",value:function(e){var t=new d(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new s.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)}},{key:"error",value:function(e){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new s.a;return _get(_getPrototypeOf(t.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new s.a;return this.hasError?(e.error(this.thrownError),i.a.EMPTY):this.isStopped?(e.complete(),i.a.EMPTY):(this.observers.push(e),new a(this,e))}},{key:"asObservable",value:function(){var e=new r.a;return e.source=this,e}}]),t}(r.a)).create=function(e,t){return new d(e,t)},u),d=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).destination=e,r.source=n,r}return _inherits(t,e),_createClass(t,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):i.a.EMPTY}}]),t}(p)},XoHu:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},ZUHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("51Dv"),o=n("SeVD");function i(e,t,n,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(e,n,i);if(!s.closed)return Object(o.a)(t)(s)}},a7t3:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("NJ4a"),o=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,r.a),t}}},bHdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("5+tZ"),o=n("SpAZ");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(o.a,e)}},c2HN:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},f7ga:function(e,t,n){var r=n("mrSG").__decorate,o=n("mrSG").__param,i=n("mrSG").__decorate,s=n("mrSG").__decorate,a=n("mrSG").__decorate,l=n("mrSG").__param,u=n("mrSG").__decorate,c=n("mrSG").__param,p=n("mrSG").__decorate,d=n("mrSG").__decorate,h=n("mrSG").__spreadArrays,f=n("mrSG").__decorate,g=n("mrSG").__param,v=n("mrSG").__spreadArrays,y=n("mrSG").__spreadArrays,m=n("mrSG").__decorate,C=n("mrSG").__extends,w=n("mrSG").__decorate,b=n("mrSG").__extends,E=n("mrSG").__extends,_=n("mrSG").__extends,S=n("mrSG").__extends,R=n("mrSG").__extends,T=n("mrSG").__extends,O=n("mrSG").__extends,D=n("mrSG").__extends,I=n("mrSG").__extends,A=n("mrSG").__param,k=n("mrSG").__param,P=n("mrSG").__assign,N=n("mrSG").__assign,x=n("mrSG").__param,F=n("mrSG").__param,M=n("mrSG").__param,L=n("mrSG").__decorate,V=n("mrSG").__decorate,G=n("mrSG").__decorate,W=n("mrSG").__decorate,H=n("mrSG").__decorate,B=n("mrSG").__decorate,U=n("mrSG").__decorate,j=n("mrSG").__decorate,z=n("mrSG").__decorate,q=n("mrSG").__decorate,K=n("mrSG").__param,Q=n("mrSG").__extends,Y=n("mrSG").__extends,Z=n("mrSG").__extends,X=n("mrSG").__extends,$=n("mrSG").__extends,J=n("mrSG").__extends,ee=n("mrSG").__extends,te=n("mrSG").__extends,ne=n("mrSG").__extends,re=n("mrSG").__extends;Object.defineProperty(t,"__esModule",{value:!0});var oe=function(){function e(e,t,n,r){void 0===r&&(r=1),this.r=Math.min(1,Math.max(0,e||0)),this.g=Math.min(1,Math.max(0,t||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,r||0))}return e.fromString=function(t){if(t.indexOf("#")>=0)return e.fromHexString(t);var n=e.nameToHex[t];if(n)return e.fromHexString(n);if(t.indexOf("rgb")>=0)return e.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},e.fromHexString=function(t){var n=t.match(e.hexRe);if(n)return new e((r=parseInt(n[1],16))/255,(o=parseInt(n[2],16))/255,(i=parseInt(n[3],16))/255,(s=void 0!==n[4]?parseInt(n[4],16):255)/255);if(n=t.match(e.shortHexRe)){var r=parseInt(n[1],16),o=parseInt(n[2],16),i=parseInt(n[3],16),s=void 0!==n[4]?parseInt(n[4],16):15;return new e((r+=16*r)/255,(o+=16*o)/255,(i+=16*i)/255,(s+=16*s)/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},e.fromRgbaString=function(t){var n=t.match(e.rgbRe);if(n)return new e(+n[1]/255,+n[2]/255,+n[3]/255);if(n=t.match(e.rgbaRe))return new e(+n[1]/255,+n[2]/255,+n[3]/255,+n[4]);throw new Error("Malformed rgb/rgba color string: '"+t+"'")},e.fromArray=function(t){if(4===t.length)return new e(t[0],t[1],t[2],t[3]);if(3===t.length)return new e(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},e.fromHSB=function(t,n,r,o){void 0===o&&(o=1);var i=e.HSBtoRGB(t,n,r);return new e(i[0],i[1],i[2],o)},e.padHex=function(e){return 1===e.length?"0"+e:e},e.prototype.toHexString=function(){var t="#"+e.padHex(Math.round(255*this.r).toString(16))+e.padHex(Math.round(255*this.g).toString(16))+e.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=e.padHex(Math.round(255*this.a).toString(16))),t},e.prototype.toRgbaString=function(e){void 0===e&&(e=3);var t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,e);return 1!==this.a?(t.push(Math.round(this.a*n)/n),"rgba("+t.join(", ")+")"):"rgb("+t.join(", ")+")"},e.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},e.prototype.toHSB=function(){return e.RGBtoHSB(this.r,this.g,this.b)},e.RGBtoHSB=function(e,t,n){var r=Math.min(e,t,n),o=Math.max(e,t,n),i=NaN;if(r!==o){var s=o-r,a=(o-e)/s,l=(o-t)/s,u=(o-n)/s;i=e===o?u-l:t===o?2+a-u:4+l-a,(i/=6)<0&&(i+=1)}return[360*i,0!==o?(o-r)/o:0,o]},e.HSBtoRGB=function(e,t,n){isNaN(e)&&(e=0),e=(e%360+360)%360/360;var r=0,o=0,i=0;if(0===t)r=o=i=n;else{var s=6*(e-Math.floor(e)),a=s-Math.floor(s),l=n*(1-t),u=n*(1-t*a),c=n*(1-t*(1-a));switch(s>>0){case 0:r=n,o=c,i=l;break;case 1:r=u,o=n,i=l;break;case 2:r=l,o=n,i=c;break;case 3:r=l,o=u,i=n;break;case 4:r=c,o=l,i=n;break;case 5:r=n,o=l,i=u}}return[r,o,i]},e.prototype.derive=function(t,n,r,o){var i=e.RGBtoHSB(this.r,this.g,this.b),s=i[2];0==s&&r>1&&(s=.05);var a=((i[0]+t)%360+360)%360,l=Math.max(Math.min(i[1]*n,1),0);s=Math.max(Math.min(s*r,1),0);var u=Math.max(Math.min(this.a*o,1),0),c=e.HSBtoRGB(a,l,s);return c.push(u),e.fromArray(c)},e.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},e.prototype.darker=function(){return this.derive(0,1,.7,1)},e.hexRe=/\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\s*$/,e.shortHexRe=/\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\s*$/,e.rgbRe=/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)\s*/,e.rgbaRe=/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)\s*/,e.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),e}(),ie=function(){function e(){}return e.STEP_EVERYTHING=0,e.STEP_FILTER=1,e.STEP_SORT=2,e.STEP_MAP=3,e.STEP_AGGREGATE=4,e.STEP_PIVOT=5,e.ROW_BUFFER_SIZE=10,e.LAYOUT_INTERVAL=500,e.BATCH_WAIT_MILLIS=50,e.EXPORT_TYPE_DRAG_COPY="dragCopy",e.EXPORT_TYPE_CLIPBOARD="clipboard",e.EXPORT_TYPE_EXCEL="excel",e.EXPORT_TYPE_CSV="csv",e.KEY_BACKSPACE=8,e.KEY_TAB=9,e.KEY_NEW_LINE=10,e.KEY_ENTER=13,e.KEY_SHIFT=16,e.KEY_ESCAPE=27,e.KEY_SPACE=32,e.KEY_LEFT=37,e.KEY_UP=38,e.KEY_RIGHT=39,e.KEY_DOWN=40,e.KEY_DELETE=46,e.KEY_A=65,e.KEY_C=67,e.KEY_V=86,e.KEY_D=68,e.KEY_F2=113,e.KEY_PAGE_UP=33,e.KEY_PAGE_DOWN=34,e.KEY_PAGE_HOME=36,e.KEY_PAGE_END=35,e.ROW_MODEL_TYPE_INFINITE="infinite",e.ROW_MODEL_TYPE_VIEWPORT="viewport",e.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",e.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",e.DEPRECATED_ROW_MODEL_TYPE_NORMAL="normal",e.ALWAYS="always",e.ONLY_WHEN_GROUPING="onlyWhenGrouping",e.PINNED_TOP="top",e.PINNED_BOTTOM="bottom",e.DOM_LAYOUT_NORMAL="normal",e.DOM_LAYOUT_PRINT="print",e.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",e.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",e.SOURCE_PASTE="paste",e.PINNED_RIGHT="right",e.PINNED_LEFT="left",e.SORT_ASC="asc",e.SORT_DESC="desc",e}(),se=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ae=/([^\s,]+)/g,le={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ue=/[&<>"']/g,ce=function(){function e(){}var t;return e.doOnce=function(e,t){this.doOnceFlags[t]||(e(),this.doOnceFlags[t]=!0)},e.isLeftClick=function(e){return"buttons"in e?1==e.buttons:1==(e.which||e.button)},e.areEventsNear=function(e,t,n){if(0===n)return!1;var r=Math.abs(e.clientX-t.clientX),o=Math.abs(e.clientY-t.clientY);return Math.max(r,o)<=n},e.jsonEquals=function(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)},e.shallowCompare=function(e,t){if(this.missing(e)&&this.missing(t))return!0;if(this.missing(e)||this.missing(t))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},e.getNameOfClass=function(e){var t=e.toString(),n=/function (.{1,})\(/.exec(t);return n&&n.length>1?n[1]:""},e.getValueUsingField=function(e,t,n){if(t&&e){if(n){for(var r=t.split("."),o=e,i=0;i<r.length;i++)if(this.missing(o=o[r[i]]))return null;return o}return e[t]}},e.getElementSize=function(e){var t=window.getComputedStyle(e),n=t.width,r=t.paddingTop,o=t.paddingRight,i=t.paddingBottom,s=t.paddingLeft,a=t.marginTop,l=t.marginRight,u=t.marginBottom,c=t.marginLeft,p=t.boxSizing;return{height:parseFloat(t.height),width:parseFloat(n),paddingTop:parseFloat(r),paddingRight:parseFloat(o),paddingBottom:parseFloat(i),paddingLeft:parseFloat(s),marginTop:parseFloat(a),marginRight:parseFloat(l),marginBottom:parseFloat(u),marginLeft:parseFloat(c),boxSizing:p}},e.getInnerHeight=function(e){var t=this.getElementSize(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height},e.getInnerWidth=function(e){var t=this.getElementSize(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width},e.getAbsoluteHeight=function(e){var t=this.getElementSize(e);return Math.ceil(e.offsetHeight+(t.marginBottom+t.marginTop))},e.getAbsoluteWidth=function(e){var t=this.getElementSize(e);return Math.ceil(e.offsetWidth+(t.marginLeft+t.marginRight))},e.getScrollLeft=function(e,t){var n=e.scrollLeft;return t&&(n=Math.abs(n),this.isBrowserChrome()&&(n=e.scrollWidth-e.clientWidth-n)),n},e.cleanNumber=function(e){return"string"==typeof e&&(e=parseInt(e,10)),"number"==typeof e?Math.floor(e):null},e.setScrollLeft=function(e,t,n){n&&((this.isBrowserSafari()||this.isBrowserChrome())&&(t=e.scrollWidth-e.clientWidth-t),this.isBrowserFirefox()&&(t*=-1)),e.scrollLeft=t},e.iterateNamedNodeMap=function(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n];t(r.name,r.value)}},e.iterateObject=function(e,t){e&&!this.missing(e)&&(Array.isArray(e)?e.forEach((function(e,n){return t(""+n,e)})):Object.keys(e).forEach((function(n){return t(n,e[n])})))},e.cloneObject=function(e){for(var t={},n=Object.keys(e),r=0;r<n.length;r++){var o=n[r];t[o]=e[o]}return t},e.copyPropertiesIfPresent=function(e,t){for(var n=this,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];r.forEach((function(r){return n.copyPropertyIfPresent(e,t,r)}))},e.copyPropertyIfPresent=function(e,t,n,r){var o=this.getProperty(e,n);void 0!==o&&this.setProperty(t,n,r?r(o):o)},e.getAllKeysInObjects=function(e){var t={};return e.forEach((function(e){e&&Object.keys(e).forEach((function(e){return t[e]=null}))})),Object.keys(t)},e.mergeDeep=function(t,n){this.exists(n)&&this.iterateObject(n,(function(n,r){var o=t[n];o!==r&&("object"==typeof o&&"object"==typeof r?e.mergeDeep(o,r):t[n]=r)}))},e.assign=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return n.forEach((function(n){t.exists(n)&&t.iterateObject(n,(function(t,n){e[t]=n}))})),e},e.flatten=function(e){return[].concat.apply([],e)},e.parseYyyyMmDdToDate=function(e,t){try{if(!e)return null;if(-1===e.indexOf(t))return null;var n=e.split(t);return 3!=n.length?null:new Date(Number(n[0]),Number(n[1])-1,Number(n[2]))}catch(r){return null}},e.serializeDateToYyyyMmDd=function(e,t){return e?e.getFullYear()+t+this.padStart(e.getMonth()+1,2)+t+this.padStart(e.getDate(),2):null},e.padStart=function(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n},e.pushAll=function(e,t){this.missing(t)||this.missing(e)||t.forEach((function(t){return e.push(t)}))},e.createArrayOfNumbers=function(e,t){for(var n=[],r=e;r<=t;r++)n.push(r);return n},e.getFunctionParameters=function(e){var t=e.toString().replace(se,""),n=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(ae);return null===n?[]:n},e.find=function(e,t,n){if(null==e)return null;if(!Array.isArray(e)){var r=this.values(e);return this.find(r,t,n)}for(var o=e,i=null,s=0;s<o.length;s++){var a=o[s];if("string"==typeof t){if(a[t]===n){i=a;break}}else if(t(a)){i=a;break}}return i},e.toStrings=function(e){return e.map((function(e){return null!=e&&e.toString?e.toString():null}))},e.findIndex=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1},e.isNode=function(e){return"function"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},e.isElement=function(e){return"function"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},e.isNodeOrElement=function(e){return this.isNode(e)||this.isElement(e)},e.copyNodeList=function(e){for(var t=e?e.length:0,n=[],r=0;r<t;r++)n.push(e[r]);return n},e.isEventFromPrintableCharacter=function(t){var n=String.fromCharCode(t.charCode);if(this.isKeyPressed(t,ie.KEY_NEW_LINE))return!1;if(t.altKey||t.ctrlKey)return!1;if(de.exists(t.key)){var r=1===t.key.length,o=e.isNumpadDelWithNumlockOnForEdgeOrIe(t);return r||o}return e.PRINTABLE_CHARACTERS.indexOf(n)>=0},e.isUserSuppressingKeyboardEvent=function(e,t,n,r,o){var i=e.getSuppressKeyboardEventFunc(),s=r.getColDef().suppressKeyboardEvent;if(!i&&!s)return!1;var a={event:t,editing:o,column:r,api:e.getApi(),node:n,data:n.data,colDef:r.getColDef(),context:e.getContext(),columnApi:e.getColumnApi()};return!(!s||!s(a))||!!i&&i(a)},e.getCellCompForEvent=function(e,t){for(var n=this.getTarget(t);n;){var r=e.getDomData(n,"cellComp");if(r)return r;n=n.parentElement}return null},e.addChangeListener=function(e,t){e.addEventListener("changed",t),e.addEventListener("paste",t),e.addEventListener("input",t),e.addEventListener("keydown",t),e.addEventListener("keyup",t)},e.makeNull=function(e){return null==e||""===e?null:e},e.missing=function(e){return!this.exists(e)},e.missingOrEmpty=function(e){return!e||this.missing(e)||0===e.length},e.missingOrEmptyObject=function(e){return this.missing(e)||0===Object.keys(e).length},e.exists=function(e,t){return void 0===t&&(t=!1),null!=e&&(""!==e||t)},e.firstExistingValue=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;n++){var r=e[n];if(de.exists(r))return r}return null},e.anyExists=function(e){if(e)for(var t=0;t<e.length;t++)if(this.exists(e[t]))return!0;return!1},e.existsAndNotEmpty=function(e){return null!=e&&this.exists(e)&&e.length>0},e.clearElement=function(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)},e.removeElement=function(e,t){this.removeFromParent(e.querySelector(t))},e.removeFromParent=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},e.isVisible=function(e){return null!==e.offsetParent},e.callIfPresent=function(e){e&&e()},e.loadTemplate=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},e.appendHtml=function(e,t){e.lastChild?e.insertAdjacentHTML("afterbegin",t):e.innerHTML=t},e.addOrRemoveCssClass=function(e,t,n){n?this.addCssClass(e,t):this.removeCssClass(e,t)},e.radioCssClass=function(e,t,n){for(var r=e.parentElement.firstChild;r;)de.addOrRemoveCssClass(r,t,n?r!==e:r===e),r=r.nextSibling},e.addCssClass=function(e,t){var n=this;if(t&&0!==t.length)if(t.indexOf(" ")>=0)t.split(" ").forEach((function(t){return n.addCssClass(e,t)}));else if(e.classList)e.classList.contains(t)||e.classList.add(t);else if(e.className&&e.className.length>0){var r=e.className.split(" ");r.indexOf(t)<0&&(r.push(t),e.setAttribute("class",r.join(" ")))}else e.setAttribute("class",t)},e.removeCssClass=function(e,t){if(e.classList)e.classList.contains(t)&&e.classList.remove(t);else if(e.className&&e.className.length>0){var n=e.className.split(" ");if(n.indexOf(t)>=0){for(;n.indexOf(t)>=0;)n.splice(n.indexOf(t),1);e.setAttribute("class",n.join(" "))}}},e.containsClass=function(e,t){if(e.classList)return e.classList.contains(t);if(e.className){var n=e.className===t,r=e.className.indexOf(" "+t+" ")>=0,o=0===e.className.indexOf(t+" "),i=e.className.lastIndexOf(" "+t)===e.className.length-t.length-1;return n||r||o||i}return!1},e.getElementAttribute=function(e,t){return e.attributes&&e.attributes[t]?e.attributes[t].value:null},e.offsetHeight=function(e){return e&&e.clientHeight?e.clientHeight:0},e.offsetWidth=function(e){return e&&e.clientWidth?e.clientWidth:0},e.sortNumberArray=function(e){e.sort((function(e,t){return e-t}))},e.removeRepeatsFromArray=function(e,t){if(e)for(var n=e.length-2;n>=0;n--)e[n]===t&&e[n+1]===t&&e.splice(n+1,1)},e.removeFromArray=function(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)},e.removeAllFromArray=function(e,t){t.forEach((function(t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}))},e.insertIntoArray=function(e,t,n){e.splice(n,0,t)},e.insertArrayIntoArray=function(e,t,n){if(!this.missing(e)&&!this.missing(t))for(var r=t.length-1;r>=0;r--)this.insertIntoArray(e,t[r],n)},e.moveInArray=function(e,t,n){var r=this;t.forEach((function(t){r.removeFromArray(e,t)})),t.slice().reverse().forEach((function(t){r.insertIntoArray(e,t,n)}))},e.defaultComparator=function(e,t,n){void 0===n&&(n=!1);var r=null==e,o=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),r&&o)return 0;if(r)return-1;if(o)return 1;if("string"==typeof e){if(!n)return i(e,t);try{return e.localeCompare(t)}catch(s){return i(e,t)}}return e<t?-1:e>t?1:0;function i(e,t){return e>t?1:e<t?-1:0}},e.last=function(e){if(e&&e.length)return e[e.length-1]},e.compareArrays=function(e,t){if(this.missing(e)&&this.missing(t))return!0;if(this.missing(e)||this.missing(t)||!e||!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},e.ensureDomOrder=function(e,t,n){n&&n.nextSibling===t||(n?n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))},e.setDomChildOrder=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=e.children[n];o!==r&&e.insertBefore(r,o)}},e.insertTemplateWithDomOrder=function(e,t,n){var r;return n?(n.insertAdjacentHTML("afterend",t),r=n.nextSibling):(e.firstChild?e.insertAdjacentHTML("afterbegin",t):e.innerHTML=t,r=e.firstChild),r},e.every=function(e,t){if(!e||0===e.length)return!0;for(var n=0;n<e.length;n++)if(!t(e[n]))return!1;return!0},e.toStringOrNull=function(e){return this.exists(e)&&e.toString?e.toString():null},e.formatSize=function(e){return"number"==typeof e?e+"px":e},e.formatNumberTwoDecimalPlacesAndCommas=function(e){return"number"!=typeof e?"":(Math.round(100*e)/100).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},e.findLineByLeastSquares=function(e){var t=e.length;if(t<=1)return e;for(var n=0,r=0,o=0,i=0,s=0,a=0;a<t;a++)n+=a,r+=s=e[a],i+=a*a,o+=a*s;var l=(t*o-n*r)/(t*i-n*n),u=r/t-l*n/t,c=[];for(a=0;a<=t;a++)c.push(a*l+u);return c},e.formatNumberCommas=function(e){return"number"!=typeof e?"":e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},e.prependDC=function(e,t){this.exists(e.firstChild)?e.insertBefore(t,e.firstChild):e.appendChild(t)},e.createIcon=function(e,t,n){var r=this.createIconNoSpan(e,t,n);if(r.className.indexOf("ag-icon")>-1)return r;var o=document.createElement("span");return o.appendChild(r),o},e.createIconNoSpan=function(e,t,n,r){var o=null,i=n&&n.getColDef().icons;if(i&&(o=i[e]),t&&!o){var s=t.getIcons();s&&(o=s[e])}if(!o){var a=document.createElement("span"),l=this.iconNameClassMap[e];return l||(r?l=e:(console.warn("ag-Grid: Did not find icon "+e),l="")),a.setAttribute("class","ag-icon ag-icon-"+l),a.setAttribute("unselectable","on"),a}var u=void 0;if("function"==typeof o)u=o();else{if("string"!=typeof o)throw new Error("icon from grid options needs to be a string or a function");u=o}return"string"==typeof u?this.loadTemplate(u):this.isNodeOrElement(u)?u:void console.warn("ag-Grid: iconRenderer should return back a string or a dom object")},e.addStylesToElement=function(e,t){var n=this;t&&Object.keys(t).forEach((function(r){var o=n.hyphenToCamelCase(r);o&&(e.style[o]=t[r])}))},e.isHorizontalScrollShowing=function(e){return e.clientWidth<e.scrollWidth},e.isVerticalScrollShowing=function(e){return e.clientHeight<e.scrollHeight},e.getMaxDivHeight=function(){if(!document.body)return-1;var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=this.loadTemplate("<div/>");for(document.body.appendChild(n);;){var r=2*e;if(n.style.height=r+"px",r>t||n.clientHeight!==r)break;e=r}return document.body.removeChild(n),e},e.getScrollbarWidth=function(){var e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);var n=t.offsetWidth-t.clientWidth;return t.parentNode&&t.parentNode.removeChild(t),n},e.hasOverflowScrolling=function(){var e=["webkit","moz","o","ms"],t=document.createElement("div"),n=!1;document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("style",e.map((function(e){return"-"+e+"-overflow-scrolling: touch"})).concat("overflow-scrolling: touch").join(";"));var r=window.getComputedStyle(t);if("touch"===r.overflowScrolling&&(n=!0),!n)for(var o=0,i=e;o<i.length;o++)if("touch"===r[i[o]+"OverflowScrolling"]){n=!0;break}return t.parentNode&&t.parentNode.removeChild(t),n},e.isKeyPressed=function(e,t){return(e.which||e.keyCode)===t},e.isCharacterKey=function(e){var t=e.which;return"number"==typeof t&&t?!e.ctrlKey&&!e.metaKey&&!e.altKey&&8!==e.which&&16!==e.which:void 0===t},e.setDisplayed=function(e,t){this.addOrRemoveCssClass(e,"ag-hidden",!t)},e.setVisible=function(e,t){this.addOrRemoveCssClass(e,"ag-invisible",!t)},e.setElementWidth=function(e,t){"flex"===t?(e.style.width=null,e.style.minWidth=null,e.style.maxWidth=null,e.style.flex="1 1 auto"):this.setFixedWidth(e,t)},e.setFixedWidth=function(e,t){t=this.formatSize(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t},e.setElementHeight=function(e,t){"flex"===t?(e.style.height=null,e.style.minHeight=null,e.style.maxHeight=null,e.style.flex="1 1 auto"):this.setFixedHeight(e,t)},e.setFixedHeight=function(e,t){t=this.formatSize(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t},e.isBrowserIE=function(){return void 0===this.isIE&&(this.isIE=!!document.documentMode),this.isIE},e.isBrowserEdge=function(){return void 0===this.isEdge&&(this.isEdge=!this.isBrowserIE()&&!!window.StyleMedia),this.isEdge},e.isBrowserSafari=function(){if(void 0===this.isSafari){var e=window;this.isSafari=Object.prototype.toString.call(e.HTMLElement).indexOf("Constructor")>0||!!(t=!e.safari||e.safari.pushNotification)&&"[object SafariRemoteNotification]"===t.toString()}var t;return this.isSafari},e.isBrowserChrome=function(){if(void 0===this.isChrome){var e=window;this.isChrome=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return this.isChrome},e.isBrowserFirefox=function(){if(void 0===this.isFirefox){var e=window;this.isFirefox=void 0!==e.InstallTrigger}return this.isFirefox},e.isIOSUserAgent=function(){return void 0===this.isIOS&&(this.isIOS=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),this.isIOS},e.getTarget=function(e){return e.target||e.srcElement},e.isElementChildOfClass=function(e,t,n){for(var r=0;e;){if(this.containsClass(e,t))return!0;if(e=e.parentElement,n&&++r>n)break}return!1},e.isElementInEventPath=function(e,t){return!(!t||!e)&&de.getEventPath(t).indexOf(e)>=0},e.isFunction=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},e.createEventPath=function(e){for(var t=[],n=de.getTarget(e);n;)t.push(n),n=n.parentElement;return t},e.addAgGridEventPath=function(e){e.__agGridEventPath=this.getEventPath(e)},e.getEventPath=function(e){var t=e;return t.deepPath?t.deepPath():t.path?t.path:t.composedPath?t.composedPath():t.__agGridEventPath?t.__agGridEventPath:this.createEventPath(e)},e.forEachSnapshotFirst=function(e,t){e&&e.slice(0).forEach(t)},e.getBodyWidth=function(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1},e.getBodyHeight=function(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1},e.setCheckboxState=function(e,t){"boolean"==typeof t?(e.checked=t,e.indeterminate=!1):e.indeterminate=!0},e.traverseNodesWithKey=function(e,t){var n=[];!function e(r){r.forEach((function(r){if(r.group||r.hasChildren()){n.push(r.key);var o=n.join("|");t(r,o),e(r.childrenAfterGroup),n.pop()}}))}(e)},e.camelCaseToHyphen=function(e){return null==e?null:e.replace(/([A-Z])/g,(function(e){return"-"+e[0].toLowerCase()}))},e.hyphenToCamelCase=function(e){return null==e?null:e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))},e.capitalise=function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()},e.cssStyleObjectToMarkup=function(e){var t=this;if(!e)return"";var n=[];return this.iterateObject(e,(function(e,r){var o=t.camelCaseToHyphen(e);n.push(o+": "+r+";")})),n.join(" ")},e.isNumeric=function(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)},e.escape=function(e){return null!=e&&e.replace?e.replace(ue,(function(e){return le[e]})):e},e.normalizeWheel=function(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,o=10*n,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(1==e.deltaMode?(r*=40,o*=40):(r*=800,o*=800)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}},e.debounce=function(e,t,n){var r;return void 0===n&&(n=!1),function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var s=this,a=n&&!r;window.clearTimeout(r),r=window.setTimeout((function(){r=null,n||e.apply(s,o)}),t),a&&e.apply(s,o)}},e.stopPropagationForAgGrid=function(e){e.__ag_Grid_Stop_Propagation=!0},e.isStopPropagationForAgGrid=function(e){return!0===e.__ag_Grid_Stop_Propagation},e.executeInAWhile=function(e){this.executeAfter(e,400)},e.executeNextVMTurn=function(e){this.executeAfter(e,0)},e.executeAfter=function(e,t){e.length>0&&window.setTimeout((function(){e.forEach((function(e){return e()}))}),t)},e.referenceCompare=function(e,t){return null==e&&null==t||(null!=e||!t)&&(!e||null!=t)&&e===t},e.get=function(e,t,n){if(null==e)return n;for(var r=t.split("."),o=e;r.length>1;)if(null==(o=o[r.shift()]))return n;var i=o[r[0]];return null!=i?i:n},e.set=function(e,t,n){if(null!=e){for(var r=t.split("."),o=e;r.length>1;)if(null==(o=o[r.shift()]))return;o[r[0]]=n}},e.addSafePassiveEventListener=function(t,n,r,o){var i=e.PASSIVE_EVENTS.indexOf(r)>=0?{passive:!0}:void 0;e.OUTSIDE_ANGULAR_EVENTS.indexOf(r)>=0?t.addEventListenerOutsideAngular(n,r,o,i):n.addEventListener(r,o,i)},e.camelCaseToHumanText=function(e){return e&&null!=e?e.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map((function(e){return e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):"")})).join(" "):null},e.message=function(e){var t=document.createElement("div");t.innerHTML=e;var n=document.querySelector("#__ag__message");n||(n=this.loadTemplate('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(n)),n.insertBefore(t,n.children[0])},e.sortRowNodesByOrder=function(e,t){if(e){for(var n=function(e,n){var r=t[e.id],o=t[n.id],i=void 0!==r,s=void 0!==o;return i&&s?r-o:i||s?i?1:-1:e.__objectId-n.__objectId},r=!1,o=0;o<e.length-1;o++)if(n(e[o],e[o+1])>0){r=!0;break}r&&e.sort(n)}},e.fuzzyCheckStrings=function(e,t,n){var r=this,o={},i=e.filter((function(e){return!t.some((function(t){return t===e}))}));return i.length>0&&i.forEach((function(e){return o[e]=r.fuzzySuggestions(e,n)})),o},e.fuzzySuggestions=function(e,t,n,r){var o=r?de.string_weighted_distances:de.string_distances,i=t.map((function(t){return{value:t,relevance:o(e.toLowerCase(),t.toLocaleLowerCase())}}));return i.sort((function(e,t){return t.relevance-e.relevance})),n&&(i=i.filter((function(e){return 0!==e.relevance}))),i.map((function(e){return e.value}))},e.get_bigrams=function(e){var t,n,r,o=e.toLowerCase(),i=new Array(o.length-1);for(t=n=0,r=i.length;n<=r;t=n+=1)i[t]=o.slice(t,t+2);return i},e.string_distances=function(e,t){if(0===e.length&&0===t.length)return 0;var n,r,o=de.get_bigrams(e),i=de.get_bigrams(t),s=o.length+i.length,a=0;for(n=0,r=o.length;n<r;n++){var l,u=o[n],c=void 0;for(c=0,l=i.length;c<l;c++)u===i[c]&&a++}return a>0?2*a/s:0},e.string_weighted_distances=function(e,t){for(var n=e.replace(/\s/g,""),r=t.replace(/\s/g,""),o=0,i=0;i<n.length;i++){var s=r.indexOf(n[i]);-1!==s&&(o+=100*(r.length-s)/r.length,o*=o)}return o},e.isNumpadDelWithNumlockOnForEdgeOrIe=function(t){return!(!e.isBrowserEdge()&&!e.isBrowserIE())&&t.key===e.NUMPAD_DEL_NUMLOCK_ON_KEY&&t.charCode===e.NUMPAD_DEL_NUMLOCK_ON_CHARCODE},e.bindCellRendererToHtmlElement=function(e,t){e.then((function(e){var n=e.getGui();null!=n&&("object"==typeof n?t.appendChild(n):t.innerHTML=n)}))},e.PASSIVE_EVENTS=["touchstart","touchend","touchmove","touchcancel"],e.OUTSIDE_ANGULAR_EVENTS=["mouseover","mouseout","mouseenter","mouseleave"],e.PRINTABLE_CHARACTERS="qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM1234567890!\"\xa3$%^&*()_+-=[];'#,./\\|<>?:@~{}",e.NUMPAD_DEL_NUMLOCK_ON_KEY="Del",e.NUMPAD_DEL_NUMLOCK_ON_CHARCODE=46,e.doOnceFlags={},e.supports={},e.isEventSupported=(t={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(n){if("boolean"==typeof e.supports[n])return e.supports[n];var r=document.createElement(t[n]||"div"),o=(n="on"+n)in r;return o||(r.setAttribute(n,"return;"),o="function"==typeof r[n]),r=null,e.supports[n]=o}),e.areEqual=function(e,t){return e.length===t.length&&e.every((function(e,n){return t[n]===e}))},e.keys=function(e){var t=[];return e.forEach((function(e,n){return t.push(n)})),t},e.values=function(e){return Object.keys(e).map((function(t){return e[t]}))},e.includes=function(e,t){return e.indexOf(t)>-1},e.compose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce((function(e,t){return t(e)}),t)}},e.decToHex=function(e,t){for(var n="",r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n},e.utf8_encode=function(e){var t=String.fromCharCode;function n(e,n){return t(e>>n&63|128)}function r(e){if(0==(4294967168&e))return t(e);var r="";return 0==(4294965248&e)?r=t(e>>6&31|192):0==(4294901760&e)?(function(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}(e),r=t(e>>12&15|224),r+=n(e,6)):0==(4292870144&e)&&(r=t(e>>18&7|240),r+=n(e,12),r+=n(e,6)),r+t(63&e|128)}for(var o=function(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}(e),i=o.length,s=-1,a="";++s<i;)a+=r(o[s]);return a},e.deepCloneObject=function(e){return JSON.parse(JSON.stringify(e))},e.getProperty=function(e,t){return e[t]},e.setProperty=function(e,t,n){return e[t]=n},e.iconNameClassMap={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveAdd:"plus",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"contracted",groupExpanded:"expanded",chart:"chart",close:"cross",cancel:"cancel",check:"tick",checkboxChecked:"checkbox-checked",checkboxUnchecked:"checkbox-unchecked",checkboxIndeterminate:"checkbox-indeterminate",checkboxCheckedReadOnly:"checkbox-checked-readonly",checkboxUncheckedReadOnly:"checkbox-unchecked-readonly",checkboxIndeterminateReadOnly:"checkbox-indeterminate-readonly",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",groupLoading:"loading",data:"data",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",smallDown:"small-down",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"},e}(),pe=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1),this.nextValue=e,this.step=t}return e.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},e.prototype.peek=function(){return this.nextValue},e.prototype.skip=function(e){this.nextValue+=e},e}(),de=ce,he=function(e){return e[e.IN_PROGRESS=0]="IN_PROGRESS",e[e.RESOLVED=1]="RESOLVED",e}({}),fe=function(){function e(e){this.status=he.IN_PROGRESS,this.resolution=null,this.listOfWaiters=[],e(this.onDone.bind(this),this.onReject.bind(this))}return e.all=function(t){return new e((function(e){var n=[],r=t.length;t.forEach((function(t,o){t.then((function(t){r--,n[o]=t,0==r&&e(n)})),n.push(null)}))}))},e.resolve=function(t){return new e((function(e){return e(t)}))},e.external=function(){var t;return{promise:new e((function(e){t=e})),resolve:function(e){t(e)}}},e.prototype.then=function(e){this.status===he.IN_PROGRESS?this.listOfWaiters.push(e):e(this.resolution)},e.prototype.firstOneOnly=function(e){this.status===he.IN_PROGRESS?0===this.listOfWaiters.length&&this.listOfWaiters.push(e):e(this.resolution)},e.prototype.map=function(t){var n=this;return new e((function(e){n.then((function(n){e(t(n))}))}))},e.prototype.resolveNow=function(e,t){return this.status==he.IN_PROGRESS?e:t(this.resolution)},e.prototype.onDone=function(e){this.status=he.RESOLVED,this.resolution=e,this.listOfWaiters.forEach((function(t){return t(e)}))},e.prototype.onReject=function(e){console.warn("TBI")},e}(),ge=function(){function e(){this.existingKeys={}}return e.prototype.addExistingKeys=function(e){for(var t=0;t<e.length;t++)this.existingKeys[e[t]]=!0},e.prototype.getUniqueKey=function(e,t){e=de.toStringOrNull(e);for(var n=0;;){var r=void 0;if(e?(r=e,0!==n&&(r+="_"+n)):t?(r=t,0!==n&&(r+="_"+n)):r=""+n,!this.existingKeys[r])return this.existingKeys[r]=!0,r;n++}},e}(),ve=function(){function e(e,t){if(this.beanWrappers={},this.componentsMappedByName={},this.destroyed=!1,e&&e.beanClasses){this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.setupComponents(),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return e.prototype.getBeanInstances=function(){return de.values(this.beanWrappers).map((function(e){return e.beanInstance}))},e.prototype.setupComponents=function(){var e=this;this.contextParams.components&&this.contextParams.components.forEach((function(t){return e.addComponent(t)}))},e.prototype.addComponent=function(e){var t=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[t]=e.componentClass},e.prototype.createComponentFromElement=function(e,t){return this.createComponent(e.nodeName,t)},e.prototype.createComponent=function(e,t){if(this.componentsMappedByName&&this.componentsMappedByName[e]){var n=new this.componentsMappedByName[e];return this.wireBean(n,t),n}return null},e.prototype.wireBean=function(e,t){if(!e)throw Error("Can't wire to bean since it is null");this.wireBeans([e],t)},e.prototype.wireBeans=function(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),de.exists(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")},e.prototype.createBeans=function(){var e=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),de.iterateObject(this.beanWrappers,(function(t,n){var r;n.bean.__agBeanMetaData&&n.bean.__agBeanMetaData.autowireMethods&&n.bean.__agBeanMetaData.autowireMethods.agConstructor&&(r=n.bean.__agBeanMetaData.autowireMethods.agConstructor);var o,i,s=e.getBeansForParameters(r,n.bean.name),a=(o=n.bean,i=[null].concat(s),new(o.bind.apply(o,i)));n.beanInstance=a}));var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+t)},e.prototype.createBeanWrapper=function(e){var t=e.__agBeanMetaData;t?this.beanWrappers[t.beanName]={bean:e,beanInstance:null,beanName:t.beanName}:console.error("context item "+(e.prototype.constructor?e.prototype.constructor.name:""+e)+" is not a bean")},e.prototype.autoWireBeans=function(e){var t=this;e.forEach((function(e){t.forEachMetaDataInHierarchy(e,(function(n,r){var o=n.agClassAttributes;o&&o.forEach((function(n){var o=t.lookupBeanInstance(r,n.beanName,n.optional);e[n.attributeName]=o}))}))}))},e.prototype.methodWireBeans=function(e){var t=this;e.forEach((function(e){t.forEachMetaDataInHierarchy(e,(function(n,r){de.iterateObject(n.autowireMethods,(function(n,o){if("agConstructor"!==n){var i=t.getBeansForParameters(o,r);e[n].apply(e,i)}}))}))}))},e.prototype.forEachMetaDataInHierarchy=function(e,t){for(var n=Object.getPrototypeOf(e);null!=n;){var r=n.constructor;r.hasOwnProperty("__agBeanMetaData")&&t(r.__agBeanMetaData,this.getBeanName(r)),n=Object.getPrototypeOf(n)}},e.prototype.getBeanName=function(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;var t=e.toString();return t.substring(9,t.indexOf("("))},e.prototype.getBeansForParameters=function(e,t){var n=this,r=[];return e&&de.iterateObject(e,(function(e,o){var i=n.lookupBeanInstance(t,o);r[Number(e)]=i})),r},e.prototype.lookupBeanInstance=function(e,t,n){if(void 0===n&&(n=!1),"context"===t)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var r=this.beanWrappers[t];return r?r.beanInstance:(n||console.error("ag-Grid: unable to find bean reference "+t+" while initialising "+e),null)},e.prototype.callLifeCycleMethods=function(e,t){var n=this;e.forEach((function(e){n.forEachMetaDataInHierarchy(e,(function(n){var r=n[t];r&&r.forEach((function(t){return e[t]()}))}))}))},e.prototype.getBean=function(e){return this.lookupBeanInstance("getBean",e,!0)},e.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var e=this.getBeanInstances();this.callLifeCycleMethods(e,"preDestroyMethods"),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},e}();function ye(e,t,n){var r=Re(e.constructor);r.postConstructMethods||(r.preConstructMethods=[]),r.preConstructMethods.push(t)}function me(e,t,n){var r=Re(e.constructor);r.postConstructMethods||(r.postConstructMethods=[]),r.postConstructMethods.push(t)}function Ce(e,t,n){var r=Re(e.constructor);r.preDestroyMethods||(r.preDestroyMethods=[]),r.preDestroyMethods.push(t)}function we(e){return function(t){Re(t).beanName=e}}function be(e){return function(t,n,r){_e(t,e,!1,0,n,null)}}function Ee(e){return function(t,n,r){_e(t,e,!0,0,n,null)}}function _e(e,t,n,r,o,i){if(null!==t)if("number"!=typeof i){var s=Re(e.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:o,beanName:t,optional:n})}else console.error("ag-Grid: Autowired should be on an attribute");else console.error("ag-Grid: Autowired name should not be null")}function Se(e){return function(t,n,r){var o,i="function"==typeof t?t:t.constructor;if("number"==typeof r){var s=void 0;n?(o=Re(i),s=n):(o=Re(i),s="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[s]||(o.autowireMethods[s]={}),o.autowireMethods[s][r]=e}}}function Re(e){return e.hasOwnProperty("__agBeanMetaData")||(e.__agBeanMetaData={}),e.__agBeanMetaData}var Te,Oe=function(){function e(){this.allSyncListeners={},this.allAsyncListeners={},this.globalSyncListeners=[],this.globalAsyncListeners=[],this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}var t;return t=e,e.prototype.setBeans=function(e,t,n){if(void 0===n&&(n=null),this.logger=e.create("EventService"),n){var r=t.useAsyncEvents();this.addGlobalListener(n,r)}},e.prototype.getListenerList=function(e,t){var n=t?this.allAsyncListeners:this.allSyncListeners,r=n[e];return r||(n[e]=r=[]),r},e.prototype.addEventListener=function(e,t,n){void 0===n&&(n=!1);var r=this.getListenerList(e,n);r.indexOf(t)<0&&r.push(t)},e.prototype.addModalPriorityEventListener=function(e,n,r){void 0===r&&(r=!1),this.addEventListener(e+t.PRIORITY,n,r)},e.prototype.addGlobalListener=function(e,t){void 0===t&&(t=!1),t?this.globalAsyncListeners.push(e):this.globalSyncListeners.push(e)},e.prototype.removeEventListener=function(e,t,n){void 0===n&&(n=!1);var r=this.getListenerList(e,n);de.removeFromArray(r,t)},e.prototype.removeGlobalListener=function(e,t){void 0===t&&(t=!1),de.removeFromArray(t?this.globalAsyncListeners:this.globalSyncListeners,e)},e.prototype.dispatchEvent=function(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},e.prototype.dispatchEventOnce=function(e){this.firedEvents[e.type]||this.dispatchEvent(e)},e.prototype.dispatchToListeners=function(e,n){var r=this,o=n?this.globalAsyncListeners:this.globalSyncListeners,i=e.type,s=this.getListenerList(i+t.PRIORITY,n);de.forEachSnapshotFirst(s,(function(t){n?r.dispatchAsync((function(){return t(e)})):t(e)}));var a=this.getListenerList(i,n);de.forEachSnapshotFirst(a,(function(t){n?r.dispatchAsync((function(){return t(e)})):t(e)})),de.forEachSnapshotFirst(o,(function(t){n?r.dispatchAsync((function(){return t(i,e)})):t(i,e)}))},e.prototype.dispatchAsync=function(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},e.prototype.flushAsyncQueue=function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach((function(e){return e()}))},e.PRIORITY="-P1",r([o(0,Se("loggerFactory")),o(1,Se("gridOptionsWrapper")),o(2,Se("globalEventListener"))],e.prototype,"setBeans",null),t=r([we("eventService")],e)}();(Te=t.ModuleNames||(t.ModuleNames={})).CommunityCoreModule="@ag-grid-community/core",Te.CommunityAllModules="@ag-grid-community/all",Te.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",Te.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",Te.CsvExportModule="@ag-grid-community/csv-export",Te.RowNodeCache="@ag-grid-community/row-node-cache",Te.EnterpriseCoreModule="@ag-grid-enterprise/core",Te.EnterpriseAllModules="@ag-grid-enterprise/all",Te.RowGroupingModule="@ag-grid-enterprise/row-grouping",Te.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",Te.FiltersToolPanelModule="@ag-grid-enterprise/filters-tool-panel",Te.MenuModule="@ag-grid-enterprise/menu",Te.SetFilterModule="@ag-grid-enterprise/set-filter",Te.StatusBarModule="@ag-grid-enterprise/status-bar",Te.SideBarModule="@ag-grid-enterprise/side-bar",Te.RangeSelectionModule="@ag-grid-enterprise/range-selection",Te.MasterDetailModule="@ag-grid-enterprise/master-detail",Te.RichSelectModule="@ag-grid-enterprise/rich-select",Te.GridChartsModule="@ag-grid-enterprise/charts",Te.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",Te.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",Te.ExcelExportModule="@ag-grid-enterprise/excel-export",Te.ClipboardModule="@ag-grid-enterprise/clipboard",Te.AngularModule="@ag-grid-community/angular",Te.ReactModule="@ag-grid-community/react",Te.VueModule="@ag-grid-community/vue",Te.PolymerModule="@ag-grid-community/polymer";var De=function(){function e(){}return e.register=function(e){this.modulesMap[e.moduleName]=e},e.assertRegistered=function(e,t){if(this.isRegistered(e))return!0;var n="ag-Grid: unable to use "+t+" as module "+e+' is not present. You need to load the module with: import "'+e+'"';return de.doOnce((function(){console.warn(n)}),t+e),!1},e.isRegistered=function(e){return!!this.modulesMap[e]},e.getRegisteredModules=function(){return de.values(this.modulesMap)},e.modulesMap={},e}(),Ie=function(){function e(e,t,n,r){this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new Oe,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.visible=!e.hide,this.sort=e.sort,this.sortedAt=e.sortedAt,this.colId=n,this.primary=r}return e.prototype.setColDef=function(e,t){this.colDef=e,this.userProvidedColDef=t},e.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},e.prototype.setParent=function(e){this.parent=e},e.prototype.getParent=function(){return this.parent},e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.initialise=function(){this.setPinned(this.colDef.pinned);var e=this.gridOptionsWrapper.getMinColWidth(),t=this.gridOptionsWrapper.getMaxColWidth();this.minWidth=this.colDef.minWidth?this.colDef.minWidth:e,this.maxWidth=this.colDef.maxWidth?this.colDef.maxWidth:t,this.actualWidth=this.columnUtils.calculateColInitialWidth(this.colDef);var n=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=de.exists(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!n,this.tooltipFieldContainsDots=de.exists(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!n,this.validate()},e.prototype.isEmptyGroup=function(){return!1},e.prototype.isRowGroupDisplayed=function(e){return!(de.missing(this.colDef)||de.missing(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==e)},e.prototype.getUniqueId=function(){return this.getId()},e.prototype.isPrimary=function(){return this.primary},e.prototype.isFilterAllowed=function(){return this.primary&&(!!this.colDef.filter||!!this.colDef.filterFramework)},e.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},e.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},e.prototype.validate=function(){var e=this.colDef;function n(e,t,n){de.doOnce((function(){n?console.warn(e,n):de.doOnce((function(){return console.warn(e)}),t)}),t)}De.isRegistered(t.ModuleNames.RowGroupingModule)||["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach((function(t){de.exists(e[t])&&n("ag-Grid: "+t+" is only valid with module Row Grouping, your column definition should not have "+t,"ColumnRowGroupingMissing"+t)})),De.isRegistered(t.ModuleNames.RichSelectModule)||"agRichSelect"!==this.colDef.cellEditor&&"agRichSelectCellEditor"!==this.colDef.cellEditor||n("ag-Grid: "+this.colDef.cellEditor+" can only be used with module "+t.ModuleNames.RichSelectModule,"ColumnRichSelectMissing"),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach((function(t){de.exists(e[t])&&n("ag-Grid: "+t+" is not possible when doing tree data, your column definition should not have "+t,"TreeDataCannotRowGroup")})),de.exists(this.colDef.width)&&"number"!=typeof this.colDef.width&&n("ag-Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),de.get(this,"colDef.cellRendererParams.restrictToOneGroup",null)&&n("ag-Grid: Since ag-grid 11.0.0 cellRendererParams.restrictToOneGroup is deprecated. You should use showRowGroup","ColumnCheck_sksldjf"),de.get(this,"colDef.cellRendererParams.keyMap",null)&&n("ag-Grid: Since ag-grid 11.0.0 cellRendererParams.keyMap is deprecated. You should use colDef.keyCreator","ColumnCheck_ieiruhgdf"),de.get(this,"colDef.cellRendererParams.keyMap",null)&&n("ag-Grid: Since ag-grid 11.0.0 cellRendererParams.keyMap is deprecated. You should use colDef.keyCreator","ColumnCheck_uitolghj"),e.floatingCellRenderer&&(n("ag-Grid: since v11, floatingCellRenderer is now pinnedRowCellRenderer","ColumnCheck_soihwewe"),this.colDef.pinnedRowCellRenderer=e.floatingCellRenderer),e.floatingRendererFramework&&(n("ag-Grid: since v11, floatingRendererFramework is now pinnedRowCellRendererFramework","ColumnCheck_zdkiouhwer"),this.colDef.pinnedRowCellRendererFramework=e.floatingRendererFramework),e.floatingRendererParams&&(console.warn("ag-Grid: since v11, floatingRendererParams is now pinnedRowCellRendererParams","ColumnCheck_retiuhjs"),this.colDef.pinnedRowCellRendererParams=e.floatingRendererParams),e.floatingValueFormatter&&(n("ag-Grid: since v11, floatingValueFormatter is now pinnedRowValueFormatter","ColumnCheck_qwroeihjdf"),this.colDef.pinnedRowValueFormatter=e.floatingValueFormatter),e.cellFormatter&&(n("ag-Grid: since v12, cellFormatter is now valueFormatter","ColumnCheck_eoireknml"),de.missing(this.colDef.valueFormatter)&&(this.colDef.valueFormatter=e.cellFormatter)),e.headerCellTemplate&&n("ag-Grid: since v15, headerCellTemplate is gone, use header component instead.","ColumnCheck_eroihxcm"),e.headerCellRenderer&&n("ag-Grid: since v15, headerCellRenderer is gone, use header component instead.","ColumnCheck_terteuh"),e.volatile&&n("ag-Grid: since v16, colDef.volatile is gone, please check refresh docs on how to refresh specific cells.","ColumnCheck_weoihjxcv"),e.suppressSorting&&(n("ag-Grid: since v20, colDef.suppressSorting is gone, instead use colDef.sortable=false.","ColumnCheck_43ljrer",this.colDef),this.colDef.sortable=!1),e.suppressFilter&&(n("ag-Grid: since v20, colDef.suppressFilter is gone, instead use colDef.filter=false.","ColumnCheck_erlkhfdm",this.colDef),this.colDef.filter=!1),e.suppressResize&&(n("ag-Grid: since v20, colDef.suppressResize is gone, instead use colDef.resizable=false.","ColumnCheck_weoihjxcv",this.colDef),this.colDef.resizable=!1),e.tooltip&&(n("ag-Grid: since v20.1, colDef.tooltip is gone, instead use colDef.tooltipValueGetter.","ColumnCheck_adslknjwef",this.colDef),this.colDef.tooltipValueGetter=e.tooltip),e.suppressToolPanel&&(n("ag-Grid: since v22, colDef.suppressToolPanel is gone, instead use suppressColumnsToolPanel / suppressFiltersToolPanel.","ColumnCheck_weihjlsjkdf",this.colDef),this.colDef.suppressColumnsToolPanel=!0)},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.createIsColumnFuncParams=function(e){return{node:e,data:e.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},e.prototype.isSuppressNavigable=function(e){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var t=this.createIsColumnFuncParams(e);return(0,this.colDef.suppressNavigable)(t)}return!1},e.prototype.isCellEditable=function(e){return!(e.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(e,this.colDef.editable)},e.prototype.isRowDrag=function(e){return this.isColumnFunc(e,this.colDef.rowDrag)},e.prototype.isDndSource=function(e){return this.isColumnFunc(e,this.colDef.dndSource)},e.prototype.isCellCheckboxSelection=function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)},e.prototype.isSuppressPaste=function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)},e.prototype.isResizable=function(){return!0===this.colDef.resizable},e.prototype.isColumnFunc=function(e,t){return"boolean"==typeof t?t:"function"==typeof t&&t(this.createIsColumnFuncParams(e))},e.prototype.setMoving=function(t,n){void 0===n&&(n="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_MOVING_CHANGED,n))},e.prototype.createColumnEvent=function(e,t){return{api:this.gridApi,columnApi:this.columnApi,type:e,column:this,columns:[this],source:t}},e.prototype.isMoving=function(){return this.moving},e.prototype.getSort=function(){return this.sort},e.prototype.setSort=function(t,n){void 0===n&&(n="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_SORT_CHANGED,n)))},e.prototype.setMenuVisible=function(t,n){void 0===n&&(n="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_MENU_VISIBLE_CHANGED,n)))},e.prototype.isMenuVisible=function(){return this.menuVisible},e.prototype.isSortAscending=function(){return this.sort===ie.SORT_ASC},e.prototype.isSortDescending=function(){return this.sort===ie.SORT_DESC},e.prototype.isSortNone=function(){return de.missing(this.sort)},e.prototype.isSorting=function(){return de.exists(this.sort)},e.prototype.getSortedAt=function(){return this.sortedAt},e.prototype.setSortedAt=function(e){this.sortedAt=e},e.prototype.setAggFunc=function(e){this.aggFunc=e},e.prototype.getAggFunc=function(){return this.aggFunc},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.getRight=function(){return this.left+this.actualWidth},e.prototype.setLeft=function(t,n){void 0===n&&(n="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_LEFT_CHANGED,n)))},e.prototype.isFilterActive=function(){return this.filterActive},e.prototype.setFilterActive=function(t,n,r){void 0===n&&(n="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_FILTER_ACTIVE_CHANGED,n)));var o=this.createColumnEvent(e.EVENT_FILTER_CHANGED,n);r&&de.mergeDeep(o,r),this.eventService.dispatchEvent(o)},e.prototype.setPinned=function(e){this.pinned=!0===e||e===ie.PINNED_LEFT?ie.PINNED_LEFT:e===ie.PINNED_RIGHT?ie.PINNED_RIGHT:null},e.prototype.setFirstRightPinned=function(t,n){void 0===n&&(n="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_FIRST_RIGHT_PINNED_CHANGED,n)))},e.prototype.setLastLeftPinned=function(t,n){void 0===n&&(n="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_LAST_LEFT_PINNED_CHANGED,n)))},e.prototype.isFirstRightPinned=function(){return this.firstRightPinned},e.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},e.prototype.isPinned=function(){return this.pinned===ie.PINNED_LEFT||this.pinned===ie.PINNED_RIGHT},e.prototype.isPinnedLeft=function(){return this.pinned===ie.PINNED_LEFT},e.prototype.isPinnedRight=function(){return this.pinned===ie.PINNED_RIGHT},e.prototype.getPinned=function(){return this.pinned},e.prototype.setVisible=function(t,n){void 0===n&&(n="api");var r=!0===t;this.visible!==r&&(this.visible=r,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_VISIBLE_CHANGED,n)))},e.prototype.isVisible=function(){return this.visible},e.prototype.getColDef=function(){return this.colDef},e.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},e.prototype.getColId=function(){return this.colId},e.prototype.getId=function(){return this.getColId()},e.prototype.getDefinition=function(){return this.colDef},e.prototype.getActualWidth=function(){return this.actualWidth},e.prototype.createBaseColDefParams=function(e){return{node:e,data:e.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},e.prototype.getColSpan=function(e){if(de.missing(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)},e.prototype.getRowSpan=function(e){if(de.missing(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)},e.prototype.setActualWidth=function(t,n){void 0===n&&(n="api"),this.actualWidth!==t&&(this.actualWidth=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_WIDTH_CHANGED,n)))},e.prototype.isGreaterThanMax=function(e){return!!this.maxWidth&&e>this.maxWidth},e.prototype.getMinWidth=function(){return this.minWidth},e.prototype.getMaxWidth=function(){return this.maxWidth},e.prototype.setMinimum=function(e){void 0===e&&(e="api"),this.setActualWidth(this.minWidth,e)},e.prototype.setRowGroupActive=function(t,n){void 0===n&&(n="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_ROW_GROUP_CHANGED,n)))},e.prototype.isRowGroupActive=function(){return this.rowGroupActive},e.prototype.setPivotActive=function(t,n){void 0===n&&(n="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_PIVOT_CHANGED,n)))},e.prototype.isPivotActive=function(){return this.pivotActive},e.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},e.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},e.prototype.setValueActive=function(t,n){void 0===n&&(n="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_VALUE_CHANGED,n)))},e.prototype.isValueActive=function(){return this.aggregationActive},e.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},e.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},e.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},e.prototype.getMenuTabs=function(e){var t=this.getColDef().menuTabs;return null==t&&(t=e),t},e.prototype.isLockPosition=function(){return console.warn("ag-Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},e.prototype.isLockVisible=function(){return console.warn("ag-Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},e.prototype.isLockPinned=function(){return console.warn("ag-Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},e.EVENT_MOVING_CHANGED="movingChanged",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_WIDTH_CHANGED="widthChanged",e.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",e.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",e.EVENT_VISIBLE_CHANGED="visibleChanged",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",e.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_PIVOT_CHANGED="columnPivotChanged",e.EVENT_VALUE_CHANGED="columnValueChanged",i([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),i([be("columnUtils")],e.prototype,"columnUtils",void 0),i([be("columnApi")],e.prototype,"columnApi",void 0),i([be("gridApi")],e.prototype,"gridApi",void 0),i([be("context")],e.prototype,"context",void 0),i([me],e.prototype,"initialise",null),e}(),Ae=function(){function e(e,t,n,r){this.displayedChildren=[],this.localEventService=new Oe,this.groupId=t,this.instanceId=n,this.originalColumnGroup=e,this.pinned=r}return e.createUniqueId=function(e,t){return e+"_"+t},e.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},e.prototype.getParent=function(){return this.parent},e.prototype.setParent=function(e){this.parent=e},e.prototype.getUniqueId=function(){return e.createUniqueId(this.groupId,this.instanceId)},e.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},e.prototype.isMoving=function(){var e=this.getOriginalColumnGroup().getLeafColumns();if(!e||0===e.length)return!1;var t=!0;return e.forEach((function(e){e.isMoving()||(t=!1)})),t},e.prototype.checkLeft=function(){if(this.displayedChildren.forEach((function(t){t instanceof e&&t.checkLeft()})),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var t=de.last(this.displayedChildren).getLeft();this.setLeft(t)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_LEFT_CHANGED)))},e.prototype.getPinned=function(){return this.pinned},e.prototype.createAgEvent=function(e){return{type:e}},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.isChildInThisGroupDeepSearch=function(t){var n=!1;return this.children.forEach((function(r){t===r&&(n=!0),r instanceof e&&r.isChildInThisGroupDeepSearch(t)&&(n=!0)})),n},e.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach((function(t){e+=t.getActualWidth()})),e},e.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach((function(t){t.isResizable()&&(e=!0)})),e},e.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach((function(t){e+=t.getMinWidth()})),e},e.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},e.prototype.getDisplayedChildren=function(){return this.displayedChildren},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},e.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},e.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},e.prototype.isPadding=function(){return this.originalColumnGroup.isPadding()},e.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},e.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},e.prototype.setExpanded=function(e){this.originalColumnGroup.setExpanded(e)},e.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach((function(n){n instanceof Ie?t.push(n):n instanceof e&&n.addDisplayedLeafColumns(t)}))},e.prototype.addLeafColumns=function(t){this.children.forEach((function(n){n instanceof Ie?t.push(n):n instanceof e&&n.addLeafColumns(t)}))},e.prototype.getChildren=function(){return this.children},e.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},e.prototype.getOriginalColumnGroup=function(){return this.originalColumnGroup},e.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];var n=this;if(this.isPadding())for(;n.getParent()&&n.isPadding();)n=n.getParent();n.originalColumnGroup.isExpandable()?this.children.forEach((function(r){switch(r.getColumnGroupShow()){case e.HEADER_GROUP_SHOW_OPEN:n.originalColumnGroup.isExpanded()&&t.displayedChildren.push(r);break;case e.HEADER_GROUP_SHOW_CLOSED:n.originalColumnGroup.isExpanded()||t.displayedChildren.push(r);break;default:t.displayedChildren.push(r)}})):this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_DISPLAYED_CHILDREN_CHANGED))},e.HEADER_GROUP_SHOW_OPEN="open",e.HEADER_GROUP_SHOW_CLOSED="closed",e.HEADER_GROUP_PADDING="padding",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",s([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(),ke=function(){function e(e,t,n,r){this.localEventService=new Oe,this.expandable=!1,this.colGroupDef=e,this.groupId=t,this.expanded=e&&!!e.openByDefault,this.padding=n,this.level=r}return e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.getLevel=function(){return this.level},e.prototype.isVisible=function(){return!!this.children&&this.children.some((function(e){return e.isVisible()}))},e.prototype.isPadding=function(){return this.padding},e.prototype.setExpanded=function(t){this.expanded=void 0!==t&&t,this.localEventService.dispatchEvent({type:e.EVENT_EXPANDED_CHANGED})},e.prototype.isExpandable=function(){return this.expandable},e.prototype.isExpanded=function(){return this.expanded},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getId=function(){return this.getGroupId()},e.prototype.setChildren=function(e){this.children=e},e.prototype.getChildren=function(){return this.children},e.prototype.getColGroupDef=function(){return this.colGroupDef},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.addLeafColumns=function(t){this.children&&this.children.forEach((function(n){n instanceof Ie?t.push(n):n instanceof e&&n.addLeafColumns(t)}))},e.prototype.getColumnGroupShow=function(){return this.padding?Ae.HEADER_GROUP_PADDING:this.colGroupDef.columnGroupShow},e.prototype.setupExpandable=function(){var e=this;this.setExpandable(),this.getLeafColumns().forEach((function(t){return t.addEventListener(Ie.EVENT_VISIBLE_CHANGED,e.onColumnVisibilityChanged.bind(e))}))},e.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,n=!1,r=!1,o=this.findChildren(),i=0,s=o.length;i<s;i++){var a=o[i];if(a.isVisible()){var l=a.getColumnGroupShow();l===Ae.HEADER_GROUP_SHOW_OPEN?(t=!0,r=!0):l===Ae.HEADER_GROUP_SHOW_CLOSED?(n=!0,r=!0):(t=!0,n=!0,l===Ae.HEADER_GROUP_PADDING&&(r=a.children.some((function(e){return void 0!==e.getColumnGroupShow()}))))}}var u=t&&n&&r;this.expandable!==u&&(this.expandable=u,this.localEventService.dispatchEvent({type:e.EVENT_EXPANDABLE_CHANGED}))}},e.prototype.findChildren=function(){var t=this.children,n=t[0];if(n&&(!n.isPadding||!n.isPadding()))return t;for(;1===t.length&&t[0]instanceof e;)t=t[0].children;return t},e.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_EXPANDABLE_CHANGED="expandableChanged",e}(),Pe={numericColumn:{headerClass:"ag-numeric-header",cellClass:"ag-numeric-cell"}},Ne=function(){function e(){}return e.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},e.prototype.createColumnTree=function(e,t,n){var r=new ge;if(n){var o=n.map((function(e){return e.getId()}));r.addExistingKeys(o)}var i=n?n.slice():null,s=this.recursivelyCreateColumns(e,0,t,i,r,null),a=this.findMaxDept(s,0);this.logger.log("Number of levels for grouped columns is "+a);var l=this.balanceColumnTree(s,0,a,r);return this.columnUtils.depthFirstOriginalTreeSearch(null,l,(function(e,t){e instanceof ke&&e.setupExpandable(),e.setOriginalParent(t)})),{columnTree:l,treeDept:a}},e.prototype.createForAutoGroups=function(e,t){var n=this,r=[];return e.forEach((function(e){var o=n.createAutoGroupTreeItem(t,e);r.push(o)})),r},e.prototype.createAutoGroupTreeItem=function(e,t){for(var n=t,r=this.findDepth(e)-1;r>=0;r--){var o=new ke(null,"FAKE_PATH_"+t.getId()+"}_"+r,!0,r);this.context.wireBean(o),o.setChildren([n]),n.setOriginalParent(o),n=o}return n},e.prototype.findDepth=function(e){for(var t=0,n=e;n&&n[0]&&n[0]instanceof ke;)t++,n=n[0].getChildren();return t},e.prototype.balanceColumnTree=function(e,t,n,r){for(var o=[],i=0;i<e.length;i++){var s=e[i];if(s instanceof ke){var a=s,l=this.balanceColumnTree(a.getChildren(),t+1,n,r);a.setChildren(l),o.push(a)}else{for(var u=void 0,c=void 0,p=n-1;p>=t;p--){var d=r.getUniqueKey(null,null),h=this.createMergedColGroupDef(null),f=new ke(h,d,!0,t);this.context.wireBean(f),c&&c.setChildren([f]),c=f,u||(u=c)}if(u){if(o.push(u),e.some((function(e){return e instanceof ke}))){c.setChildren([s]);continue}c.setChildren(e);break}o.push(s)}}return o},e.prototype.findMaxDept=function(e,t){for(var n=t,r=0;r<e.length;r++){var o=e[r];if(o instanceof ke){var i=this.findMaxDept(o.getChildren(),t+1);n<i&&(n=i)}}return n},e.prototype.recursivelyCreateColumns=function(e,t,n,r,o,i){var s=this,a=[];return e?(e.forEach((function(e){var l;l=s.isColumnGroup(e)?s.createColumnGroup(n,e,t,r,o,i):s.createColumn(n,e,r,o,i),a.push(l)})),a):a},e.prototype.createColumnGroup=function(e,t,n,r,o,i){var s=this.createMergedColGroupDef(t),a=o.getUniqueKey(s.groupId,null),l=new ke(s,a,!1,n);this.context.wireBean(l);var u=this.recursivelyCreateColumns(s.children,n+1,e,r,o,l);return l.setChildren(u),l},e.prototype.createMergedColGroupDef=function(e){var t={};return de.assign(t,this.gridOptionsWrapper.getDefaultColGroupDef()),de.assign(t,e),this.checkForDeprecatedItems(t),t},e.prototype.createColumn=function(e,t,n,r,o){var i=this.mergeColDefs(t);this.checkForDeprecatedItems(i);var s=this.findExistingColumn(t,n);if(s)s.setColDef(i,t);else{var a=r.getUniqueKey(i.colId,i.field);s=new Ie(i,t,a,e),this.context.wireBean(s)}return s},e.prototype.findExistingColumn=function(e,t){var n=de.find(t,(function(t){var n=t.getUserProvidedColDef();return!(!n||n!==e&&(null==n.colId||n.colId!==e.colId))}));return n&&de.removeFromArray(t,n),n},e.prototype.mergeColDefs=function(e){var t={};return de.assign(t,this.gridOptionsWrapper.getDefaultColDef()),e.type&&this.assignColumnTypes(e,t),de.assign(t,e),t},e.prototype.assignColumnTypes=function(e,t){var n;if(e.type instanceof Array)e.type.some((function(e){return"string"!=typeof e}))?console.warn("ag-grid: if colDef.type is supplied an array it should be of type 'string[]'"):n=e.type;else{if("string"!=typeof e.type)return void console.warn("ag-grid: colDef.type should be of type 'string' | 'string[]'");n=e.type.split(",")}var r=de.assign({},this.gridOptionsWrapper.getColumnTypes(),Pe);n.forEach((function(e){var n=r[e.trim()];n?de.assign(t,n):console.warn("ag-grid: colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes")}))},e.prototype.checkForDeprecatedItems=function(e){if(e){var t=e;void 0!==t.group&&console.warn("ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroup&&console.warn("ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroupShow&&console.warn("ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.suppressRowGroup&&console.warn("ag-grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==t.suppressAggregation&&console.warn("ag-grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(t.suppressRowGroup||t.suppressAggregation)&&console.warn("ag-grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),t.displayName&&(console.warn("ag-grid: Found displayName "+t.displayName+", please use headerName instead, displayName is deprecated."),t.headerName=t.displayName)}},e.prototype.isColumnGroup=function(e){return void 0!==e.children},a([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),a([be("columnUtils")],e.prototype,"columnUtils",void 0),a([be("context")],e.prototype,"context",void 0),a([l(0,Se("loggerFactory"))],e.prototype,"setBeans",null),a([we("columnFactory")],e)}(),xe=function(){function e(){}return e.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",e.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",e.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",e.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",e.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",e.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",e.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",e.EVENT_COLUMN_MOVED="columnMoved",e.EVENT_COLUMN_VISIBLE="columnVisible",e.EVENT_COLUMN_PINNED="columnPinned",e.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",e.EVENT_COLUMN_RESIZED="columnResized",e.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",e.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",e.EVENT_ROW_GROUP_OPENED="rowGroupOpened",e.EVENT_ROW_DATA_CHANGED="rowDataChanged",e.EVENT_ROW_DATA_UPDATED="rowDataUpdated",e.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",e.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",e.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",e.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",e.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",e.EVENT_MODEL_UPDATED="modelUpdated",e.EVENT_PASTE_START="pasteStart",e.EVENT_PASTE_END="pasteEnd",e.EVENT_CELL_CLICKED="cellClicked",e.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",e.EVENT_CELL_MOUSE_DOWN="cellMouseDown",e.EVENT_CELL_CONTEXT_MENU="cellContextMenu",e.EVENT_CELL_VALUE_CHANGED="cellValueChanged",e.EVENT_ROW_VALUE_CHANGED="rowValueChanged",e.EVENT_CELL_FOCUSED="cellFocused",e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_SELECTION_CHANGED="selectionChanged",e.EVENT_CELL_KEY_DOWN="cellKeyDown",e.EVENT_CELL_KEY_PRESS="cellKeyPress",e.EVENT_CELL_MOUSE_OVER="cellMouseOver",e.EVENT_CELL_MOUSE_OUT="cellMouseOut",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_MODIFIED="filterModified",e.EVENT_FILTER_OPENED="filterOpened",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",e.EVENT_ROW_CLICKED="rowClicked",e.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",e.EVENT_GRID_READY="gridReady",e.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",e.EVENT_VIEWPORT_CHANGED="viewportChanged",e.EVENT_FIRST_DATA_RENDERED="firstDataRendered",e.EVENT_DRAG_STARTED="dragStarted",e.EVENT_DRAG_STOPPED="dragStopped",e.EVENT_ROW_EDITING_STARTED="rowEditingStarted",e.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",e.EVENT_CELL_EDITING_STARTED="cellEditingStarted",e.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",e.EVENT_BODY_SCROLL="bodyScroll",e.EVENT_ANIMATION_QUEUE_EMPTY="animationQueueEmpty",e.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",e.EVENT_PAGINATION_CHANGED="paginationChanged",e.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",e.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",e.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",e.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",e.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",e.EVENT_FLASH_CELLS="flashCells",e.EVENT_ROW_DRAG_ENTER="rowDragEnter",e.EVENT_ROW_DRAG_MOVE="rowDragMove",e.EVENT_ROW_DRAG_LEAVE="rowDragLeave",e.EVENT_ROW_DRAG_END="rowDragEnd",e.EVENT_POPUP_TO_FRONT="popupToFront",e.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",e.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",e.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",e.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",e}(),Fe=function(){function e(){this.existingIds={}}return e.prototype.getInstanceIdForKey=function(e){var t,n=this.existingIds[e];return this.existingIds[e]=t="number"!=typeof n?0:n+1,t},e}(),Me=function(){function e(){this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.secondaryColumnsPresent=!1,this.gridHeaderRowCount=0,this.displayedLeftColumns=[],this.displayedRightColumns=[],this.displayedCenterColumns=[],this.allDisplayedColumns=[],this.allDisplayedVirtualColumns=[],this.allDisplayedCenterVirtualColumns=[],this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.autoGroupsNeedBuilding=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}return e.prototype.init=function(){var e=this.gridOptionsWrapper.isPivotMode();this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation(),this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.usingTreeData=this.gridOptionsWrapper.isTreeData()},e.prototype.setColumnDefs=function(e,t){void 0===t&&(t="api");var n=!!this.columnDefs;this.columnDefs=e,this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var r=this.primaryColumns,o=this.columnFactory.createColumnTree(e,!0,r);this.primaryColumnTree=o.columnTree,this.primaryHeaderRowCount=o.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.extractRowGroupColumns(t,r),this.extractPivotColumns(t,r),this.createValueColumns(t,r),this.ready=!0,this.updateGridColumns(),this.updateDisplayedColumns(t),this.checkDisplayedVirtualColumns(),this.gridOptionsWrapper.isDeltaColumnMode()&&n&&this.resetColumnState(!0,t),this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:t}),this.eventService.dispatchEvent({type:xe.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.isAutoRowHeightActive=function(){return this.autoRowHeightColumns&&this.autoRowHeightColumns.length>0},e.prototype.getAllAutoRowHeightCols=function(){return this.autoRowHeightColumns},e.prototype.setVirtualViewportLeftAndRight=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},e.prototype.getDisplayedColumnsStartingAt=function(e){for(var t=e,n=[];t&&de.exists(t);)n.push(t),t=this.getDisplayedColAfter(t);return n},e.prototype.checkDisplayedVirtualColumns=function(){if(de.exists(this.displayedCenterColumns)){var e=this.allDisplayedVirtualColumns.map((function(e){return e.getId()})).join("#");this.updateVirtualSets(),e!==this.allDisplayedVirtualColumns.map((function(e){return e.getId()})).join("#")&&this.eventService.dispatchEvent({type:xe.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},e.prototype.setVirtualViewportPosition=function(e,t){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setVirtualViewportLeftAndRight(),this.ready&&this.checkDisplayedVirtualColumns())},e.prototype.isPivotMode=function(){return this.pivotMode},e.prototype.isPivotSettingAllowed=function(e){return!e||!this.gridOptionsWrapper.isTreeData()||(console.warn("ag-Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},e.prototype.setPivotMode=function(e,t){void 0===t&&(t="api"),e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t),this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},e.prototype.getSecondaryPivotColumn=function(e,t){if(!this.secondaryColumnsPresent)return null;var n=this.getPrimaryColumn(t),r=null;return this.secondaryColumns&&this.secondaryColumns.forEach((function(t){var o=t.getColDef().pivotKeys,i=t.getColDef().pivotValueColumn;de.compareArrays(o,e)&&i===n&&(r=t)})),r},e.prototype.setBeans=function(e){this.logger=e.create("ColumnController")},e.prototype.setFirstRightAndLastLeftPinned=function(e){var t,n;this.gridOptionsWrapper.isEnableRtl()?(t=this.displayedLeftColumns?this.displayedLeftColumns[0]:null,n=this.displayedRightColumns?de.last(this.displayedRightColumns):null):(t=this.displayedLeftColumns?de.last(this.displayedLeftColumns):null,n=this.displayedRightColumns?this.displayedRightColumns[0]:null),this.gridColumns.forEach((function(r){r.setLastLeftPinned(r===t,e),r.setFirstRightPinned(r===n,e)}))},e.prototype.autoSizeColumns=function(e,t){var n=this;void 0===t&&(t="api");for(var r=[],o=-1;0!==o;)o=0,this.actionOnGridColumns(e,(function(e){if(r.indexOf(e)>=0)return!1;var i=n.autoWidthCalculator.getPreferredWidthForColumn(e);if(i>0){var s=n.normaliseColumnWidth(e,i);e.setActualWidth(s,t),r.push(e),o++}return!0}),t);r.length>0&&this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_RESIZED,columns:r,column:1===r.length?r[0]:null,finished:!0,api:this.gridApi,columnApi:this.columnApi,source:"autosizeColumns"})},e.prototype.autoSizeColumn=function(e,t){void 0===t&&(t="api"),e&&this.autoSizeColumns([e],t)},e.prototype.autoSizeAllColumns=function(e){void 0===e&&(e="api");var t=this.getAllDisplayedColumns();this.autoSizeColumns(t,e)},e.prototype.getColumnsFromTree=function(e){var t=[];return function e(n){for(var r=0;r<n.length;r++){var o=n[r];o instanceof Ie?t.push(o):o instanceof ke&&e(o.getChildren())}}(e),t},e.prototype.getAllDisplayedColumnGroups=function(){return this.displayedLeftColumnTree&&this.displayedRightColumnTree&&this.displayedCentreColumnTree?this.displayedLeftColumnTree.concat(this.displayedCentreColumnTree).concat(this.displayedRightColumnTree):null},e.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},e.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},e.prototype.getLeftDisplayedColumnGroups=function(){return this.displayedLeftColumnTree},e.prototype.getRightDisplayedColumnGroups=function(){return this.displayedRightColumnTree},e.prototype.getCenterDisplayedColumnGroups=function(){return this.displayedCentreColumnTree},e.prototype.getDisplayedColumnGroups=function(e){switch(e){case ie.PINNED_LEFT:return this.getLeftDisplayedColumnGroups();case ie.PINNED_RIGHT:return this.getRightDisplayedColumnGroups();default:return this.getCenterDisplayedColumnGroups()}},e.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},e.prototype.getAllDisplayedColumns=function(){return this.allDisplayedColumns},e.prototype.getAllDisplayedVirtualColumns=function(){return this.allDisplayedVirtualColumns},e.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedLeftColumns):this.displayedLeftColumns},e.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedRightColumns):this.displayedRightColumns},e.prototype.getDisplayedColumnsForRow=function(e,t,n,r){for(var o,i=[],s=null,a=function(a){var l,u=t[a],c=t.length-a,p=Math.min(u.getColSpan(e),c),d=[u];if(p>1){for(var h=p-1,f=1;f<=h;f++)d.push(t[a+f]);a+=h}n?(l=!1,d.forEach((function(e){n(e)&&(l=!0)}))):l=!0,l&&(0===i.length&&s&&r&&r(u)&&i.push(s),i.push(u)),s=u,o=a},l=0;l<t.length;l++)a(l),l=o;return i},e.prototype.getAllDisplayedCenterVirtualColumnsForRow=function(e){var t=this;if(!this.colSpanActive)return this.allDisplayedCenterVirtualColumns;var n=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedCenterColumns,n,(function(e){return e.getLeft()>t.viewportLeft}))},e.prototype.isColumnInViewport=function(e){var t=e.getLeft(),n=e.getLeft()+e.getActualWidth(),r=this.viewportLeft-200,o=this.viewportRight+200;return!(t<r&&n<r||t>o&&n>o)},e.prototype.getPinnedLeftContainerWidth=function(){return this.getWidthOfColsInList(this.displayedLeftColumns)},e.prototype.getPinnedRightContainerWidth=function(){return this.getWidthOfColsInList(this.displayedRightColumns)},e.prototype.updatePrimaryColumnList=function(e,t,n,r,o,i){var s=this;if(void 0===i&&(i="api"),e&&!de.missingOrEmpty(e)){var a=!1;e.forEach((function(e){var o=s.getPrimaryColumn(e);if(o){if(n){if(t.indexOf(o)>=0)return;t.push(o)}else{if(t.indexOf(o)<0)return;de.removeFromArray(t,o)}r(o),a=!0}})),a&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(i),this.eventService.dispatchEvent({type:o,columns:t,column:1===t.length?t[0]:null,api:this.gridApi,columnApi:this.columnApi,source:i}))}},e.prototype.setRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,xe.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),t)},e.prototype.setRowGroupActive=function(e,t,n){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,n),e||this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()||t.setVisible(!0,n))},e.prototype.addRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.addRowGroupColumns([e],t)},e.prototype.addRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),xe.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},e.prototype.removeRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),xe.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},e.prototype.removeRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.removeRowGroupColumns([e],t)},e.prototype.addPivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,(function(e){return e.setPivotActive(!0,t)}),xe.EVENT_COLUMN_PIVOT_CHANGED,t)},e.prototype.setPivotColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.pivotColumns,xe.EVENT_COLUMN_PIVOT_CHANGED,(function(e,n){n.setPivotActive(e,t)}),t)},e.prototype.addPivotColumn=function(e,t){void 0===t&&(t="api"),this.addPivotColumns([e],t)},e.prototype.removePivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,(function(e){return e.setPivotActive(!1,t)}),xe.EVENT_COLUMN_PIVOT_CHANGED,t)},e.prototype.removePivotColumn=function(e,t){void 0===t&&(t="api"),this.removePivotColumns([e],t)},e.prototype.setPrimaryColumnList=function(e,t,n,r,o){var i=this;t.length=0,de.exists(e)&&e.forEach((function(e){var n=i.getPrimaryColumn(e);n&&t.push(n)})),this.primaryColumns.forEach((function(e){var n=t.indexOf(e)>=0;r(n,e)})),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(o),this.eventService.dispatchEvent({type:n,columns:t,column:1===t.length?t[0]:null,api:this.gridApi,columnApi:this.columnApi,source:o})},e.prototype.setValueColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.valueColumns,xe.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),t)},e.prototype.setValueActive=function(e,t,n){if(e!==t.isValueActive()&&(t.setValueActive(e,n),e&&!t.getAggFunc())){var r=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(r)}},e.prototype.addValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),xe.EVENT_COLUMN_VALUE_CHANGED,t)},e.prototype.addValueColumn=function(e,t){void 0===t&&(t="api"),e&&this.addValueColumns([e],t)},e.prototype.removeValueColumn=function(e,t){void 0===t&&(t="api"),this.removeValueColumns([e],t)},e.prototype.removeValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),xe.EVENT_COLUMN_VALUE_CHANGED,t)},e.prototype.normaliseColumnWidth=function(e,t){return t<e.getMinWidth()&&(t=e.getMinWidth()),e.isGreaterThanMax(t)&&(t=e.getMaxWidth()),t},e.prototype.getPrimaryOrGridColumn=function(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)},e.prototype.setColumnWidth=function(e,t,n,r,o){void 0===o&&(o="api");var i=this.getPrimaryOrGridColumn(e);if(i){var s=[];if(s.push({width:t,ratios:[1],columns:[i]}),"shift"===this.gridOptionsWrapper.getColResizeDefault()&&(n=!n),n){var a=this.getDisplayedColAfter(i);if(!a)return;var l=i.getActualWidth()-t,u=a.getActualWidth()+l;s.push({width:u,ratios:[1],columns:[a]})}this.resizeColumnSets(s,r,o)}},e.prototype.checkMinAndMaxWidthsForSet=function(e){var t=e.width,n=0,r=0,o=!0;return e.columns.forEach((function(e){n+=e.getMinWidth(),e.getMaxWidth()>0?r+=e.getMaxWidth():o=!1})),t>=n&&(!o||t<=r)},e.prototype.resizeColumnSets=function(e,t,n){if(de.every(e,this.checkMinAndMaxWidthsForSet.bind(this))){var r=[],o=[];e.forEach((function(e){var t=e.width,i=e.columns,s=e.ratios,a={},l={};i.forEach((function(e){return o.push(e)}));for(var u=!0,c=0,p=function(){if(++c>1e3)return console.error("ag-Grid: infinite loop in resizeColumnSets"),"break";u=!1;var e=[],n=0,r=t;i.forEach((function(t,o){l[t.getId()]?r-=a[t.getId()]:(e.push(t),n+=s[o])}));var o=1/n;e.forEach((function(n,i){var c;i===e.length-1?c=r:(c=Math.round(s[i]*t*o),r-=c),c<n.getMinWidth()?(c=n.getMinWidth(),l[n.getId()]=!0,u=!0):n.getMaxWidth()>0&&c>n.getMaxWidth()&&(c=n.getMaxWidth(),l[n.getId()]=!0,u=!0),a[n.getId()]=c}))};u&&"break"!==p(););i.forEach((function(e){var t=a[e.getId()];e.getActualWidth()!==t&&(e.setActualWidth(t,n),r.push(e))}))}));var i=r.length>0;i&&(this.setLeftValues(n),this.updateBodyWidths(),this.checkDisplayedVirtualColumns()),(i||t)&&this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_RESIZED,columns:o,column:1===o.length?o[0]:null,finished:t,api:this.gridApi,columnApi:this.columnApi,source:n})}else if(t){var s=e&&e.length>0?e[0].columns:null;this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_RESIZED,columns:s,column:s&&1===s.length?s[0]:null,finished:t,api:this.gridApi,columnApi:this.columnApi,source:n})}},e.prototype.setColumnAggFunc=function(e,t,n){void 0===n&&(n="api"),e&&(e.setAggFunc(t),this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_VALUE_CHANGED,columns:[e],column:e,api:this.gridApi,columnApi:this.columnApi,source:n}))},e.prototype.moveRowGroupColumn=function(e,t,n){void 0===n&&(n="api");var r=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,r),this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:n})},e.prototype.moveColumns=function(e,t,n){if(void 0===n&&(n="api"),this.columnAnimationService.start(),t>this.gridColumns.length-e.length)return console.warn("ag-Grid: tried to insert columns in invalid location, toIndex = "+t),void console.warn("ag-Grid: remember that you should not count the moving columns when calculating the new index");var r=this.getGridColumns(e);!this.doesMovePassRules(r,t)||(de.moveInArray(this.gridColumns,r,t),this.updateDisplayedColumns(n),this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_MOVED,columns:r,column:1===r.length?r[0]:null,toIndex:t,api:this.gridApi,columnApi:this.columnApi,source:n}),this.columnAnimationService.finish())},e.prototype.doesMovePassRules=function(e,t){var n=this.gridColumns.slice();return de.moveInArray(n,e,t),!!this.doesMovePassMarryChildren(n)&&!!this.doesMovePassLockedPositions(n)},e.prototype.doesMovePassLockedPositions=function(e){var t=!1,n=!0;return e.forEach((function(e){e.getColDef().lockPosition?t&&(n=!1):t=!0})),n},e.prototype.doesMovePassMarryChildren=function(e){var t=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(n){if(n instanceof ke){var r=n;if(r.getColGroupDef()&&r.getColGroupDef().marryChildren){var o=[];r.getLeafColumns().forEach((function(t){var n=e.indexOf(t);o.push(n)})),Math.max.apply(Math,o)-Math.min.apply(Math,o)>r.getLeafColumns().length-1&&(t=!1)}}})),t},e.prototype.moveColumn=function(e,t,n){void 0===n&&(n="api"),this.moveColumns([e],t,n)},e.prototype.moveColumnByIndex=function(e,t,n){void 0===n&&(n="api"),this.moveColumn(this.gridColumns[e],t,n)},e.prototype.getBodyContainerWidth=function(){return this.bodyWidth},e.prototype.getContainerWidth=function(e){switch(e){case ie.PINNED_LEFT:return this.leftWidth;case ie.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},e.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedCenterColumns),t=this.getWidthOfColsInList(this.displayedLeftColumns),n=this.getWidthOfColsInList(this.displayedRightColumns);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventService.dispatchEvent({type:xe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},e.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},e.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},e.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},e.prototype.getDisplayedCenterColumns=function(){return this.displayedCenterColumns},e.prototype.getDisplayedLeftColumns=function(){return this.displayedLeftColumns},e.prototype.getDisplayedRightColumns=function(){return this.displayedRightColumns},e.prototype.getDisplayedColumns=function(e){switch(e){case ie.PINNED_LEFT:return this.getDisplayedLeftColumns();case ie.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},e.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},e.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},e.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},e.prototype.getAllGridColumns=function(){return this.gridColumns},e.prototype.isEmpty=function(){return de.missingOrEmpty(this.gridColumns)},e.prototype.isRowGroupEmpty=function(){return de.missingOrEmpty(this.rowGroupColumns)},e.prototype.setColumnVisible=function(e,t,n){void 0===n&&(n="api"),this.setColumnsVisible([e],t,n)},e.prototype.setColumnsVisible=function(e,t,n){var r=this;void 0===n&&(n="api"),this.columnAnimationService.start(),this.actionOnGridColumns(e,(function(e){return e.isVisible()!==t&&(e.setVisible(t,n),!0)}),n,(function(){return{type:xe.EVENT_COLUMN_VISIBLE,visible:t,column:null,columns:null,api:r.gridApi,columnApi:r.columnApi,source:n}})),this.columnAnimationService.finish()},e.prototype.setColumnPinned=function(e,t,n){void 0===n&&(n="api"),e&&this.setColumnsPinned([e],t,n)},e.prototype.setColumnsPinned=function(e,t,n){var r,o=this;void 0===n&&(n="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),r=!0===t||t===ie.PINNED_LEFT?ie.PINNED_LEFT:t===ie.PINNED_RIGHT?ie.PINNED_RIGHT:null,this.actionOnGridColumns(e,(function(e){return e.getPinned()!==r&&(e.setPinned(r),!0)}),n,(function(){return{type:xe.EVENT_COLUMN_PINNED,pinned:r,column:null,columns:null,api:o.gridApi,columnApi:o.columnApi,source:n}})),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},e.prototype.actionOnGridColumns=function(e,t,n,r){var o=this;if(!de.missingOrEmpty(e)){var i=[];if(e.forEach((function(e){var n=o.getGridColumn(e);n&&!1!==t(n)&&i.push(n)})),0!==i.length&&(this.updateDisplayedColumns(n),de.exists(r)&&r)){var s=r();s.columns=i,s.column=1===i.length?i[0]:null,this.eventService.dispatchEvent(s)}}},e.prototype.getDisplayedColBefore=function(e){var t=this.getAllDisplayedColumns(),n=t.indexOf(e);return n>0?t[n-1]:null},e.prototype.getDisplayedColAfter=function(e){var t=this.getAllDisplayedColumns(),n=t.indexOf(e);return n<t.length-1?t[n+1]:null},e.prototype.getDisplayedGroupAfter=function(e){for(var t=e.getDisplayedLeafColumns()[0],n=e.getOriginalColumnGroup().getLevel();;){if(!(t=this.getDisplayedColAfter(t)))return null;for(var r=t.getParent();r.getOriginalColumnGroup().getLevel()!==n;)r=r.getParent();if(r!==e)return r}},e.prototype.isPinningLeft=function(){return this.displayedLeftColumns.length>0},e.prototype.isPinningRight=function(){return this.displayedRightColumns.length>0},e.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e=this.primaryColumns?this.primaryColumns.slice(0):[];return this.groupAutoColumns&&de.exists(this.groupAutoColumns)&&this.groupAutoColumns.forEach((function(t){return e.push(t)})),this.secondaryColumnsPresent&&this.secondaryColumns&&this.secondaryColumns.forEach((function(t){return e.push(t)})),e},e.prototype.createStateItemFromColumn=function(e){var t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,n=e.isPivotActive()?this.pivotColumns.indexOf(e):null,r=e.isValueActive()?e.getAggFunc():null;return{colId:e.getColId(),hide:!e.isVisible(),aggFunc:r,width:e.getActualWidth(),pivotIndex:n,pinned:e.getPinned(),rowGroupIndex:t}},e.prototype.getColumnState=function(){if(de.missing(this.primaryColumns))return[];var e=this.primaryColumns.map(this.createStateItemFromColumn.bind(this)),t=(this.groupAutoColumns?this.groupAutoColumns.map(this.createStateItemFromColumn.bind(this)):[]).concat(e);return this.pivotMode||this.orderColumnStateList(t),t},e.prototype.orderColumnStateList=function(e){var t=this.gridColumns.map((function(e){return e.getColId()}));e.sort((function(e,n){return t.indexOf(e.colId)-t.indexOf(n.colId)}))},e.prototype.resetColumnState=function(e,t){void 0===e&&(e=!1),void 0===t&&(t="api");var n=this.getColumnsFromTree(this.primaryColumnTree),r=[],o=1e3,i=1e3;n&&n.forEach((function(e){var t=e.getColDef().rowGroupIndex,n=e.getColDef().rowGroup,s=e.getColDef().pivotIndex,a=e.getColDef().pivot,l={colId:e.getColId(),aggFunc:e.getColDef().aggFunc,hide:e.getColDef().hide,pinned:e.getColDef().pinned,rowGroupIndex:t,pivotIndex:e.getColDef().pivotIndex,width:e.getColDef().width};de.missing(t)&&n&&(l.rowGroupIndex=o++),de.missing(s)&&a&&(l.pivotIndex=i++),r.push(l)})),this.setColumnState(r,e,t)},e.prototype.setColumnState=function(e,t,n){var r=this;if(void 0===t&&(t=!1),void 0===n&&(n="api"),de.missingOrEmpty(this.primaryColumns))return!1;var o=this.getColumnState();this.autoGroupsNeedBuilding=!0;var i=this.primaryColumns.slice();this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[];var s=!0,a={},l={},u=[];if(e&&e.forEach((function(e){if(de.exists(r.getAutoColumn(e.colId)))u.push(e);else{var t=r.getPrimaryColumn(e.colId);t?(r.syncColumnWithStateItem(t,e,a,l,n),de.removeFromArray(i,t)):(console.warn("ag-grid: column "+e.colId+" not found"),s=!1)}})),i.forEach(this.syncColumnWithNoState.bind(this)),this.rowGroupColumns.sort(this.sortColumnListUsingIndexes.bind(this,a)),this.pivotColumns.sort(this.sortColumnListUsingIndexes.bind(this,l)),this.updateGridColumns(),u.forEach((function(e){var t=r.getAutoColumn(e.colId);r.syncColumnWithStateItem(t,e,a,l,n)})),e){var c=e.map((function(e){return e.colId}));this.gridColumns.sort((function(e,t){return c.indexOf(e.getId())-c.indexOf(t.getId())}))}return this.putFixedColumnsFirst(),this.updateDisplayedColumns(n),t||this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:n}),this.raiseColumnEvents(o,n),s},e.prototype.raiseColumnEvents=function(e,t){var n=this;if(!this.gridOptionsWrapper.isSuppressSetColumnStateEvents()){var r=this.getColumnState(),o=function(o,i,s){de.compareArrays(e.map(i).sort(),r.map(i).sort())||n.eventService.dispatchEvent({type:o,columns:s,column:1===s.length?s[0]:null,api:n.gridApi,columnApi:n.columnApi,source:t})},i=function(t){var r=[],o={};return e.forEach((function(e){o[e.colId]=e})),n.gridColumns.forEach((function(e){var n=o[e.getColId()];n&&!t(n,e)||r.push(e)})),r};o(xe.EVENT_COLUMN_VALUE_CHANGED,(function(e){return e.colId+"-"+e.aggFunc}),this.valueColumns),o(xe.EVENT_COLUMN_PIVOT_CHANGED,(function(e){return e.colId+"-"+e.pivotIndex}),this.pivotColumns),o(xe.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(e){return e.colId+"-"+e.rowGroupIndex}),this.rowGroupColumns),this.raiseColumnPinnedEvent(i((function(e,t){return e.pinned!==t.getPinned()})),t);var s=i((function(e,t){return e.hide===t.isVisible()}));this.raiseColumnVisibleEvent(s,t),this.raiseColumnResizeEvent(i((function(e,t){return e.width!==t.getActualWidth()})),t),this.raiseColumnMovedEvent(e,t)}},e.prototype.raiseColumnPinnedEvent=function(e,t){e.length>0&&this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_PINNED,pinned:null,columns:e,column:null,api:this.gridApi,columnApi:this.columnApi,source:t})},e.prototype.raiseColumnVisibleEvent=function(e,t){e.length>0&&this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_VISIBLE,visible:void 0,columns:e,column:null,api:this.gridApi,columnApi:this.columnApi,source:t})},e.prototype.raiseColumnResizeEvent=function(e,t){e.length>0&&this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_RESIZED,columns:e,column:null,finished:!0,api:this.gridApi,columnApi:this.columnApi,source:t})},e.prototype.raiseColumnMovedEvent=function(e,t){for(var n=[],r=this.getColumnState(),o=function(t){var o=e[t],s=r[t];if(!o||s.hide)return"continue";if(o.colId!==s.colId){var a=de.find(i.allDisplayedColumns,(function(e){return e.getColId()===s.colId}));n.push(a)}},i=this,s=0;s<r.length;s++)o(s);n.length>0&&this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_MOVED,columns:n,column:null,toIndex:void 0,api:this.gridApi,columnApi:this.columnApi,source:t})},e.prototype.sortColumnListUsingIndexes=function(e,t,n){return e[t.getId()]-e[n.getId()]},e.prototype.syncColumnWithNoState=function(e,t){e.setVisible(!1,t),e.setAggFunc(null),e.setPinned(null),e.setRowGroupActive(!1,t),e.setPivotActive(!1,t),e.setValueActive(!1,t)},e.prototype.syncColumnWithStateItem=function(e,t,n,r,o){if(e){e.setVisible(!t.hide,o),e.setPinned(t.pinned);var i=this.gridOptionsWrapper.getMinColWidth();t.width&&i&&t.width>=i&&e.setActualWidth(t.width,o),"string"==typeof t.aggFunc?(e.setAggFunc(t.aggFunc),e.setValueActive(!0,o),this.valueColumns.push(e)):(de.exists(t.aggFunc)&&console.warn("ag-Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it isintended for the column state to be stored and retrieved as simple JSON."),e.setAggFunc(null),e.setValueActive(!1,o)),"number"==typeof t.rowGroupIndex?(this.rowGroupColumns.push(e),e.setRowGroupActive(!0,o),n[e.getId()]=t.rowGroupIndex):e.setRowGroupActive(!1,o),"number"==typeof t.pivotIndex?(this.pivotColumns.push(e),e.setPivotActive(!0,o),r[e.getId()]=t.pivotIndex):e.setPivotActive(!1,o)}},e.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},e.prototype.getColumns=function(e,t){var n=[];return e&&e.forEach((function(e){var r=t(e);r&&n.push(r)})),n},e.prototype.getColumnWithValidation=function(e){if(null==e)return null;var t=this.getGridColumn(e);return t||console.warn("ag-Grid: could not find column "+e),t},e.prototype.getPrimaryColumn=function(e){return this.getColumn(e,this.primaryColumns)},e.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns)},e.prototype.getColumn=function(e,t){if(!e)return null;for(var n=0;n<t.length;n++)if(this.columnsMatch(t[n],e))return t[n];return this.getAutoColumn(e)},e.prototype.getAutoColumn=function(e){var t=this;return this.groupAutoColumns&&de.exists(this.groupAutoColumns)&&!de.missing(this.groupAutoColumns)?de.find(this.groupAutoColumns,(function(n){return t.columnsMatch(n,e)})):null},e.prototype.columnsMatch=function(e,t){var n=e===t,r=e.getColDef()===t,o=e.getColId()==t;return n||r||o},e.prototype.getDisplayNameForColumn=function(e,t,n){if(void 0===n&&(n=!1),!e)return null;var r=this.getHeaderName(e.getColDef(),e,null,null,t);return n?this.wrapHeaderNameWithAggFunc(e,r):r},e.prototype.getDisplayNameForOriginalColumnGroup=function(e,t,n){var r=t?t.getColGroupDef():null;return r?this.getHeaderName(r,null,e,t,n):null},e.prototype.getDisplayNameForColumnGroup=function(e,t){return this.getDisplayNameForOriginalColumnGroup(e,e.getOriginalColumnGroup(),t)},e.prototype.getHeaderName=function(e,t,n,r,o){var i=e.headerValueGetter;if(i){var s={colDef:e,column:t,columnGroup:n,originalColumnGroup:r,location:o,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof i?i(s):"string"==typeof i?this.expressionService.evaluate(i,s):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?de.camelCaseToHumanText(e.field):""},e.prototype.wrapHeaderNameWithAggFunc=function(e,t){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return t;var n,r=e.getColDef().pivotValueColumn,o=null;if(de.exists(r))o=r?r.getAggFunc():null,n=!0;else{var i=e.isValueActive(),s=this.pivotMode||!this.isRowGroupEmpty();i&&s?(o=e.getAggFunc(),n=!0):n=!1}if(n){var a="string"==typeof o?o:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(a,a)+"("+t+")"}return t},e.prototype.getColumnGroup=function(e,t){if(!e)return null;if(e instanceof Ae)return e;var n=this.getAllDisplayedColumnGroups(),r="number"==typeof t,o=null;return this.columnUtils.depthFirstAllColumnTreeSearch(n,(function(n){if(n instanceof Ae){var i=n;(r?e===i.getGroupId()&&t===i.getInstanceId():e===i.getGroupId())&&(o=i)}})),o},e.prototype.isReady=function(){return this.ready},e.prototype.createValueColumns=function(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,(function(t,n){return t.setValueActive(n,e)}),(function(){return null}),(function(e){return!!e.aggFunc})),this.valueColumns.forEach((function(e){e.getAggFunc()||e.setAggFunc(e.getColDef().aggFunc)}))},e.prototype.extractRowGroupColumns=function(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,(function(t,n){return t.setRowGroupActive(n,e)}),(function(e){return e.rowGroupIndex}),(function(e){return e.rowGroup}))},e.prototype.extractColumns=function(e,t,n,r,o){var i=this;t||(t=[]);var s=t.filter((function(e){return i.primaryColumns.indexOf(e)<0})),a=t.filter((function(e){return i.primaryColumns.indexOf(e)>=0})),l=this.primaryColumns.filter((function(t){return!e||e.indexOf(t)<0}));s.forEach((function(e){return n(e,!1)}));var u=[];return l.forEach((function(e){"number"==typeof r(e.getColDef())&&u.push(e)})),u.sort((function(e,t){var n=r(e.getColDef()),o=r(t.getColDef());return n===o?0:n<o?-1:1})),l.forEach((function(e){if(o(e.getColDef())){if(u.indexOf(e)>=0)return;u.push(e)}})),u.forEach((function(e){return n(e,!0)})),a.concat(u)},e.prototype.extractPivotColumns=function(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,(function(t,n){return t.setPivotActive(n,e)}),(function(e){return e.pivotIndex}),(function(e){return e.pivot}))},e.prototype.resetColumnGroupState=function(e){void 0===e&&(e="api");var t=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,(function(e){if(e instanceof ke){var n={groupId:e.getGroupId(),open:e.getColGroupDef().openByDefault};t.push(n)}})),this.setColumnGroupState(t,e)},e.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(t){if(t instanceof ke){var n=t;e.push({groupId:n.getGroupId(),open:n.isExpanded()})}})),e},e.prototype.setColumnGroupState=function(e,t){var n=this;void 0===t&&(t="api"),this.columnAnimationService.start();var r=[];e.forEach((function(e){var t=e.open,o=n.getOriginalColumnGroup(e.groupId);o&&o.isExpanded()!==t&&(n.logger.log("columnGroupOpened("+o.getGroupId()+","+t+")"),o.setExpanded(t),r.push(o))})),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),r.forEach((function(e){n.eventService.dispatchEvent({type:xe.EVENT_COLUMN_GROUP_OPENED,columnGroup:e,api:n.gridApi,columnApi:n.columnApi})})),this.columnAnimationService.finish()},e.prototype.setColumnGroupOpened=function(e,t,n){var r;void 0===n&&(n="api"),r=e instanceof ke?e.getId():e,this.setColumnGroupState([{groupId:r,open:t}],n)},e.prototype.getOriginalColumnGroup=function(e){if(e instanceof ke)return e;"string"!=typeof e&&console.error("ag-Grid: group key must be a string");var t=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(n){if(n instanceof ke){var r=n;r.getId()===e&&(t=r)}})),t},e.prototype.calculateColumnsForDisplay=function(){var e=this;return this.gridColumns.filter(this.pivotMode&&!this.secondaryColumnsPresent?function(t){var n=e.groupAutoColumns&&de.includes(e.groupAutoColumns,t),r=e.valueColumns&&de.includes(e.valueColumns,t);return n||r}:function(t){return e.groupAutoColumns&&de.includes(e.groupAutoColumns,t)||t.isVisible()})},e.prototype.checkColSpanActiveInCols=function(e){var t=!1;return e.forEach((function(e){de.exists(e.getColDef().colSpan)&&(t=!0)})),t},e.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[];var t=function(t){var n=t.getColDef();n&&de.exists(n.showRowGroup)&&e.groupDisplayColumns.push(t)};this.gridColumns.forEach(t),this.groupAutoColumns&&this.groupAutoColumns.forEach(t)},e.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},e.prototype.updateDisplayedColumns=function(e){var t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},e.prototype.isSecondaryColumnsPresent=function(){return this.secondaryColumnsPresent},e.prototype.setSecondaryColumns=function(e,t){void 0===t&&(t="api");var n=e&&e.length>0;if(n||this.secondaryColumnsPresent){if(n){this.processSecondaryColumnDefinitions(e);var r=this.columnFactory.createColumnTree(e,!1);this.secondaryBalancedTree=r.columnTree,this.secondaryHeaderRowCount=r.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsPresent=!0}else this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsPresent=!1;this.updateGridColumns(),this.updateDisplayedColumns(t)}},e.prototype.processSecondaryColumnDefinitions=function(e){var t=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),n=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();(t||n)&&e&&function e(r){r.forEach((function(r){if(de.exists(r.children)){var o=r;n&&n(o),e(o.children)}else t&&t(r)}))}(e)},e.prototype.updateGridColumns=function(){this.gridColsArePrimary&&(this.lastPrimaryOrder=this.gridColumns),this.secondaryColumns&&this.secondaryBalancedTree?(this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1):(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLikeLastPrimary()),this.addAutoGroupToGridColumns(),this.autoRowHeightColumns=this.gridColumns.filter((function(e){return e.getColDef().autoHeight})),this.putFixedColumnsFirst(),this.setupQuickFilterColumns(),this.clearDisplayedColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.eventService.dispatchEvent({type:xe.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.orderGridColsLikeLastPrimary=function(){var e=this;if(!de.missing(this.lastPrimaryOrder)){var t=!0;if(this.gridColumns.forEach((function(n){e.lastPrimaryOrder.indexOf(n)>=0&&(t=!1)})),!t){var n=this.lastPrimaryOrder.filter((function(t){return e.gridColumns.indexOf(t)>=0})),r=this.gridColumns.filter((function(e){return n.indexOf(e)<0})),o=n.slice();r.forEach((function(e){var t=e.getOriginalParent();if(t){for(var n=[];!n.length&&t;)t.getLeafColumns().forEach((function(e){var t=o.indexOf(e)>=0,r=n.indexOf(e)<0;t&&r&&n.push(e)})),t=t.getOriginalParent();if(n.length){var r=n.map((function(e){return o.indexOf(e)})),i=Math.max.apply(Math,r);de.insertIntoArray(o,e,i+1)}else o.push(e)}else o.push(e)})),this.gridColumns=o}}},e.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},e.prototype.setupQuickFilterColumns=function(){this.columnsForQuickFilter=this.groupAutoColumns?this.primaryColumns.concat(this.groupAutoColumns):this.primaryColumns},e.prototype.putFixedColumnsFirst=function(){var e=this.gridColumns.filter((function(e){return e.getColDef().lockPosition})),t=this.gridColumns.filter((function(e){return!e.getColDef().lockPosition}));this.gridColumns=e.concat(t)},e.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!de.missing(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=e.concat(this.gridBalancedTree)}},e.prototype.clearDisplayedColumns=function(){this.displayedLeftColumnTree=[],this.displayedRightColumnTree=[],this.displayedCentreColumnTree=[],this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={},this.displayedLeftColumns=[],this.displayedRightColumns=[],this.displayedCenterColumns=[],this.allDisplayedColumns=[],this.allDisplayedVirtualColumns=[]},e.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.updateDisplayedColumnsFromTrees(e),this.updateVirtualSets(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:xe.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.updateDisplayedColumnsFromTrees=function(e){this.addToDisplayedColumns(this.displayedLeftColumnTree,this.displayedLeftColumns),this.addToDisplayedColumns(this.displayedCentreColumnTree,this.displayedCenterColumns),this.addToDisplayedColumns(this.displayedRightColumnTree,this.displayedRightColumns),this.setupAllDisplayedColumns(),this.setLeftValues(e)},e.prototype.setupAllDisplayedColumns=function(){this.allDisplayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedRightColumns.concat(this.displayedCenterColumns).concat(this.displayedLeftColumns):this.displayedLeftColumns.concat(this.displayedCenterColumns).concat(this.displayedRightColumns)},e.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},e.prototype.setLeftValuesOfColumns=function(e){var t=this,n=this.primaryColumns.slice(0),r=this.gridOptionsWrapper.isEnableRtl();[this.displayedLeftColumns,this.displayedRightColumns,this.displayedCenterColumns].forEach((function(o){if(r){var i=t.getWidthOfColsInList(o);o.forEach((function(t){i-=t.getActualWidth(),t.setLeft(i,e)}))}else{var s=0;o.forEach((function(t){t.setLeft(s,e),s+=t.getActualWidth()}))}de.removeAllFromArray(n,o)})),n.forEach((function(t){t.setLeft(null,e)}))},e.prototype.setLeftValuesOfGroups=function(){[this.displayedLeftColumnTree,this.displayedRightColumnTree,this.displayedCentreColumnTree].forEach((function(e){e.forEach((function(e){e instanceof Ae&&e.checkLeft()}))}))},e.prototype.addToDisplayedColumns=function(e,t){t.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,(function(e){e instanceof Ie&&t.push(e)}))},e.prototype.updateDisplayedCenterVirtualColumns=function(){this.allDisplayedCenterVirtualColumns=this.suppressColumnVirtualisation?this.displayedCenterColumns:this.filterOutColumnsWithinViewport(),this.allDisplayedVirtualColumns=this.allDisplayedCenterVirtualColumns.concat(this.displayedLeftColumns).concat(this.displayedRightColumns);var e={};return this.allDisplayedVirtualColumns.forEach((function(t){e[t.getId()]=!0})),e},e.prototype.getVirtualHeaderGroupRow=function(e,t){var n;switch(e){case ie.PINNED_LEFT:n=this.displayedLeftHeaderRows[t];break;case ie.PINNED_RIGHT:n=this.displayedRightHeaderRows[t];break;default:n=this.displayedCentreHeaderRows[t]}return de.missing(n)&&(n=[]),n},e.prototype.updateDisplayedVirtualGroups=function(e){function t(n,r,o){for(var i=!1,s=0;s<n.length;s++){var a=n[s];(a instanceof Ie?!0===e[a.getId()]:t(a.getDisplayedChildren(),r,o+1))&&(i=!0,r[o]||(r[o]=[]),r[o].push(a))}return i}this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={},t(this.displayedLeftColumnTree,this.displayedLeftHeaderRows,0),t(this.displayedRightColumnTree,this.displayedRightHeaderRows,0),t(this.displayedCentreColumnTree,this.displayedCentreHeaderRows,0)},e.prototype.updateVirtualSets=function(){var e=this.updateDisplayedCenterVirtualColumns();this.updateDisplayedVirtualGroups(e)},e.prototype.filterOutColumnsWithinViewport=function(){return this.displayedCenterColumns.filter(this.isColumnInViewport.bind(this))},e.prototype.sizeColumnsToFit=function(e,t){var n=this;void 0===t&&(t="api");var r=this.getAllDisplayedColumns();if(!(e<=0||0===r.length)){var o=[],i=[];r.forEach((function(e){!0===e.getColDef().suppressSizeToFit?i.push(e):o.push(e)}));for(var s=o.slice(0),a=!1;!a;){a=!0;var l=e-this.getWidthOfColsInList(i);if(l<=0)o.forEach((function(e){e.setMinimum(t)}));else for(var u=l/this.getWidthOfColsInList(o),c=l,p=o.length-1;p>=0;p--){var d=o[p],h=Math.round(d.getActualWidth()*u);h<d.getMinWidth()?(d.setMinimum(t),f(d),a=!1):d.isGreaterThanMax(h)?(d.setActualWidth(d.getMaxWidth(),t),f(d),a=!1):d.setActualWidth(0===p?c:h,t),c-=h}}this.setLeftValues(t),this.updateBodyWidths(),s.forEach((function(e){n.eventService.dispatchEvent({type:xe.EVENT_COLUMN_RESIZED,column:e,columns:[e],finished:!0,api:n.gridApi,columnApi:n.columnApi,source:"sizeColumnsToFit"})}))}function f(e){de.removeFromArray(o,e),i.push(e)}},e.prototype.buildDisplayedTrees=function(e){var t=[],n=[],r=[];e.forEach((function(e){switch(e.getPinned()){case"left":t.push(e);break;case"right":n.push(e);break;default:r.push(e)}}));var o=new Fe;this.displayedLeftColumnTree=this.displayedGroupCreator.createDisplayedGroups(t,this.gridBalancedTree,o,ie.PINNED_LEFT,this.displayedLeftColumnTree),this.displayedRightColumnTree=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,o,ie.PINNED_RIGHT,this.displayedRightColumnTree),this.displayedCentreColumnTree=this.displayedGroupCreator.createDisplayedGroups(r,this.gridBalancedTree,o,null,this.displayedCentreColumnTree)},e.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedColumnGroups();this.columnUtils.depthFirstAllColumnTreeSearch(e,(function(e){e instanceof Ae&&e.calculateDisplayedColumns()}))},e.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},e.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var e=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),t=this.gridOptionsWrapper.isGroupSuppressAutoColumn()&&!this.pivotMode,n=this.gridOptionsWrapper.isGroupSuppressRow();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||t||e||n)this.groupAutoColumns=null;else{var r=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);!this.autoColsEqual(r,this.groupAutoColumns)&&(this.groupAutoColumns=r)}}},e.prototype.autoColsEqual=function(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=t[n];if(e[n].getColId()!==r.getColId())return!1}return!0},e.prototype.getWidthOfColsInList=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].getActualWidth();return t},e.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},u([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),u([be("expressionService")],e.prototype,"expressionService",void 0),u([be("columnFactory")],e.prototype,"columnFactory",void 0),u([be("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),u([be("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),u([be("eventService")],e.prototype,"eventService",void 0),u([be("columnUtils")],e.prototype,"columnUtils",void 0),u([be("context")],e.prototype,"context",void 0),u([be("columnAnimationService")],e.prototype,"columnAnimationService",void 0),u([be("autoGroupColService")],e.prototype,"autoGroupColService",void 0),u([Ee("aggFuncService")],e.prototype,"aggFuncService",void 0),u([Ee("valueCache")],e.prototype,"valueCache",void 0),u([be("columnApi")],e.prototype,"columnApi",void 0),u([be("gridApi")],e.prototype,"gridApi",void 0),u([me],e.prototype,"init",null),u([c(0,Se("loggerFactory"))],e.prototype,"setBeans",null),u([we("columnController")],e)}(),Le=function(){function e(){}return e.prototype.calculateColInitialWidth=function(e){return e.width?e.width<this.gridOptionsWrapper.getMinColWidth()?this.gridOptionsWrapper.getMinColWidth():e.width:this.gridOptionsWrapper.getColWidth()},e.prototype.getOriginalPathForColumn=function(e,t){var n=[],r=!1;return function t(o,i){for(var s=0;s<o.length;s++){if(r)return;var a=o[s];a instanceof ke?(t(a.getChildren(),i+1),n[i]=a):a===e&&(r=!0)}}(t,0),r?n:null},e.prototype.depthFirstOriginalTreeSearch=function(e,t,n){var r=this;t&&t.forEach((function(t){t instanceof ke&&r.depthFirstOriginalTreeSearch(t,t.getChildren(),n),n(t,e)}))},e.prototype.depthFirstAllColumnTreeSearch=function(e,t){var n=this;e&&e.forEach((function(e){e instanceof Ae&&n.depthFirstAllColumnTreeSearch(e.getChildren(),t),t(e)}))},e.prototype.depthFirstDisplayedColumnTreeSearch=function(e,t){var n=this;e&&e.forEach((function(e){e instanceof Ae&&n.depthFirstDisplayedColumnTreeSearch(e.getDisplayedChildren(),t),t(e)}))},p([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),p([we("columnUtils")],e)}(),Ve=function(){function e(){}return e.prototype.createDisplayedGroups=function(e,t,n,r,o){var i,s,a=this,l=[],u=this.mapOldGroupsById(o);return e.forEach((function(e){for(var o=a.getOriginalPathForColumn(t,e),c=[],p=!s,d=0;d<o.length;d++)if(p||o[d]!==s[d]){var h=a.createColumnGroup(o[d],n,u,r);c[d]=h,0==d?l.push(h):c[d-1].addChild(h)}else c[d]=i[d];0===c.length?l.push(e):de.last(c).addChild(e),i=c,s=o})),this.setupParentsIntoColumns(l,null),l},e.prototype.createColumnGroup=function(e,t,n,r){var o=e.getGroupId(),i=t.getInstanceIdForKey(o),s=n[Ae.createUniqueId(o,i)];return s&&s.getOriginalColumnGroup()!==e&&(s=null),de.exists(s)?s.reset():(s=new Ae(e,o,i,r),this.context.wireBean(s)),s},e.prototype.mapOldGroupsById=function(e){var t={};return e&&function e(n){n.forEach((function(n){if(n instanceof Ae){var r=n;t[n.getUniqueId()]=r,e(r.getChildren())}}))}(e),t},e.prototype.setupParentsIntoColumns=function(e,t){var n=this;e.forEach((function(e){if(e.setParent(t),e instanceof Ae){var r=e;n.setupParentsIntoColumns(r.getChildren(),r)}}))},e.prototype.getOriginalPathForColumn=function(e,t){var n=[],r=!1;return function e(o,i){for(var s=0;s<o.length;s++){if(r)return;var a=o[s];a instanceof ke?(e(a.getChildren(),i+1),n[i]=a):a===t&&(r=!0)}}(e,0),r?n:(console.warn("could not get path"),null)},d([be("columnUtils")],e.prototype,"columnUtils",void 0),d([be("context")],e.prototype,"context",void 0),d([we("displayedGroupCreator")],e)}(),Ge=function(){function e(){}return e.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDeliminator","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow"],e.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","groupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","columnTypes","rowClassRules","detailGridOptions","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","reduxStore","statusBar","sideBar"],e.ARRAY_PROPERTIES=["slaveGrids","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData"],e.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","paginationStartPage","infiniteBlockSize","batchUpdateWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount"],e.BOOLEAN_PROPERTIES=["toolPanelSuppressRowGroups","toolPanelSuppressValues","toolPanelSuppressPivots","toolPanelSuppressPivotMode","toolPanelSuppressSideButtons","toolPanelSuppressColumnFilter","toolPanelSuppressColumnSelectAll","toolPanelSuppressColumnExpandAll","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableColResize","enableCellExpressions","enableSorting","enableServerSideSorting","enableFilter","enableServerSideFilter","angularCompileRows","angularCompileFilters","angularCompileHeaders","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressRow","groupSuppressBlankHeader","forPrint","suppressMenuHide","rowDeselection","unSortIcon","suppressMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","suppressParentsInRowNodes","showToolPanel","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","suppressMenuFilterPanel","suppressMenuMainPanel","suppressMenuColumnPanel","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressUseColIdForGroups","suppressCopyRowsToClipboard","copyHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragManaged","suppressRowDrag","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressTabbing","suppressPaginationPanel","floatingFilter","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","pivotTotals","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","contractColumnSelection","suppressEnterpriseResetOnNewColumns","enableOldSetFilterModel","suppressRowHoverHighlight","gridAutoHeight","suppressRowTransform","suppressClipboardPaste","serverSideSortingAlwaysResets","reactNext","suppressSetColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu"],e.ALL_PROPERTIES=h(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.NUMBER_PROPERTIES,e.FUNCTION_PROPERTIES=["localeTextFunc","groupRowInnerRenderer","groupRowInnerRendererFramework","dateComponent","dateComponentFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getRowClassRules","traverseNode","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getNodeChildDetails","groupRowAggNodes","getRowNodeId","isFullWidthCell","fullWidthCellRenderer","fullWidthCellRendererFramework","doesDataFlower","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextCell","tabToNextCell","getDetailRowData","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","defaultGroupSortComparator","isRowMaster","isRowSelectable","postSort","processHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","processChartOptions","getChartToolbarItems","fillOperation"],e.BOOLEAN_PROPERTIES),e.FRAMEWORK_PROPERTIES=["__ob__","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],e}(),We=function(){function e(){}return e.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","template","templateUrl","filter","aggFunc","cellRenderer","cellEditor","pinned","chartDataType"],e.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRendererParams","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData"],e.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],e.NUMBER_PROPERTIES=["sortedAt","width","minWidth","maxWidth","rowGroupIndex","pivotIndex"],e.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","rowGroup","pivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressSorting","suppressMovable","suppressFilter","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressResize","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","sortable","resizable","singleClickEdit"],e.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","cellRenderer","cellRendererFramework","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","tooltip","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],e.ALL_PROPERTIES=e.ARRAY_PROPERTIES.concat(e.OBJECT_PROPERTIES).concat(e.STRING_PROPERTIES).concat(e.NUMBER_PROPERTIES).concat(e.FUNCTION_PROPERTIES).concat(e.BOOLEAN_PROPERTIES),e.FRAMEWORK_PROPERTIES=["__ob__","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],e}(),He=function(){function e(){}return e.parse=function(t){if(!t)return null;if(!0===t)return{toolPanels:[e.DEFAULT_COLUMN_COMP,e.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof t)return e.parse([t]);if(Array.isArray(t)){var n=[];return t.forEach((function(t){var r=e.DEFAULT_BY_KEY[t];r?n.push(r):console.warn("ag-grid: the key "+t+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(e.DEFAULT_BY_KEY).join(","))})),0===n.length?null:{toolPanels:n,defaultToolPanel:n[0].id}}return{toolPanels:e.parseComponents(t.toolPanels),defaultToolPanel:t.defaultToolPanel,hiddenByDefault:t.hiddenByDefault,position:t.position}},e.parseComponents=function(t){var n=[];return t.forEach((function(t){var r=null;if("string"==typeof t){var o=e.DEFAULT_BY_KEY[t];if(!o)return void console.warn("ag-grid: the key "+t+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(e.DEFAULT_BY_KEY).join(","));r=o}else r=t;n.push(r)})),n},e.DEFAULT_BY_KEY={columns:e.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:e.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},e}();function Be(e){return!0===e||"true"===e}var Ue=function(){function e(){this.propertyEventService=new Oe,this.domDataKey="__AG_"+Math.random().toString(),this.layoutElements=[]}var n;return n=e,e.prototype.agWire=function(e,t){this.gridOptions.api=e,this.gridOptions.columnApi=t,this.checkForDeprecated(),this.checkForViolations()},e.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null},e.prototype.init=function(){!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties());var e=this.useAsyncEvents();this.eventService.addGlobalListener(this.globalEventHandler.bind(this),e),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("ag-Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("ag-Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("ag-Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("ag-Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isEnableRangeSelection()&&De.assertRegistered(t.ModuleNames.RangeSelectionModule,"enableRangeSelection"),this.isEnableRangeSelection()||!this.isEnableRangeHandle()&&!this.isEnableFillHandle()||console.warn("ag-Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true"),this.addEventListener(n.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this))},e.prototype.checkColumnDefProperties=function(){var e=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach((function(t){var n=Object.getOwnPropertyNames(t),r=v(We.ALL_PROPERTIES,We.FRAMEWORK_PROPERTIES);e.checkProperties(n,r,r,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")}))},e.prototype.checkGridOptionsProperties=function(){var e=Object.getOwnPropertyNames(this.gridOptions),t=v(Ge.ALL_PROPERTIES,Ge.FRAMEWORK_PROPERTIES,de.values(xe).map((function(e){return je.getCallbackForEvent(e)}))),n=v(t,["api","columnApi"]);this.checkProperties(e,n,t,"gridOptions","https://www.ag-grid.com/javascript-grid-properties/")},e.prototype.checkProperties=function(e,t,n,r,o){var i=de.fuzzyCheckStrings(e,t,n);de.iterateObject(i,(function(e,t){console.warn("ag-grid: invalid "+r+" property '"+e+"' did you mean any of these: "+t.slice(0,8).join(", "))})),Object.keys(i).length>0&&console.warn("ag-grid: to see all the valid "+r+" properties please check: "+o)},e.prototype.getDomData=function(e,t){var n=e[this.domDataKey];return n?n[t]:void 0},e.prototype.setDomData=function(e,t,n){var r=e[this.domDataKey];de.missing(r)&&(e[this.domDataKey]=r={}),r[t]=n},e.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},e.prototype.isRowDeselection=function(){return Be(this.gridOptions.rowDeselection)},e.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},e.prototype.isRowMultiSelectWithClick=function(){return Be(this.gridOptions.rowMultiSelectWithClick)},e.prototype.getContext=function(){return this.gridOptions.context},e.prototype.isPivotMode=function(){return Be(this.gridOptions.pivotMode)},e.prototype.isPivotTotals=function(){return Be(this.gridOptions.pivotTotals)},e.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},e.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},e.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===ie.ROW_MODEL_TYPE_INFINITE},e.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===ie.ROW_MODEL_TYPE_VIEWPORT},e.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===ie.ROW_MODEL_TYPE_SERVER_SIDE},e.prototype.isRowModelDefault=function(){return de.missing(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===ie.ROW_MODEL_TYPE_CLIENT_SIDE||this.gridOptions.rowModelType===ie.DEPRECATED_ROW_MODEL_TYPE_NORMAL},e.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},e.prototype.isSuppressFocusAfterRefresh=function(){return Be(this.gridOptions.suppressFocusAfterRefresh)},e.prototype.isSuppressBrowserResizeObserver=function(){return Be(this.gridOptions.suppressBrowserResizeObserver)},e.prototype.isSuppressMaintainUnsortedOrder=function(){return Be(this.gridOptions.suppressMaintainUnsortedOrder)},e.prototype.isSuppressClearOnFillReduction=function(){return Be(this.gridOptions.suppressClearOnFillReduction)},e.prototype.isShowToolPanel=function(){return Be(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},e.prototype.getSideBar=function(){return this.gridOptions.sideBar},e.prototype.isSuppressTouch=function(){return Be(this.gridOptions.suppressTouch)},e.prototype.isSuppressRowTransform=function(){return Be(this.gridOptions.suppressRowTransform)},e.prototype.isSuppressSetColumnStateEvents=function(){return Be(this.gridOptions.suppressSetColumnStateEvents)},e.prototype.isAllowDragFromColumnsToolPanel=function(){return Be(this.gridOptions.allowDragFromColumnsToolPanel)},e.prototype.useAsyncEvents=function(){return!Be(this.gridOptions.suppressAsyncEvents)},e.prototype.isEnableCellChangeFlash=function(){return Be(this.gridOptions.enableCellChangeFlash)},e.prototype.isGroupSelectsChildren=function(){var e=Be(this.gridOptions.groupSelectsChildren);return e&&this.isTreeData()?(console.warn("ag-Grid: groupSelectsChildren does not work with tree data"),!1):e},e.prototype.isSuppressRowHoverHighlight=function(){return Be(this.gridOptions.suppressRowHoverHighlight)},e.prototype.isGroupSelectsFiltered=function(){return Be(this.gridOptions.groupSelectsFiltered)},e.prototype.isGroupHideOpenParents=function(){return Be(this.gridOptions.groupHideOpenParents)},e.prototype.isGroupMultiAutoColumn=function(){return Be(this.gridOptions.groupMultiAutoColumn)||Be(this.gridOptions.groupHideOpenParents)},e.prototype.isGroupRemoveSingleChildren=function(){return Be(this.gridOptions.groupRemoveSingleChildren)},e.prototype.isGroupRemoveLowestSingleChildren=function(){return Be(this.gridOptions.groupRemoveLowestSingleChildren)},e.prototype.isGroupIncludeFooter=function(){return Be(this.gridOptions.groupIncludeFooter)},e.prototype.isGroupIncludeTotalFooter=function(){return Be(this.gridOptions.groupIncludeTotalFooter)},e.prototype.isGroupSuppressBlankHeader=function(){return Be(this.gridOptions.groupSuppressBlankHeader)},e.prototype.isSuppressRowClickSelection=function(){return Be(this.gridOptions.suppressRowClickSelection)},e.prototype.isSuppressCellSelection=function(){return Be(this.gridOptions.suppressCellSelection)},e.prototype.isSuppressMultiSort=function(){return Be(this.gridOptions.suppressMultiSort)},e.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},e.prototype.isGroupSuppressAutoColumn=function(){return Be(this.gridOptions.groupSuppressAutoColumn)},e.prototype.isSuppressDragLeaveHidesColumns=function(){return Be(this.gridOptions.suppressDragLeaveHidesColumns)},e.prototype.isSuppressScrollOnNewData=function(){return Be(this.gridOptions.suppressScrollOnNewData)},e.prototype.isRowDragManaged=function(){return Be(this.gridOptions.rowDragManaged)},e.prototype.isSuppressRowDrag=function(){return Be(this.gridOptions.suppressRowDrag)},e.prototype.getDomLayout=function(){var e=this.gridOptions.domLayout||ie.DOM_LAYOUT_NORMAL;return-1===[ie.DOM_LAYOUT_PRINT,ie.DOM_LAYOUT_AUTO_HEIGHT,ie.DOM_LAYOUT_NORMAL].indexOf(e)?(de.doOnce((function(){return console.warn("ag-Grid: "+e+" is not valid for DOM Layout, valid values are "+ie.DOM_LAYOUT_NORMAL+", "+ie.DOM_LAYOUT_AUTO_HEIGHT+" and "+ie.DOM_LAYOUT_PRINT)}),"warn about dom layout values"),ie.DOM_LAYOUT_NORMAL):e},e.prototype.isSuppressHorizontalScroll=function(){return Be(this.gridOptions.suppressHorizontalScroll)},e.prototype.isSuppressMaxRenderedRowRestriction=function(){return Be(this.gridOptions.suppressMaxRenderedRowRestriction)},e.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return Be(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},e.prototype.isAlwaysShowVerticalScroll=function(){return Be(this.gridOptions.alwaysShowVerticalScroll)},e.prototype.isSuppressLoadingOverlay=function(){return Be(this.gridOptions.suppressLoadingOverlay)},e.prototype.isSuppressNoRowsOverlay=function(){return Be(this.gridOptions.suppressNoRowsOverlay)},e.prototype.isSuppressFieldDotNotation=function(){return Be(this.gridOptions.suppressFieldDotNotation)},e.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},e.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},e.prototype.isFunctionsPassive=function(){return Be(this.gridOptions.functionsPassive)},e.prototype.isSuppressTabbing=function(){return Be(this.gridOptions.suppressTabbing)},e.prototype.isSuppressChangeDetection=function(){return Be(this.gridOptions.suppressChangeDetection)},e.prototype.isSuppressAnimationFrame=function(){return Be(this.gridOptions.suppressAnimationFrame)},e.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},e.prototype.isCacheQuickFilter=function(){return Be(this.gridOptions.cacheQuickFilter)},e.prototype.isUnSortIcon=function(){return Be(this.gridOptions.unSortIcon)},e.prototype.isSuppressMenuHide=function(){return Be(this.gridOptions.suppressMenuHide)},e.prototype.isEnterMovesDownAfterEdit=function(){return Be(this.gridOptions.enterMovesDownAfterEdit)},e.prototype.isEnterMovesDown=function(){return Be(this.gridOptions.enterMovesDown)},e.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},e.prototype.getRowClass=function(){return this.gridOptions.rowClass},e.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},e.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},e.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},e.prototype.getCreateChartContainerFunc=function(){return this.gridOptions.createChartContainer},e.prototype.getPopupParent=function(){return this.gridOptions.popupParent},e.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},e.prototype.getPostProcessPopupFunc=function(){return this.gridOptions.postProcessPopup},e.prototype.getDoesDataFlowerFunc=function(){return this.gridOptions.doesDataFlower},e.prototype.getPaginationNumberFormatterFunc=function(){return this.gridOptions.paginationNumberFormatter},e.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},e.prototype.getDefaultGroupSortComparator=function(){return this.gridOptions.defaultGroupSortComparator},e.prototype.getIsFullWidthCellFunc=function(){return this.gridOptions.isFullWidthCell},e.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},e.prototype.isEmbedFullWidthRows=function(){return Be(this.gridOptions.embedFullWidthRows)||Be(this.gridOptions.deprecatedEmbedFullWidthRows)},e.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},e.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},e.prototype.getApi=function(){return this.gridOptions.api},e.prototype.getColumnApi=function(){return this.gridOptions.columnApi},e.prototype.isDeltaRowDataMode=function(){return Be(this.gridOptions.deltaRowDataMode)},e.prototype.isDeltaColumnMode=function(){return Be(this.gridOptions.deltaColumnMode)},e.prototype.isEnsureDomOrder=function(){return Be(this.gridOptions.ensureDomOrder)},e.prototype.isEnableCharts=function(){return!!Be(this.gridOptions.enableCharts)&&De.assertRegistered(t.ModuleNames.GridChartsModule,"enableCharts")},e.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},e.prototype.isSingleClickEdit=function(){return Be(this.gridOptions.singleClickEdit)},e.prototype.isSuppressClickEdit=function(){return Be(this.gridOptions.suppressClickEdit)},e.prototype.isStopEditingWhenGridLosesFocus=function(){return Be(this.gridOptions.stopEditingWhenGridLosesFocus)},e.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},e.prototype.getMaxConcurrentDatasourceRequests=function(){return this.gridOptions.maxConcurrentDatasourceRequests},e.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},e.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},e.prototype.getPaginationPageSize=function(){return this.gridOptions.paginationPageSize},e.prototype.isPaginateChildRows=function(){return!!(this.isGroupSuppressRow()||this.isGroupRemoveSingleChildren()||this.isGroupRemoveLowestSingleChildren())||Be(this.gridOptions.paginateChildRows)},e.prototype.getCacheBlockSize=function(){return this.gridOptions.cacheBlockSize},e.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},e.prototype.isPurgeClosedRowNodes=function(){return Be(this.gridOptions.purgeClosedRowNodes)},e.prototype.isSuppressPaginationPanel=function(){return Be(this.gridOptions.suppressPaginationPanel)},e.prototype.getRowData=function(){return this.gridOptions.rowData},e.prototype.isGroupUseEntireRow=function(e){return!e&&Be(this.gridOptions.groupUseEntireRow)},e.prototype.isEnableRtl=function(){return Be(this.gridOptions.enableRtl)},e.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},e.prototype.isGroupSuppressRow=function(){return Be(this.gridOptions.groupSuppressRow)},e.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},e.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},e.prototype.isAngularCompileRows=function(){return Be(this.gridOptions.angularCompileRows)},e.prototype.isAngularCompileFilters=function(){return Be(this.gridOptions.angularCompileFilters)},e.prototype.isAngularCompileHeaders=function(){return Be(this.gridOptions.angularCompileHeaders)},e.prototype.isDebug=function(){return Be(this.gridOptions.debug)},e.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},e.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},e.prototype.getDatasource=function(){return this.gridOptions.datasource},e.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},e.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},e.prototype.isAccentedSort=function(){return Be(this.gridOptions.accentedSort)},e.prototype.isEnableBrowserTooltips=function(){return Be(this.gridOptions.enableBrowserTooltips)},e.prototype.isEnableCellExpressions=function(){return Be(this.gridOptions.enableCellExpressions)},e.prototype.isEnableGroupEdit=function(){return Be(this.gridOptions.enableGroupEdit)},e.prototype.isSuppressMiddleClickScrolls=function(){return Be(this.gridOptions.suppressMiddleClickScrolls)},e.prototype.isPreventDefaultOnContextMenu=function(){return Be(this.gridOptions.preventDefaultOnContextMenu)},e.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return Be(this.gridOptions.suppressPreventDefaultOnMouseWheel)},e.prototype.isSuppressColumnVirtualisation=function(){return Be(this.gridOptions.suppressColumnVirtualisation)},e.prototype.isSuppressContextMenu=function(){return Be(this.gridOptions.suppressContextMenu)},e.prototype.isAllowContextMenuWithControlKey=function(){return Be(this.gridOptions.allowContextMenuWithControlKey)},e.prototype.isSuppressCopyRowsToClipboard=function(){return Be(this.gridOptions.suppressCopyRowsToClipboard)},e.prototype.isCopyHeadersToClipboard=function(){return Be(this.gridOptions.copyHeadersToClipboard)},e.prototype.isSuppressClipboardPaste=function(){return Be(this.gridOptions.suppressClipboardPaste)},e.prototype.isPagination=function(){return Be(this.gridOptions.pagination)},e.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return Be(this.gridOptions.suppressEnterpriseResetOnNewColumns)},e.prototype.getProcessDataFromClipboardFunc=function(){return this.gridOptions.processDataFromClipboard},e.prototype.getBatchUpdateWaitMillis=function(){return de.exists(this.gridOptions.batchUpdateWaitMillis)?this.gridOptions.batchUpdateWaitMillis:ie.BATCH_WAIT_MILLIS},e.prototype.isSuppressMovableColumns=function(){return Be(this.gridOptions.suppressMovableColumns)},e.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&Be(this.gridOptions.animateRows)},e.prototype.isSuppressColumnMoveAnimation=function(){return Be(this.gridOptions.suppressColumnMoveAnimation)},e.prototype.isSuppressAggFuncInHeader=function(){return Be(this.gridOptions.suppressAggFuncInHeader)},e.prototype.isSuppressAggAtRootLevel=function(){return Be(this.gridOptions.suppressAggAtRootLevel)},e.prototype.isEnableRangeSelection=function(){return De.isRegistered(t.ModuleNames.RangeSelectionModule)&&Be(this.gridOptions.enableRangeSelection)},e.prototype.isEnableRangeHandle=function(){return Be(this.gridOptions.enableRangeHandle)},e.prototype.isEnableFillHandle=function(){return Be(this.gridOptions.enableFillHandle)},e.prototype.getFillOperation=function(){return this.gridOptions.fillOperation},e.prototype.isSuppressMultiRangeSelection=function(){return Be(this.gridOptions.suppressMultiRangeSelection)},e.prototype.isPaginationAutoPageSize=function(){return Be(this.gridOptions.paginationAutoPageSize)},e.prototype.isRememberGroupStateWhenNewData=function(){return Be(this.gridOptions.rememberGroupStateWhenNewData)},e.prototype.getIcons=function(){return this.gridOptions.icons},e.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},e.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},e.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},e.prototype.isMasterDetail=function(){return!!Be(this.gridOptions.masterDetail)&&De.assertRegistered(t.ModuleNames.MasterDetailModule,"masterDetail")},e.prototype.isKeepDetailRows=function(){return Be(this.gridOptions.keepDetailRows)},e.prototype.getKeepDetailRowsCount=function(){return this.gridOptions.keepDetailRowsCount>0?this.gridOptions.keepDetailRowsCount:10},e.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},e.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},e.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},e.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},e.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},e.prototype.isSuppressAutoSize=function(){return Be(this.gridOptions.suppressAutoSize)},e.prototype.isEnableCellTextSelection=function(){return Be(this.gridOptions.enableCellTextSelection)},e.prototype.isSuppressParentsInRowNodes=function(){return Be(this.gridOptions.suppressParentsInRowNodes)},e.prototype.isFunctionsReadOnly=function(){return Be(this.gridOptions.functionsReadOnly)},e.prototype.isFloatingFilter=function(){return this.gridOptions.floatingFilter},e.prototype.isEnableCellTextSelect=function(){return Be(this.gridOptions.enableCellTextSelection)},e.prototype.isEnableOldSetFilterModel=function(){return Be(this.gridOptions.enableOldSetFilterModel)},e.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},e.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},e.prototype.getDefaultExportParams=function(){return this.gridOptions.defaultExportParams},e.prototype.isSuppressCsvExport=function(){return Be(this.gridOptions.suppressCsvExport)},e.prototype.isAllowShowChangeAfterFilter=function(){return Be(this.gridOptions.allowShowChangeAfterFilter)},e.prototype.isSuppressExcelExport=function(){return Be(this.gridOptions.suppressExcelExport)},e.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return Be(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},e.prototype.getNodeChildDetailsFunc=function(){return this.gridOptions.getNodeChildDetails},e.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},e.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},e.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},e.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},e.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},e.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},e.prototype.getChartToolbarItemsFunc=function(){return this.gridOptions.getChartToolbarItems},e.prototype.getRowNodeIdFunc=function(){return this.gridOptions.getRowNodeId},e.prototype.getNavigateToNextCellFunc=function(){return this.gridOptions.navigateToNextCell},e.prototype.getTabToNextCellFunc=function(){return this.gridOptions.tabToNextCell},e.prototype.isTreeData=function(){return!!Be(this.gridOptions.treeData)&&De.assertRegistered(t.ModuleNames.RowGroupingModule,"Tree Data")},e.prototype.isValueCache=function(){return Be(this.gridOptions.valueCache)},e.prototype.isValueCacheNeverExpires=function(){return Be(this.gridOptions.valueCacheNeverExpires)},e.prototype.isDeltaSort=function(){return Be(this.gridOptions.deltaSort)},e.prototype.isAggregateOnlyChangedColumns=function(){return Be(this.gridOptions.aggregateOnlyChangedColumns)},e.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},e.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},e.prototype.getSendToClipboardFunc=function(){return this.gridOptions.sendToClipboard},e.prototype.getProcessRowPostCreateFunc=function(){return this.gridOptions.processRowPostCreate},e.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},e.prototype.getProcessHeaderForClipboardFunc=function(){return this.gridOptions.processHeaderForClipboard},e.prototype.getProcessCellFromClipboardFunc=function(){return this.gridOptions.processCellFromClipboard},e.prototype.getViewportRowModelPageSize=function(){return(e=this.gridOptions.viewportRowModelPageSize)>0?e:5;var e},e.prototype.getViewportRowModelBufferSize=function(){return(e=this.gridOptions.viewportRowModelBufferSize)>=0?e:5;var e},e.prototype.isServerSideSortingAlwaysResets=function(){return Be(this.gridOptions.serverSideSortingAlwaysResets)},e.prototype.getPostSortFunc=function(){return this.gridOptions.postSort},e.prototype.getProcessChartOptionsFunc=function(){return this.gridOptions.processChartOptions},e.prototype.getClipboardDeliminator=function(){return de.exists(this.gridOptions.clipboardDeliminator)?this.gridOptions.clipboardDeliminator:"\t"},e.prototype.setProperty=function(e,t){var n=this.gridOptions,r=n[e];r!==t&&(n[e]=t,this.propertyEventService.dispatchEvent({type:e,currentValue:t,previousValue:r}))},e.prototype.addLayoutElement=function(e){this.layoutElements.push(e),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var e=this.getDomLayout(),t=e===ie.DOM_LAYOUT_AUTO_HEIGHT,n=e===ie.DOM_LAYOUT_PRINT,r=e===ie.DOM_LAYOUT_NORMAL;this.layoutElements.forEach((function(e){de.addOrRemoveCssClass(e,"ag-layout-auto-height",t),de.addOrRemoveCssClass(e,"ag-layout-normal",r),de.addOrRemoveCssClass(e,"ag-layout-print",n)}))},e.prototype.addEventListener=function(e,t){n.checkEventDeprecation(e),this.propertyEventService.addEventListener(e,t)},e.checkEventDeprecation=function(e){"floatingRowDataChanged"===e&&console.warn("ag-Grid: floatingRowDataChanged is now called pinnedRowDataChanged")},e.prototype.removeEventListener=function(e,t){this.propertyEventService.removeEventListener(e,t)},e.prototype.getAutoSizePadding=function(){return this.gridOptions.autoSizePadding&&this.gridOptions.autoSizePadding>0?this.gridOptions.autoSizePadding:20},e.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.specialForNewMaterial(25,"headerHeight")},e.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.specialForNewMaterial(25,"headerHeight")},e.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},e.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},e.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},e.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},e.prototype.doesExternalFilterPass=function(e){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(e)},e.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&de.exists(this.gridOptions.getDocument)&&(e=this.gridOptions.getDocument()),e&&de.exists(e)?e:document},e.prototype.getMinColWidth=function(){return this.gridOptions.minColWidth&&this.gridOptions.minColWidth>n.MIN_COL_WIDTH?this.gridOptions.minColWidth:n.MIN_COL_WIDTH},e.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>n.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},e.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<n.MIN_COL_WIDTH?200:this.gridOptions.colWidth},e.prototype.getRowBuffer=function(){var e=this.gridOptions.rowBuffer;return"number"==typeof e?e<0&&(de.doOnce((function(){return console.warn("ag-Grid: rowBuffer should not be negative")}),"warn rowBuffer negative"),this.gridOptions.rowBuffer=e=0):e=ie.ROW_BUFFER_SIZE,e},e.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},e.prototype.getScrollbarWidth=function(){return null==this.scrollWidth&&(this.scrollWidth="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:de.getScrollbarWidth()),this.scrollWidth},e.prototype.checkForDeprecated=function(){var e=this,t=this.gridOptions;t.suppressUnSort&&console.warn("ag-grid: as of v1.12.4 suppressUnSort is not used. Please use sortingOrder instead."),t.suppressDescSort&&console.warn("ag-grid: as of v1.12.4 suppressDescSort is not used. Please use sortingOrder instead."),t.groupAggFields&&console.warn("ag-grid: as of v3 groupAggFields is not used. Please add appropriate agg fields to your columns."),t.groupHidePivotColumns&&console.warn("ag-grid: as of v3 groupHidePivotColumns is not used as pivot columns are now called rowGroup columns. Please refer to the documentation"),t.groupKeys&&console.warn("ag-grid: as of v3 groupKeys is not used. You need to set rowGroupIndex on the columns to group. Please refer to the documentation"),"boolean"==typeof t.groupDefaultExpanded&&console.warn("ag-grid: groupDefaultExpanded can no longer be boolean. for groupDefaultExpanded=true, use groupDefaultExpanded=9999 instead, to expand all the groups"),(t.onRowDeselected||t.rowDeselected)&&console.warn("ag-grid: since version 3.4 event rowDeselected no longer exists, please check the docs"),t.rowsAlreadyGrouped&&console.warn("ag-grid: since version 3.4 rowsAlreadyGrouped no longer exists, please use getNodeChildDetails() instead"),t.groupAggFunction&&console.warn("ag-grid: since version 4.3.x groupAggFunction is now called groupRowAggNodes"),t.checkboxSelection&&console.warn("ag-grid: since version 8.0.x checkboxSelection is not supported as a grid option. If you want this on all columns, use defaultColDef instead and set it there"),t.paginationInitialRowCount&&console.warn("ag-grid: since version 9.0.x paginationInitialRowCount is now called infiniteInitialRowCount"),t.infinitePageSize&&console.warn("ag-grid: since version 9.0.x infinitePageSize is now called cacheBlockSize"),t.infiniteBlockSize&&console.warn("ag-grid: since version 10.0.x infiniteBlockSize is now called cacheBlockSize"),t.maxPagesInCache&&console.warn("ag-grid: since version 10.0.x maxPagesInCache is now called maxBlocksInCache"),t.paginationOverflowSize&&console.warn("ag-grid: since version 10.0.x paginationOverflowSize is now called cacheOverflowSize"),t.suppressMenuFilterPanel&&console.warn("ag-grid: since version 11.0.x, use property colDef.menuTabs=['generalMenuTab','columnsMenuTab'] instead of suppressMenuFilterPanel=true"),t.suppressMenuMainPanel&&console.warn("ag-grid: since version 11.0.x, use property colDef.menuTabs=['filterMenuTab','columnsMenuTab'] instead of suppressMenuMainPanel=true"),t.suppressMenuColumnPanel&&console.warn("ag-grid: since version 11.0.x, use property colDef.menuTabs=['generalMenuTab','filterMenuTab'] instead of suppressMenuColumnPanel=true"),t.suppressUseColIdForGroups&&console.warn("ag-grid: since version 11.0.x, this is not in use anymore. You should be able to remove it from your definition"),t.groupSuppressRow&&console.warn("ag-grid: since version 18.2.x, 'groupSuppressRow' should not be used anymore. Instead remove row groups and perform custom sorting."),t.groupColumnDef&&console.warn("ag-grid: since version 11.0.x, groupColumnDef has been renamed, this property is now called autoGroupColumnDef. Please change your configuration accordingly"),t.slaveGrids&&console.warn("ag-grid: since version 12.x, slaveGrids has been renamed, this property is now called alignedGrids. Please change your configuration accordingly"),t.floatingTopRowData&&console.warn("ag-grid: since version 12.x, floatingTopRowData is now called pinnedTopRowData"),t.floatingBottomRowData&&console.warn("ag-grid: since version 12.x, floatingBottomRowData is now called pinnedBottomRowData"),t.paginationStartPage&&console.warn("ag-grid: since version 12.x, paginationStartPage is gone, please call api.paginationGoToPage("+t.paginationStartPage+") instead."),t.getHeaderCellTemplate&&console.warn("ag-grid: since version 15.x, getHeaderCellTemplate is gone, please check the header documentation on how to set header templates."),t.headerCellTemplate&&console.warn("ag-grid: since version 15.x, headerCellTemplate is gone, please check the header documentation on how to set header templates."),t.headerCellRenderer&&console.warn("ag-grid: since version 15.x, headerCellRenderer is gone, please check the header documentation on how to set header templates."),t.angularCompileHeaders&&console.warn("ag-grid: since version 15.x, angularCompileHeaders is gone, please see the getting started for Angular 1 docs to see how to do headers in Angular 1.x."),t.pivotTotals&&(console.warn("ag-grid: since version 18.x, pivotTotals has been removed, instead if using pivotTotals, set pivotColumnGroupTotals='before'|'after'."),t.pivotColumnGroupTotals="before"),"inMemory"===t.rowModelType&&(console.warn("ag-grid: since version 18.x, The In Memory Row Model has been renamed to the Client Side Row Model, set rowModelType='clientSide' instead."),t.rowModelType="clientSide"),"enterprise"===t.rowModelType&&(console.warn("ag-grid: since version 18.x, The Enterprise Row Model has been renamed to the Server Side Row Model, set rowModelType='serverSide' instead."),t.rowModelType="serverSide"),t.layoutInterval&&console.warn("ag-grid: since version 18.x, layoutInterval is no longer a property. This is because the grid now uses CSS Flex for layout."),t.gridAutoHeight&&(console.warn("ag-grid: since version 19.x, gridAutoHeight is gone, please use domLayout=autoHeight instead"),t.domLayout="autoHeight"),!0===t.showToolPanel&&(console.warn("ag-grid: since version 19.x, showToolPanel is gone, please specify toolPanel components. See https://www.ag-grid.com/javascript-grid-tool-panel/"),t.showToolPanel=void 0,t.sideBar=t.sideBar||!0),!1===t.showToolPanel&&(console.warn("ag-grid: since version 19.x, showToolPanel is gone, please specify toolPanel components. See https://www.ag-grid.com/javascript-grid-tool-panel/"),t.showToolPanel=void 0,t.sideBar=t.sideBar||!1);var n={toolPanelSuppressRowGroups:"suppressRowGroups",toolPanelSuppressValues:"suppressValues",toolPanelSuppressPivots:"suppressPivots",toolPanelSuppressPivotMode:"suppressPivotMode",toolPanelSuppressColumnFilter:"suppressColumnFilter",toolPanelSuppressColumnSelectAll:"suppressColumnSelectAll",toolPanelSuppressSideButtons:"suppressSideButtons",toolPanelSuppressColumnExpandAll:"suppressColumnExpandAll",contractColumnSelection:"contractColumnSelection"},r={};Object.keys(n).forEach((function(t){var o=n[t],i=e.gridOptions[t];if(void 0!==i){if("toolPanelSuppressSideButtons"===t)return void console.warn("ag-grid: since v19.0 toolPanelSuppressSideButtons has been completely removed. See https://www.ag-grid.com/javascript-grid-tool-panel/");console.warn("ag-grid: since v19.0 gridOptions."+t+" is deprecated, please use gridOptions.sideBar.toolPanel[columnsIndex].componentParams."+o),r[o]=i}})),Object.keys(r).length>0&&!de.exists(t.sideBar)&&(console.warn("ag-grid: since version 19.x, sideBar is mandatory if using toolPanel related properties. See https://www.ag-grid.com/javascript-grid-tool-panel/"),t.sideBar=!0),null!=t.sideBar&&(t.sideBar=He.parse(t.sideBar));var o=this.gridOptions.sideBar;if(Object.keys(r).length>0&&o&&o.toolPanels){var i=o.toolPanels.filter((function(e){return"columns"===e.id}));1===i.length&&de.mergeDeep(i[0],{componentParams:r})}t.enableStatusBar&&(console.warn("ag-grid: since version 19.x, enableStatusBar is gone, please specify statusBar components"),t.statusBar=t.statusBar||{components:[{component:"agAggregationComponent"}]}),t.alwaysShowStatusBar&&console.warn("ag-grid: since version 19.x, alwaysShowStatusBar is gone. Please specify a min-height on the ag-status-bar css class, eg .ag-status-bar {min-height: 35px; }"),(t.enableServerSideSorting||t.enableSorting)&&(console.warn("ag-Grid: since v20, grid options enableSorting and enableServerSideSorting are gone. Instead set sortable=true on the column definition for the columns sorting are allowed on. To migrate from gridOption.enableSorting=true, set gridOptions.defaultColDef.sortable=true"),t.defaultColDef||(t.defaultColDef={}),t.defaultColDef.sortable||(t.defaultColDef.sortable=!0)),(t.enableFilter||t.enableServerSideFilter)&&(console.warn("ag-Grid: since v20, grid options enableFilter and enableServerSideFilter are gone. Instead set filter=true (if not already specifying a specific filter) on the column definition for the columns filtering is allowed on. To migrate from gridOptions.enableFilter=true, set gridOptions.defaultColDef.filter=true. If you are explicitly setting specific filters for each column (ie colDef.filter is already set) the you don't need to do anything."),t.defaultColDef||(t.defaultColDef={}),t.defaultColDef.filter||(t.defaultColDef.filter=!0)),t.enableColResize&&(console.warn("ag-Grid: since v20, grid options enableColResize is gone. Instead set resizable=true on the column definition for the columns resizing are allowed on. To migrate from gridOption.enableColResize=true, set gridOptions.defaultColDef.resizable=true"),t.defaultColDef||(t.defaultColDef={}),t.defaultColDef.resizable||(t.defaultColDef.resizable=!0)),t.deprecatedEmbedFullWidthRows&&console.warn("ag-Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),t.suppressTabbing&&console.warn("ag-Grid: since v20.1, suppressTabbing is replaced with the more powerful grid callback suppressKeyboardEvent(params) which can suppress any keyboard event including tabbing."),t.doesDataFlower&&console.warn("ag-Grid: since v21.1, doesDataFlower is deprecated. Master/Detail is the new way for showing child data for a row and was introduced over a year ago. Please migrate your code to use master/detail instead."),t.enableOldSetFilterModel&&console.warn("ag-Grid: since v22.x, enableOldSetFilterModel is deprecated. Please move to the new Set Filter Model as the old one may not be supported in v23 onwards.")},e.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},e.prototype.treeDataViolations=function(){this.isRowModelDefault()&&de.missing(this.getDataPathFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(de.missing(this.getIsServerSideGroupFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),de.missing(this.getServerSideGroupKeyFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},e.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var e=this;return function(t,n){var r=e.gridOptions.localeText;return r&&r[t]?r[t]:n}},e.prototype.globalEventHandler=function(e,t){var n=je.getCallbackForEvent(e);"function"==typeof this.gridOptions[n]&&this.gridOptions[n](t)},e.prototype.getRowHeightAsNumber=function(){return!this.gridOptions.rowHeight||de.missing(this.gridOptions.rowHeight)?this.getDefaultRowHeight():this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:(console.warn("ag-Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},e.prototype.getRowHeightForNode=function(e,t){if(void 0===t&&(t=!1),"function"==typeof this.gridOptions.getRowHeight)return t?{height:this.getDefaultRowHeight(),estimated:!0}:{height:this.gridOptions.getRowHeight({node:e,data:e.data,api:this.gridOptions.api,context:this.gridOptions.context}),estimated:!1};if(e.detail&&this.isMasterDetail())return this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1};var n=this.getDefaultRowHeight(),r=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n,o=Math.min(n,r);if(this.columnController.isAutoRowHeightActive()){if(t)return{height:r,estimated:!0};var i=this.autoHeightCalculator.getPreferredHeightForRow(e);return{height:Math.max(i,o),estimated:!1}}return{height:r,estimated:!1}},e.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},e.prototype.getVirtualItemHeight=function(){return this.specialForNewMaterial(20,"virtualItemHeight")},e.prototype.isNumeric=function(e){return!isNaN(e)&&"number"==typeof e},e.prototype.specialForNewMaterial=function(e,t){var n=this.environment.getTheme().theme;return n&&0===n.indexOf("ag-theme")?this.environment.getSassVariable(n,t):e},e.prototype.getDefaultRowHeight=function(){return this.specialForNewMaterial(25,"rowHeight")},e.MIN_COL_WIDTH=10,e.PROP_HEADER_HEIGHT="headerHeight",e.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",e.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",e.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",e.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",e.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",e.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",e.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",e.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",e.PROP_POPUP_PARENT="popupParent",e.PROP_DOM_LAYOUT="domLayout",f([be("gridOptions")],e.prototype,"gridOptions",void 0),f([be("columnController")],e.prototype,"columnController",void 0),f([be("eventService")],e.prototype,"eventService",void 0),f([be("gridApi")],e.prototype,"gridApi",void 0),f([be("columnApi")],e.prototype,"columnApi",void 0),f([be("environment")],e.prototype,"environment",void 0),f([be("autoHeightCalculator")],e.prototype,"autoHeightCalculator",void 0),f([be("context")],e.prototype,"context",void 0),f([g(0,Se("gridApi")),g(1,Se("columnApi"))],e.prototype,"agWire",null),f([Ce],e.prototype,"destroy",null),f([me],e.prototype,"init",null),n=f([we("gridOptionsWrapper")],e)}(),je=function(){function e(){}return e.getEventCallbacks=function(){return e.EVENT_CALLBACKS||(e.EVENT_CALLBACKS=e.EVENTS.map((function(t){return e.getCallbackForEvent(t)}))),e.EVENT_CALLBACKS},e.copyAttributesToGridOptions=function(t,n,r){void 0===r&&(r=!1),ze(n),"object"!=typeof t&&(t={});var o=t,i=function(e){return void 0!==n[e]};return y(e.ARRAY_PROPERTIES,e.STRING_PROPERTIES,e.OBJECT_PROPERTIES,e.FUNCTION_PROPERTIES,e.getEventCallbacks()).filter(i).forEach((function(e){return o[e]=n[e]})),e.BOOLEAN_PROPERTIES.filter(i).forEach((function(t){return o[t]=e.toBoolean(n[t])})),e.NUMBER_PROPERTIES.filter(i).forEach((function(t){return o[t]=e.toNumber(n[t])})),r||e.EVENTS.filter((function(t){return i(t)||i(e.getCallbackForEvent(t))})).forEach((function(e){return Ue.checkEventDeprecation(e)})),t},e.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)},e.processOnChange=function(t,n,r,o){if(t){ze(t);var i=n,s=function(e){return t[e]};y(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.getEventCallbacks()).filter(s).forEach((function(e){return i[e]=t[e].currentValue})),e.BOOLEAN_PROPERTIES.filter(s).forEach((function(n){return i[n]=e.toBoolean(t[n].currentValue)})),e.NUMBER_PROPERTIES.filter(s).forEach((function(n){return i[n]=e.toNumber(t[n].currentValue)})),t.enableCellTextSelection&&r.setEnableCellTextSelection(e.toBoolean(t.enableCellTextSelection.currentValue)),t.showToolPanel&&r.showToolPanel(e.toBoolean(t.showToolPanel.currentValue)),t.quickFilterText&&r.setQuickFilter(t.quickFilterText.currentValue),t.rowData&&r.setRowData(t.rowData.currentValue),t.pinnedTopRowData&&r.setPinnedTopRowData(t.pinnedTopRowData.currentValue),t.pinnedBottomRowData&&r.setPinnedBottomRowData(t.pinnedBottomRowData.currentValue),t.columnDefs&&r.setColumnDefs(t.columnDefs.currentValue,"gridOptionsChanged"),t.datasource&&r.setDatasource(t.datasource.currentValue),t.headerHeight&&r.setHeaderHeight(e.toNumber(t.headerHeight.currentValue)),t.paginationPageSize&&r.paginationSetPageSize(e.toNumber(t.paginationPageSize.currentValue)),t.pivotMode&&o.setPivotMode(e.toBoolean(t.pivotMode.currentValue)),t.groupRemoveSingleChildren&&r.setGroupRemoveSingleChildren(e.toBoolean(t.groupRemoveSingleChildren.currentValue)),t.suppressRowDrag&&r.setSuppressRowDrag(e.toBoolean(t.suppressRowDrag.currentValue)),t.gridAutoHeight&&r.setGridAutoHeight(e.toBoolean(t.gridAutoHeight.currentValue)),t.suppressClipboardPaste&&r.setSuppressClipboardPaste(e.toBoolean(t.suppressClipboardPaste.currentValue)),t.sideBar&&r.setSideBar(t.sideBar.currentValue);var a={type:xe.EVENT_COMPONENT_STATE_CHANGED,api:n.api,columnApi:n.columnApi};de.iterateObject(t,(function(e,t){a[e]=t})),r.dispatchEvent(a)}},e.toBoolean=function(e){return"boolean"==typeof e?e:"string"==typeof e&&("TRUE"===e.toUpperCase()||""==e)},e.toNumber=function(e){return"number"==typeof e?e:"string"==typeof e?Number(e):void 0},e.EVENTS=[],e.STRING_PROPERTIES=Ge.STRING_PROPERTIES,e.OBJECT_PROPERTIES=Ge.OBJECT_PROPERTIES,e.ARRAY_PROPERTIES=Ge.ARRAY_PROPERTIES,e.NUMBER_PROPERTIES=Ge.NUMBER_PROPERTIES,e.BOOLEAN_PROPERTIES=Ge.BOOLEAN_PROPERTIES,e.FUNCTION_PROPERTIES=Ge.FUNCTION_PROPERTIES,e.ALL_PROPERTIES=Ge.ALL_PROPERTIES,e}();function ze(e){(e.rowDeselected||e.onRowDeselected)&&console.warn("ag-grid: as of v3.4 rowDeselected no longer exists. Please check the docs.")}je.EVENTS=de.values(xe);var qe=function(){function e(){var e=this;this.destroyFunctions=[],this.destroyed=!1,this.getContext=function(){return e.context},this.isAlive=function(){return!e.destroyed}}return e.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},e.prototype.destroy=function(){this.destroyFunctions.forEach((function(e){return e()})),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:e.EVENT_DESTROYED})},e.prototype.addEventListener=function(e,t){this.localEventService||(this.localEventService=new Oe),this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)},e.prototype.dispatchEventAsync=function(e){var t=this;window.setTimeout((function(){return t.dispatchEvent(e)}),0)},e.prototype.dispatchEvent=function(e){this.localEventService&&this.localEventService.dispatchEvent(e)},e.prototype.addDestroyableEventListener=function(e,t,n){var r=this;if(!this.destroyed){e instanceof HTMLElement?de.addSafePassiveEventListener(this.getFrameworkOverrides(),e,t,n):(Window,e.addEventListener(t,n));var o=function o(){e instanceof HTMLElement?e.removeEventListener(t,n):(Window,e.removeEventListener(t,n)),r.destroyFunctions=r.destroyFunctions.filter((function(e){return e!==o}))};return this.destroyFunctions.push(o),o}},e.prototype.addDestroyFunc=function(e){this.isAlive()?this.destroyFunctions.push(e):e()},e.prototype.wireDependentBean=function(e,t){return e.destroy&&this.addDestroyFunc(e.destroy.bind(e)),this.wireBean(e,t)},e.prototype.wireBean=function(e,t){return(t||this.getContext()).wireBean(e),e},e.EVENT_DESTROYED="destroyed",m([be("context")],e.prototype,"context",void 0),m([be("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),m([Ce],e.prototype,"destroy",null),e}(),Ke=new pe,Qe=function(e){function t(t){var n=e.call(this)||this;return n.childComponents=[],n.annotatedEventListeners=[],n.displayed=!0,n.visible=!0,n.compId=Ke.next(),t&&n.setTemplate(t),n}return C(t,e),t.prototype.getCompId=function(){return this.compId},t.prototype.createChildComponentsFromTags=function(e){var t=this;de.copyNodeList(e.childNodes).forEach((function(n){var r=t.getContext().createComponentFromElement(n,(function(e){t.copyAttributesFromNode(n,e.getGui())}));if(r){if(r.addItems&&n.children.length){t.createChildComponentsFromTags(n);var o=Array.prototype.slice.call(n.children);r.addItems(o)}t.swapComponentForNode(r,e,n)}else n.childNodes&&t.createChildComponentsFromTags(n)}))},t.prototype.copyAttributesFromNode=function(e,t){de.iterateNamedNodeMap(e.attributes,(function(e,n){t.setAttribute(e,n)}))},t.prototype.swapComponentForNode=function(e,t,n){var r=e.getGui();t.replaceChild(r,n),t.insertBefore(document.createComment(n.nodeName),r),this.childComponents.push(e),this.swapInComponentForQuerySelectors(e,n)},t.prototype.swapInComponentForQuerySelectors=function(e,t){for(var n=Object.getPrototypeOf(this),r=this;null!=n;){var o=n.__agComponentMetaData,i=n.constructor.name;o&&o[i]&&o[i].querySelectors&&o[i].querySelectors.forEach((function(n){r[n.attributeName]===t&&(r[n.attributeName]=e)})),n=Object.getPrototypeOf(n)}},t.prototype.setTemplate=function(e){var t=de.loadTemplate(e);this.setTemplateFromElement(t)},t.prototype.setTemplateFromElement=function(e){this.eGui=e,this.eGui.__agComponent=this,this.addAnnotatedEventListeners(),this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui)for(var t=Object.getPrototypeOf(this),n=function(){var n=t.__agComponentMetaData,o=t.constructor.name;if(n&&n[o]&&n[o].querySelectors){var i=r;n[o].querySelectors.forEach((function(t){var n=e.eGui.querySelector(t.querySelector);n&&(i[t.attributeName]=n.__agComponent||n)}))}t=Object.getPrototypeOf(t)},r=this;null!=t;)n()},t.prototype.addAnnotatedEventListeners=function(){var e=this;if(this.removeAnnotatedEventListeners(),this.eGui){var t=this.getAgComponentMetaData("listenerMethods");de.missingOrEmpty(t)||(this.annotatedEventListeners||(this.annotatedEventListeners=[]),t.forEach((function(t){var n=e[t.methodName].bind(e);e.eGui.addEventListener(t.eventName,n),e.annotatedEventListeners.push({eventName:t.eventName,listener:n})})))}},t.prototype.getAgComponentMetaData=function(e){for(var t=[],n=Object.getPrototypeOf(this);null!=n;){var r=n.__agComponentMetaData,o=n.constructor.name;if(void 0===o){var i=/function\s([^(]{1,})\(/.exec(n.constructor.toString());i&&i.length>1&&(o=i[1].trim())}r&&r[o]&&r[o][e]&&(t=t.concat(r[o][e])),n=Object.getPrototypeOf(n)}return t},t.prototype.removeAnnotatedEventListeners=function(){var e=this;this.annotatedEventListeners&&this.eGui&&(this.annotatedEventListeners.forEach((function(t){e.eGui.removeEventListener(t.eventName,t.listener)})),this.annotatedEventListeners=[])},t.prototype.getGui=function(){return this.eGui},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e){if(de.isNodeOrElement(e))this.eGui.appendChild(e);else{var t=e;this.eGui.appendChild(t.getGui()),this.childComponents.push(t)}},t.prototype.addFeature=function(e,t){this.wireDependentBean(e,t)},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e){e!==this.visible&&(this.visible=e,de.setVisible(this.eGui,e))},t.prototype.setDisplayed=function(e){e!==this.displayed&&(this.displayed=e,de.setDisplayed(this.eGui,e),this.dispatchEvent({type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},t.prototype.addOrRemoveCssClass=function(e,t){de.addOrRemoveCssClass(this.eGui,e,t)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.childComponents.forEach((function(e){e&&e.destroy&&e.destroy()})),this.childComponents.length=0,this.removeAnnotatedEventListeners()},t.prototype.addGuiEventListener=function(e,t){var n=this;this.getGui().addEventListener(e,t),this.addDestroyFunc((function(){return n.getGui().removeEventListener(e,t)}))},t.prototype.addCssClass=function(e){de.addCssClass(this.getGui(),e)},t.prototype.removeCssClass=function(e){de.removeCssClass(this.getGui(),e)},t.prototype.getAttribute=function(e){var t=this.getGui();return t?t.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'+e+'"]')},t.EVENT_DISPLAYED_CHANGED="displayedChanged",w([ye],t.prototype,"createChildComponentsPreConstruct",null),t}(qe),Ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(t){de.addCssClass(t.getGui(),"ag-has-popup"),e.prototype.setParentComponent.call(this,t)},t.prototype.destroy=function(){var t=this.parentComponent;t&&t.isAlive()&&de.removeCssClass(t.getGui(),"ag-has-popup"),e.prototype.destroy.call(this)},t}(Qe),Ze=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.eInput=n.getGui().querySelector("input"),n}return E(t,e),t.prototype.init=function(e){this.params=e;var t,n=this.eInput;e.cellStartedEdit?(this.focusAfterAttached=!0,e.keyPress===ie.KEY_BACKSPACE||e.keyPress===ie.KEY_DELETE?t="":e.charPress?t=e.charPress:(t=this.getStartValue(e),e.keyPress!==ie.KEY_F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,t=this.getStartValue(e)),de.exists(t)&&(n.value=t),this.addDestroyableEventListener(n,"keydown",(function(e){(e.keyCode===ie.KEY_PAGE_UP||e.keyCode===ie.KEY_PAGE_DOWN)&&e.preventDefault()}))},t.prototype.afterGuiAttached=function(){if(this.focusAfterAttached){var e=this.eInput;if(de.isBrowserSafari()||e.focus(),this.highlightAllOnFocus)e.select();else{var t=e.value?e.value.length:0;t>0&&e.setSelectionRange(t,t)}}},t.prototype.focusIn=function(){var e=this.eInput;e.focus(),e.select()},t.prototype.getValue=function(){return this.params.parseValue(this.eInput.value)},t.prototype.getStartValue=function(e){return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value},t.prototype.isPopup=function(){return!1},t.TEMPLATE='<div class="ag-input-wrapper" role="presentation"><input class="ag-cell-edit-input" type="text"/></div>',t}(Ye);function Xe(e){return $e.bind(this,"[ref="+e+"]")}function $e(e,t,n,r){null!==e?"number"!=typeof r?et(t,"querySelectors",{attributeName:n,querySelector:e}):console.error("ag-Grid: QuerySelector should be on an attribute"):console.error("ag-Grid: QuerySelector selector should not be null")}function Je(e,t,n){null!==e?et(t,"listenerMethods",{methodName:n,eventName:e}):console.error("ag-Grid: EventListener eventName should not be null")}function et(e,t,n){var r=function(e,t){return e.__agComponentMetaData||(e.__agComponentMetaData={}),e.__agComponentMetaData[t]||(e.__agComponentMetaData[t]={}),e.__agComponentMetaData[t]}(e,e.constructor.name);r[t]||(r[t]=[]),r[t].push(n)}var tt,nt,rt,ot,it,st,at,lt,ut,ct,pt,dt,ht,ft,gt,vt,yt,mt,Ct,wt,bt=function(){function e(e,t,n){var r=this;this.alive=!0,e.newDateComponent(t).then((function(e){r.alive?(r.dateComp=e,n.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached(),r.tempValue&&e.setDate(r.tempValue)):e.destroy&&e.destroy()}))}return e.prototype.destroy=function(){this.alive=!1,this.dateComp&&this.dateComp.destroy&&this.dateComp.destroy()},e.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},e.prototype.setDate=function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e},e}(),Et=function(){function e(){this.customFilterOptions={}}return e.prototype.init=function(e,t){this.filterOptions=e.filterOptions?e.filterOptions:t,this.mapCustomOptions(),this.selectDefaultItem(e)},e.prototype.getFilterOptions=function(){return this.filterOptions},e.prototype.mapCustomOptions=function(){var e=this;this.filterOptions&&this.filterOptions.forEach((function(t){"string"!=typeof t&&(t.displayKey?t.displayName?t.test?e.customFilterOptions[t.displayKey]=t:console.warn("ag-Grid: ignoring FilterOptionDef as it doesn't contain a 'test'"):console.warn("ag-Grid: ignoring FilterOptionDef as it doesn't contain a 'displayName'"):console.warn("ag-Grid: ignoring FilterOptionDef as it doesn't contain a 'displayKey'"))}))},e.prototype.selectDefaultItem=function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];"string"==typeof t?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("ag-Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("ag-Grid: no filter options for filter")},e.prototype.getDefaultOption=function(){return this.defaultOption},e.prototype.getCustomOption=function(e){return this.customFilterOptions[e]},e}(),_t=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},St=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),t.prototype.onFilterChanged=function(){console.warn("ag-Grid: you should not call onFilterChanged() directly on the filter, please call\n        gridApi.onFilterChanged() instead. onFilterChanged is not part of the exposed filter interface (it was\n        a method that existed on an old version of the filters that was not intended for public use."),this.providedFilterParams.filterChangedCallback()},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e)},t.prototype.init=function(e){this.setParams(e),this.resetUiToDefaults(),this.updateUiVisibility(),this.setupOnBtApplyDebounce()},t.prototype.setParams=function(e){var n=this;if(this.providedFilterParams=e,this.clearActive=!0===e.clearButton,this.applyActive=t.isUseApplyButton(e),e.newRowsAction===t.NEW_ROWS_ACTION_KEEP)this.newRowsActionKeep=!0;else if(e.newRowsAction===t.NEW_ROWS_ACTION_CLEAR)this.newRowsActionKeep=!1;else{var r=this.rowModel.getType();this.newRowsActionKeep=[ie.ROW_MODEL_TYPE_SERVER_SIDE,ie.ROW_MODEL_TYPE_INFINITE].indexOf(r)>=0}de.setDisplayed(this.eApplyButton,this.applyActive),this.addDestroyableEventListener(this.eApplyButton,"click",(function(){return n.onBtApply()})),de.setDisplayed(this.eClearButton,this.clearActive),this.addDestroyableEventListener(this.eClearButton,"click",this.onBtClear.bind(this)),de.setDisplayed(this.eButtonsPanel,this.applyActive||this.clearActive)},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=de.debounce(this.onBtApply.bind(this),e)},t.prototype.getModel=function(){return this.appliedModel},t.prototype.setModel=function(e){e?this.setModelIntoUi(e):this.resetUiToDefaults(),this.updateUiVisibility(),this.applyModel()},t.prototype.onBtClear=function(){this.resetUiToDefaults(),this.updateUiVisibility(),this.onUiChanged()},t.prototype.applyModel=function(){var e=this.appliedModel;return this.appliedModel=this.getModelFromUi(),!this.areModelsEqual(this.appliedModel,e)},t.prototype.onBtApply=function(e){void 0===e&&(e=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e})},t.prototype.onNewRowsLoaded=function(){this.newRowsActionKeep||(this.resetUiToDefaults(),this.appliedModel=null)},t.prototype.isNewRowsActionKeep=function(){return this.newRowsActionKeep},t.prototype.onUiChanged=function(e){void 0===e&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),e?this.onBtApply(!0):this.applyActive||this.onBtApplyDebounce()},t.prototype.createTemplate=function(){var e=this.createBodyTemplate(),t=this.gridOptionsWrapper.getLocaleTextFunc();return"<div>\n                    <div class='ag-filter-body-wrapper' ref=\"eFilterBodyWrapper\">"+e+'</div>\n                    <div class="ag-filter-apply-panel" ref="eButtonsPanel">\n                        <button type="button" ref="eClearButton">'+t("clearFilter","Clear Filter")+'</button>\n                        <button type="button" ref="eApplyButton">'+t("applyFilter","Apply Filter")+"</button>\n                    </div>\n                </div>"},t.getDebounceMs=function(e,n){return t.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("ag-Grid: debounceMs is ignored when applyButton = true"),0):null!=e.debounceMs?e.debounceMs:n},t.isUseApplyButton=function(e){return e.apply&&!e.applyButton&&(console.warn("ag-Grid: as of ag-Grid v21, filterParams.apply is now filterParams.applyButton, please change to applyButton"),e.applyButton=!0),!0===e.applyButton},t.NEW_ROWS_ACTION_KEEP="keep",t.NEW_ROWS_ACTION_CLEAR="clear",_t([Xe("eButtonsPanel")],t.prototype,"eButtonsPanel",void 0),_t([Xe("eFilterBodyWrapper")],t.prototype,"eFilterBodyWrapper",void 0),_t([Xe("eApplyButton")],t.prototype,"eApplyButton",void 0),_t([Xe("eClearButton")],t.prototype,"eClearButton",void 0),_t([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),_t([be("rowModel")],t.prototype,"rowModel",void 0),_t([me],t.prototype,"postConstruct",null),t}(Qe),Rt=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Tt=function(e){return e[e.One=0]="One",e[e.Two=1]="Two",e}({}),Ot={loadingOoo:"Loading...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",filterOoo:"Filter...",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",searchOoo:"Search...",selectAll:"Select All",applyFilter:"Apply Filter",clearFilter:"Clear Filter",andCondition:"AND",orCondition:"OR"},Dt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.showValueFrom=function(e){return!this.doesFilterHaveHiddenInput(e)&&e!==t.EMPTY},t.prototype.showValueTo=function(e){return e===t.IN_RANGE},t.prototype.onFloatingFilterChanged=function(e,t){this.setValueFromFloatingFilter(t),this.setTypeFromFloatingFilter(e),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){this.eType1.value=e,this.eType2.value=null,this.eJoinOperatorAnd.checked=!0},t.prototype.getModelFromUi=function(){return this.isConditionUiComplete(Tt.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(Tt.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(Tt.One),condition2:this.createCondition(Tt.Two)}:this.createCondition(Tt.One):null},t.prototype.getCondition1Type=function(){return this.eType1.value},t.prototype.getCondition2Type=function(){return this.eType2.value},t.prototype.getJoinOperator=function(){return this.eJoinOperatorOr.checked?"OR":"AND"},t.prototype.areModelsEqual=function(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var n,r=!e.operator,o=!t.operator;if(!r&&o||r&&!o)return!1;if(r)n=this.areSimpleModelsEqual(e,t);else{var i=e,s=t;n=i.operator===s.operator&&this.areSimpleModelsEqual(i.condition1,s.condition1)&&this.areSimpleModelsEqual(i.condition2,s.condition2)}return n},t.prototype.setModelIntoUi=function(e){if(e.operator){var t=e,n="OR"===t.operator;this.eJoinOperatorAnd.checked=!n,this.eJoinOperatorOr.checked=n,this.eType1.value=t.condition1.type,this.eType2.value=t.condition2.type,this.setConditionIntoUi(t.condition1,Tt.One),this.setConditionIntoUi(t.condition2,Tt.Two)}else{var r=e;this.eJoinOperatorAnd.checked=!0,this.eJoinOperatorOr.checked=!1,this.eType1.value=r.type,this.eType2.value=this.optionsFactory.getDefaultOption(),this.setConditionIntoUi(r,Tt.One),this.setConditionIntoUi(null,Tt.Two)}},t.prototype.doesFilterPass=function(e){var t=this.getModel();if(t.operator){var n=t,r=this.individualConditionPasses(e,n.condition1),o=this.individualConditionPasses(e,n.condition2);return"AND"===n.operator?r&&o:r||o}return this.individualConditionPasses(e,t)},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.simpleFilterParams=t,this.optionsFactory=new Et,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.allowTwoConditions=!t.suppressAndOrCondition,this.putOptionsIntoDropdown(),this.addChangedListeners()},t.prototype.putOptionsIntoDropdown=function(){var e=this,t=this.optionsFactory.getFilterOptions();t.forEach((function(t){var n=function(){var n="string"==typeof t?t:t.displayKey,r=e.translate(n),o=document.createElement("option");return o.text=r,o.value=n,o};e.eType1.add(n()),e.eType2.add(n())}));var n=t.length<=1;this.eType1.disabled=n,this.eType2.disabled=n},t.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},t.prototype.createBodyTemplate=function(){var e=this.createValueTemplate(Tt.One),t=this.createValueTemplate(Tt.Two),n="ag-simple-filter-and-or-"+this.getCompId(),r=this.gridOptionsWrapper.getLocaleTextFunc();return'<select class="ag-filter-select" ref="eOptions1"></select>\n                '+e+'\n                <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n                    <label>\n                        <input ref="eJoinOperatorAnd" type="radio" class="and" name="'+n+'" value="AND")} checked="checked" />\n                        '+r("andCondition","AND")+'\n                    </label>\n                    <label>\n                        <input ref="eJoinOperatorOr" type="radio" class="or" name="'+n+'" value="OR" />\n                        '+r("orCondition","OR")+'\n                    </label>\n                </div>\n                <select class="ag-filter-select" ref="eOptions2"></select>\n                '+t},t.prototype.updateUiVisibility=function(){var e=this.isConditionUiComplete(Tt.One),t=this.allowTwoConditions&&e;de.setDisplayed(this.eCondition2Body,t),de.setDisplayed(this.eType2,t),de.setDisplayed(this.eJoinOperatorPanel,t)},t.prototype.resetUiToDefaults=function(){this.eJoinOperatorAnd.checked=!0;var e=this.optionsFactory.getDefaultOption();this.eType1.value=e,this.eType2.value=e},t.prototype.translate=function(e){var t=this.gridOptionsWrapper.getLocaleTextFunc(),n=Ot[e];return!n&&this.optionsFactory.getCustomOption(e)&&(n=this.optionsFactory.getCustomOption(e).displayName),t(e,n)},t.prototype.addChangedListeners=function(){var e=this,t=function(){return e.onUiChanged()};this.addDestroyableEventListener(this.eType1,"change",t),this.addDestroyableEventListener(this.eType2,"change",t),this.addDestroyableEventListener(this.eJoinOperatorOr,"change",t),this.addDestroyableEventListener(this.eJoinOperatorAnd,"change",t)},t.prototype.doesFilterHaveHiddenInput=function(e){var t=this.optionsFactory.getCustomOption(e);return t&&t.hideFilterInput},t.EMPTY="empty",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",Rt([Xe("eOptions1")],t.prototype,"eType1",void 0),Rt([Xe("eOptions2")],t.prototype,"eType2",void 0),Rt([Xe("eJoinOperatorAnd")],t.prototype,"eJoinOperatorAnd",void 0),Rt([Xe("eJoinOperatorOr")],t.prototype,"eJoinOperatorOr",void 0),Rt([Xe("eCondition2Body")],t.prototype,"eCondition2Body",void 0),Rt([Xe("eJoinOperatorPanel")],t.prototype,"eJoinOperatorPanel",void 0),t}(St),It=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.scalarFilterParams=t,this.checkDeprecatedParams()},t.prototype.checkDeprecatedParams=function(){this.scalarFilterParams.nullComparator&&(console.warn("ag-Grid: Since v21.0, the property filterParams.nullComparator is deprecated. Please use filterParams.includeBlanksInEquals, filterParams.includeBlanksInLessThan and filterParams.includeBlanksInGreaterThan instead."),this.scalarFilterParams.includeBlanksInEquals=this.scalarFilterParams.nullComparator.equals,this.scalarFilterParams.includeBlanksInLessThan=this.scalarFilterParams.nullComparator.lessThan,this.scalarFilterParams.includeBlanksInGreaterThan=this.scalarFilterParams.nullComparator.greaterThan)},t.prototype.nullComparator=function(e,n,r){if(null==r){var o=this.canNullsPassFilter(e);if(e===t.EMPTY)return 0;if(e===t.EQUALS)return o?0:1;if(e===t.GREATER_THAN)return o?1:-1;if(e===t.GREATER_THAN_OR_EQUAL)return o?1:-1;if(e===t.LESS_THAN_OR_EQUAL)return o?-1:1;if(e===t.LESS_THAN)return o?-1:1;if(e===t.NOT_EQUAL)return o?1:0}return this.comparator()(n,r)},t.prototype.canNullsPassFilter=function(e){switch(e){case Dt.GREATER_THAN:case Dt.GREATER_THAN_OR_EQUAL:return this.scalarFilterParams.includeBlanksInGreaterThan;case Dt.LESS_THAN:case Dt.LESS_THAN_OR_EQUAL:return this.scalarFilterParams.includeBlanksInLessThan;case Dt.EQUALS:return this.scalarFilterParams.includeBlanksInEquals}},t.prototype.individualConditionPasses=function(e,n){var r=this.scalarFilterParams.valueGetter(e.node),o=this.mapRangeFromModel(n),i=o.from,s=o.to,a=n.type,l=this.optionsFactory.getCustomOption(a);if(l&&(null!=i||l.hideFilterInput))return l.test(i,r);var u=this.nullComparator(a,i,r);if(a===t.EQUALS)return 0===u;if(a===t.GREATER_THAN)return u>0;if(a===t.GREATER_THAN_OR_EQUAL)return u>=0;if(a===t.LESS_THAN_OR_EQUAL)return u<=0;if(a===t.LESS_THAN)return u<0;if(a===t.NOT_EQUAL)return 0!=u;var c=this.nullComparator(a,s,r);if(a===t.IN_RANGE)return this.scalarFilterParams.inRangeInclusive?u>=0&&c<=0:u>0&&c<0;throw new Error("Unexpected type of filter: "+a)},t.DEFAULT_NULL_COMPARATOR={equals:!1,lessThan:!1,greaterThan:!1},t}(Dt),At=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},kt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return T(t,e),t.prototype.mapRangeFromModel=function(e){return{from:de.parseYyyyMmDdToDate(e.dateFrom,"-"),to:de.parseYyyyMmDdToDate(e.dateTo,"-")}},t.prototype.setValueFromFloatingFilter=function(e){if(null!=e){var t=de.parseYyyyMmDdToDate(e,"-");this.dateCompFrom1.setDate(t)}else this.dateCompFrom1.setDate(null);this.dateCompTo1.setDate(null),this.dateCompFrom2.setDate(null),this.dateCompTo2.setDate(null)},t.prototype.setConditionIntoUi=function(e,t){var n=t===Tt.One,r=e?e.dateTo:null,o=de.parseYyyyMmDdToDate(e?e.dateFrom:null,"-"),i=de.parseYyyyMmDdToDate(r,"-"),s=n?this.dateCompTo1:this.dateCompTo2;(n?this.dateCompFrom1:this.dateCompFrom2).setDate(o),s.setDate(i)},t.prototype.resetUiToDefaults=function(){e.prototype.resetUiToDefaults.call(this),this.dateCompTo1.setDate(null),this.dateCompTo2.setDate(null),this.dateCompFrom1.setDate(null),this.dateCompFrom2.setDate(null)},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,t){return t<e?-1:t>e?1:null!=t?0:-1},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.dateFilterParams=t,this.createDateComponents()},t.prototype.createDateComponents=function(){var e=this,t={onDateChanged:function(){return e.onUiChanged()},filterParams:this.dateFilterParams};this.dateCompFrom1=new bt(this.userComponentFactory,t,this.ePanelFrom1),this.dateCompFrom2=new bt(this.userComponentFactory,t,this.ePanelFrom2),this.dateCompTo1=new bt(this.userComponentFactory,t,this.ePanelTo1),this.dateCompTo2=new bt(this.userComponentFactory,t,this.ePanelTo2),this.addDestroyFunc((function(){e.dateCompFrom1.destroy(),e.dateCompFrom2.destroy(),e.dateCompTo1.destroy(),e.dateCompTo2.destroy()}))},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===Tt.One?"1":"2";return'<div class="ag-filter-body" ref="eCondition'+t+'Body">\n                    <div class="ag-filter-date-from" ref="ePanelFrom'+t+'">\n                    </div>\n                    <div class="ag-filter-date-to" ref="ePanelTo'+t+'"">\n                    </div>\n                </div>'},t.prototype.isConditionUiComplete=function(e){var t=e===Tt.One,n=t?this.getCondition1Type():this.getCondition2Type(),r=t?this.dateCompTo1:this.dateCompTo2,o=(t?this.dateCompFrom1:this.dateCompFrom2).getDate(),i=r.getDate();return n!==Dt.EMPTY&&(!!this.doesFilterHaveHiddenInput(n)||(n===Dt.IN_RANGE?null!=o&&null!=i:null!=o))},t.prototype.areSimpleModelsEqual=function(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type},t.prototype.getFilterType=function(){return t.FILTER_TYPE},t.prototype.createCondition=function(e){var n=e===Tt.One,r=n?this.getCondition1Type():this.getCondition2Type(),o=n?this.dateCompFrom1:this.dateCompFrom2;return{dateTo:de.serializeDateToYyyyMmDd((n?this.dateCompTo1:this.dateCompTo2).getDate(),"-"),dateFrom:de.serializeDateToYyyyMmDd(o.getDate(),"-"),type:r,filterType:t.FILTER_TYPE}},t.prototype.updateUiVisibility=function(){e.prototype.updateUiVisibility.call(this);var t=this.showValueFrom(this.getCondition1Type());de.setDisplayed(this.ePanelFrom1,t);var n=this.showValueTo(this.getCondition1Type());de.setDisplayed(this.ePanelTo1,n);var r=this.showValueFrom(this.getCondition2Type());de.setDisplayed(this.ePanelFrom2,r);var o=this.showValueTo(this.getCondition2Type());de.setDisplayed(this.ePanelTo2,o)},t.FILTER_TYPE="date",t.DEFAULT_FILTER_OPTIONS=[It.EQUALS,It.GREATER_THAN,It.LESS_THAN,It.NOT_EQUAL,It.IN_RANGE],At([Xe("ePanelFrom1")],t.prototype,"ePanelFrom1",void 0),At([Xe("ePanelFrom2")],t.prototype,"ePanelFrom2",void 0),At([Xe("ePanelTo1")],t.prototype,"ePanelTo1",void 0),At([Xe("ePanelTo2")],t.prototype,"ePanelTo2",void 0),At([be("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(It),Pt=function(){function e(e,t){var n=this;void 0===t&&(t=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new Oe,this.eElement=e,this.preventMouseClick=t;var r=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push((function(){n.eElement.removeEventListener("touchstart",r,{passive:!0}),n.eElement.removeEventListener("touchmove",o,{passive:!0}),n.eElement.removeEventListener("touchend",i,{passive:!1})}))}return e.prototype.getActiveTouch=function(e){for(var t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.onTouchStart=function(t){var n=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var r=this.touchStart;window.setTimeout((function(){n.touching&&n.touchStart===r&&!n.moved&&(n.moved=!0,n.eventService.dispatchEvent({type:e.EVENT_LONG_TAP,touchStart:n.touchStart,touchEvent:t}))}),500)}},e.prototype.onTouchMove=function(e){if(this.touching){var t=this.getActiveTouch(e.touches);t&&!de.areEventsNear(t,this.touchStart,4)&&(this.moved=!0)}},e.prototype.onTouchEnd=function(t){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:e.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&t.preventDefault(),this.touching=!1)},e.prototype.checkForDoubleTap=function(){var t=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&t-this.lastTapTime>e.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:e.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=t},e.prototype.destroy=function(){this.destroyFuncs.forEach((function(e){return e()}))},e.EVENT_TAP="tap",e.EVENT_DOUBLE_TAP="doubleTap",e.EVENT_LONG_TAP="longTap",e.DOUBLE_TAP_MILLIS=500,e}(),Nt=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},xt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return O(t,e),t.prototype.init=function(e){var n=de.firstExistingValue(e.template,t.TEMPLATE);n=n&&n.trim?n.trim():n,this.setTemplate(n),this.params=e,this.setupTap(),this.setupIcons(e.column),this.setupMenu(),this.setupSort(),this.setupFilterIcon(),this.setupText(e.displayName)},t.prototype.setupText=function(e){var t=de.escape(e);this.eText&&(this.eText.innerHTML=t)},t.prototype.setupIcons=function(e){this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,t,n){if(null!=t){var r=de.createIconNoSpan(e,this.gridOptionsWrapper,n);t.appendChild(r)}},t.prototype.setupTap=function(){var e=this,t=this.gridOptionsWrapper;if(!t.isSuppressTouch()){var n=new Pt(this.getGui(),!0),r=t.isSuppressMenuHide(),o=r&&de.exists(this.eMenu),i=o?new Pt(this.eMenu,!0):n;this.params.enableMenu&&this.addDestroyableEventListener(i,Pt[o?"EVENT_TAP":"EVENT_LONG_TAP"],(function(n){t.getApi().showColumnMenuAfterMouseClick(e.params.column,n.touchStart)})),this.params.enableSorting&&this.addDestroyableEventListener(n,Pt.EVENT_TAP,(function(t){r&&e.eMenu.contains(t.touchStart.target)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")})),this.addDestroyFunc((function(){return n.destroy()})),o&&this.addDestroyFunc((function(){return i.destroy()}))}},t.prototype.setupMenu=function(){var e=this;if(this.eMenu){var t=this.gridOptionsWrapper.isSuppressMenuHide();if(!this.params.enableMenu||de.isIOSUserAgent()&&!t)de.removeFromParent(this.eMenu);else{this.addDestroyableEventListener(this.eMenu,"click",(function(){return e.showMenu(e.eMenu)})),t||(this.eMenu.style.opacity="0",this.addGuiEventListener("mouseover",(function(){e.eMenu.style.opacity="1"})),this.addGuiEventListener("mouseout",(function(){e.eMenu.style.opacity="0"})));var n=this.eMenu.style;n.transition="opacity 0.2s, border 0.2s",n["-webkit-transition"]="opacity 0.2s, border 0.2s"}}},t.prototype.showMenu=function(e){this.menuFactory.showMenuAfterButtonClick(this.params.column,e)},t.prototype.removeSortIcons=function(){de.removeFromParent(this.eSortAsc),de.removeFromParent(this.eSortDesc),de.removeFromParent(this.eSortNone),de.removeFromParent(this.eSortOrder)},t.prototype.setupSort=function(){var e=this;if(this.params.enableSorting){var t=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addDestroyableEventListener(this.params.column,Ie.EVENT_MOVING_CHANGED,(function(){e.lastMovingChanged=(new Date).getTime()})),this.eLabel&&this.addDestroyableEventListener(this.eLabel,"click",(function(n){var r=e.params.column.isMoving(),o=(new Date).getTime();r||o-e.lastMovingChanged<50||e.params.progressSort(t?n.ctrlKey||n.metaKey:n.shiftKey)})),this.addDestroyableEventListener(this.params.column,Ie.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addDestroyableEventListener(this.eventService,xe.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},t.prototype.onSortChanged=function(){if(de.addOrRemoveCssClass(this.getGui(),"ag-header-cell-sorted-asc",this.params.column.isSortAscending()),de.addOrRemoveCssClass(this.getGui(),"ag-header-cell-sorted-desc",this.params.column.isSortDescending()),de.addOrRemoveCssClass(this.getGui(),"ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&de.addOrRemoveCssClass(this.eSortAsc,"ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&de.addOrRemoveCssClass(this.eSortDesc,"ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var e=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();de.addOrRemoveCssClass(this.eSortNone,"ag-hidden",e||!this.params.column.isSortNone())}},t.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var e=this.params.column,t=this.sortController.getColumnsWithSortingOrdered(),n=t.indexOf(e),r=t.length>1,o=e.isSorting()&&r;de.setDisplayed(this.eSortOrder,o),n>=0?this.eSortOrder.innerHTML=(n+1).toString():de.clearElement(this.eSortOrder)}},t.prototype.setupFilterIcon=function(){this.eFilter&&(this.addDestroyableEventListener(this.params.column,Ie.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();de.addOrRemoveCssClass(this.eFilter,"ag-hidden",!e)},t.TEMPLATE='<div class="ag-cell-label-container" role="presentation">  <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>  <div ref="eLabel" class="ag-header-cell-label" role="presentation" unselectable="on">    <span ref="eText" class="ag-header-cell-text" role="columnheader" unselectable="on"></span>    <span ref="eFilter" class="ag-header-icon ag-filter-icon" aria-hidden="true"></span>    <span ref="eSortOrder" class="ag-header-icon ag-sort-order" aria-hidden="true"></span>    <span ref="eSortAsc" class="ag-header-icon ag-sort-ascending-icon" aria-hidden="true"></span>    <span ref="eSortDesc" class="ag-header-icon ag-sort-descending-icon" aria-hidden="true"></span>    <span ref="eSortNone" class="ag-header-icon ag-sort-none-icon" aria-hidden="true"></span>  </div></div>',Nt([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Nt([be("sortController")],t.prototype,"sortController",void 0),Nt([be("menuFactory")],t.prototype,"menuFactory",void 0),Nt([be("eventService")],t.prototype,"eventService",void 0),Nt([Xe("eFilter")],t.prototype,"eFilter",void 0),Nt([Xe("eSortAsc")],t.prototype,"eSortAsc",void 0),Nt([Xe("eSortDesc")],t.prototype,"eSortDesc",void 0),Nt([Xe("eSortNone")],t.prototype,"eSortNone",void 0),Nt([Xe("eSortOrder")],t.prototype,"eSortOrder",void 0),Nt([Xe("eMenu")],t.prototype,"eMenu",void 0),Nt([Xe("eLabel")],t.prototype,"eLabel",void 0),Nt([Xe("eText")],t.prototype,"eText",void 0),t}(Qe),Ft=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Mt=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return D(t,e),t.prototype.init=function(e){this.params=e,this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var t=function(t){if(!de.isStopPropagationForAgGrid(t)){var n=!e.params.columnGroup.isExpanded();e.columnController.setColumnGroupOpened(e.params.columnGroup.getOriginalColumnGroup(),n,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,t),this.addTouchAndClickListeners(this.eOpenIcon,t);var n=function(e){de.stopPropagationForAgGrid(e)};this.addDestroyableEventListener(this.eCloseIcon,"dblclick",n),this.addDestroyableEventListener(this.eOpenIcon,"dblclick",n),this.addDestroyableEventListener(this.getGui(),"dblclick",t),this.updateIconVisibility();var r=this.params.columnGroup.getOriginalColumnGroup();this.addDestroyableEventListener(r,ke.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addDestroyableEventListener(r,ke.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,t){var n=new Pt(e);this.addDestroyableEventListener(n,Pt.EVENT_TAP,t),this.addDestroyFunc((function(){return n.destroy()})),this.addDestroyableEventListener(e,"click",t)},t.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var e=this.params.columnGroup.isExpanded();de.setDisplayed(this.eOpenIcon,e),de.setDisplayed(this.eCloseIcon,!e)}else de.setDisplayed(this.eOpenIcon,!1),de.setDisplayed(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,t){var n=de.createIconNoSpan(e,this.gridOptionsWrapper,null);this.getRefElement(t).appendChild(n)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return de.setDisplayed(this.eOpenIcon,!1),void de.setDisplayed(this.eCloseIcon,!1)},t.prototype.setupLabel=function(){this.params.displayName&&""!==this.params.displayName&&(this.getRefElement("agLabel").innerHTML=this.params.displayName)},t.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation"><span ref="agLabel" class="ag-header-group-text" role="columnheader"></span><span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span><span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span></div>',Ft([be("columnController")],t.prototype,"columnController",void 0),Ft([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ft([Xe("agOpened")],t.prototype,"eOpenIcon",void 0),Ft([Xe("agClosed")],t.prototype,"eCloseIcon",void 0),t}(Qe),Lt=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Vt=function(){function e(){this.childrenMapped={},this.selectable=!0,this.__objectId=e.OBJECT_ID_SEQUENCE++,this.alreadyRendered=!1,this.selected=!1}return e.prototype.setData=function(e){var t=this.data;this.data=e,this.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var n=this.createDataChangedEvent(e,t,!1);this.dispatchLocalEvent(n)},e.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},e.prototype.createDataChangedEvent=function(t,n,r){return{type:e.EVENT_DATA_CHANGED,node:this,oldData:n,newData:t,update:r}},e.prototype.createLocalRowEvent=function(e){return{type:e,node:this}},e.prototype.updateData=function(e){var t=this.data;this.data=e,this.updateDataOnDetailNode(),this.checkRowSelectable(),this.updateDataOnDetailNode();var n=this.createDataChangedEvent(e,t,!0);this.dispatchLocalEvent(n)},e.prototype.getRowIndexString=function(){return this.rowPinned===ie.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===ie.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},e.prototype.createDaemonNode=function(){var t=new e;return this.context.wireBean(t),t.id=this.id,t.data=this.data,t.daemon=!0,t.selected=this.selected,t.level=this.level,t},e.prototype.setDataAndId=function(e,t){var n=de.exists(this.id)?this.createDaemonNode():null,r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.selectionController.syncInRowNode(this,n),this.checkRowSelectable();var o=this.createDataChangedEvent(e,r,!1);this.dispatchLocalEvent(o)},e.prototype.checkRowSelectable=function(){var e=this.gridOptionsWrapper.getIsRowSelectableFunc(),t=e&&de.exists(this);this.setRowSelectable(!t||e(this))},e.prototype.setRowSelectable=function(t){this.selectable!==t&&(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_SELECTABLE_CHANGED)))},e.prototype.setId=function(e){var t=this.gridOptionsWrapper.getRowNodeIdFunc();this.id=t?this.data?t(this.data):void 0:e},e.prototype.isPixelInRange=function(e){return e>=this.rowTop&&e<this.rowTop+this.rowHeight},e.prototype.clearRowTop=function(){this.oldRowTop=this.rowTop,this.setRowTop(null)},e.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_FIRST_CHILD_CHANGED)))},e.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_LAST_CHILD_CHANGED)))},e.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_CHILD_INDEX_CHANGED)))},e.prototype.setRowTop=function(t){this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_TOP_CHANGED)))},e.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_DRAGGING_CHANGED)))},e.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},e.prototype.setRowHeight=function(t,n){void 0===n&&(n=!1),this.rowHeight=t,this.rowHeightEstimated=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HEIGHT_CHANGED))},e.prototype.setRowIndex=function(t){this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ROW_INDEX_CHANGED))},e.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_UI_LEVEL_CHANGED)))},e.prototype.setExpanded=function(t){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_EXPANDED_CHANGED));var n=this.createGlobalRowEvent(xe.EVENT_ROW_GROUP_OPENED);this.mainEventService.dispatchEvent(n),this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridApi.redrawRows({rowNodes:[this]})}},e.prototype.createGlobalRowEvent=function(e){return{type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},e.prototype.dispatchLocalEvent=function(e){this.eventService&&this.eventService.dispatchEvent(e)},e.prototype.setDataValue=function(e,t){var n=this.columnController.getPrimaryColumn(e);this.valueService.setValue(this,n,t),this.dispatchCellChangedEvent(n,t)},e.prototype.setGroupValue=function(e,t){var n=this.columnController.getGridColumn(e);de.missing(this.groupData)&&(this.groupData={}),this.groupData[n.getColId()]=t,this.dispatchCellChangedEvent(n,t)},e.prototype.setAggData=function(e){var t=this,n=de.getAllKeysInObjects([this.aggData,e]);this.aggData=e,this.eventService&&n.forEach((function(e){var n=t.columnController.getGridColumn(e);t.dispatchCellChangedEvent(n,t.aggData?t.aggData[e]:void 0)}))},e.prototype.hasChildren=function(){return this.group||this.childrenAfterGroup&&this.childrenAfterGroup.length>0},e.prototype.isEmptyRowGroupNode=function(){return this.group&&de.missingOrEmpty(this.childrenAfterGroup)},e.prototype.dispatchCellChangedEvent=function(t,n){this.dispatchLocalEvent({type:e.EVENT_CELL_CHANGED,node:this,column:t,newValue:n})},e.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},e.prototype.isExpandable=function(){return this.hasChildren()||this.master},e.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},e.prototype.depthFirstSearch=function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((function(t){return t.depthFirstSearch(e)})),e(this)},e.prototype.calculateSelectedFromChildren=function(){var e=!1,t=!1,n=!1;if(this.childrenAfterGroup)for(var r=0;r<this.childrenAfterGroup.length;r++){var o=this.childrenAfterGroup[r];if(o.selectable)switch(o.isSelected()){case!0:e=!0;break;case!1:t=!0;break;default:n=!0}}this.selectThisNode(n?void 0:!(!e||t)||!(!e&&t)&&void 0)},e.prototype.setSelectedInitialValue=function(e){this.selected=e},e.prototype.setSelected=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this.setSelectedParams({newValue:e,clearSelection:t,suppressFinishActions:n,rangeSelect:!1})},e.prototype.isRowPinned=function(){return this.rowPinned===ie.PINNED_TOP||this.rowPinned===ie.PINNED_BOTTOM},e.prototype.setSelectedParams=function(e){var t=this.gridOptionsWrapper.isGroupSelectsChildren(),n=!0===e.newValue,r=!0===e.clearSelection,o=!0===e.suppressFinishActions,i=!0===e.rangeSelect,s=t&&!0===e.groupSelectsFiltered;if(void 0===this.id)return console.warn("ag-Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("ag-Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(e);if(i){var a=this.selectionController.getLastSelectedNode()!==this,l=this.gridOptionsWrapper.isRowSelectionMulti();if(a&&l)return this.doRowRangeSelection()}var u=0;return s&&this.group||this.selectThisNode(n)&&u++,t&&this.group&&(u+=this.selectChildNodes(n,s)),o||(n&&(r||!this.gridOptionsWrapper.isRowSelectionMulti())&&(u+=this.selectionController.clearOtherNodes(this)),u>0&&(this.selectionController.updateGroupsFromChildrenSelections(),this.mainEventService.dispatchEvent({type:xe.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})),n&&this.selectionController.setLastSelectedNode(this)),u},e.prototype.doRowRangeSelection=function(){var e=0,t=this.gridOptionsWrapper.isGroupSelectsChildren(),n=this.selectionController.getLastSelectedNode();return this.rowModel.getNodesInRangeForSelection(this,n).forEach((function(n){n.group&&t||n.selectThisNode(!0)&&e++})),this.selectionController.updateGroupsFromChildrenSelections(),this.mainEventService.dispatchEvent({type:xe.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi}),e},e.prototype.isParentOfNode=function(e){for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1},e.prototype.selectThisNode=function(t){if(!this.selectable||this.selected===t)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_ROW_SELECTED));var n=this.createGlobalRowEvent(xe.EVENT_ROW_SELECTED);return this.mainEventService.dispatchEvent(n),!0},e.prototype.selectChildNodes=function(e,t){var n=t?this.childrenAfterFilter:this.childrenAfterGroup,r=0;if(!de.missing(n)){for(var o=0;o<n.length;o++)r+=n[o].setSelectedParams({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:t});return r}},e.prototype.addEventListener=function(e,t){this.eventService||(this.eventService=new Oe),this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_ENTER))},e.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_LEAVE))},e.prototype.getFirstChildOfFirstChild=function(e){for(var t,n=this,r=!0,o=!1;r&&!o;){var i=n.parent;de.exists(i)&&n.firstChild?i.rowGroupColumn===e&&(o=!0,t=i):r=!1,n=i}return o?t:null},e.prototype.isFullWidthCell=function(){var e=this.gridOptionsWrapper.getIsFullWidthCellFunc();return!!e&&e(this)},e.OBJECT_ID_SEQUENCE=0,e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_DATA_CHANGED="dataChanged",e.EVENT_CELL_CHANGED="cellChanged",e.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",e.EVENT_MOUSE_ENTER="mouseEnter",e.EVENT_MOUSE_LEAVE="mouseLeave",e.EVENT_HEIGHT_CHANGED="heightChanged",e.EVENT_TOP_CHANGED="topChanged",e.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",e.EVENT_LAST_CHILD_CHANGED="lastChildChanged",e.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",e.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_SELECTABLE_CHANGED="selectableChanged",e.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",e.EVENT_DRAGGING_CHANGED="draggingChanged",Lt([be("eventService")],e.prototype,"mainEventService",void 0),Lt([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Lt([be("selectionController")],e.prototype,"selectionController",void 0),Lt([be("columnController")],e.prototype,"columnController",void 0),Lt([be("valueService")],e.prototype,"valueService",void 0),Lt([be("rowModel")],e.prototype,"rowModel",void 0),Lt([be("context")],e.prototype,"context",void 0),Lt([be("valueCache")],e.prototype,"valueCache",void 0),Lt([be("columnApi")],e.prototype,"columnApi",void 0),Lt([be("gridApi")],e.prototype,"gridApi",void 0),e}(),Gt=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Wt=function(e){function t(){return e.call(this,'<span class="ag-selection-checkbox"/>')||this}return I(t,e),t.prototype.createAndAddIcons=function(){this.eCheckedIcon=de.createIconNoSpan("checkboxChecked",this.gridOptionsWrapper,this.column),this.eUncheckedIcon=de.createIconNoSpan("checkboxUnchecked",this.gridOptionsWrapper,this.column),this.eIndeterminateIcon=de.createIconNoSpan("checkboxIndeterminate",this.gridOptionsWrapper,this.column);var e=this.getGui();e.appendChild(this.eCheckedIcon),e.appendChild(this.eUncheckedIcon),e.appendChild(this.eIndeterminateIcon)},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.rowNode.isSelected();de.setDisplayed(this.eCheckedIcon,!0===e),de.setDisplayed(this.eUncheckedIcon,!1===e),de.setDisplayed(this.eIndeterminateIcon,"boolean"!=typeof e)},t.prototype.onCheckedClicked=function(){var e=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,groupSelectsFiltered:e})},t.prototype.onUncheckedClicked=function(e){var t=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:e.shiftKey,groupSelectsFiltered:t})},t.prototype.onIndeterminateClicked=function(e){0===this.onUncheckedClicked(e)&&this.onCheckedClicked()},t.prototype.init=function(e){this.rowNode=e.rowNode,this.column=e.column,this.createAndAddIcons(),this.onSelectionChanged(),this.addGuiEventListener("click",(function(e){return de.stopPropagationForAgGrid(e)})),this.addGuiEventListener("dblclick",(function(e){return de.stopPropagationForAgGrid(e)})),this.addDestroyableEventListener(this.eCheckedIcon,"click",this.onCheckedClicked.bind(this)),this.addDestroyableEventListener(this.eUncheckedIcon,"click",this.onUncheckedClicked.bind(this)),this.addDestroyableEventListener(this.eIndeterminateIcon,"click",this.onIndeterminateClicked.bind(this)),this.addDestroyableEventListener(this.rowNode,Vt.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addDestroyableEventListener(this.rowNode,Vt.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addDestroyableEventListener(this.rowNode,Vt.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc(),(this.isRowSelectableFunc||this.checkboxCallbackExists())&&(this.addDestroyableEventListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelect.bind(this)),this.showOrHideSelect())},t.prototype.showOrHideSelect=function(){var e=this.rowNode.selectable;e&&this.checkboxCallbackExists()&&(e=this.column.isCellCheckboxSelection(this.rowNode)),this.setDisplayed(e)},t.prototype.checkboxCallbackExists=function(){var e=this.column?this.column.getColDef():null;return e&&"function"==typeof e.checkboxSelection},Gt([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Gt([be("eventService")],t.prototype,"eventService",void 0),Gt([be("gridApi")],t.prototype,"gridApi",void 0),Gt([be("columnApi")],t.prototype,"columnApi",void 0),t}(Qe),Ht=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Bt=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.REGISTERED_BY_NAME=1]="REGISTERED_BY_NAME",e[e.HARDCODED=2]="HARDCODED",e}({}),Ut=function(){function e(){}return e.prototype.newDateComponent=function(e){return this.createAndInitUserComponent(this.gridOptions,e,"dateComponent","agDateInput")},e.prototype.newHeaderComponent=function(e){return this.createAndInitUserComponent(e.column.getColDef(),e,"headerComponent","agColumnHeader")},e.prototype.newHeaderGroupComponent=function(e){return this.createAndInitUserComponent(e.columnGroup.getColGroupDef(),e,"headerGroupComponent","agColumnGroupHeader")},e.prototype.newFullWidthGroupRowInnerCellRenderer=function(e){return this.createAndInitUserComponent(this.gridOptions,e,"groupRowInnerRenderer",null,!0)},e.prototype.newFullWidthCellRenderer=function(e,t,n){return this.createAndInitUserComponent(null,e,t,n)},e.prototype.newCellRenderer=function(e,t){return this.createAndInitUserComponent(e,t,"cellRenderer",null,!0)},e.prototype.newPinnedRowCellRenderer=function(e,t){return this.createAndInitUserComponent(e,t,"pinnedRowCellRenderer",null,!0)},e.prototype.newCellEditor=function(e,t){return this.createAndInitUserComponent(e,t,"cellEditor","agCellEditor")},e.prototype.newInnerCellRenderer=function(e,t){return this.createAndInitUserComponent(e,t,"innerRenderer",null)},e.prototype.newLoadingOverlayComponent=function(e){return this.createAndInitUserComponent(this.gridOptions,e,"loadingOverlayComponent","agLoadingOverlay")},e.prototype.newNoRowsOverlayComponent=function(e){return this.createAndInitUserComponent(this.gridOptions,e,"noRowsOverlayComponent","agNoRowsOverlay")},e.prototype.newTooltipComponent=function(e){return this.createAndInitUserComponent(e.colDef,e,"tooltipComponent","agTooltipComponent")},e.prototype.newFilterComponent=function(e,t,n,r){return this.createAndInitUserComponent(e,t,"filter",n,!1,r)},e.prototype.newFloatingFilterComponent=function(e,t,n){return this.createAndInitUserComponent(e,t,"floatingFilterComponent",n,!0)},e.prototype.newToolPanelComponent=function(e,t){return this.createAndInitUserComponent(e,t,"toolPanel")},e.prototype.newStatusPanelComponent=function(e,t){return this.createAndInitUserComponent(e,t,"statusPanel")},e.prototype.createAndInitUserComponent=function(e,t,n,r,o,i){void 0===o&&(o=!1),e||(e=this.gridOptions);var s=this.createComponentInstance(e,n,t,r,o);if(!s)return null;var a=s.componentInstance,l=this.createFinalParams(e,n,t,s.paramsFromSelector);this.addReactHacks(l);var u=i?i(l,a):l,c=this.initComponent(a,u);return null==c?fe.resolve(a):c.map((function(e){return a}))},e.prototype.addReactHacks=function(e){var t=this.context.getBean("agGridReact");t&&(e.agGridReact=de.cloneObject(t));var n=this.context.getBean("frameworkComponentWrapper");n&&(e.frameworkComponentWrapper=n)},e.prototype.createUserComponentFromConcreteClass=function(e,t){var n=new e;return this.initComponent(n,t),n},e.prototype.lookupComponentClassDef=function(e,t,n,r){void 0===n&&(n=null);var o,i=null,s=null,a=null,l=null;if(null!=e){var u=e[t];null==u||!0===u||("string"==typeof u?i=u:"boolean"==typeof u||(this.agComponentUtils.doesImplementIComponent(u)?s=u:a=u)),l=e[t+"Framework"],o=e[t+"Selector"]}if(s&&l||i&&l||a&&l)throw Error("ag-grid: you are trying to specify: "+t+" twice as a component.");if(l&&!this.frameworkComponentWrapper)throw Error("ag-grid: you are specifying a framework component but you are not using a framework version of ag-grid for : "+t);if(o&&(i||s||a||l))throw Error("ag-grid: you can't specify both, the selector and the component of ag-grid for : "+t);if(l)return{componentFromFramework:!0,component:l,source:Bt.HARDCODED,paramsFromSelector:null};if(s)return{componentFromFramework:!1,component:s,source:Bt.HARDCODED,paramsFromSelector:null};if(a)return this.agComponentUtils.adaptFunction(t,a,!1,Bt.HARDCODED);var c,p=o?o(n):null;if(!(c=p&&p.component?p.component:i||r))return null;var d=this.lookupFromRegisteredComponents(t,c);return d?{componentFromFramework:d.componentFromFramework,component:d.component,source:d.source,paramsFromSelector:p?p.params:null}:null},e.prototype.lookupFromRegisteredComponents=function(e,t){var n=this.userComponentRegistry.retrieve(null!=t?t:e);return null==n?null:n.componentFromFramework?{component:n.component,componentFromFramework:!0,source:Bt.REGISTERED_BY_NAME,paramsFromSelector:null}:this.agComponentUtils.doesImplementIComponent(n.component)?{component:n.component,componentFromFramework:!1,source:n.source==Ln.REGISTERED?Bt.REGISTERED_BY_NAME:Bt.DEFAULT,paramsFromSelector:null}:this.agComponentUtils.adaptFunction(e,n.component,n.componentFromFramework,n.source==Ln.REGISTERED?Bt.REGISTERED_BY_NAME:Bt.DEFAULT)},e.prototype.createFinalParams=function(e,t,n,r){void 0===r&&(r=null);var o={};de.mergeDeep(o,n);var i=e?e[t+"Params"]:null;return null!=i&&("function"==typeof i?de.mergeDeep(o,i(n)):"object"==typeof i&&de.mergeDeep(o,i)),de.mergeDeep(o,r),o},e.prototype.createComponentInstance=function(e,t,n,r,o){var i,s=this.lookupComponentClassDef(e,t,n,r);if(!s||!s.component)return o||console.error("Could not find component "+((e?e[t]:r)||r)+", did you forget to configure this component?"),null;if(s.componentFromFramework){var a=s.component,l=this.componentMetadataProvider.retrieve(t);i=this.frameworkComponentWrapper.wrap(a,l.mandatoryMethodList,l.optionalMethodList,r)}else i=new s.component;return{componentInstance:i,paramsFromSelector:s.paramsFromSelector}},e.prototype.initComponent=function(e,t){return this.context.wireBean(e),null==e.init?void 0:e.init(t)},Ht([be("gridOptions")],e.prototype,"gridOptions",void 0),Ht([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ht([be("context")],e.prototype,"context",void 0),Ht([be("agComponentUtils")],e.prototype,"agComponentUtils",void 0),Ht([be("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),Ht([be("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),Ht([Ee("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),Ht([we("userComponentFactory")],e)}(),jt=(tt=function(e,t){return(tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}tt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),zt=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},qt=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return jt(t,e),t.prototype.init=function(e){this.params=e,this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&this.assignBlankValueToGroupFooterCell(e);var t=this.isEmbeddedRowMismatch();this.cellIsBlank=t||null==e.value,this.cellIsBlank||(this.setupDragOpenParents(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},t.prototype.assignBlankValueToGroupFooterCell=function(e){e.value||-1!=e.node.level||(e.value="")},t.prototype.isEmbeddedRowMismatch=function(){if(this.params.fullWidth&&this.gridOptionsWrapper.isEmbedFullWidthRows()){var e=this.params.pinned===ie.PINNED_LEFT,t=this.params.pinned===ie.PINNED_RIGHT,n=!e&&!t;return this.gridOptionsWrapper.isEnableRtl()?this.columnController.isPinningLeft()?!t:!n:this.columnController.isPinningLeft()?!e:!n}return!1},t.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var e=this.params,t=e.node.uiLevel;e.padding>=0?this.setPaddingDeprecatedWay(t,e.padding):(this.indentClass&&this.removeCssClass(this.indentClass),this.indentClass="ag-row-group-indent-"+t,this.addCssClass(this.indentClass))}},t.prototype.setPaddingDeprecatedWay=function(e,t){de.doOnce((function(){return console.warn("ag-Grid: since v14.2, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the ag-Grid documentation page for Themes, in particular the property $row-group-indent-size.")}),"groupCellRenderer->doDeprecatedWay");var n=e*t;this.gridOptionsWrapper.isEnableRtl()?this.getGui().style.paddingRight=n+"px":this.getGui().style.paddingLeft=n+"px"},t.prototype.setupIndent=function(){this.params.suppressPadding||(this.addDestroyableEventListener(this.params.node,Vt.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.addValueElement=function(){var e=this.params,t=this.displayedGroup;t.footer?this.createFooterCell():t.hasChildren()||de.get(e.colDef,"cellRendererParams.innerRenderer",null)||de.get(e.colDef,"cellRendererParams.innerRendererFramework",null)?(this.createGroupCell(),t.hasChildren()&&this.addChildCount()):this.createLeafCell()},t.prototype.createFooterCell=function(){var e,t=this.params.footerValueGetter;if(t){var n=de.cloneObject(this.params);n.value=this.params.value,"function"==typeof t?e=t(n):"string"==typeof t?e=this.expressionService.evaluate(t,n):console.warn("ag-Grid: footerValueGetter should be either a function or a string (expression)")}else e="Total "+this.params.value;this.eValue.innerHTML=e},t.prototype.createGroupCell=function(){var e,t=this,n=this.params,r=this.displayedGroup.rowGroupColumn||n.column,o=r?this.valueFormatterService.formatValue(r,n.node,n.scope,this.params.value):null;n.valueFormatted=o,(e=1==n.fullWidth?this.useFullWidth(n):this.useInnerRenderer(this.params.colDef.cellRendererParams,r.getColDef(),n))&&e.then((function(e){t.innerCellRenderer=e}))},t.prototype.useInnerRenderer=function(e,t,n){var r=this,o=null,i=this.userComponentFactory.lookupComponentClassDef(e,"innerRenderer");if(i&&null!=i.component&&i.source!=Bt.DEFAULT)o=this.userComponentFactory.newInnerCellRenderer(e,n);else{var s=this.userComponentFactory.lookupComponentClassDef(t,"cellRenderer");o=s&&s.source!=Bt.DEFAULT?this.userComponentFactory.newCellRenderer(t,n):s&&s.source==Bt.DEFAULT&&de.get(t,"cellRendererParams.innerRenderer",null)?this.userComponentFactory.newInnerCellRenderer(t.cellRendererParams,n):this.userComponentFactory.newCellRenderer({},n)}return null!=o?o.then((function(e){null!=e?de.bindCellRendererToHtmlElement(o,r.eValue):r.eValue.innerText=null!=n.valueFormatted?n.valueFormatted:n.value})):this.eValue.innerText=null!=n.valueFormatted?n.valueFormatted:n.value,o},t.prototype.useFullWidth=function(e){var t=this.userComponentFactory.newFullWidthGroupRowInnerCellRenderer(e);return null!=t?de.bindCellRendererToHtmlElement(t,this.eValue):this.eValue.innerText=null!=e.valueFormatted?e.valueFormatted:e.value,t},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addDestroyableEventListener(this.displayedGroup,Vt.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroup.allChildrenCount;this.eChildCount.innerHTML=e>=0?"("+e+")":""},t.prototype.createLeafCell=function(){de.exists(this.params.value)&&(this.eValue.innerText=this.params.valueFormatted?this.params.valueFormatted:this.params.value)},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return"function"==typeof e?e(this.params):!0===e},t.prototype.addCheckboxIfNeeded=function(){var e=this.displayedGroup,t=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(t){var n=new Wt;this.getContext().wireBean(n),n.init({rowNode:e,column:this.params.column}),this.eCheckbox.appendChild(n.getGui()),this.addDestroyFunc((function(){return n.destroy()}))}de.addOrRemoveCssClass(this.eCheckbox,"ag-invisible",!t)},t.prototype.addExpandAndContract=function(){var e=this.params,t=e.eGridCell,n=de.createIconNoSpan("groupExpanded",this.gridOptionsWrapper,null),r=de.createIconNoSpan("groupContracted",this.gridOptionsWrapper,null);this.eExpanded.appendChild(n),this.eContracted.appendChild(r),this.addDestroyableEventListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addDestroyableEventListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addDestroyableEventListener(t,"keydown",this.onKeyDown.bind(this)),this.addDestroyableEventListener(e.node,Vt.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons(),this.addDestroyableEventListener(this.displayedGroup,Vt.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.onAllChildrenCountChanged.bind(this)),this.gridOptionsWrapper.isEnableGroupEdit()||!this.isExpandable()||e.suppressDoubleClickExpand||this.addDestroyableEventListener(t,"dblclick",this.onCellDblClicked.bind(this))},t.prototype.onAllChildrenCountChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},t.prototype.onKeyDown=function(e){if(de.isKeyPressed(e,ie.KEY_ENTER)){if(this.params.suppressEnterExpand)return;if(this.params.column&&this.params.column.isCellEditable(this.params.node))return;e.preventDefault(),this.onExpandOrContract()}},t.prototype.setupDragOpenParents=function(){var e=this.params.column,t=this.params.node;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(t.hasChildren()){var n=t.rowGroupColumn;this.draggedFromHideOpenParents=!!n&&!e.isRowGroupDisplayed(n.getId())}else this.draggedFromHideOpenParents=!0;else this.draggedFromHideOpenParents=!1;if(this.draggedFromHideOpenParents)for(var r=t.parent;!de.missing(r);){if(r.rowGroupColumn&&e.isRowGroupDisplayed(r.rowGroupColumn.getId())){this.displayedGroup=r;break}r=r.parent}de.missing(this.displayedGroup)&&(this.displayedGroup=t)},t.prototype.onExpandClicked=function(e){de.isStopPropagationForAgGrid(e)||(de.stopPropagationForAgGrid(e),this.onExpandOrContract())},t.prototype.onCellDblClicked=function(e){de.isStopPropagationForAgGrid(e)||de.isElementInEventPath(this.eExpanded,e)||de.isElementInEventPath(this.eContracted,e)||this.onExpandOrContract()},t.prototype.onExpandOrContract=function(){var e=this.displayedGroup;e.setExpanded(!e.expanded)},t.prototype.isExpandable=function(){var e=this.params.node,t=this.columnController.isPivotMode()&&e.leafGroup;return this.draggedFromHideOpenParents||e.isExpandable()&&!e.footer&&!t},t.prototype.showExpandAndContractIcons=function(){var e=this.params.node;if(this.isExpandable()){var t=!!this.draggedFromHideOpenParents||e.expanded;de.setDisplayed(this.eContracted,!t),de.setDisplayed(this.eExpanded,t)}else de.setDisplayed(this.eExpanded,!1),de.setDisplayed(this.eContracted,!1);var n=this.displayedGroup,r=this.columnController.isPivotMode()&&n.leafGroup,o=!n.isExpandable(),i=n.footer||o||r;this.addOrRemoveCssClass("ag-row-group",!i),this.addOrRemoveCssClass("ag-row-group-leaf-indent",i)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.innerCellRenderer&&this.innerCellRenderer.destroy&&this.innerCellRenderer.destroy()},t.prototype.refresh=function(){return!1},t.TEMPLATE='<span class="ag-cell-wrapper"><span class="ag-group-expanded" ref="eExpanded"></span><span class="ag-group-contracted" ref="eContracted"></span><span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span><span class="ag-group-value" ref="eValue"></span><span class="ag-group-child-count" ref="eChildCount"></span></span>',zt([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),zt([be("expressionService")],t.prototype,"expressionService",void 0),zt([be("eventService")],t.prototype,"eventService",void 0),zt([be("valueFormatterService")],t.prototype,"valueFormatterService",void 0),zt([be("columnController")],t.prototype,"columnController",void 0),zt([be("mouseEventService")],t.prototype,"mouseEventService",void 0),zt([be("userComponentFactory")],t.prototype,"userComponentFactory",void 0),zt([Xe("eExpanded")],t.prototype,"eExpanded",void 0),zt([Xe("eContracted")],t.prototype,"eContracted",void 0),zt([Xe("eCheckbox")],t.prototype,"eCheckbox",void 0),zt([Xe("eValue")],t.prototype,"eValue",void 0),zt([Xe("eChildCount")],t.prototype,"eChildCount",void 0),t}(Qe),Kt=(wt=function(e,t){return(wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}wt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Qt=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.refreshCount=0,n}return Kt(t,e),t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,t){var n=Math.abs(t),r=e.formatValue(n),o=de.exists(r)?r:n,i=t>=0;this.eDelta.innerHTML=i?"\u2191"+o:"\u2193"+o,de.addOrRemoveCssClass(this.eDelta,"ag-value-change-delta-up",i),de.addOrRemoveCssClass(this.eDelta,"ag-value-change-delta-down",!i)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var t=this.refreshCount;window.setTimeout((function(){t===e.refreshCount&&e.hideDeltaValue()}),2e3)},t.prototype.hideDeltaValue=function(){de.removeCssClass(this.eValue,"ag-value-change-value-highlight"),de.clearElement(this.eDelta)},t.prototype.refresh=function(e){var t=e.value;if(t!==this.lastValue&&(de.exists(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:de.exists(e.value)?this.eValue.innerHTML=t:de.clearElement(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return"number"==typeof t&&"number"==typeof this.lastValue&&this.showDelta(e,t-this.lastValue),this.lastValue&&de.addCssClass(this.eValue,"ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=t,!0},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([be("filterManager")],t.prototype,"filterManager",void 0),t}(Qe),Yt=(Ct=function(e,t){return(Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ct(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Zt=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.refreshCount=0,n.eCurrent=n.queryForHtmlElement(".ag-value-slide-current"),n}return Yt(t,e),t.prototype.init=function(e){this.params=e,this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=de.loadTemplate('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout((function(){t===e.refreshCount&&de.addCssClass(e.ePrevious,"ag-value-slide-out-end")}),50),window.setTimeout((function(){t===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)}),3e3)},t.prototype.refresh=function(e){var t=e.value;if(de.missing(t)&&(t=""),t!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering())return this.addSlideAnimation(),this.lastValue=t,de.exists(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:de.exists(e.value)?this.eCurrent.innerHTML=t:de.clearElement(this.eCurrent),!0},t.TEMPLATE='<span><span class="ag-value-slide-current"></span></span>',function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([be("filterManager")],t.prototype,"filterManager",void 0),t}(Qe),Xt=(mt=function(e,t){return(mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}mt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),$t=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Jt=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Xt(t,e),t.prototype.init=function(e){var t=de.createIconNoSpan("groupLoading",this.gridOptionsWrapper,null);this.eLoadingIcon.appendChild(t);var n=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=n("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.TEMPLATE='<div class="ag-stub-cell">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',$t([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),$t([Xe("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),$t([Xe("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(Qe),en=(yt=function(e,t){return(yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}yt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),tn=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},nn=function(e){function t(){var t=e.call(this,'<div class="ag-cell-edit-input"><select class="ag-cell-edit-input"/></div>')||this;return t.eSelect=t.getGui().querySelector("select"),t}return en(t,e),t.prototype.init=function(e){var t=this;this.focusAfterAttached=e.cellStartedEdit,de.missing(e.values)?console.warn("ag-Grid: no values found for select cellEditor"):(e.values.forEach((function(n){var r=document.createElement("option");r.value=n;var o=t.valueFormatterService.formatValue(e.column,null,null,n);r.text=null!=o?o:n,e.value===n&&(r.selected=!0),t.eSelect.appendChild(r)})),this.gridOptionsWrapper.isFullRowEdit()||this.addDestroyableEventListener(this.eSelect,"change",(function(){return e.stopEditing()})),this.addDestroyableEventListener(this.eSelect,"keydown",(function(e){(e.keyCode===ie.KEY_UP||e.keyCode===ie.KEY_DOWN)&&e.stopPropagation()})),this.addDestroyableEventListener(this.eSelect,"mousedown",(function(e){e.stopPropagation()})))},t.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.focus()},t.prototype.focusIn=function(){this.eSelect.focus()},t.prototype.getValue=function(){return this.eSelect.value},t.prototype.isPopup=function(){return!1},tn([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),tn([be("valueFormatterService")],t.prototype,"valueFormatterService",void 0),t}(Ye),rn=(vt=function(e,t){return(vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}vt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),on=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rn(t,e),t.prototype.isPopup=function(){return!0},t}(Ze),sn=(gt=function(e,t){return(gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}gt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),an=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sn(t,e),t.prototype.isPopup=function(){return!0},t}(nn),ln=(ft=function(e,t){return(ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ft(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),un=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return ln(t,e),t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.textarea=document.createElement("textarea"),this.textarea.maxLength=e.maxLength?e.maxLength:"200",this.textarea.cols=e.cols?e.cols:"60",this.textarea.rows=e.rows?e.rows:"10",de.exists(e.value)&&(this.textarea.value=e.value.toString()),this.getGui().querySelector(".ag-large-textarea").appendChild(this.textarea),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},t.prototype.onKeyDown=function(e){var t=e.which||e.keyCode;(t==ie.KEY_LEFT||t==ie.KEY_UP||t==ie.KEY_RIGHT||t==ie.KEY_DOWN||e.shiftKey&&t==ie.KEY_ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.textarea.focus()},t.prototype.getValue=function(){return this.params.parseValue(this.textarea.value)},t.TEMPLATE='<div class="ag-large-text" tabindex="0"><div class="ag-large-textarea"></div></div>',t}(Ye),cn=(ht=function(e,t){return(ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ht(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),pn=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},dn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return cn(t,e),t.prototype.mapRangeFromModel=function(e){return{from:e.filter,to:e.filterTo}},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.resetUiToDefaults=function(){e.prototype.resetUiToDefaults.call(this),this.eValueFrom1.value=null,this.eValueFrom2.value=null,this.eValueTo1.value=null,this.eValueTo2.value=null},t.prototype.setConditionIntoUi=function(e,t){var n=t===Tt.One,r=n?this.eValueTo1:this.eValueTo2;(n?this.eValueFrom1:this.eValueFrom2).value=e?""+e.filter:null,r.value=e?""+e.filterTo:null},t.prototype.setValueFromFloatingFilter=function(e){this.eValueFrom1.value=e,this.eValueFrom2.value=null,this.eValueTo1.value=null,this.eValueTo2.value=null},t.prototype.comparator=function(){return function(e,t){return e===t?0:e<t?1:e>t?-1:void 0}},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.addValueChangedListeners()},t.prototype.addValueChangedListeners=function(){var e=this,t=function(){return e.onUiChanged()};this.addDestroyableEventListener(this.eValueFrom1,"input",t),this.addDestroyableEventListener(this.eValueFrom2,"input",t),this.addDestroyableEventListener(this.eValueTo1,"input",t),this.addDestroyableEventListener(this.eValueTo2,"input",t)},t.prototype.afterGuiAttached=function(){this.eValueFrom1.focus()},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===Tt.One?"1":"2",n=this.translate.bind(this);return'<div class="ag-filter-body" ref="eCondition'+t+'Body" role="presentation">\n            <div class="ag-input-wrapper" role="presentation">\n                <input class="ag-filter-filter" ref="eValueFrom'+t+'" type="text" placeholder="'+n("filterOoo")+'"/>\n            </div>\n             <div class="ag-input-wrapper ag-filter-number-to" ref="ePanel'+t+'" role="presentation">\n                <input class="ag-filter-filter" ref="eValueTo'+t+'" type="text" placeholder="'+n("filterOoo")+'"/>\n            </div>\n        </div>'},t.prototype.isConditionUiComplete=function(e){var t=e===Tt.One,n=t?this.getCondition1Type():this.getCondition2Type(),r=t?this.eValueTo1:this.eValueTo2,o=this.stringToFloat((t?this.eValueFrom1:this.eValueFrom2).value),i=this.stringToFloat(r.value);return n!==Dt.EMPTY&&(!!this.doesFilterHaveHiddenInput(n)||(n===Dt.IN_RANGE?null!=o&&null!=i:null!=o))},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type},t.prototype.getFilterType=function(){return t.FILTER_TYPE},t.prototype.stringToFloat=function(e){var t=de.makeNull(e);return t&&""===t.trim()&&(t=null),null!=t?parseFloat(t):null},t.prototype.createCondition=function(e){var n=e===Tt.One,r=n?this.getCondition1Type():this.getCondition2Type(),o=this.stringToFloat((n?this.eValueFrom1:this.eValueFrom2).value),i=this.stringToFloat((n?this.eValueTo1:this.eValueTo2).value),s={filterType:t.FILTER_TYPE,type:r};return this.doesFilterHaveHiddenInput(r)||(s.filter=o,s.filterTo=i),s},t.prototype.updateUiVisibility=function(){e.prototype.updateUiVisibility.call(this);var t=this.showValueFrom(this.getCondition1Type());de.setDisplayed(this.eValueFrom1,t);var n=this.showValueTo(this.getCondition1Type());de.setDisplayed(this.eValueTo1,n);var r=this.showValueFrom(this.getCondition2Type());de.setDisplayed(this.eValueFrom2,r);var o=this.showValueTo(this.getCondition2Type());de.setDisplayed(this.eValueTo2,o)},t.FILTER_TYPE="number",t.DEFAULT_FILTER_OPTIONS=[It.EQUALS,It.NOT_EQUAL,It.LESS_THAN,It.LESS_THAN_OR_EQUAL,It.GREATER_THAN,It.GREATER_THAN_OR_EQUAL,It.IN_RANGE],pn([Xe("eValueFrom1")],t.prototype,"eValueFrom1",void 0),pn([Xe("eValueFrom2")],t.prototype,"eValueFrom2",void 0),pn([Xe("eValueTo1")],t.prototype,"eValueTo1",void 0),pn([Xe("eValueTo2")],t.prototype,"eValueTo2",void 0),t}(It),hn=(dt=function(e,t){return(dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}dt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),fn=function(e){function t(){return e.call(this)||this}return hn(t,e),t.prototype.init=function(e){var n=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():t.DEFAULT_LOADING_OVERLAY_TEMPLATE,r=this.gridOptionsWrapper.getLocaleTextFunc(),o=n.replace("[LOADING...]",r("loadingOoo","Loading..."));this.setTemplate(o)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(Qe),gn=(pt=function(e,t){return(pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}pt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),vn=function(e){function t(){return e.call(this)||this}return gn(t,e),t.prototype.init=function(e){var n=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():t.DEFAULT_NO_ROWS_TEMPLATE,r=this.gridOptionsWrapper.getLocaleTextFunc(),o=n.replace("[NO_ROWS_TO_SHOW]",r("noRowsToShow","No Rows To Show"));this.setTemplate(o)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(Qe),yn=(ct=function(e,t){return(ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ct(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),mn=function(e){function t(){return e.call(this,'<div class="ag-tooltip"></div>')||this}return yn(t,e),t.prototype.init=function(e){var t=e.value;this.getGui().innerHTML=t},t}(Ye),Cn=(ut=function(e,t){return(ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ut(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),wn=function(e){function t(){return e.call(this,'<div class="ag-input-wrapper" role="presentation"><input class="ag-filter-filter" type="text" placeholder="yyyy-mm-dd"></div>')||this}return Cn(t,e),t.prototype.init=function(e){this.eDateInput=this.getGui().querySelector("input"),(de.isBrowserChrome()||e.filterParams.browserDatePicker)&&(de.isBrowserIE()?console.warn("ag-grid: browserDatePicker is specified to true, but it is not supported in IE 11, reverting to plain text date picker"):this.eDateInput.type="date"),this.listener=e.onDateChanged,this.addGuiEventListener("input",this.listener)},t.prototype.getDate=function(){return de.parseYyyyMmDdToDate(this.eDateInput.value,"-")},t.prototype.setDate=function(e){this.eDateInput.value=de.serializeDateToYyyyMmDd(e,"-")},t}(Qe),bn=(lt=function(e,t){return(lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}lt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),En=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bn(t,e),t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.getTextFromModel=function(e){if(!e)return null;if(e.operator){var t=e,n=this.conditionToString(t.condition1),r=this.conditionToString(t.condition2);return n+" "+t.operator+" "+r}return this.conditionToString(e)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.getLastType=function(){return this.lastType},t.prototype.setLastTypeFromModel=function(e){e&&(this.lastType=(e.operator?e.condition1:e).type)},t.prototype.canWeEditAfterModelFromParentFilter=function(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)},t.prototype.init=function(e){this.optionsFactory=new Et,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption();var t=this.isTypeEditable(this.lastType);this.setEditable(t)},t.prototype.doesFilterHaveHiddenInput=function(e){var t=this.optionsFactory.getCustomOption(e);return t&&t.hideFilterInput},t.prototype.isTypeEditable=function(e){return!this.doesFilterHaveHiddenInput(e)&&e&&e!=Dt.IN_RANGE&&e!=Dt.EMPTY},t}(Qe),_n=(at=function(e,t){return(at=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}at(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Sn=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Rn=function(e){function t(){return e.call(this,'<div class="ag-input-wrapper" role="presentation">\n                <input ref="eReadOnlyText" disabled="true" class="ag-floating-filter-input">\n                <div ref="eDateWrapper" style="display: flex; flex: 1 1 auto; overflow: hidden;"></div>\n            </div>')||this}return _n(t,e),t.prototype.getDefaultFilterOptions=function(){return kt.DEFAULT_FILTER_OPTIONS},t.prototype.conditionToString=function(e){return e.type==Dt.IN_RANGE?e.dateFrom+"-"+e.dateTo:null!=e.dateFrom?""+e.dateFrom:""+e.type},t.prototype.init=function(t){e.prototype.init.call(this,t),this.params=t,this.createDateComponent()},t.prototype.setEditable=function(e){de.setDisplayed(this.eDateWrapper,e),de.setDisplayed(this.eReadOnlyText,!e)},t.prototype.onParentModelChanged=function(t,n){if(!this.isEventFromFloatingFilter(n)){e.prototype.setLastTypeFromModel.call(this,t);var r=this.canWeEditAfterModelFromParentFilter(t);this.setEditable(r),r?(this.dateComp.setDate(t?de.parseYyyyMmDdToDate(t.dateFrom,"-"):null),this.eReadOnlyText.value=""):(this.eReadOnlyText.value=this.getTextFromModel(t),this.dateComp.setDate(null))}},t.prototype.onDateChanged=function(){var e=this,t=this.dateComp.getDate(),n=de.serializeDateToYyyyMmDd(t,"-");this.params.parentFilterInstance((function(t){t&&t.onFloatingFilterChanged(e.getLastType(),n)}))},t.prototype.createDateComponent=function(){var e=this,t=St.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n={onDateChanged:de.debounce(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new bt(this.userComponentFactory,n,this.eDateWrapper),this.addDestroyFunc((function(){e.dateComp.destroy()}))},Sn([be("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Sn([Xe("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),Sn([Xe("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(En),Tn=(st=function(e,t){return(st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}st(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),On=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Dn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tn(t,e),t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.getValue=function(e){var t=e.value;return(t=de.makeNull(t))&&""===t.trim()&&(t=null),t},t.prototype.addValueChangedListeners=function(){var e=this,t=function(){return e.onUiChanged()};this.addDestroyableEventListener(this.eValue1,"input",t),this.addDestroyableEventListener(this.eValue2,"input",t)},t.prototype.setParams=function(n){e.prototype.setParams.call(this,n),this.textFilterParams=n,this.comparator=this.textFilterParams.textCustomComparator?this.textFilterParams.textCustomComparator:t.DEFAULT_COMPARATOR,this.formatter=this.textFilterParams.textFormatter?this.textFilterParams.textFormatter:1==this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER,this.addValueChangedListeners()},t.prototype.setConditionIntoUi=function(e,t){(t===Tt.One?this.eValue1:this.eValue2).value=e?e.filter:null},t.prototype.createCondition=function(e){var n=e===Tt.One,r=n?this.getCondition1Type():this.getCondition2Type(),o=this.getValue(n?this.eValue1:this.eValue2),i={filterType:t.FILTER_TYPE,type:r};return this.doesFilterHaveHiddenInput(r)||(i.filter=o),i},t.prototype.getFilterType=function(){return t.FILTER_TYPE},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.type===t.type},t.prototype.resetUiToDefaults=function(){e.prototype.resetUiToDefaults.call(this),this.eValue1.value=null,this.eValue2.value=null},t.prototype.setValueFromFloatingFilter=function(e){this.eValue1.value=e,this.eValue2.value=null},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===Tt.One?"1":"2";return'<div class="ag-filter-body" ref="eCondition'+t+'Body" role="presentation">\n            <div class="ag-input-wrapper" ref="eInputWrapper'+t+'" role="presentation">\n                <input class="ag-filter-filter" ref="eValue'+t+'" type="text" placeholder="'+this.gridOptionsWrapper.getLocaleTextFunc()("filterOoo","Filter...")+'"/>\n            </div>\n        </div>'},t.prototype.updateUiVisibility=function(){e.prototype.updateUiVisibility.call(this);var t=this.showValueFrom(this.getCondition1Type());de.setDisplayed(this.eInputWrapper1,t);var n=this.showValueFrom(this.getCondition2Type());de.setDisplayed(this.eInputWrapper2,n)},t.prototype.afterGuiAttached=function(){this.eValue1.focus()},t.prototype.isConditionUiComplete=function(e){var t=e===Tt.One,n=t?this.getCondition1Type():this.getCondition2Type();if(n===Dt.EMPTY)return!1;var r=this.getValue(t?this.eValue1:this.eValue2);return!!this.doesFilterHaveHiddenInput(n)||null!=r},t.prototype.individualConditionPasses=function(e,t){var n=t.filter,r=t.type,o=this.textFilterParams.valueGetter(e.node),i=this.formatter(o),s=this.optionsFactory.getCustomOption(r);if(s&&(null!=n||s.hideFilterInput))return s.test(n,i);if(null==o)return r===Dt.NOT_EQUAL||r===Dt.NOT_CONTAINS;var a=this.formatter(n);return this.comparator(r,i,a)},t.FILTER_TYPE="text",t.DEFAULT_FILTER_OPTIONS=[Dt.CONTAINS,Dt.NOT_CONTAINS,Dt.EQUALS,Dt.NOT_EQUAL,Dt.STARTS_WITH,Dt.ENDS_WITH],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return null==e?null:e.toString().toLowerCase()},t.DEFAULT_COMPARATOR=function(e,n,r){switch(e){case t.CONTAINS:return n.indexOf(r)>=0;case t.NOT_CONTAINS:return-1===n.indexOf(r);case t.EQUALS:return n===r;case t.NOT_EQUAL:return n!=r;case t.STARTS_WITH:return 0===n.indexOf(r);case t.ENDS_WITH:var o=n.lastIndexOf(r);return o>=0&&o===n.length-r.length;default:return console.warn("invalid filter type "+e),!1}},On([Xe("eValue1")],t.prototype,"eValue1",void 0),On([Xe("eValue2")],t.prototype,"eValue2",void 0),On([Xe("eInputWrapper1")],t.prototype,"eInputWrapper1",void 0),On([Xe("eInputWrapper2")],t.prototype,"eInputWrapper2",void 0),t}(Dt),In=(it=function(e,t){return(it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}it(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),An=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},kn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return In(t,e),t.prototype.postConstruct=function(){this.setTemplate('<div class="ag-input-wrapper" role="presentation">\n                <input ref="eFloatingFilterText" class="ag-floating-filter-input">\n            </div>')},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,t){if(!this.isEventFromFloatingFilter(t)){this.setLastTypeFromModel(e);var n=this.getTextFromModel(e);this.eFloatingFilterText.value=n;var r=this.canWeEditAfterModelFromParentFilter(e);this.setEditable(r)}},t.prototype.init=function(t){e.prototype.init.call(this,t),this.params=t,this.applyActive=St.isUseApplyButton(this.params.filterParams);var n=St.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),r=de.debounce(this.syncUpWithParentFilter.bind(this),n);this.addDestroyableEventListener(this.eFloatingFilterText,"input",r),this.addDestroyableEventListener(this.eFloatingFilterText,"keypress",r),this.addDestroyableEventListener(this.eFloatingFilterText,"keydown",r);var o=t.column.getDefinition();o.filterParams&&o.filterParams.filterOptions&&1===o.filterParams.filterOptions.length&&"inRange"===o.filterParams.filterOptions[0]&&(this.eFloatingFilterText.disabled=!0)},t.prototype.syncUpWithParentFilter=function(e){var t=this,n=this.eFloatingFilterText.value,r=de.isKeyPressed(e,ie.KEY_ENTER);this.applyActive&&!r||this.params.parentFilterInstance((function(e){e&&e.onFloatingFilterChanged(t.getLastType(),n)}))},t.prototype.setEditable=function(e){this.eFloatingFilterText.disabled=!e},An([Xe("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),An([me],t.prototype,"postConstruct",null),t}(En),Pn=(ot=function(e,t){return(ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ot(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Nn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pn(t,e),t.prototype.getDefaultFilterOptions=function(){return dn.DEFAULT_FILTER_OPTIONS},t.prototype.conditionToString=function(e){return e.type==Dt.IN_RANGE?e.filter+"-"+e.filterTo:null!=e.filter?""+e.filter:""+e.type},t}(kn),xn=(rt=function(e,t){return(rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}rt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Fn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xn(t,e),t.prototype.conditionToString=function(e){return null!=e.filter?""+e.filter:""+e.type},t.prototype.getDefaultFilterOptions=function(){return Dn.DEFAULT_FILTER_OPTIONS},t}(kn),Mn=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ln=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.REGISTERED=1]="REGISTERED",e}({}),Vn=function(){function e(){this.agGridDefaults={agDateInput:wn,agColumnHeader:xt,agColumnGroupHeader:Mt,agTextColumnFloatingFilter:Fn,agNumberColumnFloatingFilter:Nn,agDateColumnFloatingFilter:Rn,agAnimateShowChangeCellRenderer:Qt,agAnimateSlideCellRenderer:Zt,agGroupCellRenderer:qt,agGroupRowRenderer:qt,agLoadingCellRenderer:Jt,agCellEditor:Ze,agTextCellEditor:Ze,agSelectCellEditor:nn,agPopupTextCellEditor:on,agPopupSelectCellEditor:an,agLargeTextCellEditor:un,agTextColumnFilter:Dn,agNumberColumnFilter:dn,agDateColumnFilter:kt,agLoadingOverlay:fn,agNoRowsOverlay:vn,agTooltipComponent:mn},this.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},this.jsComponents={},this.frameworkComponents={}}return e.prototype.init=function(){var e=this;null!=this.gridOptions.components&&Object.keys(this.gridOptions.components).forEach((function(t){e.registerComponent(t,e.gridOptions.components[t])})),null!=this.gridOptions.frameworkComponents&&Object.keys(this.gridOptions.frameworkComponents).forEach((function(t){e.registerFwComponent(t,e.gridOptions.frameworkComponents[t])}))},e.prototype.registerDefaultComponent=function(e,t){var n=this.translateIfDeprecated(e);this.agGridDefaults[n]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[n]=t},e.prototype.registerComponent=function(e,t){var n=this.translateIfDeprecated(e);this.frameworkComponents[n]?console.error("Trying to register a component that you have already registered for frameworks: "+n):this.jsComponents[n]=t},e.prototype.registerFwComponent=function(e,t){var n=this.translateIfDeprecated(e);this.jsComponents[n]?console.error("Trying to register a component that you have already registered for plain javascript: "+n):this.frameworkComponents[n]=t},e.prototype.retrieve=function(e){var t=this.translateIfDeprecated(e);return this.frameworkComponents[t]?{componentFromFramework:!0,component:this.frameworkComponents[t],source:Ln.REGISTERED}:this.jsComponents[t]?{componentFromFramework:!1,component:this.jsComponents[t],source:Ln.REGISTERED}:this.agGridDefaults[t]?this.agGridDefaults[t]?{componentFromFramework:!1,component:this.agGridDefaults[t],source:Ln.DEFAULT}:null:(Object.keys(this.agGridDefaults).indexOf(t)<0&&console.warn("ag-Grid: Looking for component ["+t+"] but it wasn't found."),null)},e.prototype.translateIfDeprecated=function(e){var t=this.agDeprecatedNames[e];return null!=t?(de.doOnce((function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+t.propertyHolder+":"+e+" to "+t.propertyHolder+":"+t.newComponentName)}),"DEPRECATE_COMPONENT_"+e),t.newComponentName):e},Mn([be("gridOptions")],e.prototype,"gridOptions",void 0),Mn([be("context")],e.prototype,"context",void 0),Mn([me],e.prototype,"init",null),Mn([we("userComponentRegistry")],e)}(),Gn=function(){function e(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return e.prototype.setInactive=function(){this.active=!1},e.prototype.isActive=function(){return this.active},e.prototype.depthFirstSearchChangedPath=function(e,t){if(e.children)for(var n=0;n<e.children.length;n++)this.depthFirstSearchChangedPath(e.children[n],t);t(e.rowNode)},e.prototype.depthFirstSearchEverything=function(e,t,n){if(e.childrenAfterGroup)for(var r=0;r<e.childrenAfterGroup.length;r++){var o=e.childrenAfterGroup[r];o.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[r],t,n):n&&t(o)}t(e)},e.prototype.forEachChangedNodeDepthFirst=function(e,t){void 0===t&&(t=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)},e.prototype.executeFromRootNode=function(e){e(this.pathRoot.rowNode)},e.prototype.createPathItems=function(e){for(var t=e,n=0;!this.mapToItems[t.id];)this.mapToItems[t.id]={rowNode:t,children:null},n++,t=t.parent;return n},e.prototype.populateColumnsMap=function(e,t){var n=this;if(this.keepingColumns&&t)for(var r=e;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),t.forEach((function(e){return n.nodeIdsToColumns[r.id][e.getId()]=!0})),r=r.parent},e.prototype.linkPathItems=function(e,t){for(var n=e,r=0;r<t;r++){var o=this.mapToItems[n.id],i=this.mapToItems[n.parent.id];i.children||(i.children=[]),i.children.push(o),n=n.parent}},e.prototype.addParentNode=function(e,t){if(e&&!e.isRowPinned()){var n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}},e.prototype.canSkip=function(e){return this.active&&!this.mapToItems[e.id]},e.prototype.getValueColumnsForNode=function(e,t){if(!this.keepingColumns)return t;var n=this.nodeIdsToColumns[e.id];return t.filter((function(e){return n[e.getId()]}))},e.prototype.getNotValueColumnsForNode=function(e,t){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[e.id];return t.filter((function(e){return!n[e.getId()]}))},e}(),Wn=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Hn=function(){function e(){}return e.prototype.setBeans=function(e){this.logger=e.create("SelectionController"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()?this.eventService.addEventListener(xe.EVENT_ROW_DATA_CHANGED,this.reset.bind(this)):this.logger.log("dont know what to do here")},e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.eventService.addEventListener(xe.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},e.prototype.setLastSelectedNode=function(e){this.lastSelectedNode=e},e.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},e.prototype.getSelectedNodes=function(){var e=[];return de.iterateObject(this.selectedNodes,(function(t,n){n&&e.push(n)})),e},e.prototype.getSelectedRows=function(){var e=[];return de.iterateObject(this.selectedNodes,(function(t,n){n&&n.data&&e.push(n.data)})),e},e.prototype.removeGroupsFromSelection=function(){var e=this;de.iterateObject(this.selectedNodes,(function(t,n){n&&n.group&&(e.selectedNodes[n.id]=void 0)}))},e.prototype.updateGroupsFromChildrenSelections=function(e){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===ie.ROW_MODEL_TYPE_CLIENT_SIDE){var t=this.rowModel.getRootNode();e||(e=new Gn(!0,t)).setInactive(),e.forEachChangedNodeDepthFirst((function(e){e!==t&&e.calculateSelectedFromChildren()}))}},e.prototype.getNodeForIdIfSelected=function(e){return this.selectedNodes[e]},e.prototype.clearOtherNodes=function(e){var t=this,n={},r=0;return de.iterateObject(this.selectedNodes,(function(o,i){i&&i.id!==e.id&&(r+=t.selectedNodes[i.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),t.groupSelectsChildren&&i.parent&&(n[i.parent.id]=i.parent))})),de.iterateObject(n,(function(e,t){t.calculateSelectedFromChildren()})),r},e.prototype.onRowSelected=function(e){var t=e.node;this.groupSelectsChildren&&t.group||(this.selectedNodes[t.id]=t.isSelected()?t:void 0)},e.prototype.syncInRowNode=function(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)},e.prototype.syncInOldRowNode=function(e,t){de.exists(t)&&e.id!==t.id&&de.exists(this.selectedNodes[t.id])&&(this.selectedNodes[t.id]=t)},e.prototype.syncInNewRowNode=function(e){de.exists(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)},e.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},e.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===ie.ROW_MODEL_TYPE_CLIENT_SIDE){var e=this.rowModel.getTopLevelNodes();if(null!==e){var t=[];return function e(n){for(var r=0,o=n.length;r<o;r++){var i=n[r];i.isSelected()?t.push(i):i.group&&i.children&&e(i.children)}}(e),t}console.warn("selectAll not available doing rowModel=virtual")}else console.warn("getBestCostNodeSelection is only available when using normal row model")},e.prototype.setRowModel=function(e){this.rowModel=e},e.prototype.isEmpty=function(){var e=0;return de.iterateObject(this.selectedNodes,(function(t,n){n&&e++})),0===e},e.prototype.deselectAllRowNodes=function(e){void 0===e&&(e=!1);var t=function(e){return e.selectThisNode(!1)},n=this.rowModel.getType()===ie.ROW_MODEL_TYPE_CLIENT_SIDE;if(e){if(!n)return void console.error("ag-Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(t)}else de.iterateObject(this.selectedNodes,(function(e,n){n&&t(n)})),this.reset();n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:xe.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.selectAllRowNodes=function(e){if(void 0===e&&(e=!1),this.rowModel.getType()!==ie.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var t=this.rowModel,n=function(e){return e.selectThisNode(!0)};e?t.forEachNodeAfterFilter(n):t.forEachNode(n),this.rowModel.getType()===ie.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:xe.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.selectNode=function(e,t){e&&e.setSelectedParams({newValue:!0,clearSelection:!t})},e.prototype.deselectIndex=function(e){var t=this.rowModel.getRow(e);this.deselectNode(t)},e.prototype.deselectNode=function(e){e&&e.setSelectedParams({newValue:!1,clearSelection:!1})},e.prototype.selectIndex=function(e,t){var n=this.rowModel.getRow(e);this.selectNode(n,t)},Wn([be("eventService")],e.prototype,"eventService",void 0),Wn([be("rowModel")],e.prototype,"rowModel",void 0),Wn([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Wn([be("columnApi")],e.prototype,"columnApi",void 0),Wn([be("gridApi")],e.prototype,"gridApi",void 0),Wn([A(0,Se("loggerFactory"))],e.prototype,"setBeans",null),Wn([me],e.prototype,"init",null),Wn([we("selectionController")],e)}(),Bn=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Un=function(){function e(){}return e.prototype.sizeColumnsToFit=function(e){void 0===e&&console.error("ag-Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnController.sizeColumnsToFit(e,"api")},e.prototype.setColumnGroupOpened=function(e,t){this.columnController.setColumnGroupOpened(e,t,"api")},e.prototype.getColumnGroup=function(e,t){return this.columnController.getColumnGroup(e,t)},e.prototype.getOriginalColumnGroup=function(e){return this.columnController.getOriginalColumnGroup(e)},e.prototype.getDisplayNameForColumn=function(e,t){return this.columnController.getDisplayNameForColumn(e,t)},e.prototype.getDisplayNameForColumnGroup=function(e,t){return this.columnController.getDisplayNameForColumnGroup(e,t)},e.prototype.getColumn=function(e){return this.columnController.getPrimaryColumn(e)},e.prototype.setColumnState=function(e){return this.columnController.setColumnState(e,!1,"api")},e.prototype.getColumnState=function(){return this.columnController.getColumnState()},e.prototype.resetColumnState=function(){this.columnController.resetColumnState(!1,"api")},e.prototype.getColumnGroupState=function(){return this.columnController.getColumnGroupState()},e.prototype.setColumnGroupState=function(e){this.columnController.setColumnGroupState(e,"api")},e.prototype.resetColumnGroupState=function(){this.columnController.resetColumnGroupState("api")},e.prototype.isPinning=function(){return this.columnController.isPinningLeft()||this.columnController.isPinningRight()},e.prototype.isPinningLeft=function(){return this.columnController.isPinningLeft()},e.prototype.isPinningRight=function(){return this.columnController.isPinningRight()},e.prototype.getDisplayedColAfter=function(e){return this.columnController.getDisplayedColAfter(e)},e.prototype.getDisplayedColBefore=function(e){return this.columnController.getDisplayedColBefore(e)},e.prototype.setColumnVisible=function(e,t){this.columnController.setColumnVisible(e,t,"api")},e.prototype.setColumnsVisible=function(e,t){this.columnController.setColumnsVisible(e,t,"api")},e.prototype.setColumnPinned=function(e,t){this.columnController.setColumnPinned(e,t,"api")},e.prototype.setColumnsPinned=function(e,t){this.columnController.setColumnsPinned(e,t,"api")},e.prototype.getAllColumns=function(){return this.columnController.getAllPrimaryColumns()},e.prototype.getAllGridColumns=function(){return this.columnController.getAllGridColumns()},e.prototype.getDisplayedLeftColumns=function(){return this.columnController.getDisplayedLeftColumns()},e.prototype.getDisplayedCenterColumns=function(){return this.columnController.getDisplayedCenterColumns()},e.prototype.getDisplayedRightColumns=function(){return this.columnController.getDisplayedRightColumns()},e.prototype.getAllDisplayedColumns=function(){return this.columnController.getAllDisplayedColumns()},e.prototype.getAllDisplayedVirtualColumns=function(){return this.columnController.getAllDisplayedVirtualColumns()},e.prototype.moveColumn=function(e,t){"number"==typeof e?(console.warn("ag-Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnController.moveColumnByIndex(e,t,"api")):this.columnController.moveColumn(e,t,"api")},e.prototype.moveColumnByIndex=function(e,t){this.columnController.moveColumnByIndex(e,t,"api")},e.prototype.moveColumns=function(e,t){this.columnController.moveColumns(e,t,"api")},e.prototype.moveRowGroupColumn=function(e,t){this.columnController.moveRowGroupColumn(e,t)},e.prototype.setColumnAggFunc=function(e,t){this.columnController.setColumnAggFunc(e,t)},e.prototype.setColumnWidth=function(e,t,n){void 0===n&&(n=!0),this.columnController.setColumnWidth(e,t,!1,n)},e.prototype.setPivotMode=function(e){this.columnController.setPivotMode(e)},e.prototype.isPivotMode=function(){return this.columnController.isPivotMode()},e.prototype.getSecondaryPivotColumn=function(e,t){return this.columnController.getSecondaryPivotColumn(e,t)},e.prototype.setValueColumns=function(e){this.columnController.setValueColumns(e,"api")},e.prototype.getValueColumns=function(){return this.columnController.getValueColumns()},e.prototype.removeValueColumn=function(e){this.columnController.removeValueColumn(e,"api")},e.prototype.removeValueColumns=function(e){this.columnController.removeValueColumns(e,"api")},e.prototype.addValueColumn=function(e){this.columnController.addValueColumn(e,"api")},e.prototype.addValueColumns=function(e){this.columnController.addValueColumns(e,"api")},e.prototype.setRowGroupColumns=function(e){this.columnController.setRowGroupColumns(e,"api")},e.prototype.removeRowGroupColumn=function(e){this.columnController.removeRowGroupColumn(e,"api")},e.prototype.removeRowGroupColumns=function(e){this.columnController.removeRowGroupColumns(e,"api")},e.prototype.addRowGroupColumn=function(e){this.columnController.addRowGroupColumn(e,"api")},e.prototype.addRowGroupColumns=function(e){this.columnController.addRowGroupColumns(e,"api")},e.prototype.getRowGroupColumns=function(){return this.columnController.getRowGroupColumns()},e.prototype.setPivotColumns=function(e){this.columnController.setPivotColumns(e,"api")},e.prototype.removePivotColumn=function(e){this.columnController.removePivotColumn(e,"api")},e.prototype.removePivotColumns=function(e){this.columnController.removePivotColumns(e,"api")},e.prototype.addPivotColumn=function(e){this.columnController.addPivotColumn(e,"api")},e.prototype.addPivotColumns=function(e){this.columnController.addPivotColumns(e,"api")},e.prototype.getPivotColumns=function(){return this.columnController.getPivotColumns()},e.prototype.getLeftDisplayedColumnGroups=function(){return this.columnController.getLeftDisplayedColumnGroups()},e.prototype.getCenterDisplayedColumnGroups=function(){return this.columnController.getCenterDisplayedColumnGroups()},e.prototype.getRightDisplayedColumnGroups=function(){return this.columnController.getRightDisplayedColumnGroups()},e.prototype.getAllDisplayedColumnGroups=function(){return this.columnController.getAllDisplayedColumnGroups()},e.prototype.autoSizeColumn=function(e){return this.columnController.autoSizeColumn(e,"api")},e.prototype.autoSizeColumns=function(e){return this.columnController.autoSizeColumns(e,"api")},e.prototype.autoSizeAllColumns=function(){this.columnController.autoSizeAllColumns("api")},e.prototype.setSecondaryColumns=function(e){this.columnController.setSecondaryColumns(e,"api")},e.prototype.getSecondaryColumns=function(){return this.columnController.getSecondaryColumns()},e.prototype.getPrimaryColumns=function(){return this.columnController.getAllPrimaryColumns()},e.prototype.columnGroupOpened=function(e,t){console.error("ag-Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(e,t)},e.prototype.hideColumns=function(e,t){console.error("ag-Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnController.setColumnsVisible(e,!t,"api")},e.prototype.hideColumn=function(e,t){console.error("ag-Grid: hideColumn is deprecated, use setColumnVisible"),this.columnController.setColumnVisible(e,!t,"api")},e.prototype.setState=function(e){return console.error("ag-Grid: setState is deprecated, use setColumnState"),this.setColumnState(e)},e.prototype.getState=function(){return console.error("ag-Grid: getState is deprecated, use getColumnState"),this.getColumnState()},e.prototype.resetState=function(){console.error("ag-Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},e.prototype.getAggregationColumns=function(){return console.error("ag-Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnController.getValueColumns()},e.prototype.removeAggregationColumn=function(e){console.error("ag-Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnController.removeValueColumn(e,"api")},e.prototype.removeAggregationColumns=function(e){console.error("ag-Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnController.removeValueColumns(e,"api")},e.prototype.addAggregationColumn=function(e){console.error("ag-Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnController.addValueColumn(e,"api")},e.prototype.addAggregationColumns=function(e){console.error("ag-Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnController.addValueColumns(e,"api")},e.prototype.setColumnAggFunction=function(e,t){console.error("ag-Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnController.setColumnAggFunc(e,t,"api")},e.prototype.getDisplayNameForCol=function(e){return console.error("ag-Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(e,null)},Bn([be("columnController")],e.prototype,"columnController",void 0),Bn([we("columnApi")],e)}();(nt=t.CellRangeType||(t.CellRangeType={}))[nt.VALUE=0]="VALUE",nt[nt.DIMENSION=1]="DIMENSION";var jn,zn,qn,Kn=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};(jn=t.DragSourceType||(t.DragSourceType={}))[jn.ToolPanel=0]="ToolPanel",jn[jn.HeaderCell=1]="HeaderCell",jn[jn.RowDrag=2]="RowDrag",(zn=t.VDirection||(t.VDirection={}))[zn.Up=0]="Up",zn[zn.Down=1]="Down",(qn=t.HDirection||(t.HDirection={}))[qn.Left=0]="Left",qn[qn.Right=1]="Right";var Qn,Yn,Zn,Xn,$n,Jn,er,tr,nr,rr,or,ir,sr,ar,lr,ur,cr,pr,dr,hr,fr,gr,vr,yr,mr,Cr,wr,br,Er,_r,Sr,Rr,Tr,Or,Dr,Ir=function(){function e(){this.dragSourceAndParamsList=[],this.dropTargets=[]}var n;return n=e,e.prototype.init=function(){this.ePinnedIcon=de.createIcon("columnMovePin",this.gridOptionsWrapper,null),this.ePlusIcon=de.createIcon("columnMoveAdd",this.gridOptionsWrapper,null),this.eHiddenIcon=de.createIcon("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=de.createIcon("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=de.createIcon("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=de.createIcon("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=de.createIcon("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=de.createIcon("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=de.createIcon("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=de.createIcon("dropNotAllowed",this.gridOptionsWrapper,null)},e.prototype.setBeans=function(e){this.logger=e.create("OldToolPanelDragAndDropService")},e.prototype.addDragSource=function(e,t){void 0===t&&(t=!1);var n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragService.addDragSource(n,t)},e.prototype.removeDragSource=function(e){var t=de.find(this.dragSourceAndParamsList,(function(t){return t.dragSource===e}));t&&(this.dragService.removeDragSource(t.params),de.removeFromArray(this.dragSourceAndParamsList,t))},e.prototype.destroy=function(){var e=this;this.dragSourceAndParamsList.forEach((function(t){e.dragService.removeDragSource(t.params)})),this.dragSourceAndParamsList.length=0},e.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},e.prototype.onDragStart=function(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.dragItemCallback(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.dragStarted&&this.dragSource.dragStarted(),this.createGhost()},e.prototype.onDragStop=function(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.dragStopped&&this.dragSource.dragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},e.prototype.onDragging=function(e,t){var n=this.workOutHDirection(e),r=this.workOutVDirection(e);this.eventLastTime=e,this.positionGhost(e);var o=de.find(this.dropTargets,this.isMouseOnDropTarget.bind(this,e));if(o!==this.lastDropTarget)this.leaveLastTargetIfExists(e,n,r,t),this.enterDragTargetIfExists(o,e,n,r,t),this.lastDropTarget=o;else if(o){var i=this.createDropTargetEvent(o,e,n,r,t);o.onDragging(i)}},e.prototype.enterDragTargetIfExists=function(e,t,n,r,o){if(e){var i=this.createDropTargetEvent(e,t,n,r,o);e.onDragEnter(i),this.setGhostIcon(e.getIconName?e.getIconName():null)}},e.prototype.leaveLastTargetIfExists=function(e,t,n,r){if(this.lastDropTarget){var o=this.createDropTargetEvent(this.lastDropTarget,e,t,n,r);this.lastDropTarget.onDragLeave(o),this.setGhostIcon(null)}},e.prototype.getAllContainersFromDropTarget=function(e){var t=[e.getContainer()],n=e.getSecondaryContainers?e.getSecondaryContainers():null;return n&&(t=t.concat(n)),t},e.prototype.isMouseOnDropTarget=function(e,t){var n=this.getAllContainersFromDropTarget(t),r=!1;return n.forEach((function(t){if(t){var n=t.getBoundingClientRect();0!==n.width&&0!==n.height&&e.clientX>=n.left&&e.clientX<=n.right&&e.clientY>=n.top&&e.clientY<=n.bottom&&(r=!0)}})),!!r&&t.isInterestedIn(this.dragSource.type)},e.prototype.addDropTarget=function(e){this.dropTargets.push(e)},e.prototype.workOutHDirection=function(e){return this.eventLastTime.clientX>e.clientX?t.HDirection.Left:this.eventLastTime.clientX<e.clientX?t.HDirection.Right:null},e.prototype.workOutVDirection=function(e){return this.eventLastTime.clientY>e.clientY?t.VDirection.Up:this.eventLastTime.clientY<e.clientY?t.VDirection.Down:null},e.prototype.createDropTargetEvent=function(e,t,n,r,o){var i=e.getContainer().getBoundingClientRect();return{event:t,x:t.clientX-i.left,y:t.clientY-i.top,vDirection:r,hDirection:n,dragSource:this.dragSource,fromNudge:o,dragItem:this.dragItem}},e.prototype.positionGhost=function(e){var t=this.eGhost.getBoundingClientRect().height,n=de.getBodyWidth()-2,r=de.getBodyHeight()-2,o=e.pageY-t/2,i=e.pageX-30,s=this.gridOptionsWrapper.getDocument(),a=window.pageYOffset||s.documentElement.scrollTop,l=window.pageXOffset||s.documentElement.scrollLeft;n>0&&i+this.eGhost.clientWidth>n+l&&(i=n+l-this.eGhost.clientWidth),i<0&&(i=0),r>0&&o+this.eGhost.clientHeight>r+a&&(o=r+a-this.eGhost.clientHeight),o<0&&(o=0),this.eGhost.style.left=i+"px",this.eGhost.style.top=o+"px"},e.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},e.prototype.createGhost=function(){this.eGhost=de.loadTemplate(n.GHOST_TEMPLATE);var e=this.environment.getTheme().theme;e&&de.addCssClass(this.eGhost,e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null),this.eGhost.querySelector(".ag-dnd-ghost-label").innerHTML=de.escape(this.dragSource.dragItemName),this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var t=this.gridOptionsWrapper.getDocument();this.eGhostParent=t.querySelector("body"),this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("ag-Grid: could not find document body, it is needed for dragging columns")},e.prototype.setGhostIcon=function(e,t){var r;switch(void 0===t&&(t=!1),de.clearElement(this.eGhostIcon),e){case n.ICON_ADD:r=this.ePlusIcon;break;case n.ICON_PINNED:r=this.ePinnedIcon;break;case n.ICON_MOVE:r=this.eMoveIcon;break;case n.ICON_LEFT:r=this.eLeftIcon;break;case n.ICON_RIGHT:r=this.eRightIcon;break;case n.ICON_GROUP:r=this.eGroupIcon;break;case n.ICON_AGGREGATE:r=this.eAggregateIcon;break;case n.ICON_PIVOT:r=this.ePivotIcon;break;case n.ICON_NOT_ALLOWED:r=this.eDropNotAllowedIcon;break;default:r=this.eHiddenIcon}this.eGhostIcon.appendChild(r),de.addOrRemoveCssClass(this.eGhostIcon,"ag-shake-left-to-right",t)},e.ICON_PINNED="pinned",e.ICON_ADD="add",e.ICON_MOVE="move",e.ICON_LEFT="left",e.ICON_RIGHT="right",e.ICON_GROUP="group",e.ICON_AGGREGATE="aggregate",e.ICON_PIVOT="pivot",e.ICON_NOT_ALLOWED="notAllowed",e.GHOST_TEMPLATE='<div class="ag-dnd-ghost">  <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>  <div class="ag-dnd-ghost-label">  </div></div>',Kn([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Kn([be("dragService")],e.prototype,"dragService",void 0),Kn([be("environment")],e.prototype,"environment",void 0),Kn([be("columnController")],e.prototype,"columnController",void 0),Kn([me],e.prototype,"init",null),Kn([k(0,Se("loggerFactory"))],e.prototype,"setBeans",null),Kn([Ce],e.prototype,"destroy",null),n=Kn([we("dragAndDropService")],e)}(),Ar=(Dr=function(e,t){return(Dr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Dr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),kr=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Pr=function(e){function n(t,n,r,o){var i=e.call(this,'<div class="ag-row-drag"></div>')||this;return i.rowNode=t,i.column=n,i.cellValue=r,i.beans=o,i}return Ar(n,e),n.prototype.postConstruct=function(){this.getGui().appendChild(de.createIconNoSpan("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource(),this.checkCompatibility(),this.beans.gridOptionsWrapper.isRowDragManaged()?this.addFeature(new Fr(this,this.beans,this.rowNode,this.column),this.beans.context):this.addFeature(new xr(this,this.beans,this.rowNode,this.column),this.beans.context)},n.prototype.checkCompatibility=function(){var e=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&e&&de.doOnce((function(){return console.warn("ag-Grid: If using row drag with tree data, you cannot have rowDragManaged=true")}),"RowDragComp.managedAndTreeData")},n.prototype.addDragSource=function(){var e=this,n={rowNode:this.rowNode},r={type:t.DragSourceType.RowDrag,eElement:this.getGui(),dragItemName:this.cellValue,dragItemCallback:function(){return n},dragStartPixels:0};this.beans.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc((function(){return e.beans.dragAndDropService.removeDragSource(r)}))},kr([me],n.prototype,"postConstruct",null),n}(Qe),Nr=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.column=r,o.rowNode=n,o}return Ar(t,e),t.prototype.setDisplayedOrVisible=function(e){if(e)this.parent.setDisplayed(!1);else{var t=this.column.isRowDrag(this.rowNode);de.isFunction(this.column.getColDef().rowDrag)?this.parent.setVisible(t):this.parent.setDisplayed(t)}},t}(qe),xr=function(e){function t(t,n,r,o){var i=e.call(this,t,r,o)||this;return i.beans=n,i}return Ar(t,e),t.prototype.postConstruct=function(){this.addDestroyableEventListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addDestroyableEventListener(this.rowNode,Vt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addDestroyableEventListener(this.rowNode,Vt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(e)},kr([me],t.prototype,"postConstruct",null),t}(Nr),Fr=function(e){function t(t,n,r,o){var i=e.call(this,t,r,o)||this;return i.beans=n,i}return Ar(t,e),t.prototype.postConstruct=function(){this.addDestroyableEventListener(this.beans.eventService,xe.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addDestroyableEventListener(this.beans.eventService,xe.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addDestroyableEventListener(this.beans.eventService,xe.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addDestroyableEventListener(this.rowNode,Vt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addDestroyableEventListener(this.rowNode,Vt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addDestroyableEventListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.updateSortActive(),this.updateFilterActive(),this.updateRowGroupActive(),this.workOutVisibility()},t.prototype.updateRowGroupActive=function(){var e=this.beans.columnController.getRowGroupColumns();this.rowGroupActive=!de.missingOrEmpty(e)},t.prototype.onRowGroupChanged=function(){this.updateRowGroupActive(),this.workOutVisibility()},t.prototype.updateSortActive=function(){var e=this.beans.sortController.getSortModel();this.sortActive=!de.missingOrEmpty(e)},t.prototype.onSortChanged=function(){this.updateSortActive(),this.workOutVisibility()},t.prototype.updateFilterActive=function(){this.filterActive=this.beans.filterManager.isAnyFilterPresent()},t.prototype.onFilterChanged=function(){this.updateFilterActive(),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.sortActive||this.filterActive||this.rowGroupActive,t=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(e||t)},kr([me],t.prototype,"postConstruct",null),t}(Nr),Mr=(Or=function(e,t){return(Or=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Or(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Lr=function(e){function t(t){var n=e.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.getGuiCalledOnChild=!1,n.cellEditor=t,n}return Mr(t,e),t.prototype.onKeyDown=function(e){de.isUserSuppressingKeyboardEvent(this.gridOptionsWrapper,e,this.params.node,this.params.column,!0)||this.params.onKeyDown(e)},t.prototype.getGui=function(){return this.getGuiCalledOnChild||(this.appendChild(this.cellEditor.getGui()),this.getGuiCalledOnChild=!0),e.prototype.getGui.call(this)},t.prototype.init=function(n){var r=this;this.params=n,this.gridOptionsWrapper.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addDestroyFunc((function(){r.cellEditor.destroy&&r.cellEditor.destroy()})),this.addDestroyableEventListener(e.prototype.getGui.call(this),"keydown",this.onKeyDown.bind(this))},t.prototype.afterGuiAttached=function(){this.cellEditor.afterGuiAttached&&this.cellEditor.afterGuiAttached()},t.prototype.getValue=function(){return this.cellEditor.getValue()},t.prototype.isCancelBeforeStart=function(){if(this.cellEditor.isCancelBeforeStart)return this.cellEditor.isCancelBeforeStart()},t.prototype.isCancelAfterEnd=function(){if(this.cellEditor.isCancelAfterEnd)return this.cellEditor.isCancelAfterEnd()},t.prototype.focusIn=function(){this.cellEditor.focusIn&&this.cellEditor.focusIn()},t.prototype.focusOut=function(){this.cellEditor.focusOut&&this.cellEditor.focusOut()},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(Ye),Vr=(Tr=function(e,t){return(Tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Tr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Gr=function(e){function t(t,n,r,o,i){var s=e.call(this,'<div class="ag-row-drag" draggable="true"></div>')||this;return s.rowNode=t,s.column=n,s.cellValue=r,s.beans=o,s.eCell=i,s}return Vr(t,e),t.prototype.postConstruct=function(){this.getGui().appendChild(de.createIconNoSpan("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var t=this,n=this.column.getColDef().dndSourceOnRowDrag,r=de.isBrowserIE();r||e.dataTransfer.setDragImage(this.eCell,0,0),n?n({rowNode:this.rowNode,dragEvent:e}):function(){try{var n=JSON.stringify(t.rowNode.data);r?e.dataTransfer.setData("text",n):(e.dataTransfer.setData("application/json",n),e.dataTransfer.setData("text/plain",n))}catch(o){}}()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([me],t.prototype,"postConstruct",null),t}(Qe),Wr=(Rr=function(e,t){return(Rr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Rr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Hr=function(e){function n(t,n,r,o,i,s,a){var l=e.call(this)||this;if(l.editingCell=!1,l.suppressRefreshCell=!1,l.scope=null,l.cellEditorVersion=0,l.cellRendererVersion=0,l.scope=t,l.beans=n,l.column=r,l.rowNode=o,l.rowComp=i,l.autoHeightCell=s,l.printLayout=a,l.createGridCellVo(),l.rangeSelectionEnabled=l.beans.rangeController&&n.gridOptionsWrapper.isEnableRangeSelection(),l.cellFocused=l.beans.focusedCellController.isCellFocused(l.cellPosition),l.firstRightPinned=l.column.isFirstRightPinned(),l.lastLeftPinned=l.column.isLastLeftPinned(),l.rangeSelectionEnabled&&l.beans.rangeController){var u=l.beans.rangeController;l.rangeCount=u.getCellRangeCount(l.cellPosition),l.rangeCount&&(l.hasChartRange=u.getCellRanges().every((function(e){return de.exists(e.type)})))}return l.getValueAndFormat(),l.setUsingWrapper(),l.chooseCellRenderer(),l.setupColSpan(),l.rowSpan=l.column.getRowSpan(l.rowNode),l}return Wr(n,e),n.prototype.getCreateTemplate=function(){var e=this.beans.gridOptionsWrapper.isEnableCellTextSelection()?"":'unselectable="on"',t=[],n=this.column,r=this.getCellWidth(),o=this.modifyLeftForPrintLayout(this.getCellLeft()),i=this.getInitialValueToRender(),s=de.get(this.column,"colDef.template",null)?i:de.escape(i);this.tooltip=this.getToolTip();var a=de.escape(this.tooltip),l=de.escape(n.getId()),u="",c="",p=this.preProcessStylesFromColDef(),d=this.getInitialCssClasses(),h=this.getStylesForRowSpanning();return this.usingWrapper&&(u='<div ref="eCellWrapper" class="ag-cell-wrapper"><span ref="eCellValue" class="ag-cell-value" '+e+">",c="</span></div>"),t.push("<div"),t.push(' tabindex="-1"'),t.push(" "+e),t.push(' role="gridcell"'),t.push(' comp-id="'+this.getCompId()+'" '),t.push(' col-id="'+l+'"'),t.push(' class="'+d.join(" ")+'"'),this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&de.exists(a)&&t.push('title="'+a+'"'),t.push(' style="width: '+r+"px; left: "+o+"px; "+p+" "+h+'" >'),t.push(u),de.exists(s,!0)&&t.push(s),t.push(c),t.push("</div>"),t.join("")},n.prototype.getStylesForRowSpanning=function(){return 1===this.rowSpan?"":"height: "+this.beans.gridOptionsWrapper.getRowHeightAsNumber()*this.rowSpan+"px; z-index: 1;"},n.prototype.afterAttached=function(){var e='[comp-id="'+this.getCompId()+'"]',t=this.eParentRow.querySelector(e);this.setGui(t),this.addDomData(),this.populateTemplate(),this.createCellRendererInstance(!0),this.angular1Compile(),this.rangeSelectionEnabled&&this.shouldHaveSelectionHandle()&&this.addSelectionHandle(),de.exists(this.tooltip)&&!this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&this.beans.tooltipManager.registerTooltip(this)},n.prototype.onColumnHover=function(){var e=this.beans.columnHoverService.isHovered(this.column);de.addOrRemoveCssClass(this.getGui(),"ag-column-hover",e)},n.prototype.onCellChanged=function(e){e.column===this.column&&this.refreshCell({})},n.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?de.last(this.colsSpanning):this.column).getLeft()},n.prototype.getCellWidth=function(){if(!this.colsSpanning)return this.column.getActualWidth();var e=0;return this.colsSpanning.forEach((function(t){return e+=t.getActualWidth()})),e},n.prototype.onFlashCells=function(e){var t=this.beans.cellPositionUtils.createId(this.cellPosition);e.cells[t]&&this.animateCell("highlight")},n.prototype.setupColSpan=function(){de.missing(this.getComponentHolder().colSpan)||(this.addDestroyableEventListener(this.beans.eventService,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addDestroyableEventListener(this.beans.eventService,xe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)),this.colsSpanning=this.getColSpanningList())},n.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else for(var n=this.column,r=this.column.getPinned(),o=0;n&&o<e&&(t.push(n),(n=this.beans.columnController.getDisplayedColAfter(n))&&!de.missing(n))&&r===n.getPinned();o++);return t},n.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();de.compareArrays(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},n.prototype.getInitialCssClasses=function(){var e=["ag-cell","ag-cell-not-inline-editing"];return this.autoHeightCell||e.push("ag-cell-with-height"),!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&this.cellFocused&&e.push("ag-cell-focus"),this.firstRightPinned&&e.push("ag-cell-first-right-pinned"),this.lastLeftPinned&&e.push("ag-cell-last-left-pinned"),this.beans.columnHoverService.isHovered(this.column)&&e.push("ag-column-hover"),de.pushAll(e,this.preProcessClassesFromColDef()),de.pushAll(e,this.preProcessCellClassRules()),de.pushAll(e,this.getInitialRangeClasses()),this.usingWrapper||e.push("ag-cell-value"),e},n.prototype.getInitialValueToRender=function(){if(this.usingCellRenderer)return"string"==typeof this.cellRendererGui?this.cellRendererGui:"";var e=this.getComponentHolder();return e.template?e.template:e.templateUrl?this.beans.templateService.getTemplate(e.templateUrl,this.refreshCell.bind(this,!0))||"":this.getValueToUse()},n.prototype.getRenderedRow=function(){return this.rowComp},n.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},n.prototype.getCellRenderer=function(){return this.cellRenderer},n.prototype.getCellEditor=function(){return this.cellEditor},n.prototype.refreshCell=function(e){if(!this.suppressRefreshCell&&!this.editingCell){var t=this.getComponentHolder(),n=e&&e.newData,r=e&&e.suppressFlash||t.suppressCellFlash,o=e&&e.forceRefresh,i=this.value;this.getValueAndFormat();var s=!this.valuesAreEqual(i,this.value);if(o||s){!n&&this.attemptCellRendererRefresh()||this.replaceContentsAfterRefresh();var a=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!r&&!a&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||t.enableCellChangeFlash)&&this.flashCell(),this.postProcessStylesFromColDef(),this.postProcessClassesFromColDef()}this.updateAngular1ScopeAndCompile(),this.refreshToolTip(),this.postProcessCellClassRules()}},n.prototype.flashCell=function(){this.animateCell("data-changed")},n.prototype.animateCell=function(e){var t="ag-cell-"+e,n="ag-cell-"+e+"-animation",r=this.getGui();de.addCssClass(r,t),de.removeCssClass(r,n),window.setTimeout((function(){de.removeCssClass(r,t),de.addCssClass(r,n),window.setTimeout((function(){de.removeCssClass(r,n)}),1e3)}),500)},n.prototype.replaceContentsAfterRefresh=function(){de.clearElement(this.eParentOfValue),this.cellRenderer&&this.cellRenderer.destroy&&this.cellRenderer.destroy(),this.cellRenderer=null,this.cellRendererGui=null,this.putDataIntoCellAfterRefresh(),this.updateAngular1ScopeAndCompile()},n.prototype.updateAngular1ScopeAndCompile=function(){this.beans.gridOptionsWrapper.isAngularCompileRows()&&this.scope&&(this.scope.data=P({},this.rowNode.data),this.angular1Compile())},n.prototype.angular1Compile=function(){if(this.beans.gridOptionsWrapper.isAngularCompileRows()){var e=this.getGui();if(!e.classList.contains("ng-scope")||0===e.childElementCount){var t=this.beans.$compile(e)(this.scope);this.addDestroyFunc((function(){t.remove()}))}}},n.prototype.postProcessStylesFromColDef=function(){var e=this.processStylesFromColDef();e&&de.addStylesToElement(this.getGui(),e)},n.prototype.preProcessStylesFromColDef=function(){var e=this.processStylesFromColDef();return de.cssStyleObjectToMarkup(e)},n.prototype.processStylesFromColDef=function(){var e=this.getComponentHolder();if(e.cellStyle){var t=void 0;if("function"==typeof e.cellStyle){var n={value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi()};t=(0,e.cellStyle)(n)}else t=e.cellStyle;return t}},n.prototype.postProcessClassesFromColDef=function(){var e=this;this.processClassesFromColDef((function(t){return de.addCssClass(e.getGui(),t)}))},n.prototype.preProcessClassesFromColDef=function(){var e=[];return this.processClassesFromColDef((function(t){return e.push(t)})),e},n.prototype.processClassesFromColDef=function(e){var t=this.getComponentHolder();this.beans.stylingService.processStaticCellClasses(t,{value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:t,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},e)},n.prototype.putDataIntoCellAfterRefresh=function(){var e=this.getComponentHolder();if(e.template)this.eParentOfValue.innerHTML=e.template;else if(e.templateUrl){var t=this.beans.templateService.getTemplate(e.templateUrl,this.refreshCell.bind(this,!0));t&&(this.eParentOfValue.innerHTML=t)}else if(this.chooseCellRenderer(),this.usingCellRenderer)this.createCellRendererInstance();else{var n=this.getValueToUse();null!=n&&(this.eParentOfValue.innerHTML=de.escape(n))}},n.prototype.attemptCellRendererRefresh=function(){if(de.missing(this.cellRenderer)||!this.cellRenderer||de.missing(this.cellRenderer.refresh))return!1;var e=this.createCellRendererParams(),t=this.beans.userComponentFactory.createFinalParams(this.getComponentHolder(),this.cellRendererType,e),n=this.cellRenderer.refresh(t);return!0===n||void 0===n},n.prototype.refreshToolTip=function(){var e=this.getToolTip();if(this.tooltip!==e){var t=de.exists(e),n=de.exists(this.tooltip);if(!t||this.tooltip!==e.toString())if(this.tooltip=e,this.beans.gridOptionsWrapper.isEnableBrowserTooltips())if(t){var r=de.escape(this.tooltip);this.eParentOfValue.setAttribute("title",r)}else this.eParentOfValue.removeAttribute("title");else n?t||this.beans.tooltipManager.unregisterTooltip(this):t&&this.beans.tooltipManager.registerTooltip(this)}},n.prototype.valuesAreEqual=function(e,t){var n=this.getComponentHolder(),r=n?n.equals:null;return r?r(e,t):e===t},n.prototype.getToolTip=function(){var e=this.getComponentHolder(),t=this.rowNode.data;if(e.tooltipField&&de.exists(t))return de.getValueUsingField(t,e.tooltipField,this.column.isTooltipFieldContainsDots());var n=e.tooltipValueGetter||e.tooltip;return n?n({api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),colDef:e,column:this.getColumn(),context:this.beans.gridOptionsWrapper.getContext(),value:this.value,valueFormatted:this.valueFormatted,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,$scope:this.scope}):null},n.prototype.getTooltipText=function(e){return void 0===e&&(e=!0),e?de.escape(this.tooltip):this.tooltip},n.prototype.processCellClassRules=function(e,t){var n=this.getComponentHolder();this.beans.stylingService.processClassRules(n.cellClassRules,{value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:n,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()},e,t)},n.prototype.postProcessCellClassRules=function(){var e=this;this.processCellClassRules((function(t){de.addCssClass(e.getGui(),t)}),(function(t){de.removeCssClass(e.getGui(),t)}))},n.prototype.preProcessCellClassRules=function(){var e=[];return this.processCellClassRules((function(t){e.push(t)}),(function(e){})),e},n.prototype.setUsingWrapper=function(){var e=this.getComponentHolder();if(this.rowNode.rowPinned)return this.usingWrapper=!1,this.includeSelectionComponent=!1,this.includeRowDraggingComponent=!1,void(this.includeDndSourceComponent=!1);var t="function"==typeof e.rowDrag,n="function"==typeof e.dndSource;this.includeSelectionComponent="function"==typeof e.checkboxSelection||!0===e.checkboxSelection,this.includeRowDraggingComponent=t||!0===e.rowDrag,this.includeDndSourceComponent=n||!0===e.dndSource,this.usingWrapper=this.includeRowDraggingComponent||this.includeSelectionComponent||this.includeDndSourceComponent},n.prototype.chooseCellRenderer=function(){var e=this.getComponentHolder();if(e.template||e.templateUrl)this.usingCellRenderer=!1;else{var t=this.createCellRendererParams(),r=this.beans.userComponentFactory.lookupComponentClassDef(e,"cellRenderer",t);this.beans.userComponentFactory.lookupComponentClassDef(e,"pinnedRowCellRenderer",t)&&this.rowNode.rowPinned?(this.cellRendererType=n.CELL_RENDERER_TYPE_PINNED,this.usingCellRenderer=!0):r?(this.cellRendererType=n.CELL_RENDERER_TYPE_NORMAL,this.usingCellRenderer=!0):this.usingCellRenderer=!1}},n.prototype.createCellRendererInstance=function(e){var t=this;if(void 0===e&&(e=!1),this.usingCellRenderer){var r=this.beans.gridOptionsWrapper.isAngularCompileRows(),o=this.beans.gridOptionsWrapper.isSuppressAnimationFrame();(r||o||this.autoHeightCell)&&(e=!1);var i=this.createCellRendererParams();this.cellRendererVersion++;var s=this.afterCellRendererCreated.bind(this,this.cellRendererVersion),a=this.cellRendererType===n.CELL_RENDERER_TYPE_NORMAL,l=function(){var e;(e=a?t.beans.userComponentFactory.newCellRenderer(t.getComponentHolder(),i):t.beans.userComponentFactory.newPinnedRowCellRenderer(t.getComponentHolder(),i))&&e.then(s)};e?this.beans.taskQueue.createTask(l,this.rowNode.rowIndex,"createTasksP2"):l()}},n.prototype.afterCellRendererCreated=function(e,t){this.isAlive()&&e===this.cellRendererVersion?(this.cellRenderer=t,this.cellRendererGui=this.cellRenderer.getGui(),de.missing(this.cellRendererGui)||this.editingCell||this.eParentOfValue.appendChild(this.cellRendererGui)):t.destroy&&t.destroy()},n.prototype.createCellRendererParams=function(){var e=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValue.bind(this),setValue:function(t){e.beans.valueService.setValue(e.rowNode,e.column,t)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.getComponentHolder(),column:this.column,$scope:this.scope,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.eParentOfValue,addRowCompListener:this.rowComp?this.rowComp.addEventListener.bind(this.rowComp):null,addRenderedRowListener:function(t,n){console.warn("ag-Grid: since ag-Grid .v11, params.addRenderedRowListener() is now params.addRowCompListener()"),e.rowComp&&e.rowComp.addEventListener(t,n)}}},n.prototype.formatValue=function(e){var t=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,e);return null!=t?t:e},n.prototype.getValueToUse=function(){return null!=this.valueFormatted?this.valueFormatted:this.value},n.prototype.getValueAndFormat=function(){this.value=this.getValue(),this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value)},n.prototype.getValue=function(){var e=this.rowNode.leafGroup&&this.beans.columnController.isPivotMode(),t=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!e,n=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),r=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,t&&n&&!r)},n.prototype.onMouseEvent=function(e,t){if(!de.isStopPropagationForAgGrid(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}},n.prototype.dispatchCellContextMenuEvent=function(e){var t=this.getComponentHolder(),n=this.createEvent(e,xe.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout((function(){return t.onCellContextMenu(n)}),0)},n.prototype.createEvent=function(e,t){var n={node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.getComponentHolder(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,type:t,rowIndex:this.rowNode.rowIndex};return this.scope&&(n.$scope=this.scope),n},n.prototype.onMouseOut=function(e){var t=this.createEvent(e,xe.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()},n.prototype.onMouseOver=function(e){var t=this.createEvent(e,xe.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])},n.prototype.onCellDoubleClicked=function(e){var t=this.getComponentHolder(),n=this.createEvent(e,xe.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(n),"function"==typeof t.onCellDoubleClicked&&window.setTimeout((function(){return t.onCellDoubleClicked(n)}),0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.startRowOrCellEdit()},n.prototype.startRowOrCellEdit=function(e,t){this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.startRowEditing(e,t,this):this.startEditingIfEnabled(e,t,!0)},n.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},n.prototype.startEditingIfEnabled=function(e,t,n){if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=!1),this.isCellEditable()&&!this.editingCell){this.editingCell=!0,this.cellEditorVersion++;var r=this.afterCellEditorCreated.bind(this,this.cellEditorVersion),o=this.createCellEditorParams(e,t,n);this.createCellEditor(o).then(r),de.missing(this.cellEditor)&&n&&this.focusCell(!0)}},n.prototype.createCellEditor=function(e){var t=this;return this.beans.userComponentFactory.newCellEditor(this.column.getColDef(),e).map((function(n){if(!n.isPopup||!n.isPopup())return n;t.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("ag-Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var r=new Lr(n);return t.beans.context.wireBean(r),r.init(e),r}))},n.prototype.afterCellEditorCreated=function(e,t){if(e===this.cellEditorVersion&&this.editingCell){if(t.isCancelBeforeStart&&t.isCancelBeforeStart())return t.destroy&&t.destroy(),void(this.editingCell=!1);if(!t.getGui)return console.warn("ag-Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),t.render&&console.warn("ag-Grid: we found 'render' on the component, are you trying to set a React renderer but added it as colDef.cellEditor instead of colDef.cellEditorFmk?"),t.destroy&&t.destroy(),void(this.editingCell=!1);this.cellEditor=t,this.cellEditorInPopup=void 0!==t.isPopup&&t.isPopup(),this.setInlineEditingClass(),this.cellEditorInPopup?this.addPopupCellEditor():this.addInCellEditor(),t.afterGuiAttached&&t.afterGuiAttached();var n=this.createEvent(null,xe.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(n)}else t.destroy&&t.destroy()},n.prototype.addInCellEditor=function(){de.clearElement(this.getGui()),this.cellEditor&&this.getGui().appendChild(this.cellEditor.getGui()),this.angular1Compile()},n.prototype.addPopupCellEditor=function(){var e=this,t=this.cellEditor?this.cellEditor.getGui():null,n=this.beans.gridOptionsWrapper.isStopEditingWhenGridLosesFocus();this.hideEditorPopup=this.beans.popupService.addPopup(n,t,!0,(function(){e.onPopupEditorClosed()})),this.beans.popupService.positionPopupOverComponent({column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:t,keepWithinBounds:!0}),this.angular1Compile()},n.prototype.onPopupEditorClosed=function(){this.editingCell&&(this.stopRowOrCellEdit(),this.beans.focusedCellController.isCellFocused(this.cellPosition)&&this.focusCell(!0))},n.prototype.setInlineEditingClass=function(){if(this.isAlive()){var e=this.editingCell&&!this.cellEditorInPopup,t=this.editingCell&&this.cellEditorInPopup;de.addOrRemoveCssClass(this.getGui(),"ag-cell-inline-editing",e),de.addOrRemoveCssClass(this.getGui(),"ag-cell-not-inline-editing",!e),de.addOrRemoveCssClass(this.getGui(),"ag-cell-popup-editing",t),de.addOrRemoveCssClass(this.getGui().parentNode,"ag-row-inline-editing",e),de.addOrRemoveCssClass(this.getGui().parentNode,"ag-row-not-inline-editing",!e)}},n.prototype.createCellEditorParams=function(e,t,n){return{value:this.getValue(),keyPress:e,charPress:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:n,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},n.prototype.stopEditingAndFocus=function(e){void 0===e&&(e=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit()},n.prototype.parseValue=function(e){var t=this.getComponentHolder(),n={node:this.rowNode,data:this.rowNode.data,oldValue:this.value,newValue:e,colDef:t,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},r=t.valueParser;return de.exists(r)?this.beans.expressionService.evaluate(r,n):e},n.prototype.focusCell=function(e){void 0===e&&(e=!1),this.beans.focusedCellController.setFocusedCell(this.cellPosition.rowIndex,this.column,this.rowNode.rowPinned,e),this.refreshHandle()},n.prototype.setFocusInOnEditor=function(){this.editingCell&&(this.cellEditor&&this.cellEditor.focusIn?this.cellEditor.focusIn():this.focusCell(!0))},n.prototype.isEditing=function(){return this.editingCell},n.prototype.onKeyDown=function(e){var t=e.which||e.keyCode;switch(t){case ie.KEY_ENTER:this.onEnterKeyDown();break;case ie.KEY_F2:this.onF2KeyDown();break;case ie.KEY_ESCAPE:this.onEscapeKeyDown();break;case ie.KEY_TAB:this.onTabKeyDown(e);break;case ie.KEY_BACKSPACE:case ie.KEY_DELETE:this.onBackspaceOrDeleteKeyPressed(t);break;case ie.KEY_DOWN:case ie.KEY_UP:case ie.KEY_RIGHT:case ie.KEY_LEFT:this.onNavigationKeyPressed(e,t)}},n.prototype.setFocusOutOnEditor=function(){this.editingCell&&this.cellEditor&&this.cellEditor.focusOut&&this.cellEditor.focusOut()},n.prototype.onNavigationKeyPressed=function(e,t){this.editingCell||(e.shiftKey&&this.rangeSelectionEnabled?this.onShiftRangeSelect(t):this.beans.rowRenderer.navigateToNextCell(e,t,this.cellPosition,!0),e.preventDefault())},n.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeController){var t=this.beans.rangeController.extendLatestRangeInDirection(e);t&&this.beans.rowRenderer.ensureCellVisible(t)}},n.prototype.onTabKeyDown=function(e){this.beans.rowRenderer.onTabKeyDown(this,e)},n.prototype.onBackspaceOrDeleteKeyPressed=function(e){this.editingCell||this.startRowOrCellEdit(e)},n.prototype.onEnterKeyDown=function(){this.editingCell||this.rowComp.isEditing()?this.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.rowRenderer.navigateToNextCell(null,ie.KEY_DOWN,this.cellPosition,!1):this.startRowOrCellEdit(ie.KEY_ENTER)},n.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.rowRenderer.navigateToNextCell(null,ie.KEY_DOWN,this.cellPosition,!1)},n.prototype.onF2KeyDown=function(){this.editingCell||this.startRowOrCellEdit(ie.KEY_F2)},n.prototype.onEscapeKeyDown=function(){this.editingCell&&(this.stopRowOrCellEdit(!0),this.focusCell(!0))},n.prototype.onKeyPress=function(e){if(de.getTarget(e)===this.getGui()&&!this.editingCell){var t=String.fromCharCode(e.charCode);" "===t?this.onSpaceKeyPressed(e):de.isEventFromPrintableCharacter(e)&&(this.startRowOrCellEdit(null,t),e.preventDefault())}},n.prototype.onSpaceKeyPressed=function(e){if(!this.editingCell&&this.beans.gridOptionsWrapper.isRowSelection()){var t=this.rowNode.isSelected();this.rowNode.setSelected(!t)}e.preventDefault()},n.prototype.onMouseDown=function(e){var t=!1,n=e.button,r=e.ctrlKey,o=e.metaKey,i=e.shiftKey,s=e.target,a=this.beans,l=a.eventService,u=a.rangeController;if(!(u&&u.isCellInAnyRange(this.getCellPosition())&&2===n||((de.isBrowserIE()||de.isBrowserEdge())&&this.getGui().contains(s)&&(t=!0),!i||u&&!u.getCellRanges().length?this.focusCell(t):e.preventDefault(),de.isElementChildOfClass(s,"ag-selection-checkbox",3)))){if(de.isLeftClick(e)&&u){var c=this.cellPosition;i?u.extendLatestRangeToCell(c):u.setRangeToCell(c,r||o)}var p=this.createEvent(e,xe.EVENT_CELL_MOUSE_DOWN);l.dispatchEvent(p)}},n.prototype.isDoubleClickOnIPad=function(){if(de.isIOSUserAgent()&&!de.isEventSupported("dblclick"))return!1;var e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t},n.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var t=this.createEvent(e,xe.EVENT_CELL_CLICKED);this.beans.eventService.dispatchEvent(t);var n=this.getComponentHolder();n.onCellClicked&&window.setTimeout((function(){return n.onCellClicked(t)}),0),(this.beans.gridOptionsWrapper.isSingleClickEdit()||n.singleClickEdit)&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.startRowOrCellEdit()},n.prototype.createGridCellVo=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,column:this.column}},n.prototype.getCellPosition=function(){return this.cellPosition},n.prototype.getParentRow=function(){return this.eParentRow},n.prototype.setParentRow=function(e){this.eParentRow=e},n.prototype.getColumn=function(){return this.column},n.prototype.getComponentHolder=function(){return this.column.getColDef()},n.prototype.detach=function(){this.eParentRow.removeChild(this.getGui())},n.prototype.destroy=function(){e.prototype.destroy.call(this),this.stopEditing(),this.cellRenderer&&this.cellRenderer.destroy&&(this.cellRenderer.destroy(),this.cellRenderer=null),this.selectionHandle&&this.selectionHandle.destroy()},n.prototype.onLeftChanged=function(){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.getGui().style.left=e+"px"},n.prototype.modifyLeftForPrintLayout=function(e){return this.printLayout?this.column.getPinned()===ie.PINNED_LEFT?e:this.column.getPinned()===ie.PINNED_RIGHT?this.beans.columnController.getPinnedLeftContainerWidth()+this.beans.columnController.getBodyContainerWidth()+e:this.beans.columnController.getPinnedLeftContainerWidth()+e:e},n.prototype.onWidthChanged=function(){var e=this.getCellWidth();this.getGui().style.width=e+"px"},n.prototype.getRangeBorders=function(){var e,t,n=this,r=this.beans.gridOptionsWrapper.isEnableRtl(),o=!1,i=!1,s=!1,a=!1,l=this.cellPosition.column,u=this.beans.rangeController;r?(e=this.beans.columnController.getDisplayedColAfter(l),t=this.beans.columnController.getDisplayedColBefore(l)):(e=this.beans.columnController.getDisplayedColBefore(l),t=this.beans.columnController.getDisplayedColAfter(l));var c=u.getCellRanges().filter((function(e){return u.isCellInSpecificRange(n.cellPosition,e)}));e||(a=!0),t||(i=!0);for(var p=0;p<c.length&&!(o&&i&&s&&a);p++){var d=c[p],h=u.getRangeStartRow(d),f=u.getRangeEndRow(d);!o&&this.beans.rowPositionUtils.sameRow(h,this.cellPosition)&&(o=!0),!s&&this.beans.rowPositionUtils.sameRow(f,this.cellPosition)&&(s=!0),!a&&d.columns.indexOf(e)<0&&(a=!0),!i&&d.columns.indexOf(t)<0&&(i=!0)}return{top:o,right:i,bottom:s,left:a}},n.prototype.getInitialRangeClasses=function(){var e=[];if(!this.rangeSelectionEnabled||!this.rangeCount)return e;var t=this.beans.rangeController;e.push("ag-cell-range-selected"),this.hasChartRange&&e.push("ag-cell-range-chart");var n=Math.min(this.rangeCount,4);if(e.push("ag-cell-range-selected-"+n),1!==this.rangeCount||t.isMoreThanOneCell()||e.push("ag-cell-range-single-cell"),this.rangeCount>0){var r=this.getRangeBorders();r.top&&e.push("ag-cell-range-top"),r.right&&e.push("ag-cell-range-right"),r.bottom&&e.push("ag-cell-range-bottom"),r.left&&e.push("ag-cell-range-left")}return this.selectionHandle&&e.push("ag-cell-range-handle"),e},n.prototype.onRowIndexChanged=function(){this.createGridCellVo(),this.onCellFocused(),this.onRangeSelectionChanged()},n.prototype.onRangeSelectionChanged=function(){if(this.beans.rangeController){var e=this.rangeCount,t=this.beans.rangeController,n=t.getCellRangeCount(this.cellPosition),r=this.getGui();e!==n&&(de.addOrRemoveCssClass(r,"ag-cell-range-selected",0!==n),de.addOrRemoveCssClass(r,"ag-cell-range-selected-1",1===n),de.addOrRemoveCssClass(r,"ag-cell-range-selected-2",2===n),de.addOrRemoveCssClass(r,"ag-cell-range-selected-3",3===n),de.addOrRemoveCssClass(r,"ag-cell-range-selected-4",n>=4),this.rangeCount=n);var o=this.rangeCount&&t.getCellRanges().every((function(e){return de.exists(e.type)}));this.hasChartRange!==o&&(de.addOrRemoveCssClass(r,"ag-cell-range-chart",o),this.hasChartRange=o),this.updateRangeBorders();var i=1===this.rangeCount&&!t.isMoreThanOneCell();de.addOrRemoveCssClass(r,"ag-cell-range-single-cell",i),this.refreshHandle(),de.addOrRemoveCssClass(r,"ag-cell-range-handle",!!this.selectionHandle)}},n.prototype.shouldHaveSelectionHandle=function(){var e=this.beans,n=e.gridOptionsWrapper,r=e.rangeController,o=this.getGui(),i=r.getCellRanges(),s=i.length;if(!s)return!1;var a=de.last(i),l=i[0].type===t.CellRangeType.DIMENSION,u=(n.isEnableFillHandle()||n.isEnableRangeHandle()||this.hasChartRange&&!l)&&1===s&&!this.editingCell;if(!u&&this.hasChartRange){var c=this.getCellPosition();u=l&&2===s&&r.isCellInSpecificRange(this.getCellPosition(),a);var p=l&&r.isCellInSpecificRange(c,i[0]);de.addOrRemoveCssClass(o,"ag-cell-range-chart-category",p)}return this.rangeCount&&u&&null!=a.endRow&&this.beans.rangeController.isContiguousRange(a)&&(de.containsClass(o,"ag-cell-range-single-cell")||de.containsClass(o,"ag-cell-range-bottom")&&de.containsClass(o,"ag-cell-range-right"))},n.prototype.addSelectionHandle=function(){var e=this.beans,t=e.gridOptionsWrapper,n=e.context,r=de.last(e.rangeController.getCellRanges()).type,o=t.isEnableFillHandle()&&de.missing(r)?"fill":"range";this.selectionHandle&&this.selectionHandle.getType()!==o&&(this.selectionHandle.destroy(),this.selectionHandle=void 0),this.selectionHandle||(this.selectionHandle=n.createComponentFromElement(document.createElement("ag-"+o+"-handle"))),this.selectionHandle.refresh(this)},n.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},n.prototype.refreshHandle=function(){if(this.beans.rangeController){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle.destroy(),this.selectionHandle=null),e&&this.addSelectionHandle()}},n.prototype.updateRangeBorders=function(){var e=this.getRangeBorders(),t=1===this.rangeCount&&!this.beans.rangeController.isMoreThanOneCell(),n=!t&&e.top,r=!t&&e.right,o=!t&&e.bottom,i=!t&&e.left,s=this.getGui();de.addOrRemoveCssClass(s,"ag-cell-range-top",n),de.addOrRemoveCssClass(s,"ag-cell-range-right",r),de.addOrRemoveCssClass(s,"ag-cell-range-bottom",o),de.addOrRemoveCssClass(s,"ag-cell-range-left",i)},n.prototype.onFirstRightPinnedChanged=function(){var e=this.column.isFirstRightPinned();this.firstRightPinned!==e&&(this.firstRightPinned=e,de.addOrRemoveCssClass(this.getGui(),"ag-cell-first-right-pinned",e))},n.prototype.onLastLeftPinnedChanged=function(){var e=this.column.isLastLeftPinned();this.lastLeftPinned!==e&&(this.lastLeftPinned=e,de.addOrRemoveCssClass(this.getGui(),"ag-cell-last-left-pinned",e))},n.prototype.populateTemplate=function(){this.usingWrapper?(this.eParentOfValue=this.getRefElement("eCellValue"),this.eCellWrapper=this.getRefElement("eCellWrapper"),this.includeRowDraggingComponent&&this.addRowDragging(),this.includeDndSourceComponent&&this.addDndSource(),this.includeSelectionComponent&&this.addSelectionCheckbox()):this.eParentOfValue=this.getGui()},n.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},n.prototype.addRowDragging=function(){var e=this.beans.gridOptionsWrapper.isPagination(),t=this.beans.gridOptionsWrapper.isRowDragManaged(),n=this.beans.gridOptionsWrapper.isRowModelDefault();if(t){if(!n)return void de.doOnce((function(){return console.warn("ag-Grid: managed row dragging is only allowed in the Client Side Row Model")}),"CellComp.addRowDragging");if(e)return void de.doOnce((function(){return console.warn("ag-Grid: managed row dragging is not possible when doing pagination")}),"CellComp.addRowDragging")}var r=new Pr(this.rowNode,this.column,this.getValueToUse(),this.beans);this.addFeature(r,this.beans.context),this.eCellWrapper.insertBefore(r.getGui(),this.eParentOfValue)},n.prototype.addDndSource=function(){var e=new Gr(this.rowNode,this.column,this.getValueToUse(),this.beans,this.getGui());this.addFeature(e,this.beans.context),this.eCellWrapper.insertBefore(e.getGui(),this.eParentOfValue)},n.prototype.addSelectionCheckbox=function(){var e=new Wt;this.beans.context.wireBean(e);var t=this.getComponentHolder().checkboxSelection;e.init({rowNode:this.rowNode,column:this.column,visibleFunc:t="function"==typeof t?t:null}),this.addDestroyFunc((function(){return e.destroy()})),this.eCellWrapper.insertBefore(e.getGui(),this.eParentOfValue)},n.prototype.addDomData=function(){var e=this,t=this.getGui();this.beans.gridOptionsWrapper.setDomData(t,n.DOM_DATA_KEY_CELL_COMP,this),this.addDestroyFunc((function(){return e.beans.gridOptionsWrapper.setDomData(t,n.DOM_DATA_KEY_CELL_COMP,null)}))},n.prototype.onCellFocused=function(e){var t=this.beans.focusedCellController.isCellFocused(this.cellPosition);t!==this.cellFocused&&(!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&de.addOrRemoveCssClass(this.getGui(),"ag-cell-focus",t),this.cellFocused=t),t&&e&&e.forceBrowserFocus&&(this.getGui().focus(),document.activeElement&&document.activeElement!==document.body||this.getGui().focus());var n=this.beans.gridOptionsWrapper.isFullRowEdit();t||n||!this.editingCell||this.stopRowOrCellEdit()},n.prototype.stopRowOrCellEdit=function(e){void 0===e&&(e=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.stopRowEditing(e):this.stopEditing(e)},n.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),this.editingCell)if(this.cellEditor){var t,n=!1;if(e||this.cellEditor.isCancelAfterEnd&&this.cellEditor.isCancelAfterEnd()||(t=this.cellEditor.getValue(),n=!0),this.editingCell=!1,this.cellEditor.destroy&&this.cellEditor.destroy(),this.cellEditor=null,this.cellEditorInPopup&&this.hideEditorPopup)this.hideEditorPopup(),this.hideEditorPopup=null;else if(de.clearElement(this.getGui()),this.usingWrapper)this.getGui().appendChild(this.eCellWrapper);else if(this.cellRenderer){var r=this.cellRendererGui;r&&this.getGui().appendChild(r)}this.setInlineEditingClass(),n&&(this.suppressRefreshCell=!0,this.rowNode.setDataValue(this.column,t),this.suppressRefreshCell=!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0});var o=this.createEvent(null,xe.EVENT_CELL_EDITING_STOPPED);this.beans.eventService.dispatchEvent(o)}else this.editingCell=!1},n.DOM_DATA_KEY_CELL_COMP="cellComp",n.CELL_RENDERER_TYPE_NORMAL="cellRenderer",n.CELL_RENDERER_TYPE_PINNED="pinnedRowCellRenderer",n}(Qe),Br=(Sr=function(e,t){return(Sr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Sr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ur=function(e){function n(t,n,r,o,i,s,a,l,u,c,p){var d=e.call(this)||this;return d.eAllRowContainers=[],d.active=!0,d.rowContainerReadyCount=0,d.refreshNeeded=!1,d.columnRefreshPending=!1,d.cellComps={},d.createSecondPassFuncs=[],d.removeFirstPassFuncs=[],d.removeSecondPassFuncs=[],d.initialised=!1,d.elementOrderChanged=!1,d.parentScope=t,d.beans=a,d.bodyContainerComp=n,d.pinnedLeftContainerComp=r,d.pinnedRightContainerComp=o,d.fullWidthContainerComp=i,d.rowNode=s,d.rowIsEven=d.rowNode.rowIndex%2==0,d.paginationPage=d.beans.paginationProxy.getCurrentPage(),d.useAnimationFrameForCreate=u,d.printLayout=c,d.embedFullWidth=p,d.setAnimateFlags(l),d}return Br(n,e),n.prototype.init=function(){var e=this;this.rowFocused=this.beans.focusedCellController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.scope=this.createChildScopeOrNull(this.rowNode.data),this.setupRowContainers(),this.addListeners(),this.slideRowIn&&this.createSecondPassFuncs.push((function(){e.onTopChanged()})),this.fadeRowIn&&this.createSecondPassFuncs.push((function(){e.eAllRowContainers.forEach((function(e){return de.removeCssClass(e,"ag-opacity-zero")}))}))},n.prototype.createTemplate=function(e,t){void 0===t&&(t=null);var n=[],r=this.rowNode.rowHeight,o=this.getInitialRowClasses(t).join(" "),i=de.escape(this.rowNode.id),s=this.preProcessStylesFromGridOptions(),a=this.getRowBusinessKey(),l=de.escape(a),u=this.getInitialRowTopStyle(),c=this.rowNode.getRowIndexString(),p=this.beans.gridPanel.headerRootComp.getHeaderRowCount();return n.push("<div"),n.push(' role="row"'),n.push(' row-index="'+c+'" aria-rowindex="'+(p+this.rowNode.rowIndex+1)+'"'),n.push(i?' row-id="'+i+'"':""),n.push(a?' row-business-key="'+l+'"':""),n.push(' comp-id="'+this.getCompId()+'"'),n.push(' class="'+o+'"'),n.push(' style="height: '+r+"px; "+u+" "+s+'">'),n.push(e),n.push("</div>"),n.join("")},n.prototype.getCellForCol=function(e){var t=this.cellComps[e.getColId()];return t?t.getGui():null},n.prototype.afterFlush=function(){this.initialised||(this.initialised=!0,this.executeProcessRowPostCreateFunc())},n.prototype.executeProcessRowPostCreateFunc=function(){var e=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();e&&e({eRow:this.eBodyRow,ePinnedLeftRow:this.ePinnedLeftRow,ePinnedRightRow:this.ePinnedRightRow,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})},n.prototype.getInitialRowTopStyle=function(){if(this.printLayout)return"";var e=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,t=this.applyPaginationOffset(e),n=this.beans.maxDivHeightScaler.getRealPixelPosition(t);return this.beans.gridOptionsWrapper.isSuppressRowTransform()?"top: "+n+"px; ":"transform: translateY("+n+"px);"},n.prototype.getRowBusinessKey=function(){var e=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof e)return e(this.rowNode)},n.prototype.areAllContainersReady=function(){return 3===this.rowContainerReadyCount},n.prototype.lazyCreateCells=function(e,t){if(this.active){var n=this.createCells(e);t.innerHTML=n.template,this.callAfterRowAttachedOnCells(n.cellComps,t),this.rowContainerReadyCount++,this.areAllContainersReady()&&this.refreshNeeded&&this.refreshCells()}},n.prototype.createRowContainer=function(e,t,n){var r=this,o=this.useAnimationFrameForCreate,i=o?{cellComps:[],template:""}:this.createCells(t),s=this.createTemplate(i.template);e.appendRowTemplate(s,(function(){var s=e.getRowElement(r.getCompId());r.afterRowAttached(e,s),n(s),o?r.beans.taskQueue.createTask(r.lazyCreateCells.bind(r,t,s),r.rowNode.rowIndex,"createTasksP1"):(r.callAfterRowAttachedOnCells(i.cellComps,s),r.rowContainerReadyCount=3)}))},n.prototype.createChildScopeOrNull=function(e){if(!this.beans.gridOptionsWrapper.isAngularCompileRows())return null;var t=this.parentScope.$new();return t.data=N({},e),t.rowNode=this.rowNode,t.context=this.beans.gridOptionsWrapper.getContext(),this.addDestroyFunc((function(){t.$destroy(),t.data=null,t.rowNode=null,t.context=null})),t},n.prototype.setupRowContainers=function(){var e=this.rowNode.isFullWidthCell(),t=this.beans.doingMasterDetail&&this.rowNode.detail,r=this.beans.columnController.isPivotMode(),o=this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(r);this.rowNode.stub?this.createFullWidthRows(n.LOADING_CELL_RENDERER,n.LOADING_CELL_RENDERER_COMP_NAME):t?this.createFullWidthRows(n.DETAIL_CELL_RENDERER,n.DETAIL_CELL_RENDERER_COMP_NAME):e?this.createFullWidthRows(n.FULL_WIDTH_CELL_RENDERER,null):o?this.createFullWidthRows(n.GROUP_ROW_RENDERER,n.GROUP_ROW_RENDERER_COMP_NAME):this.setupNormalRowContainers()},n.prototype.setupNormalRowContainers=function(){var e,t,n,r=this;this.printLayout?(e=this.beans.columnController.getAllDisplayedColumns(),t=[],n=[]):(e=this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode),t=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),n=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.createRowContainer(this.bodyContainerComp,e,(function(e){return r.eBodyRow=e})),this.createRowContainer(this.pinnedRightContainerComp,n,(function(e){return r.ePinnedRightRow=e})),this.createRowContainer(this.pinnedLeftContainerComp,t,(function(e){return r.ePinnedLeftRow=e}))},n.prototype.createFullWidthRows=function(e,t){var n=this;this.fullWidthRow=!0,this.embedFullWidth?(this.createFullWidthRowContainer(this.bodyContainerComp,null,null,e,t,(function(e){n.eFullWidthRowBody=e}),(function(e){n.fullWidthRowComponentBody=e})),this.printLayout||(this.createFullWidthRowContainer(this.pinnedLeftContainerComp,ie.PINNED_LEFT,"ag-cell-last-left-pinned",e,t,(function(e){n.eFullWidthRowLeft=e}),(function(e){n.fullWidthRowComponentLeft=e})),this.createFullWidthRowContainer(this.pinnedRightContainerComp,ie.PINNED_RIGHT,"ag-cell-first-right-pinned",e,t,(function(e){n.eFullWidthRowRight=e}),(function(e){n.fullWidthRowComponentRight=e})))):this.createFullWidthRowContainer(this.fullWidthContainerComp,null,null,e,t,(function(e){n.eFullWidthRow=e}),(function(e){n.fullWidthRowComponent=e}))},n.prototype.setAnimateFlags=function(e){if(e){var t=de.exists(this.rowNode.oldRowTop);this.slideRowIn=t,this.fadeRowIn=!t}else this.slideRowIn=!1,this.fadeRowIn=!1},n.prototype.isEditing=function(){return this.editingRow},n.prototype.stopRowEditing=function(e){this.stopEditing(e)},n.prototype.isFullWidth=function(){return this.fullWidthRow},n.prototype.refreshFullWidth=function(){var e=this,t=function(t,n,r){if(!t||!n)return!0;if(!n.refresh)return!1;var o=e.createFullWidthParams(t,r);return n.refresh(o)},n=t(this.eFullWidthRow,this.fullWidthRowComponent,null),r=t(this.eFullWidthRowBody,this.fullWidthRowComponentBody,null),o=t(this.eFullWidthRowLeft,this.fullWidthRowComponentLeft,ie.PINNED_LEFT),i=t(this.eFullWidthRowRight,this.fullWidthRowComponentRight,ie.PINNED_RIGHT);return n&&r&&o&&i},n.prototype.addListeners=function(){this.addDestroyableEventListener(this.rowNode,Vt.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addDestroyableEventListener(this.rowNode,Vt.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addDestroyableEventListener(this.rowNode,Vt.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addDestroyableEventListener(this.rowNode,Vt.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addDestroyableEventListener(this.rowNode,Vt.EVENT_EXPANDED_CHANGED,this.onExpandedChanged.bind(this)),this.addDestroyableEventListener(this.rowNode,Vt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addDestroyableEventListener(this.rowNode,Vt.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addDestroyableEventListener(this.rowNode,Vt.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this));var e=this.beans.eventService;this.addDestroyableEventListener(e,xe.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addDestroyableEventListener(e,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addDestroyableEventListener(e,xe.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addDestroyableEventListener(e,xe.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addDestroyableEventListener(e,xe.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addDestroyableEventListener(e,xe.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addDestroyableEventListener(e,xe.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addDestroyableEventListener(e,xe.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addDestroyableEventListener(e,xe.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},n.prototype.addListenersForCellComps=function(){var e=this;this.addDestroyableEventListener(this.rowNode,Vt.EVENT_ROW_INDEX_CHANGED,(function(){e.forEachCellComp((function(e){return e.onRowIndexChanged()}))})),this.addDestroyableEventListener(this.rowNode,Vt.EVENT_CELL_CHANGED,(function(t){e.forEachCellComp((function(e){return e.onCellChanged(t)}))}))},n.prototype.onGridColumnsChanged=function(){this.removeRenderedCells(Object.keys(this.cellComps))},n.prototype.onRowNodeDataChanged=function(e){this.forEachCellComp((function(t){return t.refreshCell({suppressFlash:!e.update,newData:!e.update})})),this.onRowSelected(),this.postProcessCss()},n.prototype.onRowNodeCellChanged=function(e){this.postProcessCss()},n.prototype.postProcessCss=function(){this.postProcessStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},n.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},n.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.eAllRowContainers.forEach((function(t){return de.addOrRemoveCssClass(t,"ag-row-dragging",e)}))},n.prototype.onExpandedChanged=function(){var e=this.rowNode;this.eAllRowContainers.forEach((function(t){return de.addOrRemoveCssClass(t,"ag-row-group-expanded",e.expanded)})),this.eAllRowContainers.forEach((function(t){return de.addOrRemoveCssClass(t,"ag-row-group-contracted",!e.expanded)}))},n.prototype.onDisplayedColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},n.prototype.destroyFullWidthComponents=function(){this.fullWidthRowComponent&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponent),this.fullWidthRowComponent=null),this.fullWidthRowComponentBody&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponentBody),this.fullWidthRowComponent=null),this.fullWidthRowComponentLeft&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,ie.PINNED_LEFT,this.fullWidthRowComponentLeft),this.fullWidthRowComponentLeft=null),this.fullWidthRowComponentRight&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,ie.PINNED_RIGHT,this.fullWidthRowComponentRight),this.fullWidthRowComponent=null)},n.prototype.getContainerForCell=function(e){switch(e){case ie.PINNED_LEFT:return this.ePinnedLeftRow;case ie.PINNED_RIGHT:return this.ePinnedRightRow;default:return this.eBodyRow}},n.prototype.onVirtualColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},n.prototype.onColumnResized=function(){this.fullWidthRow||this.refreshCells()},n.prototype.refreshCells=function(){if(this.areAllContainersReady())if(this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)this.refreshCellsInAnimationFrame();else{if(this.columnRefreshPending)return;this.beans.taskQueue.createTask(this.refreshCellsInAnimationFrame.bind(this),this.rowNode.rowIndex,"createTasksP1")}else this.refreshNeeded=!0},n.prototype.refreshCellsInAnimationFrame=function(){if(this.active){var e,t,n;this.columnRefreshPending=!1,this.printLayout?(e=this.beans.columnController.getAllDisplayedColumns(),t=[],n=[]):(e=this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode),t=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),n=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.insertCellsIntoContainer(this.eBodyRow,e),this.insertCellsIntoContainer(this.ePinnedLeftRow,t),this.insertCellsIntoContainer(this.ePinnedRightRow,n),this.elementOrderChanged=!1;var r=Object.keys(this.cellComps);e.forEach((function(e){return de.removeFromArray(r,e.getId())})),t.forEach((function(e){return de.removeFromArray(r,e.getId())})),n.forEach((function(e){return de.removeFromArray(r,e.getId())}));var o=r.filter(this.isCellEligibleToBeRemoved.bind(this));this.removeRenderedCells(o)}},n.prototype.onColumnMoved=function(){this.elementOrderChanged=!0},n.prototype.removeRenderedCells=function(e){var t=this;e.forEach((function(e){var n=t.cellComps[e];de.missing(n)||(n.detach(),n.destroy(),t.cellComps[e]=null)}))},n.prototype.isCellEligibleToBeRemoved=function(e){var t=this.beans.columnController.getAllDisplayedColumns(),n=this.cellComps[e];if(!n)return!0;if(this.isCellInWrongRow(n))return!0;var r=n.isEditing(),o=this.beans.focusedCellController.isCellFocused(n.getCellPosition());if(r||o){var i=n.getColumn();return!(t.indexOf(i)>=0)}return!0},n.prototype.ensureCellInCorrectContainer=function(e){if(!this.printLayout){var t=e.getGui(),n=e.getColumn().getPinned(),r=this.getContainerForCell(n),o=e.getParentRow();o!==r&&(o&&o.removeChild(t),r.appendChild(t),e.setParentRow(r),this.elementOrderChanged=!0)}},n.prototype.isCellInWrongRow=function(e){var t=e.getColumn(),n=this.getContainerForCell(t.getPinned());return e.getParentRow()!==n},n.prototype.insertCellsIntoContainer=function(e,t){var n=this;if(e){var r=[],o=[];if(t.forEach((function(t){var i=t.getId(),s=n.cellComps[i];s?n.ensureCellInCorrectContainer(s):n.createNewCell(t,e,r,o)})),r.length>0&&(de.appendHtml(e,r.join("")),this.callAfterRowAttachedOnCells(o,e)),this.elementOrderChanged&&this.beans.gridOptionsWrapper.isEnsureDomOrder()){var i=t.map((function(e){return n.getCellForCol(e)}));de.setDomChildOrder(e,i)}}},n.prototype.addDomData=function(e){var t=this.beans.gridOptionsWrapper;t.setDomData(e,n.DOM_DATA_KEY_RENDERED_ROW,this),this.addDestroyFunc((function(){t.setDomData(e,n.DOM_DATA_KEY_RENDERED_ROW,null)}))},n.prototype.createNewCell=function(e,t,n,r){var o=new Hr(this.scope,this.beans,e,this.rowNode,this,!1,this.printLayout),i=o.getCreateTemplate();n.push(i),r.push(o),this.cellComps[e.getId()]=o,o.setParentRow(t),this.elementOrderChanged=!0},n.prototype.onMouseEvent=function(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t)}},n.prototype.createRowEvent=function(e,t){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:t}},n.prototype.createRowEventWithSource=function(e,t){var n=this.createRowEvent(e,t);return n.source=this,n},n.prototype.onRowDblClick=function(e){if(!de.isStopPropagationForAgGrid(e)){var t=this.createRowEventWithSource(xe.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(t)}},n.prototype.onRowClick=function(e){if(!de.isStopPropagationForAgGrid(e)){var t=this.createRowEventWithSource(xe.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(t);var n=e.ctrlKey||e.metaKey,r=e.shiftKey;if(!this.rowNode.group&&this.rowNode.selectable&&!this.rowNode.rowPinned&&this.beans.gridOptionsWrapper.isRowSelection()&&!this.beans.gridOptionsWrapper.isSuppressRowClickSelection()){var o=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),i=this.beans.gridOptionsWrapper.isRowDeselection();this.rowNode.isSelected()?o?this.rowNode.setSelectedParams({newValue:!1}):n?i&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!0}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!o&&!n,rangeSelect:r})}}},n.prototype.createFullWidthRowContainer=function(e,n,r,o,i,s,a){var l=this,u=this.createTemplate("",r);e.appendRowTemplate(u,(function(){var r=e.getRowElement(l.getCompId()),u=l.createFullWidthParams(r,n),c=function(e){if(l.isAlive()){var t=e.getGui();r.appendChild(t),a(e)}else e.destroy&&e.destroy()},p=l.beans.detailRowCompCache.get(l.rowNode,n);if(p)c(p);else{var d=l.beans.userComponentFactory.newFullWidthCellRenderer(u,o,i);if(!d){var h=De.isRegistered(t.ModuleNames.MasterDetailModule);return void("agDetailCellRenderer"!==i||h?console.error("ag-Grid: fullWidthCellRenderer "+i+" not found"):console.warn("ag-Grid: cell renderer agDetailCellRenderer (for master detail) not found. Did you forget to include the master detail module?"))}d.then(c)}l.afterRowAttached(e,r),s(r),l.angular1Compile(r)}))},n.prototype.angular1Compile=function(e){this.scope&&this.beans.$compile(e)(this.scope)},n.prototype.createFullWidthParams=function(e,t){return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,$scope:this.scope?this.scope:this.parentScope,$compile:this.beans.$compile,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this)}},n.prototype.getInitialRowClasses=function(e){var t=[],n=this.beans.gridOptionsWrapper.isTreeData(),r=this.rowNode;return de.exists(e)&&t.push(e),t.push("ag-row"),t.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeRowIn&&t.push("ag-opacity-zero"),t.push(this.rowIsEven?"ag-row-even":"ag-row-odd"),r.isSelected()&&t.push("ag-row-selected"),r.group?(t.push("ag-row-group"),t.push("ag-row-level-"+r.level),r.footer&&t.push("ag-row-footer")):t.push("ag-row-level-"+(r.parent?r.parent.level+1:"0")),r.stub&&t.push("ag-row-stub"),this.fullWidthRow&&t.push("ag-full-width-row"),(n?r.allChildrenCount:r.group&&!r.footer)&&t.push(r.expanded?"ag-row-group-expanded":"ag-row-group-contracted"),r.dragging&&t.push("ag-row-dragging"),de.pushAll(t,this.processClassesFromGridOptions()),de.pushAll(t,this.preProcessRowClassRules()),t.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.firstRowOnPage=this.isFirstRowOnPage(),this.lastRowOnPage=this.isLastRowOnPage(),this.firstRowOnPage&&t.push("ag-row-first"),this.lastRowOnPage&&t.push("ag-row-last"),t},n.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},n.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},n.prototype.onModelUpdated=function(){var e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.eAllRowContainers.forEach((function(t){return de.addOrRemoveCssClass(t,"ag-row-first",e)}))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.eAllRowContainers.forEach((function(e){return de.addOrRemoveCssClass(e,"ag-row-last",t)})))},n.prototype.preProcessRowClassRules=function(){var e=[];return this.processRowClassRules((function(t){e.push(t)}),(function(e){})),e},n.prototype.processRowClassRules=function(e,t){this.beans.stylingService.processClassRules(this.beans.gridOptionsWrapper.rowClassRules(),{value:void 0,colDef:void 0,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()},e,t)},n.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),this.forEachCellComp((function(t){t.stopEditing(e)})),this.editingRow){if(!e){var t=this.createRowEvent(xe.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(t)}this.setEditingRow(!1)}},n.prototype.setEditingRow=function(e){this.editingRow=e,this.eAllRowContainers.forEach((function(t){return de.addOrRemoveCssClass(t,"ag-row-editing",e)}));var t=this.createRowEvent(e?xe.EVENT_ROW_EDITING_STARTED:xe.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(t)},n.prototype.startRowEditing=function(e,t,n){void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null),this.editingRow||(this.forEachCellComp((function(r){var o=r===n;o?r.startEditingIfEnabled(e,t,o):r.startEditingIfEnabled(null,null,o)})),this.setEditingRow(!0))},n.prototype.forEachCellComp=function(e){de.iterateObject(this.cellComps,(function(t,n){n&&e(n)}))},n.prototype.postProcessClassesFromGridOptions=function(){var e=this,t=this.processClassesFromGridOptions();t&&t.length&&t.forEach((function(t){e.eAllRowContainers.forEach((function(e){return de.addCssClass(e,t)}))}))},n.prototype.postProcessRowClassRules=function(){var e=this;this.processRowClassRules((function(t){e.eAllRowContainers.forEach((function(e){return de.addCssClass(e,t)}))}),(function(t){e.eAllRowContainers.forEach((function(e){return de.removeCssClass(e,t)}))}))},n.prototype.processClassesFromGridOptions=function(){var e=[],t=function(t){"string"==typeof t?e.push(t):Array.isArray(t)&&t.forEach((function(t){return e.push(t)}))},n=this.beans.gridOptionsWrapper.getRowClass();if(n){if("function"==typeof n)return void console.warn("ag-Grid: rowClass should not be a function, please use getRowClass instead");t(n)}var r=this.beans.gridOptionsWrapper.getRowClassFunc();return r&&t(r({node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi()})),e},n.prototype.preProcessStylesFromGridOptions=function(){var e=this.processStylesFromGridOptions();return de.cssStyleObjectToMarkup(e)},n.prototype.postProcessStylesFromGridOptions=function(){var e=this.processStylesFromGridOptions();this.eAllRowContainers.forEach((function(t){return de.addStylesToElement(t,e)}))},n.prototype.processStylesFromGridOptions=function(){var e=this.beans.gridOptionsWrapper.getRowStyle();if(!e||"function"!=typeof e){var t,n=this.beans.gridOptionsWrapper.getRowStyleFunc();return n&&(t=n({data:this.rowNode.data,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope})),de.assign({},e,t)}console.warn("ag-Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},n.prototype.createCells=function(e){var t=this,n=[],r=[];return e.forEach((function(e){var o=new Hr(t.scope,t.beans,e,t.rowNode,t,!1,t.printLayout),i=o.getCreateTemplate();n.push(i),r.push(o),t.cellComps[e.getId()]=o})),{template:n.join(""),cellComps:r}},n.prototype.onRowSelected=function(){var e=this.rowNode.isSelected();this.eAllRowContainers.forEach((function(t){return de.addOrRemoveCssClass(t,"ag-row-selected",e)}))},n.prototype.callAfterRowAttachedOnCells=function(e,t){var n=this;e.forEach((function(e){e.setParentRow(t),e.afterAttached(),n.editingRow&&e.startEditingIfEnabled()}))},n.prototype.afterRowAttached=function(e,t){var n=this;this.addDomData(t),this.removeSecondPassFuncs.push((function(){e.removeRowElement(t)})),this.removeFirstPassFuncs.push((function(){if(de.exists(n.rowNode.rowTop)){var e=n.roundRowTopToBounds(n.rowNode.rowTop);n.setRowTop(e)}else de.addCssClass(t,"ag-opacity-zero")})),this.eAllRowContainers.push(t),this.useAnimationFrameForCreate?this.beans.taskQueue.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t)},n.prototype.addHoverFunctionality=function(e){var t=this;this.active&&(this.addDestroyableEventListener(e,"mouseenter",(function(){return t.rowNode.onMouseEnter()})),this.addDestroyableEventListener(e,"mouseleave",(function(){return t.rowNode.onMouseLeave()})),this.addDestroyableEventListener(this.rowNode,Vt.EVENT_MOUSE_ENTER,(function(){t.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||de.addCssClass(e,"ag-row-hover")})),this.addDestroyableEventListener(this.rowNode,Vt.EVENT_MOUSE_LEAVE,(function(){de.removeCssClass(e,"ag-row-hover")})))},n.prototype.roundRowTopToBounds=function(e){var t=this.beans.gridPanel.getVScrollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,r=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),r)},n.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},n.prototype.onRowHeightChanged=function(){if(de.exists(this.rowNode.rowHeight)){var e=this.rowNode.rowHeight+"px";this.eAllRowContainers.forEach((function(t){return t.style.height=e}))}},n.prototype.addEventListener=function(t,n){"renderedRowRemoved"!==t&&"rowRemoved"!==t||(t=xe.EVENT_VIRTUAL_ROW_REMOVED,console.warn("ag-Grid: Since version 11, event renderedRowRemoved is now called "+xe.EVENT_VIRTUAL_ROW_REMOVED)),e.prototype.addEventListener.call(this,t,n)},n.prototype.removeEventListener=function(t,n){"renderedRowRemoved"!==t&&"rowRemoved"!==t||(t=xe.EVENT_VIRTUAL_ROW_REMOVED,console.warn("ag-Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+xe.EVENT_VIRTUAL_ROW_REMOVED)),e.prototype.removeEventListener.call(this,t,n)},n.prototype.destroy=function(t){void 0===t&&(t=!1),e.prototype.destroy.call(this),this.active=!1,this.destroyFullWidthComponents(),t?(this.removeFirstPassFuncs.forEach((function(e){return e()})),this.removeSecondPassFuncs.push(this.destroyContainingCells.bind(this))):(this.destroyContainingCells(),this.getAndClearDelayedDestroyFunctions().forEach((function(e){return e()})));var n=this.createRowEvent(xe.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(n),this.beans.eventService.dispatchEvent(n)},n.prototype.destroyContainingCells=function(){this.forEachCellComp((function(e){return e.destroy()})),this.destroyFullWidthComponents()},n.prototype.getAndClearDelayedDestroyFunctions=function(){var e=this.removeSecondPassFuncs;return this.removeSecondPassFuncs=[],e},n.prototype.onCellFocusChanged=function(){var e=this.beans.focusedCellController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.eAllRowContainers.forEach((function(t){return de.addOrRemoveCssClass(t,"ag-row-focus",e)})),this.eAllRowContainers.forEach((function(t){return de.addOrRemoveCssClass(t,"ag-row-no-focus",!e)})),this.rowFocused=e),!e&&this.editingRow&&this.stopEditing(!1)},n.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged())},n.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},n.prototype.applyPaginationOffset=function(e,t){return void 0===t&&(t=!1),this.rowNode.isRowPinned()?e:e+this.beans.paginationProxy.getPixelOffset()*(t?1:-1)},n.prototype.setRowTop=function(e){if(!this.printLayout&&de.exists(e)){var t=this.applyPaginationOffset(e),n=this.beans.maxDivHeightScaler.getRealPixelPosition(t)+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.eAllRowContainers.forEach((function(e){return e.style.top=n})):this.eAllRowContainers.forEach((function(e){return e.style.transform="translateY("+n+")"}))}},n.prototype.getAndClearNextVMTurnFunctions=function(){var e=this.createSecondPassFuncs;return this.createSecondPassFuncs=[],e},n.prototype.getRowNode=function(){return this.rowNode},n.prototype.getRenderedCellForColumn=function(e){var t=this,n=this.cellComps[e.getColId()];if(n)return n;var r=Object.keys(this.cellComps).map((function(e){return t.cellComps[e]})).filter((function(t){return t&&-1!==t.getColSpanningList().indexOf(e)}));return r.length?r[0]:void 0},n.prototype.onRowIndexChanged=function(){this.onCellFocusChanged(),this.updateRowIndexes()},n.prototype.updateRowIndexes=function(){var e=this,t=this.rowNode.getRowIndexString(),n=this.rowNode.rowIndex%2==0,r=this.rowIsEven!==n,o=this.beans.gridPanel.headerRootComp.getHeaderRowCount();r&&(this.rowIsEven=n),this.eAllRowContainers.forEach((function(i){i.setAttribute("row-index",t),i.setAttribute("aria-rowindex",(o+e.rowNode.rowIndex+1).toString()),r&&(de.addOrRemoveCssClass(i,"ag-row-even",n),de.addOrRemoveCssClass(i,"ag-row-odd",!n))}))},n.prototype.ensureDomOrder=function(){[{el:this.getBodyRowElement(),ct:this.bodyContainerComp},{el:this.getPinnedLeftRowElement(),ct:this.pinnedLeftContainerComp},{el:this.getPinnedRightRowElement(),ct:this.pinnedRightContainerComp},{el:this.getFullWidthRowElement(),ct:this.fullWidthContainerComp}].forEach((function(e){e.el&&e.ct.ensureDomOrder(e.el)}))},n.prototype.getPinnedLeftRowElement=function(){return this.ePinnedLeftRow?this.ePinnedLeftRow:this.eFullWidthRowLeft},n.prototype.getPinnedRightRowElement=function(){return this.ePinnedRightRow?this.ePinnedRightRow:this.eFullWidthRowRight},n.prototype.getBodyRowElement=function(){return this.eBodyRow?this.eBodyRow:this.eFullWidthRowBody},n.prototype.getFullWidthRowElement=function(){return this.eFullWidthRow},n.DOM_DATA_KEY_RENDERED_ROW="renderedRow",n.FULL_WIDTH_CELL_RENDERER="fullWidthCellRenderer",n.GROUP_ROW_RENDERER="groupRowRenderer",n.GROUP_ROW_RENDERER_COMP_NAME="agGroupRowRenderer",n.LOADING_CELL_RENDERER="loadingCellRenderer",n.LOADING_CELL_RENDERER_COMP_NAME="agLoadingCellRenderer",n.DETAIL_CELL_RENDERER="detailCellRenderer",n.DETAIL_CELL_RENDERER_COMP_NAME="agDetailCellRenderer",n}(Qe),jr=(_r=function(e,t){return(_r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}_r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),zr=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},qr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCompsByIndex={},t.floatingTopRowComps=[],t.floatingBottomRowComps=[],t.refreshInProgress=!1,t}return jr(t,e),t.prototype.registerGridCore=function(e){this.gridCore=e},t.prototype.getGridCore=function(){return this.gridCore},t.prototype.agWire=function(e){this.logger=e.create("RowRenderer")},t.prototype.registerGridComp=function(e){this.gridPanel=e,this.rowContainers=this.gridPanel.getRowContainers(),this.addDestroyableEventListener(this.eventService,xe.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addDestroyableEventListener(this.eventService,xe.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addDestroyableEventListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addDestroyableEventListener(this.eventService,xe.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addDestroyableEventListener(this.eventService,xe.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,Ue.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.registerCellEventListeners(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===ie.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},t.prototype.registerCellEventListeners=function(){var e=this;this.addDestroyableEventListener(this.eventService,xe.EVENT_CELL_FOCUSED,(function(t){e.forEachCellComp((function(e){return e.onCellFocused(t)}))})),this.addDestroyableEventListener(this.eventService,xe.EVENT_FLASH_CELLS,(function(t){e.forEachCellComp((function(e){return e.onFlashCells(t)}))})),this.addDestroyableEventListener(this.eventService,xe.EVENT_COLUMN_HOVER_CHANGED,(function(){e.forEachCellComp((function(e){return e.onColumnHover()}))})),this.addDestroyableEventListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){e.printLayout&&e.forEachCellComp((function(e){return e.onLeftChanged()}))})),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addDestroyableEventListener(this.eventService,xe.EVENT_RANGE_SELECTION_CHANGED,(function(){e.forEachCellComp((function(e){return e.onRangeSelectionChanged()}))})),this.addDestroyableEventListener(this.eventService,xe.EVENT_COLUMN_MOVED,(function(){e.forEachCellComp((function(e){return e.updateRangeBordersIfRangeCount()}))})),this.addDestroyableEventListener(this.eventService,xe.EVENT_COLUMN_PINNED,(function(){e.forEachCellComp((function(e){return e.updateRangeBordersIfRangeCount()}))})),this.addDestroyableEventListener(this.eventService,xe.EVENT_COLUMN_VISIBLE,(function(){e.forEachCellComp((function(e){return e.updateRangeBordersIfRangeCount()}))}))),this.refreshListenersToColumnsForCellComps(),this.addDestroyableEventListener(this.eventService,xe.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach((function(e){return e()})),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var t=this.columnController.getAllGridColumns();t&&t.forEach((function(t){var n=function(n){e.forEachCellComp((function(e){e.getColumn()===t&&n(e)}))},r=function(){n((function(e){return e.onLeftChanged()}))},o=function(){n((function(e){return e.onWidthChanged()}))},i=function(){n((function(e){return e.onFirstRightPinnedChanged()}))},s=function(){n((function(e){return e.onLastLeftPinnedChanged()}))};t.addEventListener(Ie.EVENT_LEFT_CHANGED,r),t.addEventListener(Ie.EVENT_WIDTH_CHANGED,o),t.addEventListener(Ie.EVENT_FIRST_RIGHT_PINNED_CHANGED,i),t.addEventListener(Ie.EVENT_LAST_LEFT_PINNED_CHANGED,s),e.destroyFuncsForColumnListeners.push((function(){t.removeEventListener(Ie.EVENT_LEFT_CHANGED,r),t.removeEventListener(Ie.EVENT_WIDTH_CHANGED,o),t.removeEventListener(Ie.EVENT_FIRST_RIGHT_PINNED_CHANGED,i),t.removeEventListener(Ie.EVENT_LAST_LEFT_PINNED_CHANGED,s)}))}))},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===ie.DOM_LAYOUT_PRINT,t=e||this.gridOptionsWrapper.isEmbedFullWidthRows(),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate()},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCompsByIndex);this.removeRowComps(e)},t.prototype.onPageLoaded=function(e){de.missing(e)&&(e={type:xe.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1}),this.onModelUpdated(e)},t.prototype.getAllCellsForColumn=function(e){var t=[];function n(n,r){var o=r.getCellForCol(e);o&&t.push(o)}return de.iterateObject(this.rowCompsByIndex,n),de.iterateObject(this.floatingBottomRowComps,n),de.iterateObject(this.floatingTopRowComps,n),t},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.floatingTopRowComps,this.pinnedRowModel.getPinnedTopRowData(),this.rowContainers.floatingTopPinnedLeft,this.rowContainers.floatingTopPinnedRight,this.rowContainers.floatingTop,this.rowContainers.floatingTopFullWidth),this.refreshFloatingRows(this.floatingBottomRowComps,this.pinnedRowModel.getPinnedBottomRowData(),this.rowContainers.floatingBottomPinnedLeft,this.rowContainers.floatingBottomPinnedRight,this.rowContainers.floatingBottom,this.rowContainers.floatingBottomFullWith)},t.prototype.refreshFloatingRows=function(e,t,n,r,o,i){var s=this;e.forEach((function(e){e.destroy()})),e.length=0,t&&t.forEach((function(t){var a=new Ur(s.$scope,o,n,r,i,t,s.beans,!1,!1,s.printLayout,s.embedFullWidthRows);a.init(),e.push(a)})),this.flushContainers(e)},t.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},t.prototype.onModelUpdated=function(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})},t.prototype.getRenderedIndexesForRowNodes=function(e){var t=[];return de.missing(e)?t:(de.iterateObject(this.rowCompsByIndex,(function(n,r){var o=r.getRowNode();e.indexOf(o)>=0&&t.push(n)})),t)},t.prototype.redrawRows=function(e){if(e&&0!=e.length){var t=this.getRenderedIndexesForRowNodes(e);this.removeRowComps(t),this.redrawAfterModelUpdate({recycleRows:!0})}},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var t=e.suppressKeepFocus?null:this.focusedCellController.getFocusCellToUseAfterRefresh();if(de.missing(t))return null;var n=document.activeElement,r=this.gridOptionsWrapper.getDomData(n,Hr.DOM_DATA_KEY_CELL_COMP);return de.missing(r)?null:t},t.prototype.redrawAfterModelUpdate=function(e){void 0===e&&(e={}),this.getLockOnRefresh();var t=this.getCellToRestoreFocusToAfterRefresh(e);this.sizeContainerToPageHeight(),this.scrollToTopIfNewData(e);var n=!this.printLayout&&e.recycleRows,r=e.animate&&this.gridOptionsWrapper.isAnimateRows(),o=this.binRowComps(n);this.redraw(o,r),e.onlyBody||this.refreshFloatingRowComps(),this.restoreFocusedCell(t),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var t=e.newData||e.newPage,n=this.gridOptionsWrapper.isSuppressScrollOnNewData();t&&!n&&this.gridPanel.scrollToTop()},t.prototype.sizeContainerToPageHeight=function(){var e=[this.rowContainers.body,this.rowContainers.fullWidth,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight];if(this.printLayout)e.forEach((function(e){return e.setHeight(null)}));else{var t=this.paginationProxy.getCurrentPageHeight();0===t&&(t=1),this.maxDivHeightScaler.setModelHeight(t);var n=this.maxDivHeightScaler.getUiContainerHeight();e.forEach((function(e){return e.setHeight(n)}))}},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("ag-Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, eg instead of api.refreshView(), call setTimeout(function(){api.refreshView(),0}). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.restoreFocusedCell=function(e){e&&this.focusedCellController.setFocusedCell(e.rowIndex,e.column,e.rowPinned,!0)},t.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.forEachRowComp((function(t,n){n.stopEditing(e)}))},t.prototype.forEachCellComp=function(e){this.forEachRowComp((function(t,n){return n.forEachCellComp(e)}))},t.prototype.forEachRowComp=function(e){de.iterateObject(this.rowCompsByIndex,e),de.iterateObject(this.floatingTopRowComps,e),de.iterateObject(this.floatingBottomRowComps,e)},t.prototype.addRenderedRowListener=function(e,t,n){var r=this.rowCompsByIndex[t];r&&r.addEventListener(e,n)},t.prototype.flashCells=function(e){void 0===e&&(e={}),this.forEachCellCompFiltered(e.rowNodes,e.columns,(function(e){return e.flashCell()}))},t.prototype.refreshCells=function(e){void 0===e&&(e={});var t={forceRefresh:e.force,newData:!1};this.forEachCellCompFiltered(e.rowNodes,e.columns,(function(e){return e.refreshCell(t)}))},t.prototype.getCellRendererInstances=function(e){var t=[];return this.forEachCellCompFiltered(e.rowNodes,e.columns,(function(e){var n=e.getCellRenderer();n&&t.push(n)})),t},t.prototype.getCellEditorInstances=function(e){var t=[];return this.forEachCellCompFiltered(e.rowNodes,e.columns,(function(e){var n=e.getCellEditor();n&&t.push(n)})),t},t.prototype.getEditingCells=function(){var e=[];return this.forEachCellComp((function(t){if(t.isEditing()){var n=t.getCellPosition();e.push(n)}})),e},t.prototype.forEachCellCompFiltered=function(e,t,n){var r,o,i=this;de.exists(e)&&(r={top:{},bottom:{},normal:{}},e.forEach((function(e){e.rowPinned===ie.PINNED_TOP?r.top[e.id]=!0:e.rowPinned===ie.PINNED_BOTTOM?r.bottom[e.id]=!0:r.normal[e.id]=!0}))),de.exists(t)&&(o={},t.forEach((function(e){var t=i.columnController.getGridColumn(e);de.exists(t)&&(o[t.getId()]=!0)})));var s=function(e){var t=e.getRowNode(),i=t.id,s=t.rowPinned;if(de.exists(r))if(s===ie.PINNED_BOTTOM){if(!r.bottom[i])return}else if(s===ie.PINNED_TOP){if(!r.top[i])return}else if(!r.normal[i])return;e.forEachCellComp((function(e){var t=e.getColumn().getId();o&&!o[t]||n(e)}))};de.iterateObject(this.rowCompsByIndex,(function(e,t){s(t)})),this.floatingTopRowComps&&this.floatingTopRowComps.forEach(s),this.floatingBottomRowComps&&this.floatingBottomRowComps.forEach(s)},t.prototype.destroy=function(){e.prototype.destroy.call(this);var t=Object.keys(this.rowCompsByIndex);this.removeRowComps(t)},t.prototype.binRowComps=function(e){var t,n=this,r={};return e?(t=[],de.iterateObject(this.rowCompsByIndex,(function(e,o){var i=o.getRowNode();de.exists(i.id)?(r[i.id]=o,delete n.rowCompsByIndex[e]):t.push(e)}))):t=Object.keys(this.rowCompsByIndex),this.removeRowComps(t),r},t.prototype.removeRowComps=function(e){var t=this;e.forEach((function(e){t.rowCompsByIndex[e].destroy(),delete t.rowCompsByIndex[e]}))},t.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh()},t.prototype.removeRowCompsNotToDraw=function(e){var t={};e.forEach((function(e){return t[e]=!0}));var n=Object.keys(this.rowCompsByIndex).filter((function(e){return!t[e]}));this.removeRowComps(n)},t.prototype.calculateIndexesToDraw=function(){var e=this,t=de.createArrayOfNumbers(this.firstRenderedRow,this.lastRenderedRow);return de.iterateObject(this.rowCompsByIndex,(function(n,r){var o=Number(n);(o<e.firstRenderedRow||o>e.lastRenderedRow)&&e.doNotUnVirtualiseRow(r)&&t.push(o)})),t.sort((function(e,t){return e-t})),t},t.prototype.redraw=function(e,t,n){var r=this;void 0===t&&(t=!1),void 0===n&&(n=!1),this.maxDivHeightScaler.updateOffset(),this.workOutFirstAndLastRowsToRender();var o=this.calculateIndexesToDraw();this.removeRowCompsNotToDraw(o),this.printLayout&&(t=!1);var i=[],s=[];o.forEach((function(o){var a=r.createOrUpdateRowComp(o,e,t,n);de.exists(a)&&(s.push(a),de.pushAll(i,a.getAndClearNextVMTurnFunctions()))})),this.flushContainers(s),de.executeNextVMTurn(i),!n||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowComps(e,t):this.beans.taskQueue.addDestroyTask(this.destroyRowComps.bind(this,e,t)),this.checkAngularCompile(),this.gridPanel.updateRowCount()},t.prototype.flushContainers=function(e){de.iterateObject(this.rowContainers,(function(e,t){t&&t.flushRowTemplates()})),e.forEach((function(e){return e.afterFlush()}))},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnController.isPinningLeft(),t=this.columnController.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];de.iterateObject(this.rowCompsByIndex,(function(t,n){if(n.isFullWidth()){var r=n.getRowNode().rowIndex;e.push(r.toString())}})),this.refreshFloatingRowComps(),this.removeRowComps(e),this.redrawAfterScroll()},t.prototype.refreshFullWidthRows=function(){var e=[];de.iterateObject(this.rowCompsByIndex,(function(t,n){if(n.isFullWidth()&&!n.refreshFullWidth()){var r=n.getRowNode().rowIndex;e.push(r.toString())}})),this.removeRowComps(e),this.redrawAfterScroll()},t.prototype.createOrUpdateRowComp=function(e,t,n,r){var o,i=this.rowCompsByIndex[e];if(i||(o=this.paginationProxy.getRow(e),de.exists(o)&&de.exists(t)&&t[o.id]&&o.alreadyRendered&&(i=t[o.id],t[o.id]=null)),i)i.ensureDomOrder();else{if(o||(o=this.paginationProxy.getRow(e)),!de.exists(o))return;i=this.createRowComp(o,n,r)}return o&&(o.alreadyRendered=!0),this.rowCompsByIndex[e]=i,i},t.prototype.destroyRowComps=function(e,t){var n=[];de.iterateObject(e,(function(e,r){r&&(r.destroy(t),de.pushAll(n,r.getAndClearDelayedDestroyFunctions()))})),de.executeInAWhile(n)},t.prototype.checkAngularCompile=function(){var e=this;this.gridOptionsWrapper.isAngularCompileRows()&&window.setTimeout((function(){e.$scope.$apply()}),0)},t.prototype.workOutFirstAndLastRowsToRender=function(){var e,t;if(this.paginationProxy.isRowsToRender())if(this.printLayout)e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{var n=this.paginationProxy.getPixelOffset(),r=this.maxDivHeightScaler.getOffset(),o=this.gridPanel.getVScrollPosition(),i=o.top,s=o.bottom,a=this.gridOptionsWrapper.getRowBufferInPixels(),l=i+n+r-a,u=s+n+r+a;this.ensureAllRowsInRangeHaveHeightsCalculated(l,u);var c=this.paginationProxy.getRowIndexAtPixel(l),p=this.paginationProxy.getRowIndexAtPixel(u),d=this.paginationProxy.getPageFirstRow(),h=this.paginationProxy.getPageLastRow();c<d&&(c=d),p>h&&(p=h),e=c,t=p}else e=0,t=-1;var f=this.gridOptionsWrapper.getDomLayout()===ie.DOM_LAYOUT_NORMAL,g=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),v=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);f&&!g&&t-e>v&&(t=e+v),(e!==this.firstRenderedRow||t!==this.lastRenderedRow)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:xe.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()&&this.eventService.dispatchEventOnce({type:xe.EVENT_FIRST_DATA_RENDERED,firstRow:e,lastRow:t,api:this.gridApi,columnApi:this.columnApi})},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,t){this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1)&&(this.sizeContainerToPageHeight(),this.maxDivHeightScaler.updateOffset())},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var t=e.getRowNode(),n=this.focusedCellController.isRowNodeFocused(t),r=e.isEditing();return!!(n||r||t.detail)&&!!this.paginationProxy.isRowPresent(t)},t.prototype.createRowComp=function(e,t,n){var r=this.gridOptionsWrapper.isSuppressAnimationFrame(),o=new Ur(this.$scope,this.rowContainers.body,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight,this.rowContainers.fullWidth,e,this.beans,t,n&&!r&&!this.printLayout,this.printLayout,this.embedFullWidthRows);return o.init(),o},t.prototype.getRenderedNodes=function(){var e=this.rowCompsByIndex;return Object.keys(e).map((function(t){return e[t].getRowNode()}))},t.prototype.navigateToNextCell=function(e,t,n,r){for(var o=n,i=!1;!i;)if(this.gridOptionsWrapper.isEnableRtl()?t===ie.KEY_LEFT&&(o=this.getLastCellOfColSpan(o)):t===ie.KEY_RIGHT&&(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextCellToFocus(t,o),de.missing(o))i=!0;else{var s=this.rowPositionUtils.getRowNode(o);if(!s.detail&&!s.isFullWidthCell())if(s.group){var a=this.columnController.isPivotMode();this.gridOptionsWrapper.isGroupUseEntireRow(a)||(i=!0)}else i=!0}if(r){var l=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(de.exists(l)){var u=l({key:t,previousCellPosition:n,nextCellPosition:o||null,event:e});de.exists(u)?(u.floating&&(de.doOnce((function(){console.warn("ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),u.rowPinned=u.floating),o={rowPinned:u.rowPinned,rowIndex:u.rowIndex,column:u.column}):o=null}}o&&(this.ensureCellVisible(o),o=this.getComponentForCell(o).getCellPosition(),this.ensureCellVisible(o),this.focusedCellController.setFocusedCell(o.rowIndex,o.column,o.rowPinned,!0),this.rangeController&&this.rangeController.setRangeToCell(o))},t.prototype.getLastCellOfColSpan=function(e){var t=this.getComponentForCell(e);if(!t)return e;var n=t.getColSpanningList();return 1===n.length?e:{rowIndex:e.rowIndex,column:de.last(n),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){de.missing(e.rowPinned)&&this.gridPanel.ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridPanel.ensureColumnVisible(e.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},t.prototype.startEditingCell=function(e,t,n){var r=this.getComponentForCell(e);r&&r.startRowOrCellEdit(t,n)},t.prototype.getComponentForCell=function(e){var t;switch(e.rowPinned){case ie.PINNED_TOP:t=this.floatingTopRowComps[e.rowIndex];break;case ie.PINNED_BOTTOM:t=this.floatingBottomRowComps[e.rowIndex];break;default:t=this.rowCompsByIndex[e.rowIndex]}return t?t.getRenderedCellForColumn(e.column):null},t.prototype.getRowNode=function(e){switch(e.rowPinned){case ie.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case ie.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.onTabKeyDown=function(e,t){this.moveToCellAfter(e,t.shiftKey)&&t.preventDefault()},t.prototype.tabToNextCell=function(e){var t=this.focusedCellController.getFocusedCell();if(de.missing(t))return!1;var n=this.getComponentForCell(t);return!de.missing(n)&&this.moveToCellAfter(n,e)},t.prototype.moveToCellAfter=function(e,t){return e.isEditing()?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(e,t):this.moveToNextEditingCell(e,t):this.moveToNextCellNotEditing(e,t)},t.prototype.moveToNextEditingCell=function(e,t){var n=e.getCellPosition();e.stopEditing();var r=this.findNextCellToFocusOn(n,t,!0),o=de.exists(r);return o&&(r.startEditingIfEnabled(null,null,!0),r.focusCell(!1)),o},t.prototype.moveToNextEditingRow=function(e,t){var n=e.getCellPosition(),r=this.findNextCellToFocusOn(n,t,!0),o=de.exists(r);return o&&this.moveEditToNextCellOrRow(e,r),o},t.prototype.moveToNextCellNotEditing=function(e,t){var n=e.getCellPosition(),r=this.findNextCellToFocusOn(n,t,!1),o=de.exists(r);return o&&r.focusCell(!0),o},t.prototype.moveEditToNextCellOrRow=function(e,t){var n=e.getCellPosition(),r=t.getCellPosition();if(n.rowIndex===r.rowIndex&&n.rowPinned===r.rowPinned)e.setFocusOutOnEditor(),t.setFocusInOnEditor();else{var o=e.getRenderedRow(),i=t.getRenderedRow();e.setFocusOutOnEditor(),o.stopEditing(),i.startRowEditing(),t.setFocusInOnEditor()}t.focusCell()},t.prototype.findNextCellToFocusOn=function(e,t,n){for(var r=e;;){t||(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextTabbedCell(r,t);var o=this.gridOptionsWrapper.getTabToNextCellFunc();if(de.exists(o)){var i=o({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:r||null});de.exists(i)?(i.floating&&(de.doOnce((function(){console.warn("ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),i.rowPinned=i.floating),r={rowIndex:i.rowIndex,column:i.column,rowPinned:i.rowPinned}):r=null}if(!r)return null;if(n){var s=this.lookupRowNodeForCell(r);if(!r.column.isCellEditable(s))continue}de.missing(r.rowPinned)&&this.gridPanel.ensureIndexVisible(r.rowIndex),r.column.isPinned()||this.gridPanel.ensureColumnVisible(r.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames();var a=this.getComponentForCell(r);if(!de.missing(a)&&!a.isSuppressNavigable())return this.rangeController&&this.rangeController.setRangeToCell(r),a}},t.prototype.lookupRowNodeForCell=function(e){return e.rowPinned===ie.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned===ie.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},zr([be("paginationProxy")],t.prototype,"paginationProxy",void 0),zr([be("columnController")],t.prototype,"columnController",void 0),zr([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),zr([be("$scope")],t.prototype,"$scope",void 0),zr([be("eventService")],t.prototype,"eventService",void 0),zr([be("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),zr([be("rowModel")],t.prototype,"rowModel",void 0),zr([be("loggerFactory")],t.prototype,"loggerFactory",void 0),zr([be("focusedCellController")],t.prototype,"focusedCellController",void 0),zr([be("cellNavigationService")],t.prototype,"cellNavigationService",void 0),zr([be("columnApi")],t.prototype,"columnApi",void 0),zr([be("gridApi")],t.prototype,"gridApi",void 0),zr([be("beans")],t.prototype,"beans",void 0),zr([be("maxDivHeightScaler")],t.prototype,"maxDivHeightScaler",void 0),zr([be("animationFrameService")],t.prototype,"animationFrameService",void 0),zr([be("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),zr([Ee("rangeController")],t.prototype,"rangeController",void 0),zr([x(0,Se("loggerFactory"))],t.prototype,"agWire",null),zr([we("rowRenderer")],t)}(qe),Kr=function(){function e(){}return e.addHeaderClassesFromColDef=function(e,t,n,r,o){de.missing(e)||this.addColumnClassesFromCollDef(e.headerClass,e,t,n,r,o)},e.addToolPanelClassesFromColDef=function(e,t,n,r,o){de.missing(e)||this.addColumnClassesFromCollDef(e.toolPanelClass,e,t,n,r,o)},e.addColumnClassesFromCollDef=function(e,t,n,r,o,i){var s;de.missing(e)||("string"==typeof(s="function"==typeof e?e({colDef:t,column:o,columnGroup:i,context:r.getContext(),api:r.getApi()}):e)?de.addCssClass(n,s):Array.isArray(s)&&s.forEach((function(e){de.addCssClass(n,e)})))},e}(),Qr=(Er=function(e,t){return(Er=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Er(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Yr=function(e){function t(t,n,r,o){var i=e.call(this)||this;return i.columnOrGroup=t,i.eCell=n,i.colsSpanning=o,i.beans=r,i.printLayout=r.gridOptionsWrapper.getDomLayout()===ie.DOM_LAYOUT_PRINT,i}return Qr(t,e),t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?de.last(this.colsSpanning):this.columnOrGroup},t.prototype.init=function(){this.addDestroyableEventListener(this.columnOrGroup,Ie.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime()},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),t=de.exists(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,t=this.getColumnOrGroup().getLeft(),n=this.getColumnOrGroup().getOldLeft();this.setLeft(n),this.actualLeft=t,this.beans.columnAnimationService.executeNextVMTurn((function(){e.actualLeft===t&&e.setLeft(t)}))},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,t){return this.printLayout?e.getPinned()===ie.PINNED_LEFT?t:e.getPinned()===ie.PINNED_RIGHT?this.beans.columnController.getPinnedLeftContainerWidth()+this.beans.columnController.getBodyContainerWidth()+t:this.beans.columnController.getPinnedLeftContainerWidth()+t:t},t.prototype.setLeft=function(e){de.exists(e)&&(this.eCell.style.left=e+"px")},t}(qe),Zr=(br=function(e,t){return(br=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}br(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Xr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labelSeparator="",t.labelAlignment="left",t.config={},t.label="",t}return Zr(t,e),t.prototype.postConstruct=function(){de.addCssClass(this.getGui(),"ag-labeled");var e=this.config,t=e.labelSeparator,n=e.label,r=e.labelWidth,o=e.labelAlignment;null!=t&&this.setLabelSeparator(t),null!=n&&this.setLabel(n),null!=r&&this.setLabelWidth(r),this.setLabelAlignment(o||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){this.eLabel.innerText=this.label+this.labelSeparator,de.addOrRemoveCssClass(this.eLabel,"ag-hidden",""===this.label)},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e?this:(this.labelSeparator=e,null!=this.label&&this.refreshLabel(),this)},t.prototype.setLabel=function(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)},t.prototype.setLabelAlignment=function(e){var t=this.getGui();return de.addOrRemoveCssClass(t,"ag-label-align-left","left"===e),de.addOrRemoveCssClass(t,"ag-label-align-right","right"===e),de.addOrRemoveCssClass(t,"ag-label-align-top","top"===e),this},t.prototype.setLabelWidth=function(e){return null==this.label?this:(de.setElementWidth(this.eLabel,e),this)},function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([me],t.prototype,"postConstruct",null),t}(Qe),$r=(wr=function(e,t){return(wr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}wr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Jr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $r(t,e),t.prototype.onValueChange=function(e){var n=this;return this.addDestroyableEventListener(this,t.EVENT_CHANGED,(function(){e(n.getValue())})),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return de.setFixedWidth(this.getGui(),e),this},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,n){return this.value===e?this:(this.value=e,n||this.dispatchEvent({type:t.EVENT_CHANGED}),this)},t.EVENT_CHANGED="valueChange",t}(Xr),eo=(Cr=function(e,t){return(Cr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Cr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),to=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},no=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.config={},t.TEMPLATE='<div class="ag-input-field" role="presentation">\n            <label ref="eLabel"></label>\n            <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                <%displayField% ref="eInput"></%displayField%>\n            </div>\n        </div>',t}return eo(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.setInputType(),de.addCssClass(this.getGui(),this.className);var t=this.config,n=t.width,r=t.value;null!=n&&this.setWidth(n),null!=r&&this.setValue(r),this.addInputListeners()},t.prototype.addInputListeners=function(){var e=this;this.addDestroyableEventListener(this.eInput,"input",(function(t){e.setValue(t.target.value)}))},t.prototype.setInputType=function(){this.inputType&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return de.setElementWidth(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},to([Xe("eLabel")],t.prototype,"eLabel",void 0),to([Xe("eWrapper")],t.prototype,"eWrapper",void 0),to([Xe("eInput")],t.prototype,"eInput",void 0),t}(Jr),ro=(mr=function(e,t){return(mr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}mr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),oo=function(e){function t(){var t=e.call(this)||this;return t.className="ag-checkbox",t.displayTag="input",t.inputType="checkbox",t.labelAlignment="right",t.iconMap={selected:"checkboxChecked",unselected:"checkboxUnchecked",indeterminate:"checkboxIndeterminate"},t.selected=!1,t.readOnly=!1,t.passive=!1,t.setTemplate(t.TEMPLATE.replace(/%displayField%/g,t.displayTag)),t}return ro(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),de.addCssClass(this.eInput,"ag-hidden"),this.addIconsPlaceholder(),this.updateIcons()},t.prototype.addInputListeners=function(){var e=this;this.addDestroyableEventListener(this.getGui(),"click",(function(t){return e.onClick(t)})),this.addDestroyableEventListener(this.eInput,"change",(function(t){return e.setValue(t.target.checked,!0)}))},t.prototype.addIconsPlaceholder=function(){var e=document.createElement("div");this.eWrapper.appendChild(e),this.eIconEl=e},t.prototype.onClick=function(e){de.addAgGridEventPath(e),this.readOnly||this.toggle()},t.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.setReadOnly=function(e){this.readOnly=e,this.updateIcons()},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.isSelected=function(){return this.selected},t.prototype.toggle=function(){var e=this.getNextValue();this.passive?this.dispatchEvent({type:t.EVENT_CHANGED,selected:e}):this.setValue(e)},t.prototype.setSelected=function(e,t){this.selected!==e&&(this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=this.selected,this.updateIcons(),t||this.dispatchEvent({type:Jr.EVENT_CHANGED,selected:this.selected}))},t.prototype.getIconName=function(){var e=this.getValue(),t=void 0===e?"indeterminate":e?"selected":"unselected",n=this.isReadOnly()?"ReadOnly":"";return""+this.iconMap[t]+n},t.prototype.updateIcons=function(){de.clearElement(this.eIconEl),this.eIconEl.appendChild(de.createIconNoSpan(this.getIconName(),this.gridOptionsWrapper,null))},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,t){return this.setSelected(e,t),this},function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(no),io=(yr=function(e,t){return(yr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}yr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),so=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ao=function(e){function t(t,n){var r=e.call(this)||this;r.cbSelectAllVisible=!1,r.processingEventFromCheckbox=!1,r.cbSelectAll=t,r.column=n;var o=n.getColDef();return r.filteredOnly=!!o&&!!o.headerCheckboxSelectionFilteredOnly,r}return io(t,e),t.prototype.postConstruct=function(){this.showOrHideSelectAll(),this.addDestroyableEventListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addDestroyableEventListener(this.eventService,xe.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addDestroyableEventListener(this.eventService,xe.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addDestroyableEventListener(this.cbSelectAll,oo.EVENT_CHANGED,this.onCbSelectAll.bind(this))},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox())},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.getNextCheckboxState=function(e){return(0!==e.selected||0!==e.notSelected)&&(e.selected>0&&e.notSelected>0?null:e.selected>0)},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.getSelectionCount(),t=this.getNextCheckboxState(e);this.cbSelectAll.setValue(t),this.processingEventFromCheckbox=!1}},t.prototype.getSelectionCount=function(){var e=this,t=0,n=0,r=function(r){e.gridOptionsWrapper.isGroupSelectsChildren()&&r.group||(r.isSelected()?t++:r.selectable&&n++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(r):this.gridApi.forEachNode(r),{notSelected:n,selected:t}},t.prototype.checkRightRowModelType=function(){var e=this.rowModel.getType();e===ie.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("ag-Grid: selectAllCheckbox is only available if using normal row model, you are using "+e)},t.prototype.onCbSelectAll=function(){this.processingEventFromCheckbox||this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionController.selectAllRowNodes(this.filteredOnly):this.selectionController.deselectAllRowNodes(this.filteredOnly))},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;return"function"==typeof e&&(e=e({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi})),!(!e||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("headerCheckboxSelection is not supported for Viewport Row Model"),1)))},so([be("gridApi")],t.prototype,"gridApi",void 0),so([be("columnApi")],t.prototype,"columnApi",void 0),so([be("eventService")],t.prototype,"eventService",void 0),so([be("rowModel")],t.prototype,"rowModel",void 0),so([be("selectionController")],t.prototype,"selectionController",void 0),so([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),so([me],t.prototype,"postConstruct",null),t}(qe),lo=(vr=function(e,t){return(vr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}vr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),uo=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},co=function(e){function t(t,n){var r=e.call(this)||this;return r.columns=t,r.element=n,r}return lo(t,e),t.prototype.postConstruct=function(){this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addDestroyableEventListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addDestroyableEventListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},uo([be("columnHoverService")],t.prototype,"columnHoverService",void 0),uo([me],t.prototype,"postConstruct",null),t}(qe),po=(gr=function(e,t){return(gr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}gr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ho=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},fo=function(e){function n(t,r,o){var i=e.call(this,n.TEMPLATE)||this;return i.column=t,i.dragSourceDropTarget=r,i.pinned=o,i}return po(n,e),n.prototype.getColumn=function(){return this.column},n.prototype.getComponentHolder=function(){return this.column.getColDef()},n.prototype.init=function(){var e=this.getComponentHolder(),t=this.columnController.getDisplayNameForColumn(this.column,"header",!0),n=e.sortable,r=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu;this.appendHeaderComp(t,n,r),this.setupWidth(),this.setupMovingCss(),this.setupTooltip(),this.setupResize(),this.setupMenuClass(),this.setupSortableClass(n),this.addColumnHoverListener(),this.addFeature(new co([this.column],this.getGui())),this.addDestroyableEventListener(this.column,Ie.EVENT_FILTER_ACTIVE_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged(),this.addFeature(new ao(this.cbSelectAll,this.column));var o=new Yr(this.column,this.getGui(),this.beans);o.init(),this.addDestroyFunc(o.destroy.bind(o)),this.addAttributes(),Kr.addHeaderClassesFromColDef(e,this.getGui(),this.gridOptionsWrapper,this.column,null)},n.prototype.addColumnHoverListener=function(){this.addDestroyableEventListener(this.eventService,xe.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},n.prototype.onColumnHover=function(){var e=this.columnHoverService.isHovered(this.column);de.addOrRemoveCssClass(this.getGui(),"ag-column-hover",e)},n.prototype.setupSortableClass=function(e){if(e){var t=this.getGui();de.addCssClass(t,"ag-header-cell-sortable")}},n.prototype.onFilterChanged=function(){var e=this.column.isFilterActive();de.addOrRemoveCssClass(this.getGui(),"ag-header-cell-filtered",e)},n.prototype.appendHeaderComp=function(e,t,n){var r=this,o={column:this.column,displayName:e,enableSorting:t,enableMenu:n,showColumnMenu:function(e){r.gridApi.showColumnMenuAfterButtonClick(r.column,e)},progressSort:function(e){r.sortController.progressSort(r.column,!!e,"uiColumnSorted")},setSort:function(e,t){r.sortController.setSortForColumn(r.column,e,!!t,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},i=this.afterHeaderCompCreated.bind(this,e);this.userComponentFactory.newHeaderComponent(o).then(i)},n.prototype.afterHeaderCompCreated=function(e,t){this.appendChild(t),this.setupMove(t.getGui(),e)},n.prototype.onColumnMovingChanged=function(){this.column.isMoving()?de.addCssClass(this.getGui(),"ag-header-cell-moving"):de.removeCssClass(this.getGui(),"ag-header-cell-moving")},n.prototype.setupMove=function(e,n){var r=this;if(!(this.gridOptionsWrapper.isSuppressMovableColumns()||this.getComponentHolder().suppressMovable||this.column.getColDef().lockPosition)&&e){var o={type:t.DragSourceType.HeaderCell,eElement:e,dragItemCallback:function(){return r.createDragItem()},dragItemName:n,dragSourceDropTarget:this.dragSourceDropTarget,dragStarted:function(){return r.column.setMoving(!0,"uiColumnMoved")},dragStopped:function(){return r.column.setMoving(!1,"uiColumnMoved")}};this.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc((function(){return r.dragAndDropService.removeDragSource(o)}))}},n.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},n.prototype.setupResize=function(){var e=this,t=this.getComponentHolder();if(this.eResize)if(this.column.isResizable()){var n=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(n),!this.gridOptionsWrapper.isSuppressAutoSize()&&!t.suppressAutoSize){this.addDestroyableEventListener(this.eResize,"dblclick",(function(){e.columnController.autoSizeColumn(e.column,"uiColumnResized")}));var r=new Pt(this.eResize);this.addDestroyableEventListener(r,Pt.EVENT_DOUBLE_TAP,(function(){e.columnController.autoSizeColumn(e.column,"uiColumnResized")})),this.addDestroyFunc(r.destroy.bind(r))}}else de.removeFromParent(this.eResize)},n.prototype.onResizing=function(e,t){var n=this.normaliseResizeAmount(t);this.columnController.setColumnWidth(this.column,this.resizeStartWidth+n,this.resizeWithShiftKey,e,"uiColumnDragged"),e&&de.removeCssClass(this.getGui(),"ag-column-resizing")},n.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,de.addCssClass(this.getGui(),"ag-column-resizing")},n.prototype.getTooltipText=function(){return this.getComponentHolder().headerTooltip},n.prototype.setupTooltip=function(){var e=this.getTooltipText();null!=e&&(this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",e):this.beans.tooltipManager.registerTooltip(this))},n.prototype.setupMovingCss=function(){this.addDestroyableEventListener(this.column,Ie.EVENT_MOVING_CHANGED,this.onColumnMovingChanged.bind(this)),this.onColumnMovingChanged()},n.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.column.getColId())},n.prototype.setupWidth=function(){this.addDestroyableEventListener(this.column,Ie.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},n.prototype.setupMenuClass=function(){this.addDestroyableEventListener(this.column,Ie.EVENT_MENU_VISIBLE_CHANGED,this.onMenuVisible.bind(this)),this.onColumnWidthChanged()},n.prototype.onMenuVisible=function(){this.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())},n.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},n.prototype.normaliseResizeAmount=function(e){var t=e;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==ie.PINNED_LEFT&&(t*=-1):this.pinned===ie.PINNED_RIGHT&&(t*=-1),t},n.TEMPLATE='<div class="ag-header-cell" role="presentation" unselectable="on"><div ref="eResize" class="ag-header-cell-resize" role="presentation"></div><ag-checkbox ref="cbSelectAll" class="ag-header-select-all" role="presentation"></ag-checkbox></div>',ho([be("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),ho([be("dragAndDropService")],n.prototype,"dragAndDropService",void 0),ho([be("columnController")],n.prototype,"columnController",void 0),ho([be("horizontalResizeService")],n.prototype,"horizontalResizeService",void 0),ho([be("menuFactory")],n.prototype,"menuFactory",void 0),ho([be("gridApi")],n.prototype,"gridApi",void 0),ho([be("columnApi")],n.prototype,"columnApi",void 0),ho([be("sortController")],n.prototype,"sortController",void 0),ho([be("eventService")],n.prototype,"eventService",void 0),ho([be("userComponentFactory")],n.prototype,"userComponentFactory",void 0),ho([be("columnHoverService")],n.prototype,"columnHoverService",void 0),ho([be("beans")],n.prototype,"beans",void 0),ho([Xe("eResize")],n.prototype,"eResize",void 0),ho([Xe("cbSelectAll")],n.prototype,"cbSelectAll",void 0),ho([me],n.prototype,"init",null),n}(Qe),go=(fr=function(e,t){return(fr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}fr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),vo=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},yo=function(e){function n(t,r,o){var i=e.call(this,n.TEMPLATE)||this;return i.childColumnsDestroyFuncs=[],i.columnGroup=t,i.dragSourceDropTarget=r,i.pinned=o,i}return go(n,e),n.prototype.postConstruct=function(){Kr.addHeaderClassesFromColDef(this.getComponentHolder(),this.getGui(),this.gridOptionsWrapper,null,this.columnGroup);var e=this.columnController.getDisplayNameForColumnGroup(this.columnGroup,"header");this.appendHeaderGroupComp(e),this.setupResize(),this.addClasses(),this.setupWidth(),this.addAttributes(),this.setupMovingCss(),this.setupTooltip(),this.addFeature(new co(this.columnGroup.getOriginalColumnGroup().getLeafColumns(),this.getGui()));var t=new Yr(this.columnGroup,this.getGui(),this.beans);t.init(),this.addDestroyFunc(t.destroy.bind(t))},n.prototype.setupMovingCss=function(){var e=this;this.columnGroup.getOriginalColumnGroup().getLeafColumns().forEach((function(t){e.addDestroyableEventListener(t,Ie.EVENT_MOVING_CHANGED,e.onColumnMovingChanged.bind(e))})),this.onColumnMovingChanged()},n.prototype.getColumn=function(){return this.columnGroup},n.prototype.getComponentHolder=function(){return this.columnGroup.getColGroupDef()},n.prototype.getTooltipText=function(){var e=this.getComponentHolder();return e&&e.headerTooltip},n.prototype.setupTooltip=function(){var e=this.getTooltipText();null!=e&&(this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",e):this.beans.tooltipManager.registerTooltip(this))},n.prototype.onColumnMovingChanged=function(){de.addOrRemoveCssClass(this.getGui(),"ag-header-cell-moving",this.columnGroup.isMoving())},n.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.columnGroup.getUniqueId())},n.prototype.appendHeaderGroupComp=function(e){var t=this,n={displayName:e,columnGroup:this.columnGroup,setExpanded:function(e){t.columnController.setColumnGroupOpened(t.columnGroup.getOriginalColumnGroup(),e,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!e){for(var r=this.columnGroup,o=r.getLeafColumns();r.getParent()&&r.getParent().getLeafColumns().length===o.length;)r=r.getParent();var i=r.getColGroupDef();i&&(e=i.headerName),e||(e=o?this.columnController.getDisplayNameForColumn(o[0],"header",!0):"")}var s=this.afterHeaderCompCreated.bind(this,e);this.userComponentFactory.newHeaderGroupComponent(n).then(s)},n.prototype.afterHeaderCompCreated=function(e,t){this.appendChild(t),this.setupMove(t.getGui(),e)},n.prototype.addClasses=function(){this.columnGroup.isPadding()?this.addCssClass("ag-header-group-cell-no-group"):this.addCssClass("ag-header-group-cell-with-group")},n.prototype.setupMove=function(e,n){var r=this;if(e&&!this.isSuppressMoving()){var o=this.columnGroup.getOriginalColumnGroup().getLeafColumns();if(e){var i={type:t.DragSourceType.HeaderCell,eElement:e,dragItemName:n,dragItemCallback:this.getDragItemForGroup.bind(this),dragSourceDropTarget:this.dragSourceDropTarget,dragStarted:function(){return o.forEach((function(e){return e.setMoving(!0,"uiColumnDragged")}))},dragStopped:function(){return o.forEach((function(e){return e.setMoving(!1,"uiColumnDragged")}))}};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc((function(){return r.dragAndDropService.removeDragSource(i)}))}}},n.prototype.getDragItemForGroup=function(){var e=this.columnGroup.getOriginalColumnGroup().getLeafColumns(),t={};e.forEach((function(e){return t[e.getId()]=e.isVisible()}));var n=[];return this.columnController.getAllDisplayedColumns().forEach((function(t){e.indexOf(t)>=0&&(n.push(t),de.removeFromArray(e,t))})),e.forEach((function(e){return n.push(e)})),{columns:n,visibleState:t}},n.prototype.isSuppressMoving=function(){var e=!1;return this.columnGroup.getLeafColumns().forEach((function(t){(t.getColDef().suppressMovable||t.getColDef().lockPosition)&&(e=!0)})),e||this.gridOptionsWrapper.isSuppressMovableColumns()},n.prototype.setupWidth=function(){this.addListenersToChildrenColumns(),this.addDestroyableEventListener(this.columnGroup,Ae.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.destroyListenersOnChildrenColumns.bind(this))},n.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},n.prototype.addListenersToChildrenColumns=function(){var e=this;this.destroyListenersOnChildrenColumns();var t=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((function(n){n.addEventListener(Ie.EVENT_WIDTH_CHANGED,t),n.addEventListener(Ie.EVENT_VISIBLE_CHANGED,t),e.childColumnsDestroyFuncs.push((function(){n.removeEventListener(Ie.EVENT_WIDTH_CHANGED,t),n.removeEventListener(Ie.EVENT_VISIBLE_CHANGED,t)}))}))},n.prototype.destroyListenersOnChildrenColumns=function(){this.childColumnsDestroyFuncs.forEach((function(e){return e()})),this.childColumnsDestroyFuncs=[]},n.prototype.onWidthChanged=function(){this.getGui().style.width=this.columnGroup.getActualWidth()+"px"},n.prototype.setupResize=function(){var e=this;if(this.eHeaderCellResize=this.getRefElement("agResize"),this.columnGroup.isResizable()){var t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eHeaderCellResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(t),this.gridOptionsWrapper.isSuppressAutoSize()||this.eHeaderCellResize.addEventListener("dblclick",(function(t){var n=[];e.columnGroup.getDisplayedLeafColumns().forEach((function(e){e.getColDef().suppressAutoSize||n.push(e.getColId())})),n.length>0&&e.columnController.autoSizeColumns(n,"uiColumnResized")}))}else de.removeFromParent(this.eHeaderCellResize)},n.prototype.onResizeStart=function(e){var t=this,n=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=n.filter((function(e){return e.isResizable()})),this.resizeStartWidth=0,this.resizeCols.forEach((function(e){return t.resizeStartWidth+=e.getActualWidth()})),this.resizeRatios=[],this.resizeCols.forEach((function(e){return t.resizeRatios.push(e.getActualWidth()/t.resizeStartWidth)}));var r=null;if(e&&(r=this.columnController.getDisplayedGroupAfter(this.columnGroup)),r){var o=r.getDisplayedLeafColumns();this.resizeTakeFromCols=o.filter((function(e){return e.isResizable()})),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach((function(e){return t.resizeTakeFromStartWidth+=e.getActualWidth()})),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach((function(e){return t.resizeTakeFromRatios.push(e.getActualWidth()/t.resizeTakeFromStartWidth)}))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;de.addCssClass(this.getGui(),"ag-column-resizing")},n.prototype.onResizing=function(e,t){var n=[],r=this.normaliseDragChange(t);n.push({columns:this.resizeCols,ratios:this.resizeRatios,width:this.resizeStartWidth+r}),this.resizeTakeFromCols&&n.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-r}),this.columnController.resizeColumnSets(n,e,"uiColumnDragged"),e&&de.removeCssClass(this.getGui(),"ag-column-resizing")},n.prototype.normaliseDragChange=function(e){var t=e;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==ie.PINNED_LEFT&&(t*=-1):this.pinned===ie.PINNED_RIGHT&&(t*=-1),t},n.TEMPLATE='<div class="ag-header-group-cell" role="presentation"><div ref="agResize" class="ag-header-cell-resize" role="presentation"></div></div>',vo([be("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),vo([be("columnController")],n.prototype,"columnController",void 0),vo([be("horizontalResizeService")],n.prototype,"horizontalResizeService",void 0),vo([be("dragAndDropService")],n.prototype,"dragAndDropService",void 0),vo([be("userComponentFactory")],n.prototype,"userComponentFactory",void 0),vo([be("gridApi")],n.prototype,"gridApi",void 0),vo([be("columnApi")],n.prototype,"columnApi",void 0),vo([be("beans")],n.prototype,"beans",void 0),vo([me],n.prototype,"postConstruct",null),n}(Qe),mo=(hr=function(e,t){return(hr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}hr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Co=function(e){function t(){return e.call(this,'<div class="ag-input-wrapper" role="presentation"><input ref="eFloatingFilterText" class="ag-floating-filter-input"></div>')||this}return mo(t,e),t.prototype.init=function(e){this.params=e,this.eFloatingFilterText.disabled=!0},t.prototype.onParentModelChanged=function(e){var t=this;e?this.params.parentFilterInstance((function(n){if(n.getModelAsString){var r=n.getModelAsString(e);t.eFloatingFilterText.value=r}})):this.eFloatingFilterText.value=""},function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([Xe("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),t}(Qe),wo=(dr=function(e,t){return(dr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}dr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),bo=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Eo=function(e){function n(t){var r=e.call(this,n.TEMPLATE)||this;return r.column=t,r}return wo(n,e),n.prototype.postConstruct=function(){this.setupFloatingFilter(),this.setupWidth(),this.setupLeftPositioning(),this.setupColumnHover(),this.addFeature(new co([this.column],this.getGui())),this.addDestroyableEventListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},n.prototype.setupFloatingFilter=function(){var e=this;this.column.getColDef().filter?(this.floatingFilterCompPromise=this.getFloatingFilterInstance(),this.floatingFilterCompPromise?this.floatingFilterCompPromise.then((function(t){t?(e.setupWithFloatingFilter(t),e.setupSyncWithFilter()):e.setupEmpty()})):this.setupEmpty()):this.setupEmpty()},n.prototype.setupLeftPositioning=function(){var e=new Yr(this.column,this.getGui(),this.beans);e.init(),this.addDestroyFunc(e.destroy.bind(e))},n.prototype.setupSyncWithFilter=function(){var e=this,t=function(t){var n=e.filterManager.getFilterComponent(e.column,"NO_UI").resolveNow(null,(function(e){return e.getModel()}));e.onParentModelChanged(n,t)};this.addDestroyableEventListener(this.column,Ie.EVENT_FILTER_CHANGED,t),this.filterManager.isFilterActive(this.column)&&t(null)},n.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.eButtonShowMainFilter,"filterMenuTab",["filterMenuTab"])},n.prototype.setupColumnHover=function(){this.addDestroyableEventListener(this.eventService,xe.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},n.prototype.onColumnHover=function(){var e=this.columnHoverService.isHovered(this.column);de.addOrRemoveCssClass(this.getGui(),"ag-column-hover",e)},n.prototype.setupWidth=function(){this.addDestroyableEventListener(this.column,Ie.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},n.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},n.prototype.setupWithFloatingFilter=function(e){var t=function(){e.destroy&&e.destroy()};if(this.isAlive()){this.addDestroyFunc(t);var n=e.getGui();de.addOrRemoveCssClass(this.eFloatingFilterBody,"ag-floating-filter-body",!this.suppressFilterButton),de.addOrRemoveCssClass(this.eFloatingFilterBody,"ag-floating-filter-full-body",this.suppressFilterButton),de.setDisplayed(this.eButtonWrapper,!this.suppressFilterButton);var r=de.createIconNoSpan("filter",this.gridOptionsWrapper,this.column);this.eButtonShowMainFilter.appendChild(r),this.eFloatingFilterBody.appendChild(n),e.afterGuiAttached&&e.afterGuiAttached()}else t()},n.prototype.parentFilterInstance=function(e){this.filterManager.getFilterComponent(this.column,"NO_UI").then(e)},n.prototype.getFloatingFilterInstance=function(){var e,r=this.column.getColDef();"string"==typeof r.filter?e=n.filterToFloatingFilterNames[r.filter]:!0===r.filter&&(e=De.isRegistered(t.ModuleNames.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter");var o=this.filterManager.createFilterParams(this.column,this.column.getColDef()),i=this.userComponentFactory.createFinalParams(r,"filter",o),s={api:this.gridApi,column:this.column,filterParams:i,currentParentModel:this.currentParentModel.bind(this),parentFilterInstance:this.parentFilterInstance.bind(this),onFloatingFilterChanged:this.onFloatingFilterChanged.bind(this),suppressFilterButton:!1};this.suppressFilterButton=!!r.floatingFilterComponentParams&&!!r.floatingFilterComponentParams.suppressFilterButton;var a=this.userComponentFactory.newFloatingFilterComponent(r,s,e);if(!a){var l=this.getFilterComponentPrototype(r);if(l&&l.prototype&&l.prototype.getModelAsString){var u=this.userComponentFactory.createUserComponentFromConcreteClass(Co,s);a=fe.resolve(u)}}return a},n.prototype.createDynamicParams=function(){return{column:this.column,colDef:this.column.getColDef(),api:this.gridApi,columnApi:this.columnApi}},n.prototype.getFilterComponentPrototype=function(e){var t=this.userComponentFactory.lookupComponentClassDef(e,"filter",this.createDynamicParams());return t?t.component:null},n.prototype.setupEmpty=function(){de.setDisplayed(this.eButtonWrapper,!1)},n.prototype.currentParentModel=function(){return this.filterManager.getFilterComponent(this.column,"NO_UI").resolveNow(null,(function(e){return e.getModel()}))},n.prototype.onParentModelChanged=function(e,t){this.floatingFilterCompPromise&&this.floatingFilterCompPromise.then((function(n){n.onParentModelChanged(e,t)}))},n.prototype.onFloatingFilterChanged=function(){console.warn("ag-Grid: since version 21.x, how floating filters are implemented has changed. Instead of calling params.onFloatingFilterChanged(), get a reference to the main filter via params.parentFilterInstance() and then set a value on the parent filter directly.")},n.filterToFloatingFilterNames={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},n.TEMPLATE='<div class="ag-header-cell" role="presentation">\n            <div ref="eFloatingFilterBody" role="columnheader"></div>\n            <div class="ag-floating-filter-button" ref="eButtonWrapper" role="presentation">\n                <button type="button" ref="eButtonShowMainFilter"></button>\n            </div>\n        </div>',bo([be("columnHoverService")],n.prototype,"columnHoverService",void 0),bo([be("eventService")],n.prototype,"eventService",void 0),bo([be("beans")],n.prototype,"beans",void 0),bo([be("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),bo([be("userComponentFactory")],n.prototype,"userComponentFactory",void 0),bo([be("gridApi")],n.prototype,"gridApi",void 0),bo([be("columnApi")],n.prototype,"columnApi",void 0),bo([be("filterManager")],n.prototype,"filterManager",void 0),bo([be("menuFactory")],n.prototype,"menuFactory",void 0),bo([Xe("eFloatingFilterBody")],n.prototype,"eFloatingFilterBody",void 0),bo([Xe("eButtonWrapper")],n.prototype,"eButtonWrapper",void 0),bo([Xe("eButtonShowMainFilter")],n.prototype,"eButtonShowMainFilter",void 0),bo([me],n.prototype,"postConstruct",null),n}(Qe),_o=(pr=function(e,t){return(pr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}pr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),So=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ro=function(e){return e[e.COLUMN_GROUP=0]="COLUMN_GROUP",e[e.COLUMN=1]="COLUMN",e[e.FLOATING_FILTER=2]="FLOATING_FILTER",e}({}),To=function(e){function t(t,n,r,o){var i=e.call(this,'<div class="ag-header-row" role="row"/>')||this;return i.headerComps={},i.dept=t,i.type=n,i.pinned=r,i.dropTarget=o,i}return _o(t,e),t.prototype.forEachHeaderElement=function(e){var t=this;Object.keys(this.headerComps).forEach((function(n){e(t.headerComps[n])}))},t.prototype.destroy=function(){var t=Object.keys(this.headerComps);this.removeAndDestroyChildComponents(t),e.prototype.destroy.call(this)},t.prototype.removeAndDestroyChildComponents=function(e){var t=this;e.forEach((function(e){var n=t.headerComps[e];t.getGui().removeChild(n.getGui()),n.destroy(),delete t.headerComps[e]}))},t.prototype.onRowHeightChanged=function(){var e,t,n=this.columnController.getHeaderRowCount(),r=[],o=0;this.columnController.isPivotMode()?(o=0,e=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),t=this.gridOptionsWrapper.getPivotHeaderHeight()):(this.gridOptionsWrapper.isFloatingFilter()&&n++,o=this.gridOptionsWrapper.isFloatingFilter()?1:0,e=this.gridOptionsWrapper.getGroupHeaderHeight(),t=this.gridOptionsWrapper.getHeaderHeight());for(var i=n-(1+o),s=0;s<i;s++)r.push(e);for(r.push(t),s=0;s<o;s++)r.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var a=0;for(s=0;s<this.dept;s++)a+=r[s];this.getGui().style.top=a+"px",this.getGui().style.height=r[this.dept]+"px"},t.prototype.init=function(){this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addDestroyableEventListener(this.gridOptionsWrapper,Ue.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,Ue.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,Ue.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,Ue.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,Ue.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this)),this.addDestroyableEventListener(this.eventService,xe.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addDestroyableEventListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addDestroyableEventListener(this.eventService,xe.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addDestroyableEventListener(this.eventService,xe.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this))},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.getGui().style.width=e+"px"},t.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===ie.DOM_LAYOUT_PRINT?de.missing(this.pinned)?this.columnController.getContainerWidth(ie.PINNED_RIGHT)+this.columnController.getContainerWidth(ie.PINNED_LEFT)+this.columnController.getContainerWidth(null):0:this.columnController.getContainerWidth(this.pinned)},t.prototype.onGridColumnsChanged=function(){this.removeAndDestroyAllChildComponents()},t.prototype.removeAndDestroyAllChildComponents=function(){var e=Object.keys(this.headerComps);this.removeAndDestroyChildComponents(e)},t.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},t.prototype.getItemsAtDepth=function(){var e=this;if(this.gridOptionsWrapper.getDomLayout()===ie.DOM_LAYOUT_PRINT){if(de.missing(this.pinned)){var t=[];return[ie.PINNED_LEFT,null,ie.PINNED_RIGHT].forEach((function(n){var r=e.columnController.getVirtualHeaderGroupRow(n,e.type==Ro.FLOATING_FILTER?e.dept-1:e.dept);t=t.concat(r)})),t}return[]}return this.columnController.getVirtualHeaderGroupRow(this.pinned,this.type==Ro.FLOATING_FILTER?this.dept-1:this.dept)},t.prototype.onVirtualColumnsChanged=function(){var e=this,t=Object.keys(this.headerComps),n=[];if(this.getItemsAtDepth().forEach((function(r){if(!r.isEmptyGroup()){var o,i,s=r.getUniqueId(),a=e.getGui();t.indexOf(s)>=0?de.removeFromArray(t,s):(o=e.createHeaderComp(r),e.headerComps[s]=o,i=o.getGui(),a.appendChild(i)),n.push(s)}})),this.removeAndDestroyChildComponents(t),this.gridOptionsWrapper.isEnsureDomOrder()){var r=n.map((function(t){return e.headerComps[t].getGui()}));de.setDomChildOrder(this.getGui(),r)}},t.prototype.createHeaderComp=function(e){var t;switch(this.type){case Ro.COLUMN:t=new fo(e,this.dropTarget,this.pinned);break;case Ro.COLUMN_GROUP:t=new yo(e,this.dropTarget,this.pinned);break;case Ro.FLOATING_FILTER:t=new Eo(e)}return this.getContext().wireBean(t),t},So([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),So([be("gridApi")],t.prototype,"gridApi",void 0),So([be("columnController")],t.prototype,"columnController",void 0),So([be("eventService")],t.prototype,"eventService",void 0),So([be("filterManager")],t.prototype,"filterManager",void 0),So([me],t.prototype,"init",null),t}(Qe),Oo=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Do=function(){function e(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=e,this.eContainer=t,this.centerContainer=!de.exists(e)}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.init=function(){this.logger=this.loggerFactory.create("MoveColumnController")},e.prototype.getIconName=function(){return this.pinned?Ir.ICON_PINNED:Ir.ICON_MOVE},e.prototype.onDragEnter=function(e){var n=e.dragItem.columns;if(e.dragSource.type===t.DragSourceType.ToolPanel)this.setColumnsVisible(n,!0,"uiColumnDragged");else{var r=e.dragItem.visibleState,o=n.filter((function(e){return r[e.getId()]}));this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(n,this.pinned,"uiColumnDragged"),this.onDragging(e,!0)},e.prototype.onDragLeave=function(e){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!e.fromNudge){var t=e.dragSource.dragItemCallback();this.setColumnsVisible(t.columns,!1,"uiColumnDragged")}this.ensureIntervalCleared()},e.prototype.setColumnsVisible=function(e,t,n){if(void 0===n&&(n="api"),e){var r=e.filter((function(e){return!e.getColDef().lockVisible}));this.columnController.setColumnsVisible(r,t,n)}},e.prototype.setColumnsPinned=function(e,t,n){if(void 0===n&&(n="api"),e){var r=e.filter((function(e){return!e.getColDef().lockPinned}));this.columnController.setColumnsPinned(r,t,n)}},e.prototype.onDragStop=function(){this.ensureIntervalCleared()},e.prototype.normaliseX=function(e){return this.gridOptionsWrapper.isEnableRtl()&&(e=this.eContainer.clientWidth-e),this.centerContainer&&(e+=this.gridPanel.getCenterViewportScrollLeft()),e},e.prototype.checkCenterForScrolling=function(e){if(this.centerContainer){var t=this.gridPanel.getCenterViewportScrollLeft(),n=t+this.gridPanel.getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>n-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},e.prototype.onDragging=function(e,t){var n=this;if(void 0===t&&(t=!1),this.lastDraggingEvent=e,!de.missing(e.hDirection)){var r=this.normaliseX(e.x);t||this.checkCenterForScrolling(r);var o=this.normaliseDirection(e.hDirection),i=e.dragSource.type,s=e.dragSource.dragItemCallback().columns;s=s.filter((function(e){return!e.getColDef().lockPinned||e.getPinned()==n.pinned})),this.attemptMoveColumns(i,s,o,r,t)}},e.prototype.normaliseDirection=function(e){if(!this.gridOptionsWrapper.isEnableRtl())return e;switch(e){case t.HDirection.Left:return t.HDirection.Right;case t.HDirection.Right:return t.HDirection.Left;default:console.error("ag-Grid: Unknown direction "+e)}},e.prototype.calculateOldIndex=function(e){var t=this.columnController.getAllGridColumns(),n=[];e.forEach((function(e){return n.push(t.indexOf(e))})),de.sortNumberArray(n);var r=n[0];return de.last(n)-r!=n.length-1?null:r},e.prototype.attemptMoveColumns=function(e,n,r,o,i){var s=r===t.HDirection.Left,a=r===t.HDirection.Right,l=this.calculateValidMoves(n,a,o),u=this.calculateOldIndex(n);if(0!==l.length){var c=l[0],p=null!==u&&!i;if(e==t.DragSourceType.HeaderCell&&(p=null!==u),p){if(s&&c>=u)return;if(a&&c<=u)return}for(var d=0;d<l.length;d++){var h=l[d];if(this.columnController.doesMovePassRules(n,h))return void this.columnController.moveColumns(n,h,"uiColumnDragged")}}},e.prototype.calculateValidMoves=function(e,t,n){var r,o=this.columnController.getDisplayedColumns(this.pinned),i=this.columnController.getAllGridColumns(),s=function(t){return e.indexOf(t)<0},a=o.filter((function(t){return e.indexOf(t)>=0})),l=o.filter(s),u=i.filter(s),c=0,p=n;if(t){var d=0;a.forEach((function(e){return d+=e.getActualWidth()})),p-=d}if(p>0){for(var h=0;h<l.length&&!((p-=l[h].getActualWidth())<0);h++)c++;t&&c++}c>0?r=u.indexOf(l[c-1])+1:-1===(r=u.indexOf(l[0]))&&(r=0);var f=[r];if(t)for(var g=r+1,v=i.length-1;g<=v;)f.push(g),g++;else{v=i.length-1;for(var y=i[g=r];g<=v&&this.isColumnHidden(o,y);)f.push(++g),y=i[g];for(g=r-1;g>=0;)f.push(g),g--}return f},e.prototype.isColumnHidden=function(e,t){return e.indexOf(t)<0},e.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?Ir.ICON_LEFT:Ir.ICON_RIGHT,!0))},e.prototype.ensureIntervalCleared=function(){this.moveInterval&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Ir.ICON_MOVE))},e.prototype.moveInterval=function(){var e,t;if(this.intervalCount++,(e=10+5*this.intervalCount)>100&&(e=100),this.needToMoveLeft?t=this.gridPanel.scrollHorizontally(-e):this.needToMoveRight&&(t=this.gridPanel.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var n=this.lastDraggingEvent.dragItem.columns.filter((function(e){return!e.getColDef().lockPinned}));n.length>0&&(this.dragAndDropService.setGhostIcon(Ir.ICON_PINNED),this.failedMoveAttempts>7&&(this.setColumnsPinned(n,this.needToMoveLeft?ie.PINNED_LEFT:ie.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge()))}},Oo([be("loggerFactory")],e.prototype,"loggerFactory",void 0),Oo([be("columnController")],e.prototype,"columnController",void 0),Oo([be("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Oo([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Oo([me],e.prototype,"init",null),e}(),Io=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ao=function(){function e(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}return e.prototype.onDragEnter=function(e){var t=this;this.clearColumnsList(),this.gridOptionsWrapper.isFunctionsReadOnly()||e.dragItem.columns.forEach((function(e){e.isPrimary()&&(e.isAnyFunctionActive()||(e.isAllowValue()?t.columnsToAggregate.push(e):e.isAllowRowGroup()?t.columnsToGroup.push(e):e.isAllowRowGroup()&&t.columnsToPivot.push(e)))}))},e.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Ir.ICON_PINNED:Ir.ICON_MOVE:null},e.prototype.onDragLeave=function(e){this.clearColumnsList()},e.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},e.prototype.onDragging=function(e){},e.prototype.onDragStop=function(e){this.columnsToAggregate.length>0&&this.columnController.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnController.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnController.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},Io([be("columnController")],e.prototype,"columnController",void 0),Io([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(),ko=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Po=function(e){return e[e.ColumnMove=0]="ColumnMove",e[e.Pivot=1]="Pivot",e}({}),No=function(){function e(e,t){this.dropListeners={},this.pinned=e,this.eContainer=t}return e.prototype.registerGridComp=function(e){switch(this.gridPanel=e,this.moveColumnController.registerGridComp(e),this.pinned){case ie.PINNED_LEFT:this.eSecondaryContainers=this.gridPanel.getDropTargetLeftContainers();break;case ie.PINNED_RIGHT:this.eSecondaryContainers=this.gridPanel.getDropTargetRightContainers();break;default:this.eSecondaryContainers=this.gridPanel.getDropTargetBodyContainers()}},e.prototype.isInterestedIn=function(e){return e===t.DragSourceType.HeaderCell||e===t.DragSourceType.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},e.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},e.prototype.getContainer=function(){return this.eContainer},e.prototype.init=function(){this.moveColumnController=new Do(this.pinned,this.eContainer),this.context.wireBean(this.moveColumnController);var e=new Ao(this.pinned);this.context.wireBean(e),this.dropListeners[Po.ColumnMove]=this.moveColumnController,this.dropListeners[Po.Pivot]=e,this.dragAndDropService.addDropTarget(this)},e.prototype.getIconName=function(){return this.currentDropListener.getIconName()},e.prototype.getDropType=function(e){return this.columnController.isPivotMode()&&e.dragSource.type===t.DragSourceType.ToolPanel?Po.Pivot:Po.ColumnMove},e.prototype.onDragEnter=function(e){var t=this.getDropType(e);this.currentDropListener=this.dropListeners[t],this.currentDropListener.onDragEnter(e)},e.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},e.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},e.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},ko([be("context")],e.prototype,"context",void 0),ko([be("dragAndDropService")],e.prototype,"dragAndDropService",void 0),ko([be("columnController")],e.prototype,"columnController",void 0),ko([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ko([me],e.prototype,"init",null),e}(),xo=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Fo=function(){function e(e,t,n){this.headerRowComps=[],this.eContainer=e,this.pinned=n,this.eViewport=t}return e.prototype.registerGridComp=function(e){this.setupDragAndDrop(e)},e.prototype.forEachHeaderElement=function(e){this.headerRowComps.forEach((function(t){return t.forEachHeaderElement(e)}))},e.prototype.init=function(){this.scrollWidth=this.gridOptionsWrapper.getScrollbarWidth(),this.eventService.addEventListener(xe.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.eventService.addEventListener(xe.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.eventService.addEventListener(xe.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.eventService.addEventListener(xe.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.eventService.addEventListener(xe.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.eventService.addEventListener(xe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this))},e.prototype.onColumnRowGroupChanged=function(){this.onGridColumnsChanged()},e.prototype.onColumnValueChanged=function(){this.onGridColumnsChanged()},e.prototype.onColumnResized=function(){this.setWidthOfPinnedContainer()},e.prototype.onDisplayedColumnsChanged=function(){this.setWidthOfPinnedContainer()},e.prototype.onScrollVisibilityChanged=function(){this.setWidthOfPinnedContainer()},e.prototype.setWidthOfPinnedContainer=function(){var e=this.pinned===ie.PINNED_LEFT,t=this.pinned===ie.PINNED_RIGHT,n=this.columnController,r=this.gridOptionsWrapper.isEnableRtl();if(e||t){var o=n[e?"getPinnedLeftContainerWidth":"getPinnedRightContainerWidth"]();this.scrollVisibleService.isVerticalScrollShowing()&&(r&&e||!r&&t)&&(o+=this.scrollWidth),de.setFixedWidth(this.eContainer,o)}},e.prototype.destroy=function(){this.removeHeaderRowComps()},e.prototype.getRowComps=function(){return this.headerRowComps},e.prototype.onGridColumnsChanged=function(){this.removeAndCreateAllRowComps()},e.prototype.removeAndCreateAllRowComps=function(){this.removeHeaderRowComps(),this.createHeaderRowComps()},e.prototype.refresh=function(){this.removeAndCreateAllRowComps()},e.prototype.setupDragAndDrop=function(e){var t=new No(this.pinned,this.eViewport?this.eViewport:this.eContainer);this.context.wireBean(t),t.registerGridComp(e)},e.prototype.removeHeaderRowComps=function(){this.headerRowComps.forEach((function(e){e.destroy()})),this.headerRowComps.length=0,de.clearElement(this.eContainer)},e.prototype.createHeaderRowComps=function(){for(var e=this.columnController.getHeaderRowCount(),t=0;t<e;t++){var n=new To(t,t!==e-1?Ro.COLUMN_GROUP:Ro.COLUMN,this.pinned,this.dropTarget);this.context.wireBean(n),this.headerRowComps.push(n),n.getGui().setAttribute("aria-rowindex",this.headerRowComps.length.toString()),this.eContainer.appendChild(n.getGui())}this.gridOptionsWrapper.isFloatingFilter()&&!this.columnController.isPivotMode()&&(n=new To(e,Ro.FLOATING_FILTER,this.pinned,this.dropTarget),this.context.wireBean(n),this.headerRowComps.push(n),n.getGui().setAttribute("aria-rowindex",this.headerRowComps.length.toString()),this.eContainer.appendChild(n.getGui()))},xo([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),xo([be("context")],e.prototype,"context",void 0),xo([be("$scope")],e.prototype,"$scope",void 0),xo([be("dragAndDropService")],e.prototype,"dragAndDropService",void 0),xo([be("columnController")],e.prototype,"columnController",void 0),xo([be("eventService")],e.prototype,"eventService",void 0),xo([be("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),xo([me],e.prototype,"init",null),e}(),Mo=(cr=function(e,t){return(cr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}cr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Lo=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Vo=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Mo(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e,this.childContainers.forEach((function(t){return t.registerGridComp(e)}))},t.prototype.postConstruct=function(){var e=this;this.printLayout=this.gridOptionsWrapper.getDomLayout()===ie.DOM_LAYOUT_PRINT,this.gridApi.registerHeaderRootComp(this),this.autoWidthCalculator.registerHeaderRootComp(this);var t=new Fo(this.eHeaderContainer,this.eHeaderViewport,null),n=new Fo(this.ePinnedLeftHeader,null,ie.PINNED_LEFT),r=new Fo(this.ePinnedRightHeader,null,ie.PINNED_RIGHT);this.childContainers=[t,n,r],this.childContainers.forEach((function(t){return e.getContext().wireBean(t)})),this.addDestroyableEventListener(this.eventService,xe.EVENT_COLUMN_VALUE_CHANGED,this.refreshHeader.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,Ue.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addDestroyableEventListener(this.eventService,xe.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.addPreventHeaderScroll(),this.columnController.isReady()&&this.refreshHeader()},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===ie.DOM_LAYOUT_PRINT;this.printLayout!==e&&(this.printLayout=e,this.refreshHeader())},t.prototype.setHorizontalScroll=function(e){this.eHeaderContainer.style.transform="translateX("+e+"px)"},t.prototype.forEachHeaderElement=function(e){this.childContainers.forEach((function(t){return t.forEachHeaderElement(e)}))},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.childContainers.forEach((function(e){return e.destroy()}))},t.prototype.refreshHeader=function(){this.childContainers.forEach((function(e){return e.refresh()}))},t.prototype.onPivotModeChanged=function(){var e=this.columnController.isPivotMode();de.addOrRemoveCssClass(this.getGui(),"ag-pivot-on",e),de.addOrRemoveCssClass(this.getGui(),"ag-pivot-off",!e)},t.prototype.setHeight=function(e){var t=e+1+"px";this.getGui().style.height=t,this.getGui().style.minHeight=t},t.prototype.addPreventHeaderScroll=function(){var e=this;this.addDestroyableEventListener(this.eHeaderViewport,"scroll",(function(){var t=e.eHeaderViewport.scrollLeft;0!==t&&(e.gridPanel.scrollHorizontally(t),e.eHeaderViewport.scrollLeft=0)}))},t.prototype.setHeaderContainerWidth=function(e){this.eHeaderContainer.style.width=e+"px"},t.prototype.setLeftVisible=function(e){de.setDisplayed(this.ePinnedLeftHeader,e)},t.prototype.setRightVisible=function(e){de.setDisplayed(this.ePinnedRightHeader,e)},t.prototype.getHeaderRowCount=function(){return 0===this.childContainers.length?0:this.childContainers[0].getRowComps().length},t.TEMPLATE='<div class="ag-header" role="presentation">\n            <div class="ag-pinned-left-header" ref="ePinnedLeftHeader" role="presentation"></div>\n            <div class="ag-header-viewport" ref="eHeaderViewport" role="presentation">\n                <div class="ag-header-container" ref="eHeaderContainer" role="rowgroup"></div>\n            </div>\n            <div class="ag-pinned-right-header" ref="ePinnedRightHeader" role="presentation"></div>\n        </div>',Lo([Xe("ePinnedLeftHeader")],t.prototype,"ePinnedLeftHeader",void 0),Lo([Xe("ePinnedRightHeader")],t.prototype,"ePinnedRightHeader",void 0),Lo([Xe("eHeaderContainer")],t.prototype,"eHeaderContainer",void 0),Lo([Xe("eHeaderViewport")],t.prototype,"eHeaderViewport",void 0),Lo([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Lo([be("columnController")],t.prototype,"columnController",void 0),Lo([be("eventService")],t.prototype,"eventService",void 0),Lo([be("gridApi")],t.prototype,"gridApi",void 0),Lo([be("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),Lo([me],t.prototype,"postConstruct",null),t}(Qe),Go=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Wo=function(){function e(){this.allFilters={},this.quickFilter=null,this.quickFilterParts=null,this.processingFilterChange=!1}var n;return n=e,e.prototype.registerGridCore=function(e){this.gridCore=e},e.prototype.init=function(){this.eventService.addEventListener(xe.EVENT_ROW_DATA_CHANGED,this.onNewRowsLoaded.bind(this)),this.eventService.addEventListener(xe.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter(),this.checkExternalFilter()},e.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},e.prototype.setFilterModel=function(e){var t=this,n=[];if(e){var r=Object.keys(e);de.iterateObject(this.allFilters,(function(o,i){de.removeFromArray(r,o),t.setModelOnFilterWrapper(i.filterPromise,e[o]),n.push(i.filterPromise)})),r.forEach((function(r){var o=t.columnController.getPrimaryColumn(r);if(o){var i=t.getOrCreateFilterWrapper(o,"NO_UI");t.setModelOnFilterWrapper(i.filterPromise,e[r]),n.push(i.filterPromise)}else console.warn("Warning ag-grid setFilterModel - no column found for colId "+r)}))}else de.iterateObject(this.allFilters,(function(e,r){t.setModelOnFilterWrapper(r.filterPromise,null),n.push(r.filterPromise)}));fe.all(n).then((function(e){t.onFilterChanged()}))},e.prototype.setModelOnFilterWrapper=function(e,t){e.then((function(e){"function"==typeof e.setModel?e.setModel(t):console.warn("Warning ag-grid - filter missing setModel method, which is needed for setFilterModel")}))},e.prototype.getFilterModel=function(){var e={};return de.iterateObject(this.allFilters,(function(t,n){var r=n.filterPromise.resolveNow(null,(function(e){return e}));if(null==r)return null;if("function"==typeof r.getModel){var o=r.getModel();de.exists(o)&&(e[t]=o)}else console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel")})),e},e.prototype.isAdvancedFilterPresent=function(){return this.advancedFilterPresent},e.prototype.setAdvancedFilterPresent=function(){var e=!1;de.iterateObject(this.allFilters,(function(t,n){n.filterPromise.resolveNow(!1,(function(e){return e.isFilterActive()}))&&(e=!0)})),this.advancedFilterPresent=e},e.prototype.updateFilterFlagInColumns=function(e,t){de.iterateObject(this.allFilters,(function(n,r){var o=r.filterPromise.resolveNow(!1,(function(e){return e.isFilterActive()}));r.column.setFilterActive(o,e,t)}))},e.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.advancedFilterPresent||this.externalFilterPresent},e.prototype.doesFilterPass=function(e,t){for(var n=e.data,r=Object.keys(this.allFilters),o=0,i=r.length;o<i;o++){var s=this.allFilters[r[o]];if(void 0!==s){var a=s.filterPromise.resolveNow(void 0,(function(e){return e}));if(void 0!==a&&a!==t&&a.isFilterActive()&&(a.doesFilterPass||console.error("Filter is missing method doesFilterPass"),!a.doesFilterPass({node:e,data:n})))return!1}}return!0},e.prototype.parseQuickFilter=function(e){return de.missing(e)||""===e?null:this.gridOptionsWrapper.isRowModelDefault()?e.toUpperCase():(console.warn("ag-grid: quick filtering only works with the Client-side Row Model"),null)},e.prototype.setQuickFilter=function(e){var t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.onFilterChanged())},e.prototype.checkExternalFilter=function(){this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent()},e.prototype.onFilterChanged=function(e){this.setAdvancedFilterPresent(),this.updateFilterFlagInColumns("filterChanged",e),this.checkExternalFilter(),de.iterateObject(this.allFilters,(function(e,t){t.filterPromise.then((function(e){e.onAnyFilterChanged&&e.onAnyFilterChanged()}))}));var t={type:xe.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi};e&&de.mergeDeep(t,e),this.processingFilterChange=!0,this.eventService.dispatchEvent(t),this.processingFilterChange=!1},e.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},e.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},e.prototype.doesRowPassOtherFilters=function(e,t){return this.doesRowPassFilter(t,e)},e.prototype.doesRowPassQuickFilterNoCache=function(e,t){var n=this,r=this.columnController.getAllColumnsForQuickFilter(),o=!1;return r.forEach((function(r){if(!o){var i=n.getQuickFilterTextForColumn(r,e);de.exists(i)&&i.indexOf(t)>=0&&(o=!0)}})),o},e.prototype.doesRowPassQuickFilterCache=function(e,t){return e.quickFilterAggregateText||this.aggregateRowForQuickFilter(e),e.quickFilterAggregateText.indexOf(t)>=0},e.prototype.doesRowPassQuickFilter=function(e){var t=this,n=!0,r=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.forEach((function(o){(r?t.doesRowPassQuickFilterCache(e,o):t.doesRowPassQuickFilterNoCache(e,o))||(n=!1)})),n},e.prototype.doesRowPassFilter=function(e,t){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(e)||this.externalFilterPresent&&!this.gridOptionsWrapper.doesExternalFilterPass(e)||this.advancedFilterPresent&&!this.doesFilterPass(e,t))},e.prototype.getQuickFilterTextForColumn=function(e,t){var n,r=this.valueService.getValue(e,t,!0),o=e.getColDef();if(e.getColDef().getQuickFilterText){var i={value:r,node:t,data:t.data,column:e,colDef:o,context:this.gridOptionsWrapper.getContext()};n=e.getColDef().getQuickFilterText(i)}else n=r;return de.exists(n)?n.toString().toUpperCase():null},e.prototype.aggregateRowForQuickFilter=function(e){var t=this,r=[];this.columnController.getAllColumnsForQuickFilter().forEach((function(n){var o=t.getQuickFilterTextForColumn(n,e);de.exists(o)&&r.push(o)})),e.quickFilterAggregateText=r.join(n.QUICK_FILTER_SEPARATOR)},e.prototype.onNewRowsLoaded=function(e){de.iterateObject(this.allFilters,(function(e,t){t.filterPromise.then((function(e){e.onNewRowsLoaded&&e.onNewRowsLoaded()}))})),this.updateFilterFlagInColumns(e),this.setAdvancedFilterPresent()},e.prototype.createValueGetter=function(e){var t=this;return function(n){return t.valueService.getValue(e,n,!0)}},e.prototype.getFilterComponent=function(e,t){return this.getOrCreateFilterWrapper(e,t).filterPromise},e.prototype.isFilterActive=function(e){var t=this.cachedFilter(e);return!!t&&t.filterPromise.resolveNow(!1,(function(e){return e.isFilterActive()}))},e.prototype.getOrCreateFilterWrapper=function(e,t){var n=this.cachedFilter(e);return n?"NO_UI"!==t&&this.putIntoGui(n,t):(n=this.createFilterWrapper(e,t),this.allFilters[e.getColId()]=n),n},e.prototype.cachedFilter=function(e){return this.allFilters[e.getColId()]},e.prototype.createFilterInstance=function(e,n){var r=this,o="agTextColumnFilter";De.isRegistered(t.ModuleNames.SetFilterModule)&&(o="agSetColumnFilter");var i,s=de.cloneObject(e.getColDef()),a=this.createFilterParams(e,s,n);a.filterChangedCallback=this.onFilterChanged.bind(this),a.filterModifiedCallback=function(){r.eventService.dispatchEvent({type:xe.EVENT_FILTER_MODIFIED,api:r.gridApi,columnApi:r.columnApi,column:e,filterInstance:i})};var l=this.userComponentFactory.newFilterComponent(s,a,o,(function(e,t){return de.assign(e,{doesRowPassOtherFilter:r.doesRowPassOtherFilters.bind(r,t)})}));return l&&l.then((function(e){return i=e})),l},e.prototype.createFilterParams=function(e,t,n){void 0===n&&(n=null);var r={api:this.gridOptionsWrapper.getApi(),column:e,colDef:t,rowModel:this.rowModel,filterChangedCallback:null,filterModifiedCallback:null,valueGetter:this.createValueGetter(e),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:null};return n&&(r.$scope=n),r},e.prototype.createFilterWrapper=function(e,t){var n={column:e,filterPromise:null,scope:null,compiledElement:null,guiPromise:fe.external()};return n.scope=this.gridOptionsWrapper.isAngularCompileFilters()?this.$scope.$new():null,n.filterPromise=this.createFilterInstance(e,n.scope),n.filterPromise&&this.putIntoGui(n,t),n},e.prototype.putIntoGui=function(e,t){var n=this,r=document.createElement("div");r.className="ag-filter",e.filterPromise.then((function(o){var i=o.getGui();if(de.missing(i)&&console.warn("getGui method from filter returned "+i+", it should be a DOM element or an HTML template string."),"string"==typeof i&&(i=de.loadTemplate(i)),r.appendChild(i),e.scope){var s=n.$compile(r)(e.scope);e.compiledElement=s,window.setTimeout((function(){return e.scope.$apply()}),0)}e.guiPromise.resolve(r),n.eventService.dispatchEvent({type:xe.EVENT_FILTER_OPENED,column:e.column,source:t,eGui:r,api:n.gridApi,columnApi:n.columnApi})}))},e.prototype.onNewColumnsLoaded=function(){var e=this,t=!1;de.iterateObject(this.allFilters,(function(n,r){!e.columnController.getPrimaryColumn(r.column)&&(t=!0,e.disposeFilterWrapper(r,"filterDestroyed"))})),t&&this.onFilterChanged()},e.prototype.destroyFilter=function(e,t){void 0===t&&(t="api");var n=this.allFilters[e.getColId()];n&&(this.disposeFilterWrapper(n,t),this.onFilterChanged())},e.prototype.disposeFilterWrapper=function(e,t){var n=this;e.filterPromise.then((function(r){r.setModel(null),r.destroy&&r.destroy(),e.column.setFilterActive(!1,t),e.scope&&(e.compiledElement&&e.compiledElement.remove(),e.scope.$destroy()),delete n.allFilters[e.column.getColId()]}))},e.prototype.destroy=function(){var e=this;de.iterateObject(this.allFilters,(function(t,n){e.disposeFilterWrapper(n,"filterDestroyed")}))},e.QUICK_FILTER_SEPARATOR="\n",Go([be("$compile")],e.prototype,"$compile",void 0),Go([be("$scope")],e.prototype,"$scope",void 0),Go([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Go([be("popupService")],e.prototype,"popupService",void 0),Go([be("valueService")],e.prototype,"valueService",void 0),Go([be("columnController")],e.prototype,"columnController",void 0),Go([be("rowModel")],e.prototype,"rowModel",void 0),Go([be("eventService")],e.prototype,"eventService",void 0),Go([be("context")],e.prototype,"context",void 0),Go([be("columnApi")],e.prototype,"columnApi",void 0),Go([be("gridApi")],e.prototype,"gridApi",void 0),Go([be("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Go([me],e.prototype,"init",null),Go([Ce],e.prototype,"destroy",null),n=Go([we("filterManager")],e)}(),Ho=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Bo=function(){function e(){this.initialised=!1}return e.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},e.prototype.getValue=function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!1),this.initialised||this.init(),t){var o,i=e.getColDef(),s=i.field,a=e.getId(),l=t.data,u=t.groupData&&void 0!==t.groupData[a],c=!r&&t.aggData&&void 0!==t.aggData[a];if(n&&i.filterValueGetter?o=this.executeFilterValueGetter(i.filterValueGetter,l,e,t):this.gridOptionsWrapper.isTreeData()&&c?o=t.aggData[a]:this.gridOptionsWrapper.isTreeData()&&i.valueGetter?o=this.executeValueGetter(i.valueGetter,l,e,t):this.gridOptionsWrapper.isTreeData()&&s&&l?o=de.getValueUsingField(l,s,e.isFieldContainsDots()):u?o=t.groupData[a]:c?o=t.aggData[a]:i.valueGetter?o=this.executeValueGetter(i.valueGetter,l,e,t):s&&l&&(o=de.getValueUsingField(l,s,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof o&&0===o.indexOf("=")){var p=o.substring(1);o=this.executeValueGetter(p,l,e,t)}return o}},e.prototype.setValue=function(e,t,n,r){var o=this.columnController.getPrimaryColumn(t);if(e&&o){var i=e.data;de.missing(i)&&(e.data={});var s=o.getColDef(),a=s.field,l=s.newValueHandler,u=s.valueSetter;if(de.missing(a)&&de.missing(l)&&de.missing(u))console.warn("ag-Grid: you need either field or valueSetter set on colDef for editing to work");else{var c,p={node:e,data:e.data,oldValue:this.getValue(o,e),newValue:n,colDef:o.getColDef(),column:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(p.newValue=n,void 0===(c=l&&de.exists(l)?l(p):de.exists(u)?this.expressionService.evaluate(u,p):this.setValueUsingField(i,a,n,o.isFieldContainsDots()))&&(c=!0),c){e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),p.newValue=this.getValue(o,e);var d=o.getColDef().onCellValueChanged;"function"==typeof d&&setTimeout((function(){return d(p)}),0),this.eventService.dispatchEvent({type:xe.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:p.column,api:p.api,colDef:p.colDef,columnApi:p.columnApi,context:p.context,data:e.data,node:e,oldValue:p.oldValue,newValue:p.newValue,value:p.newValue,source:r})}}}},e.prototype.setValueUsingField=function(e,t,n,r){if(!t)return!1;if(r)for(var o=t.split("."),i=e;o.length>0&&i;){var s=o.shift();0===o.length?i[s]=n:i=i[s]}else e[t]=n;return!0},e.prototype.executeFilterValueGetter=function(e,t,n,r){var o={data:t,node:r,column:n,colDef:n.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,r)};return this.expressionService.evaluate(e,o)},e.prototype.executeValueGetter=function(e,t,n,r){var o=n.getId(),i=this.valueCache.getValue(r,o);if(void 0!==i)return i;var s={data:t,node:r,column:n,colDef:n.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,r)},a=this.expressionService.evaluate(e,s);return this.valueCache.setValue(r,o,a),a},e.prototype.getValueCallback=function(e,t){var n=this.columnController.getPrimaryColumn(t);return n?this.getValue(n,e):null},e.prototype.getKeyForNode=function(e,t){var n=this.getValue(e,t),r=e.getColDef().keyCreator,o=r?r({value:n}):n;return"string"==typeof o||null==o?o:("[object Object]"===(o=String(o))&&de.doOnce((function(){console.warn("ag-Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se ag-Grid docs) or b) to toString() on the object to return a key")}),"getKeyForNode - warn about [object,object]"),o)},Ho([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ho([be("expressionService")],e.prototype,"expressionService",void 0),Ho([be("columnController")],e.prototype,"columnController",void 0),Ho([be("eventService")],e.prototype,"eventService",void 0),Ho([be("valueCache")],e.prototype,"valueCache",void 0),Ho([me],e.prototype,"init",null),Ho([we("valueService")],e)}(),Uo=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},jo=function(){function e(e){this.childCount=0,this.rowTemplatesToAdd=[],this.afterGuiAttachedCallbacks=[],this.lastMadeVisibleTime=0,this.eContainer=e.eContainer,this.eViewport=e.eViewport,e.eWrapper&&(this.eWrapper=e.eWrapper),this.hideWhenNoChildren=e.hideWhenNoChildren}return e.prototype.setVerticalScrollPosition=function(e){this.scrollTop=e},e.prototype.postConstruct=function(){this.checkDomOrder(),this.checkVisibility(),this.gridOptionsWrapper.addEventListener(Ue.PROP_DOM_LAYOUT,this.checkDomOrder.bind(this))},e.prototype.checkDomOrder=function(){this.domOrder=this.gridOptionsWrapper.isEnsureDomOrder()},e.prototype.getRowElement=function(e){return this.eContainer.querySelector('[comp-id="'+e+'"]')},e.prototype.setHeight=function(e){null!=e?(this.eContainer.style.height=e+"px",this.eWrapper&&(this.eWrapper.style.height=e+"px")):this.eContainer.style.height=""},e.prototype.flushRowTemplates=function(){if(0!==this.rowTemplatesToAdd.length){var e=this.rowTemplatesToAdd.join("");de.appendHtml(this.eContainer,e),this.rowTemplatesToAdd.length=0}this.afterGuiAttachedCallbacks.forEach((function(e){return e()})),this.afterGuiAttachedCallbacks.length=0,this.lastPlacedElement=null},e.prototype.appendRowTemplate=function(e,t){this.domOrder?this.lastPlacedElement=de.insertTemplateWithDomOrder(this.eContainer,e,this.lastPlacedElement):this.rowTemplatesToAdd.push(e),this.afterGuiAttachedCallbacks.push(t),this.childCount++,this.checkVisibility()},e.prototype.ensureDomOrder=function(e){this.domOrder&&(de.ensureDomOrder(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},e.prototype.removeRowElement=function(e){this.eContainer.removeChild(e),this.childCount--,this.checkVisibility()},e.prototype.checkVisibility=function(){if(this.hideWhenNoChildren){var e=this.eViewport?this.eViewport:this.eContainer,t=this.childCount>0;this.visible!==t&&(this.visible=t,this.lastMadeVisibleTime=(new Date).getTime(),de.setDisplayed(e,t),t&&this.eViewport&&(this.eViewport.scrollTop=this.scrollTop))}},e.prototype.isMadeVisibleRecently=function(){return(new Date).getTime()-this.lastMadeVisibleTime<500},Uo([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Uo([me],e.prototype,"postConstruct",null),e}(),zo=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},qo=function(){function e(e,t){this.eContainer=e,this.gridPanel=t}return e.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel)},e.prototype.getContainer=function(){return this.eContainer},e.prototype.isInterestedIn=function(e){return e===t.DragSourceType.RowDrag},e.prototype.getIconName=function(){return Ir.ICON_MOVE},e.prototype.onDragEnter=function(e){this.dispatchEvent(xe.EVENT_ROW_DRAG_ENTER,e),this.dragAndDropService.setGhostIcon(Ir.ICON_MOVE),e.dragItem.rowNode.setDragging(!0),this.onEnterOrDragging(e)},e.prototype.onDragging=function(e){this.onEnterOrDragging(e)},e.prototype.onEnterOrDragging=function(e){this.dispatchEvent(xe.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var t=this.normaliseForScroll(e.y);this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(e,t),this.checkCenterForScrolling(t)},e.prototype.doManagedDrag=function(e,t){this.clientSideRowModel.ensureRowAtPixel(e.dragItem.rowNode,t)&&(this.focusedCellController.clearFocusedCell(),this.rangeController&&this.rangeController.removeAllCellRanges())},e.prototype.normaliseForScroll=function(e){return this.gridOptionsWrapper.getDomLayout()===ie.DOM_LAYOUT_NORMAL?e+this.gridPanel.getVScrollPosition().top:e},e.prototype.checkCenterForScrolling=function(e){var t=this.gridPanel.getVScrollPosition();this.needToMoveUp=e<t.top+50,this.needToMoveDown=e>t.bottom-50,this.needToMoveUp||this.needToMoveDown?this.ensureIntervalStarted():this.ensureIntervalCleared()},e.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100))},e.prototype.ensureIntervalCleared=function(){this.moveInterval&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null)},e.prototype.moveInterval=function(){var e,t;this.intervalCount++,(e=10+5*this.intervalCount)>100&&(e=100),this.needToMoveDown?t=this.gridPanel.scrollVertically(e):this.needToMoveUp&&(t=this.gridPanel.scrollVertically(-e)),0!==t&&this.onDragging(this.lastDraggingEvent)},e.prototype.dispatchEvent=function(e,n){var r,o=this.normaliseForScroll(n.y),i=-1,s=null;switch(o>this.rowModel.getCurrentPageHeight()||(i=this.rowModel.getRowIndexAtPixel(o),s=this.rowModel.getRow(i)),n.vDirection){case t.VDirection.Down:r="down";break;case t.VDirection.Up:r="up";break;default:r=null}var a={type:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:n.event,node:n.dragItem.rowNode,overIndex:i,overNode:s,y:o,vDirection:r};this.eventService.dispatchEvent(a)},e.prototype.onDragLeave=function(e){this.dispatchEvent(xe.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e)},e.prototype.onDragStop=function(e){this.dispatchEvent(xe.EVENT_ROW_DRAG_END,e),this.stopDragging(e)},e.prototype.stopDragging=function(e){this.ensureIntervalCleared(),e.dragItem.rowNode.setDragging(!1)},zo([be("dragAndDropService")],e.prototype,"dragAndDropService",void 0),zo([be("rowModel")],e.prototype,"rowModel",void 0),zo([be("focusedCellController")],e.prototype,"focusedCellController",void 0),zo([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),zo([Ee("rangeController")],e.prototype,"rangeController",void 0),zo([be("eventService")],e.prototype,"eventService",void 0),zo([me],e.prototype,"postConstruct",null),e}(),Ko=(ur=function(e,t){return(ur=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ur(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Qo=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Yo='<div class="ag-root ag-unselectable" role="grid" unselectable="on">\n        <ag-header-root ref="headerRoot" unselectable="on"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-top" ref="eLeftTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-viewport" ref="eTopViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-top-container" ref="eTopContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-top" ref="eRightTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-full-width-container" ref="eTopFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-cols-container" ref="eLeftContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-center-cols-clipper" ref="eCenterColsClipper" role="presentation" unselectable="on">\n                <div class="ag-center-cols-viewport" ref="eCenterViewport" role="presentation" unselectable="on">\n                    <div class="ag-center-cols-container" ref="eCenterContainer" role="rowgroup" unselectable="on"></div>\n                </div>\n            </div>\n            <div class="ag-pinned-right-cols-container" ref="eRightContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-full-width-container" ref="eFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-bottom" ref="eLeftBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-viewport" ref="eBottomViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-bottom-container" ref="eBottomContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-bottom" ref="eRightBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-full-width-container" ref="eBottomFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-horizontal-scroll" ref="eHorizontalScrollBody" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eHorizontalLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eBodyHorizontalScrollViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eBodyHorizontalScrollContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eHorizontalRightSpacer"></div>\n        </div>\n        <ag-overlay-wrapper ref="overlayWrapper"></ag-overlay-wrapper>\n    </div>',Zo=function(e){function n(){var t=e.call(this,Yo)||this;return t.scrollLeft=-1,t.scrollTop=-1,t.resetLastHorizontalScrollElementDebounce=de.debounce(t.resetLastHorizontalScrollElement.bind(t),500),t}return Ko(n,e),n.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},n.prototype.getHScrollPosition=function(){return{left:this.eCenterViewport.scrollLeft,right:this.eCenterViewport.scrollLeft+this.eCenterViewport.offsetWidth}},n.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},n.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),t=this.gridOptionsWrapper.isSuppressNoRowsOverlay();this[e&&!t?"showNoRowsOverlay":"hideOverlay"]()},n.prototype.onNewColumnsLoaded=function(){this.columnController.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay()},n.prototype.init=function(){var e=this;this.scrollWidth=this.gridOptionsWrapper.getScrollbarWidth(),this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===ie.DOM_LAYOUT_PRINT,this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.gridOptionsWrapper.addLayoutElement(this.eBodyViewport),this.suppressScrollOnFloatingRow(),this.setupRowAnimationCssClass(),this.buildRowContainerComponents(),this.addEventListeners(),this.addDragListeners(),this.addScrollListener(),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.disableBrowserDragging(),this.addMouseListeners(),this.addKeyboardEvents(),this.addBodyViewportListener(),this.addStopEditingWhenGridLosesFocus(),this.mockContextMenuForIPad(),this.addRowDragListener(),this.$scope&&this.addAngularApplyCheck(),this.onDisplayedColumnsWidthChanged(),this.gridApi.registerGridComp(this),this.alignedGridsService.registerGridComp(this),this.headerRootComp.registerGridComp(this),this.navigationService.registerGridComp(this),this.heightScaler.registerGridComp(this),this.autoHeightCalculator.registerGridComp(this),this.columnAnimationService.registerGridComp(this),this.autoWidthCalculator.registerGridComp(this),this.paginationAutoPageSizeService.registerGridComp(this),this.beans.registerGridComp(this),this.rowRenderer.registerGridComp(this),this.rangeController&&this.rangeController.registerGridComp(this),[this.eCenterViewport,this.eBodyViewport].forEach((function(t){var n=e.resizeObserverService.observeResize(t,e.onCenterViewportResized.bind(e));e.addDestroyFunc((function(){return n()}))}))},n.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===ie.DOM_LAYOUT_PRINT;this.printLayout!==e&&(this.printLayout=e,this.setWidthsOfContainers(),this.setPinnedContainerSize())},n.prototype.onCenterViewportResized=function(){de.isVisible(this.eCenterViewport)?this.checkViewportAndScrolls():this.bodyHeight=0},n.prototype.setColumnMovingCss=function(e){this.addOrRemoveCssClass("ag-column-moving",e)},n.prototype.setCellTextSelection=function(e){void 0===e&&(e=!1),[this.eTop,this.eBodyViewport,this.eBottom].forEach((function(t){return de.addOrRemoveCssClass(t,"ag-selectable",e)}))},n.prototype.addRowDragListener=function(){var e=new qo(this.eBodyViewport,this);this.getContext().wireBean(e),this.dragAndDropService.addDropTarget(e)},n.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsWrapper.isStopEditingWhenGridLosesFocus()){var t=function(t){for(var n=!1,r=t.relatedTarget;de.exists(r)&&!n;)n=!!e.gridOptionsWrapper.getDomData(r,Lr.DOM_KEY_POPUP_EDITOR_WRAPPER)||e.eBodyViewport===r||e.eBottom===r||e.eTop===r,r=r.parentNode;n||e.rowRenderer.stopEditing()};this.addDestroyableEventListener(this.eBodyViewport,"focusout",t),this.addDestroyableEventListener(this.eTop,"focusout",t),this.addDestroyableEventListener(this.eBottom,"focusout",t)}},n.prototype.addAngularApplyCheck=function(){var e=this,t=!1,n=function(){t||(t=!0,window.setTimeout((function(){t=!1,e.$scope.$apply()}),0))};this.addDestroyableEventListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addDestroyableEventListener(this.eventService,xe.EVENT_VIRTUAL_COLUMNS_CHANGED,n)},n.prototype.disableBrowserDragging=function(){this.addGuiEventListener("dragstart",(function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}))},n.prototype.addEventListeners=function(){this.addDestroyableEventListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addDestroyableEventListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.addDestroyableEventListener(this.eventService,xe.EVENT_PINNED_ROW_DATA_CHANGED,this.setHeaderAndFloatingHeights.bind(this)),this.addDestroyableEventListener(this.eventService,xe.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addDestroyableEventListener(this.eventService,xe.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addDestroyableEventListener(this.eventService,xe.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,Ue.PROP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,Ue.PROP_PIVOT_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,Ue.PROP_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,Ue.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,Ue.PROP_FLOATING_FILTERS_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,Ue.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this))},n.prototype.addDragListeners=function(){var e=this;this.gridOptionsWrapper.isEnableRangeSelection()&&!de.missing(this.rangeController)&&[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom].forEach((function(t){var n={eElement:t,onDragStart:e.rangeController.onDragStart.bind(e.rangeController),onDragStop:e.rangeController.onDragStop.bind(e.rangeController),onDragging:e.rangeController.onDragging.bind(e.rangeController)};e.dragService.addDragSource(n),e.addDestroyFunc((function(){return e.dragService.removeDragSource(n)}))}))},n.prototype.addMouseListeners=function(){var e=this;["click","mousedown","dblclick","contextmenu","mouseover","mouseout"].forEach((function(t){var n=e.processMouseEvent.bind(e,t);e.eAllCellContainers.forEach((function(r){return e.addDestroyableEventListener(r,t,n)}))}))},n.prototype.addKeyboardEvents=function(){var e=this;["keydown","keypress"].forEach((function(t){var n=e.processKeyboardEvent.bind(e,t);e.eAllCellContainers.forEach((function(r){e.addDestroyableEventListener(r,t,n)}))}))},n.prototype.addBodyViewportListener=function(){var e=this;this.addDestroyableEventListener(this.eBodyViewport,"contextmenu",(function(t){var n=de.getTarget(t);n!==e.eBodyViewport&&n!==e.eCenterViewport||(e.onContextMenu(t,null,null,null,null),e.preventDefaultOnContextMenu(t))}))},n.prototype.getBodyClientRect=function(){if(this.eBodyViewport)return this.eBodyViewport.getBoundingClientRect()},n.prototype.getRowForEvent=function(e){for(var t=de.getTarget(e);t;){var n=this.gridOptionsWrapper.getDomData(t,Ur.DOM_DATA_KEY_RENDERED_ROW);if(n)return n;t=t.parentElement}return null},n.prototype.processKeyboardEvent=function(e,t){var n=de.getCellCompForEvent(this.gridOptionsWrapper,t);if(n){var r=n.getRenderedRow().getRowNode(),o=n.getColumn(),i=n.isEditing();if(!de.isUserSuppressingKeyboardEvent(this.gridOptionsWrapper,t,r,o,i))switch(e){case"keydown":!i&&this.navigationService.handlePageScrollingKey(t)||n.onKeyDown(t),this.doClipboardOperations(t,n);break;case"keypress":n.onKeyPress(t)}if("keydown"===e){var s=n.createEvent(t,xe.EVENT_CELL_KEY_DOWN);this.beans.eventService.dispatchEvent(s)}if("keypress"===e){var a=n.createEvent(t,xe.EVENT_CELL_KEY_PRESS);this.beans.eventService.dispatchEvent(a)}}},n.prototype.doClipboardOperations=function(e,t){if((e.ctrlKey||e.metaKey)&&!t.isEditing()&&this.mouseEventService.isEventFromThisGrid(e))switch(e.which){case ie.KEY_A:return this.onCtrlAndA(e);case ie.KEY_C:return this.onCtrlAndC(e);case ie.KEY_V:return this.onCtrlAndV();case ie.KEY_D:return this.onCtrlAndD(e)}},n.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},n.prototype.processMouseEvent=function(e,t){if(this.mouseEventService.isEventFromThisGrid(t)&&!de.isStopPropagationForAgGrid(t)){var n=this.getRowForEvent(t),r=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?this.handleContextMenuMouseEvent(t,null,n,r):(r&&r.onMouseEvent(e,t),n&&n.onMouseEvent(e,t)),this.preventDefaultOnContextMenu(t)}},n.prototype.mockContextMenuForIPad=function(){var e=this;de.isIOSUserAgent()&&this.eAllCellContainers.forEach((function(t){var n=new Pt(t);e.addDestroyableEventListener(n,Pt.EVENT_LONG_TAP,(function(t){var n=e.getRowForEvent(t.touchEvent),r=e.mouseEventService.getRenderedCellForEvent(t.touchEvent);e.handleContextMenuMouseEvent(null,t.touchEvent,n,r)})),e.addDestroyFunc((function(){return n.destroy()}))}))},n.prototype.handleContextMenuMouseEvent=function(e,t,n,r){var o=n?n.getRowNode():null,i=r?r.getColumn():null,s=null;i&&(r.dispatchCellContextMenuEvent(e||t),s=this.valueService.getValue(i,o)),this.onContextMenu(e,t,o,i,s)},n.prototype.onContextMenu=function(e,t,n,r,o){!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()&&e&&(e.ctrlKey||e.metaKey)||this.contextMenuFactory&&!this.gridOptionsWrapper.isSuppressContextMenu()&&(this.contextMenuFactory.showMenu(n,r,o,e||t.touches[0]),(e||t).preventDefault())},n.prototype.preventDefaultOnContextMenu=function(e){var t=this.gridOptionsWrapper,n=e.which;(t.isPreventDefaultOnContextMenu()||t.isSuppressMiddleClickScrolls()&&2===n)&&e.preventDefault()},n.prototype.onCtrlAndA=function(e){var t=this.columnController,n=this.pinnedRowModel,r=this.rangeController,o=ie.PINNED_BOTTOM,i=ie.PINNED_TOP;if(r&&this.paginationProxy.isRowsToRender()){var s=[n.isEmpty(i),n.isEmpty(o)],a=s[0]?null:i,l=void 0,u=void 0;s[1]?(l=null,u=this.paginationProxy.getRowCount()-1):(l=o,u=n.getPinnedBottomRowData().length-1);var c=t.getAllDisplayedColumns();if(de.missingOrEmpty(c))return;r.setCellRange({rowStartIndex:0,rowStartPinned:a,rowEndIndex:u,rowEndPinned:l,columnStart:c[0],columnEnd:de.last(c)})}e.preventDefault()},n.prototype.onCtrlAndC=function(e){if(this.clipboardService&&!this.gridOptionsWrapper.isEnableCellTextSelection()){var t=this.focusedCellController.getFocusedCell();this.clipboardService.copyToClipboard(),e.preventDefault(),t&&this.focusedCellController.setFocusedCell(t.rowIndex,t.column,t.rowPinned,!0)}},n.prototype.onCtrlAndV=function(){De.isRegistered(t.ModuleNames.ClipboardModule)&&this.clipboardService.pasteFromClipboard()},n.prototype.onCtrlAndD=function(e){De.isRegistered(t.ModuleNames.ClipboardModule)&&(this.clipboardService.copyRangeDown(),e.preventDefault())},n.prototype.ensureIndexVisible=function(e,t){if(!this.printLayout){var n=this.paginationProxy.getRowCount();if("number"!=typeof e||e<0||e>=n)console.warn("invalid row index for ensureIndexVisible: "+e);else{this.paginationProxy.goToPageWithIndex(e);var r,o=this.paginationProxy.getRow(e);do{var i=o.rowTop,s=o.rowHeight,a=this.paginationProxy.getPixelOffset(),l=o.rowTop-a,u=l+o.rowHeight,c=this.getVScrollPosition(),p=this.heightScaler.getOffset(),d=c.top+p,h=c.bottom+p,f=h-d,g=this.heightScaler.getScrollPositionForPixel(l),v=this.heightScaler.getScrollPositionForPixel(u-f),y=Math.min((g+v)/2,l),m=null;"top"===t?m=g:"bottom"===t?m=v:"middle"===t?m=y:d>l?m=g:h<u&&(m=v),null!==m&&(this.eBodyViewport.scrollTop=m,this.rowRenderer.redrawAfterScroll()),r=i!==o.rowTop||s!==o.rowHeight}while(r);this.animationFrameService.flushAllFrames()}}},n.prototype.getCenterWidth=function(){return this.eCenterViewport.clientWidth},n.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return de.addOrRemoveCssClass(this.eBodyViewport,"ag-force-vertical-scroll",e),e||de.isVerticalScrollShowing(this.eBodyViewport)},n.prototype.isHorizontalScrollShowing=function(){return de.isHorizontalScrollShowing(this.eCenterViewport)},n.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.setPinnedContainerSize(),this.scrollLeft!==this.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.eCenterViewport)},n.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},n.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:!1,verticalScrollShowing:!1};e.verticalScrollShowing=this.isVerticalScrollShowing(),e.horizontalScrollShowing=this.isHorizontalScrollShowing(),this.scrollVisibleService.setScrollsVisible(e),this.setHorizontalScrollVisible(e.horizontalScrollShowing),this.setVerticalScrollPaddingVisible(e.verticalScrollShowing)},n.prototype.setHorizontalScrollVisible=function(e){var t=this.gridOptionsWrapper.isSuppressHorizontalScroll(),n=e&&this.gridOptionsWrapper.getScrollbarWidth()||0,r=t?0:n,o=de.isBrowserIE()&&e;this.eCenterViewport.style.height="calc(100% + "+n+"px)",de.setFixedHeight(this.eHorizontalScrollBody,r),de.setFixedHeight(this.eBodyHorizontalScrollViewport,r+(o?1:0)),de.setFixedHeight(this.eBodyHorizontalScrollContainer,r)},n.prototype.setVerticalScrollPaddingVisible=function(e){this.eTop.style.overflowY=this.eBottom.style.overflowY=e?"scroll":"hidden",this.setFakeHScrollSpacerWidths()},n.prototype.updateRowCount=function(){var e=(this.headerRootComp.getHeaderRowCount()+this.paginationProxy.getRowCount()).toString();this.getGui().setAttribute("aria-rowcount",e)},n.prototype.ensureColumnVisible=function(e){var t=this.columnController.getGridColumn(e);if(t)if(t.isPinned())console.warn("calling ensureIndexVisible on a "+t.getPinned()+" pinned column doesn't make sense for column "+t.getColId());else if(this.columnController.isColumnDisplayed(t)){var n,r,o=t.getLeft(),i=o+t.getActualWidth(),s=this.eCenterViewport.clientWidth,a=this.getCenterViewportScrollLeft(),l=this.columnController.getBodyContainerWidth();this.enableRtl?(n=l-a-s,r=l-a):(n=a,r=s+a);var u=n>o,c=r<i,p=s<t.getActualWidth(),d=u||p,h=c;this.getCenterViewportScrollLeft(),(d||h)&&this.setCenterViewportScrollLeft(this.enableRtl?d?l-s-o:l-i:d?o:i-s),this.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}else console.warn("column is not currently visible")},n.prototype.showLoadingOverlay=function(){this.gridOptionsWrapper.isSuppressLoadingOverlay()||this.overlayWrapper.showLoadingOverlay()},n.prototype.showNoRowsOverlay=function(){this.gridOptionsWrapper.isSuppressNoRowsOverlay()||this.overlayWrapper.showNoRowsOverlay()},n.prototype.hideOverlay=function(){this.overlayWrapper.hideOverlay()},n.prototype.sizeColumnsToFit=function(e){var t=this,n=this.eBodyViewport.clientWidth;n>0?this.columnController.sizeColumnsToFit(n,"sizeColumnsToFit"):void 0===e?window.setTimeout((function(){t.sizeColumnsToFit(100)}),0):100===e?window.setTimeout((function(){t.sizeColumnsToFit(500)}),100):500===e?window.setTimeout((function(){t.sizeColumnsToFit(-1)}),500):console.warn("ag-Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},n.prototype.getCenterContainer=function(){return this.eCenterContainer},n.prototype.getDropTargetBodyContainers=function(){return[this.eCenterViewport,this.eTopViewport,this.eBottomViewport]},n.prototype.getDropTargetLeftContainers=function(){return[this.eLeftContainer,this.eLeftBottom,this.eLeftTop]},n.prototype.getDropTargetRightContainers=function(){return[this.eRightContainer,this.eRightBottom,this.eRightTop]},n.prototype.buildRowContainerComponents=function(){var e=this;this.eAllCellContainers=[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom,this.eFullWidthContainer],this.rowContainerComponents={body:new jo({eContainer:this.eCenterContainer,eWrapper:this.eCenterColsClipper,eViewport:this.eBodyViewport}),fullWidth:new jo({eContainer:this.eFullWidthContainer}),pinnedLeft:new jo({eContainer:this.eLeftContainer}),pinnedRight:new jo({eContainer:this.eRightContainer}),floatingTop:new jo({eContainer:this.eTopContainer}),floatingTopPinnedLeft:new jo({eContainer:this.eLeftTop}),floatingTopPinnedRight:new jo({eContainer:this.eRightTop}),floatingTopFullWidth:new jo({eContainer:this.eTopFullWidthContainer,hideWhenNoChildren:!0}),floatingBottom:new jo({eContainer:this.eBottomContainer}),floatingBottomPinnedLeft:new jo({eContainer:this.eLeftBottom}),floatingBottomPinnedRight:new jo({eContainer:this.eRightBottom}),floatingBottomFullWith:new jo({eContainer:this.eBottomFullWidthContainer,hideWhenNoChildren:!0})},de.iterateObject(this.rowContainerComponents,(function(t,n){n&&e.getContext().wireBean(n)}))},n.prototype.setupRowAnimationCssClass=function(){var e=this,t=function(){var t=e.gridOptionsWrapper.isAnimateRows()&&!e.heightScaler.isScaling();de.addOrRemoveCssClass(e.eBodyViewport,"ag-row-animation",t),de.addOrRemoveCssClass(e.eBodyViewport,"ag-row-no-animation",!t)};t(),this.addDestroyableEventListener(this.eventService,xe.EVENT_HEIGHT_SCALE_CHANGED,t)},n.prototype.suppressScrollOnFloatingRow=function(){var e=this;this.addDestroyableEventListener(this.eTopViewport,"scroll",(function(){return e.eTopViewport.scrollLeft=0})),this.addDestroyableEventListener(this.eBottomViewport,"scroll",(function(){return e.eTopViewport.scrollLeft=0}))},n.prototype.getRowContainers=function(){return this.rowContainerComponents},n.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},n.prototype.onDisplayedColumnsChanged=function(){this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService()},n.prototype.onDisplayedColumnsWidthChanged=function(){this.setWidthsOfContainers(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService(),this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},n.prototype.setWidthsOfContainers=function(){this.setCenterWidth(),this.setPinnedContainerSize()},n.prototype.setCenterWidth=function(){var e=this.columnController.getBodyContainerWidth();this.printLayout&&(e+=this.columnController.getPinnedLeftContainerWidth()+this.columnController.getPinnedRightContainerWidth()),this.headerRootComp.setHeaderContainerWidth(e);var t=e+"px";this.eCenterContainer.style.width=t,this.eBottomContainer.style.width=t,this.eTopContainer.style.width=t,this.printLayout||(this.eBodyHorizontalScrollContainer.style.width=t)},n.prototype.setPinnedLeftWidth=function(){var e=this,t=this.pinningLeft,n=this.columnController.getPinnedLeftContainerWidth(),r=this.pinningLeft=!this.printLayout&&n>0,o=[this.eLeftContainer,this.eLeftTop,this.eLeftBottom];t!==r&&this.headerRootComp.setLeftVisible(r),o.forEach((function(t){return de.setDisplayed(t,e.pinningLeft)})),r&&o.forEach((function(e){return de.setFixedWidth(e,n)}))},n.prototype.setPinnedRightWidth=function(){var e=this.pinningRight,t=this.columnController.getPinnedRightContainerWidth(),n=this.pinningRight=!this.printLayout&&t>0,r=[this.eRightContainer,this.eRightTop,this.eRightBottom];e!==n&&this.headerRootComp.setRightVisible(n),r.forEach((function(e){return de.setDisplayed(e,n)})),n&&r.forEach((function(e){return de.setFixedWidth(e,t)}))},n.prototype.setPinnedContainerSize=function(){this.setPinnedLeftWidth(),this.setPinnedRightWidth(),this.setFakeHScrollSpacerWidths()},n.prototype.setFakeHScrollSpacerWidths=function(){var e=this.columnController.getPinnedRightContainerWidth();!this.enableRtl&&this.isVerticalScrollShowing()&&(e+=this.scrollWidth),de.setFixedWidth(this.eHorizontalRightSpacer,e),de.addOrRemoveCssClass(this.eHorizontalRightSpacer,"ag-scroller-corner",e<=this.scrollWidth);var t=this.columnController.getPinnedLeftContainerWidth();this.enableRtl&&this.isVerticalScrollShowing()&&(t+=this.scrollWidth),de.setFixedWidth(this.eHorizontalLeftSpacer,t),de.addOrRemoveCssClass(this.eHorizontalLeftSpacer,"ag-scroller-corner",t<=this.scrollWidth)},n.prototype.checkBodyHeight=function(){var e=this.eBodyViewport.clientHeight;this.bodyHeight!==e&&(this.bodyHeight=e,this.eventService.dispatchEvent({type:xe.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},n.prototype.setHeaderAndFloatingHeights=function(){var e,t,n,r=this,o=r.columnController,i=r.gridOptionsWrapper,s=r.pinnedRowModel,a=r.eTop,l=r.eBottom,u=0,c=o.getHeaderRowCount();o.isPivotMode()?(u=0,t=i.getPivotGroupHeaderHeight(),n=i.getPivotHeaderHeight()):(i.isFloatingFilter()&&c++,u=i.isFloatingFilter()?1:0,t=i.getGroupHeaderHeight(),n=i.getHeaderHeight());var p=c-(1+u);e=u*i.getFloatingFiltersHeight(),e+=p*t,this.headerRootComp.setHeight(e+=n);var d=s.getPinnedTopTotalHeight();d&&(d+=1);var h=s.getPinnedBottomTotalHeight();h&&(h+=1);var f=d+"px",g=h+"px";a.style.minHeight=f,a.style.height=f,a.style.display=d?"inherit":"none",l.style.minHeight=g,l.style.height=g,l.style.display=h?"inherit":"none",this.checkBodyHeight()},n.prototype.getBodyHeight=function(){return this.bodyHeight},n.prototype.setHorizontalScrollPosition=function(e){this.eCenterViewport.scrollLeft=e,this.doHorizontalScroll(e)},n.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},n.prototype.scrollHorizontally=function(e){var t=this.eCenterViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.eCenterViewport.scrollLeft-t},n.prototype.scrollVertically=function(e){var t=this.eBodyViewport.scrollTop;return this.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t},n.prototype.addScrollListener=function(){this.addDestroyableEventListener(this.eCenterViewport,"scroll",this.onCenterViewportScroll.bind(this)),this.addDestroyableEventListener(this.eBodyHorizontalScrollViewport,"scroll",this.onFakeHorizontalScroll.bind(this)),this.addDestroyableEventListener(this.eBodyViewport,"scroll",this.onVerticalScroll.bind(this))},n.prototype.onVerticalScroll=function(){var e=this.eBodyViewport.scrollTop;this.animationFrameService.setScrollTop(e),this.scrollTop=e,this.redrawRowsAfterScroll()},n.prototype.isControllingScroll=function(e){return this.lastHorizontalScrollElement?e===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=e,!0)},n.prototype.onFakeHorizontalScroll=function(){this.isControllingScroll(this.eBodyHorizontalScrollViewport)&&this.onBodyHorizontalScroll(this.eBodyHorizontalScrollViewport)},n.prototype.onCenterViewportScroll=function(){this.isControllingScroll(this.eCenterViewport)&&this.onBodyHorizontalScroll(this.eCenterViewport)},n.prototype.onBodyHorizontalScroll=function(e){var t=this.eCenterViewport,n=t.scrollWidth,r=t.clientWidth,o=Math.floor(de.getScrollLeft(e,this.enableRtl));o<0||o+r>n||(this.doHorizontalScroll(o),this.resetLastHorizontalScrollElementDebounce())},n.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},n.prototype.doHorizontalScroll=function(e){this.scrollLeft=e,this.eventService.dispatchEvent({type:xe.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:"horizontal",left:this.scrollLeft,top:this.scrollTop}),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.onHorizontalViewportChanged()},n.prototype.redrawRowsAfterScroll=function(){this.eventService.dispatchEvent({type:xe.EVENT_BODY_SCROLL,direction:"vertical",api:this.gridApi,columnApi:this.columnApi,left:this.scrollLeft,top:this.scrollTop})},n.prototype.onHorizontalViewportChanged=function(){var e=this.eCenterViewport.clientWidth,t=this.getCenterViewportScrollLeft();this.columnController.setVirtualViewportPosition(e,t)},n.prototype.getCenterViewportScrollLeft=function(){return de.getScrollLeft(this.eCenterViewport,this.enableRtl)},n.prototype.setCenterViewportScrollLeft=function(e){de.setScrollLeft(this.eCenterViewport,e,this.enableRtl)},n.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){void 0===e&&(e=this.getCenterViewportScrollLeft());var t=this.enableRtl?e:-e,n=this.eCenterViewport,r=n.clientWidth,o=n.scrollWidth;Math.abs(t)+r>o||this.enableRtl&&t<0||!this.enableRtl&&t>0||(this.headerRootComp.setHorizontalScroll(t),this.eBottomContainer.style.transform="translateX("+t+"px)",this.eTopContainer.style.transform="translateX("+t+"px)",de.setScrollLeft(this.lastHorizontalScrollElement===this.eCenterViewport?this.eBodyHorizontalScrollViewport:this.eCenterViewport,e,this.enableRtl))},n.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e)},n.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},Qo([be("alignedGridsService")],n.prototype,"alignedGridsService",void 0),Qo([be("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),Qo([be("columnController")],n.prototype,"columnController",void 0),Qo([be("rowRenderer")],n.prototype,"rowRenderer",void 0),Qo([be("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),Qo([be("eventService")],n.prototype,"eventService",void 0),Qo([be("animationFrameService")],n.prototype,"animationFrameService",void 0),Qo([be("navigationService")],n.prototype,"navigationService",void 0),Qo([be("autoHeightCalculator")],n.prototype,"autoHeightCalculator",void 0),Qo([be("columnAnimationService")],n.prototype,"columnAnimationService",void 0),Qo([be("autoWidthCalculator")],n.prototype,"autoWidthCalculator",void 0),Qo([be("paginationAutoPageSizeService")],n.prototype,"paginationAutoPageSizeService",void 0),Qo([be("beans")],n.prototype,"beans",void 0),Qo([be("paginationProxy")],n.prototype,"paginationProxy",void 0),Qo([be("columnApi")],n.prototype,"columnApi",void 0),Qo([be("gridApi")],n.prototype,"gridApi",void 0),Qo([be("dragService")],n.prototype,"dragService",void 0),Qo([be("mouseEventService")],n.prototype,"mouseEventService",void 0),Qo([be("focusedCellController")],n.prototype,"focusedCellController",void 0),Qo([be("$scope")],n.prototype,"$scope",void 0),Qo([be("scrollVisibleService")],n.prototype,"scrollVisibleService",void 0),Qo([be("valueService")],n.prototype,"valueService",void 0),Qo([be("dragAndDropService")],n.prototype,"dragAndDropService",void 0),Qo([be("maxDivHeightScaler")],n.prototype,"heightScaler",void 0),Qo([be("resizeObserverService")],n.prototype,"resizeObserverService",void 0),Qo([Ee("rangeController")],n.prototype,"rangeController",void 0),Qo([Ee("contextMenuFactory")],n.prototype,"contextMenuFactory",void 0),Qo([Ee("clipboardService")],n.prototype,"clipboardService",void 0),Qo([Xe("eBodyViewport")],n.prototype,"eBodyViewport",void 0),Qo([Xe("eCenterContainer")],n.prototype,"eCenterContainer",void 0),Qo([Xe("eCenterViewport")],n.prototype,"eCenterViewport",void 0),Qo([Xe("eLeftContainer")],n.prototype,"eLeftContainer",void 0),Qo([Xe("eRightContainer")],n.prototype,"eRightContainer",void 0),Qo([Xe("eCenterColsClipper")],n.prototype,"eCenterColsClipper",void 0),Qo([Xe("eHorizontalScrollBody")],n.prototype,"eHorizontalScrollBody",void 0),Qo([Xe("eHorizontalLeftSpacer")],n.prototype,"eHorizontalLeftSpacer",void 0),Qo([Xe("eHorizontalRightSpacer")],n.prototype,"eHorizontalRightSpacer",void 0),Qo([Xe("eBodyHorizontalScrollViewport")],n.prototype,"eBodyHorizontalScrollViewport",void 0),Qo([Xe("eBodyHorizontalScrollContainer")],n.prototype,"eBodyHorizontalScrollContainer",void 0),Qo([Xe("eFullWidthContainer")],n.prototype,"eFullWidthContainer",void 0),Qo([Xe("eTop")],n.prototype,"eTop",void 0),Qo([Xe("eLeftTop")],n.prototype,"eLeftTop",void 0),Qo([Xe("eRightTop")],n.prototype,"eRightTop",void 0),Qo([Xe("eTopContainer")],n.prototype,"eTopContainer",void 0),Qo([Xe("eTopViewport")],n.prototype,"eTopViewport",void 0),Qo([Xe("eTopFullWidthContainer")],n.prototype,"eTopFullWidthContainer",void 0),Qo([Xe("eBottom")],n.prototype,"eBottom",void 0),Qo([Xe("eLeftBottom")],n.prototype,"eLeftBottom",void 0),Qo([Xe("eRightBottom")],n.prototype,"eRightBottom",void 0),Qo([Xe("eBottomContainer")],n.prototype,"eBottomContainer",void 0),Qo([Xe("eBottomViewport")],n.prototype,"eBottomViewport",void 0),Qo([Xe("eBottomFullWidthContainer")],n.prototype,"eBottomFullWidthContainer",void 0),Qo([Xe("headerRoot")],n.prototype,"headerRootComp",void 0),Qo([Xe("overlayWrapper")],n.prototype,"overlayWrapper",void 0),Qo([me],n.prototype,"init",null),n}(Qe),Xo=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},$o=function(){function e(){this.detailGridInfoMap={}}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.registerGridCore=function(e){this.gridCore=e},e.prototype.registerHeaderRootComp=function(e){this.headerRootComp=e},e.prototype.init=function(){switch(this.rowModel.getType()){case ie.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case ie.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case ie.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}},e.prototype.__getAlignedGridService=function(){return this.alignedGridsService},e.prototype.addDetailGridInfo=function(e,t){this.detailGridInfoMap[e]=t},e.prototype.removeDetailGridInfo=function(e){this.detailGridInfoMap[e]=void 0},e.prototype.getDetailGridInfo=function(e){return this.detailGridInfoMap[e]},e.prototype.forEachDetailGridInfo=function(e){var t=0;de.iterateObject(this.detailGridInfoMap,(function(n,r){de.exists(r)&&(e(r,t),t++)}))},e.prototype.getDataAsCsv=function(e){if(De.assertRegistered(t.ModuleNames.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(e)},e.prototype.exportDataAsCsv=function(e){De.assertRegistered(t.ModuleNames.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(e)},e.prototype.getDataAsExcel=function(e){if(De.assertRegistered(t.ModuleNames.ExcelExportModule,"api.getDataAsExcel"))return this.excelCreator.getDataAsExcelXml(e)},e.prototype.exportDataAsExcel=function(e){De.assertRegistered(t.ModuleNames.ExcelExportModule,"api.exportDataAsExcel")&&this.excelCreator.exportDataAsExcel(e)},e.prototype.setEnterpriseDatasource=function(e){console.warn("ag-grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(e)},e.prototype.setServerSideDatasource=function(e){this.gridOptionsWrapper.isRowModelServerSide()?this.rowModel.setDatasource(e):console.warn("ag-Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+ie.ROW_MODEL_TYPE_SERVER_SIDE+"'")},e.prototype.setDatasource=function(e){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(e):console.warn("ag-Grid: you can only use a datasource when gridOptions.rowModelType is '"+ie.ROW_MODEL_TYPE_INFINITE+"'")},e.prototype.setViewportDatasource=function(e){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(e):console.warn("ag-Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+ie.ROW_MODEL_TYPE_VIEWPORT+"'")},e.prototype.setRowData=function(e){if(this.gridOptionsWrapper.isRowModelDefault())if(this.gridOptionsWrapper.isDeltaRowDataMode()){var t=this.immutableService.createTransactionForRowData(e);this.clientSideRowModel.updateRowData(t[0],t[1]),this.rowRenderer.refreshFullWidthRows()}else this.selectionController.reset(),this.clientSideRowModel.setRowData(e);else console.warn("cannot call setRowData unless using normal row model")},e.prototype.setFloatingTopRowData=function(e){console.warn("ag-Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(e)},e.prototype.setFloatingBottomRowData=function(e){console.warn("ag-Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(e)},e.prototype.getFloatingTopRowCount=function(){return console.warn("ag-Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},e.prototype.getFloatingBottomRowCount=function(){return console.warn("ag-Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},e.prototype.getFloatingTopRow=function(e){return console.warn("ag-Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(e)},e.prototype.getFloatingBottomRow=function(e){return console.warn("ag-Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(e)},e.prototype.setPinnedTopRowData=function(e){this.pinnedRowModel.setPinnedTopRowData(e)},e.prototype.setPinnedBottomRowData=function(e){this.pinnedRowModel.setPinnedBottomRowData(e)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},e.prototype.getPinnedTopRow=function(e){return this.pinnedRowModel.getPinnedTopRow(e)},e.prototype.getPinnedBottomRow=function(e){return this.pinnedRowModel.getPinnedBottomRow(e)},e.prototype.setColumnDefs=function(e,t){void 0===t&&(t="api"),this.columnController.setColumnDefs(e,t)},e.prototype.expireValueCache=function(){this.valueCache.expire()},e.prototype.getVerticalPixelRange=function(){return this.gridPanel.getVScrollPosition()},e.prototype.getHorizontalPixelRange=function(){return this.gridPanel.getHScrollPosition()},e.prototype.setAlwaysShowVerticalScroll=function(e){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",e)},e.prototype.refreshToolPanel=function(){this.gridCore.refreshSideBar()},e.prototype.refreshCells=function(e){void 0===e&&(e={}),Array.isArray(e)?console.warn("since ag-Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(e)},e.prototype.flashCells=function(e){void 0===e&&(e={}),this.rowRenderer.flashCells(e)},e.prototype.redrawRows=function(e){void 0===e&&(e={}),e&&e.rowNodes?this.rowRenderer.redrawRows(e.rowNodes):this.rowRenderer.redrawAfterModelUpdate()},e.prototype.timeFullRedraw=function(e){void 0===e&&(e=1);var t=0,n=0,r=0,o=this;!function i(){var s=(new Date).getTime();o.rowRenderer.redrawAfterModelUpdate();var a=(new Date).getTime();window.setTimeout((function(){var o=(new Date).getTime(),l=a-s,u=o-a;console.log("duration:  processing = "+l+"ms, reflow = "+u+"ms"),n+=l,r+=u,++t<e?window.setTimeout(i,1e3):(console.log("tests complete. iteration count = "+t),console.log("average processing = "+n/t+"ms"),console.log("average reflow = "+r/t+"ms"))}),0)}()},e.prototype.refreshView=function(){console.warn("ag-Grid: since v11.1, refreshView() is deprecated, please call refreshCells() or redrawRows() instead"),this.redrawRows()},e.prototype.refreshRows=function(e){console.warn("since ag-Grid v11.1, refreshRows() is deprecated, please use refreshCells({rowNodes: rows}) or redrawRows({rowNodes: rows}) instead"),this.refreshCells({rowNodes:e})},e.prototype.rowDataChanged=function(e){console.warn("ag-Grid: rowDataChanged is deprecated, either call refreshView() to refresh everything, or call rowNode.setRowData(newData) to set value on a particular node"),this.redrawRows()},e.prototype.softRefreshView=function(){console.error("ag-Grid: since v16, softRefreshView() is no longer supported. Please check the documentation on how to refresh.")},e.prototype.refreshGroupRows=function(){console.warn("ag-Grid: since v11.1, refreshGroupRows() is no longer supported, call refreshCells() instead. Because refreshCells() now does dirty checking, it will only refresh cells that have changed, so it should not be necessary to only refresh the group rows."),this.refreshCells()},e.prototype.setFunctionsReadOnly=function(e){this.gridOptionsWrapper.setProperty("functionsReadOnly",e)},e.prototype.refreshHeader=function(){this.headerRootComp.refreshHeader(),this.gridPanel.setHeaderAndFloatingHeights()},e.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},e.prototype.isAdvancedFilterPresent=function(){return console.warn("ag-Grid: isAdvancedFilterPresent() is deprecated, please use isColumnFilterPresent()"),this.isColumnFilterPresent()},e.prototype.isColumnFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},e.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},e.prototype.getModel=function(){return this.rowModel},e.prototype.setRowNodeExpanded=function(e,t){e&&e.setExpanded(t)},e.prototype.onGroupExpandedOrCollapsed=function(e){de.missing(this.clientSideRowModel)&&console.warn("ag-Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),de.exists(e)&&console.warn("ag-Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:ie.STEP_MAP})},e.prototype.refreshInMemoryRowModel=function(e){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(e)},e.prototype.refreshClientSideRowModel=function(e){de.missing(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var t=ie.STEP_EVERYTHING,n={group:ie.STEP_EVERYTHING,filter:ie.STEP_FILTER,map:ie.STEP_MAP,aggregate:ie.STEP_AGGREGATE,sort:ie.STEP_SORT,pivot:ie.STEP_PIVOT};de.exists(e)&&(t=n[e]),de.missing(t)?console.error("ag-Grid: invalid step "+e+", available steps are "+Object.keys(n).join(", ")):this.clientSideRowModel.refreshModel({step:t,keepRenderedRows:!0,animate:!0,keepEditingRows:!0})},e.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},e.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},e.prototype.expandAll=function(){de.missing(this.clientSideRowModel)?console.warn("ag-Grid: cannot call expandAll unless using normal row model"):this.clientSideRowModel.expandOrCollapseAll(!0)},e.prototype.collapseAll=function(){de.missing(this.clientSideRowModel)?console.warn("ag-Grid: cannot call collapseAll unless using normal row model"):this.clientSideRowModel.expandOrCollapseAll(!1)},e.prototype.getToolPanelInstance=function(e){return this.gridCore.getToolPanelInstance(e)},e.prototype.addVirtualRowListener=function(e,t,n){"string"!=typeof e&&console.warn("ag-Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(e,t,n)},e.prototype.addRenderedRowListener=function(e,t,n){"virtualRowSelected"===e&&console.warn("ag-Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(e,t,n)},e.prototype.setQuickFilter=function(e){this.filterManager.setQuickFilter(e)},e.prototype.selectIndex=function(e,t,n){console.warn("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),n&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.selectIndex(e,t)},e.prototype.deselectIndex=function(e,t){void 0===t&&(t=!1),console.warn("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),t&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.deselectIndex(e)},e.prototype.selectNode=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),console.warn("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),n&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!0,clearSelection:!t})},e.prototype.deselectNode=function(e,t){void 0===t&&(t=!1),console.warn("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),t&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!1})},e.prototype.selectAll=function(){this.selectionController.selectAllRowNodes()},e.prototype.deselectAll=function(){this.selectionController.deselectAllRowNodes()},e.prototype.selectAllFiltered=function(){this.selectionController.selectAllRowNodes(!0)},e.prototype.deselectAllFiltered=function(){this.selectionController.deselectAllRowNodes(!0)},e.prototype.recomputeAggregates=function(){de.missing(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:ie.STEP_AGGREGATE})},e.prototype.sizeColumnsToFit=function(){this.gridPanel.sizeColumnsToFit()},e.prototype.showLoadingOverlay=function(){this.gridPanel.showLoadingOverlay()},e.prototype.showNoRowsOverlay=function(){this.gridPanel.showNoRowsOverlay()},e.prototype.hideOverlay=function(){this.gridPanel.hideOverlay()},e.prototype.isNodeSelected=function(e){return console.warn("ag-Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),e.isSelected()},e.prototype.getSelectedNodesById=function(){return console.error("ag-Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},e.prototype.getSelectedNodes=function(){return this.selectionController.getSelectedNodes()},e.prototype.getSelectedRows=function(){return this.selectionController.getSelectedRows()},e.prototype.getBestCostNodeSelection=function(){return this.selectionController.getBestCostNodeSelection()},e.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},e.prototype.ensureColIndexVisible=function(e){console.warn("ag-Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},e.prototype.ensureColumnVisible=function(e){this.gridPanel.ensureColumnVisible(e)},e.prototype.ensureIndexVisible=function(e,t){this.gridPanel.ensureIndexVisible(e,t)},e.prototype.ensureNodeVisible=function(e,t){this.gridCore.ensureNodeVisible(e,t)},e.prototype.forEachLeafNode=function(e){de.missing(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(e)},e.prototype.forEachNode=function(e){this.rowModel.forEachNode(e)},e.prototype.forEachNodeAfterFilter=function(e){de.missing(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(e)},e.prototype.forEachNodeAfterFilterAndSort=function(e){de.missing(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)},e.prototype.getFilterApiForColDef=function(e){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterApi instead"),this.getFilterInstance(e)},e.prototype.getFilterInstance=function(e){var t=this.columnController.getPrimaryColumn(e);if(t)return this.filterManager.getFilterComponent(t,"NO_UI").resolveNow(null,(function(e){return e}))},e.prototype.getFilterApi=function(e){return console.warn("ag-Grid: getFilterApi is deprecated, use getFilterInstance instead"),this.getFilterInstance(e)},e.prototype.destroyFilter=function(e){var t=this.columnController.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"filterDestroyed")},e.prototype.getStatusPanel=function(e){if(this.statusBarService)return this.statusBarService.getStatusPanel(e)},e.prototype.getColumnDef=function(e){var t=this.columnController.getPrimaryColumn(e);return t?t.getColDef():null},e.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},e.prototype.onSortChanged=function(){this.sortController.onSortChanged()},e.prototype.setSortModel=function(e,t){void 0===t&&(t="api"),this.sortController.setSortModel(e,t)},e.prototype.getSortModel=function(){return this.sortController.getSortModel()},e.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},e.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},e.prototype.getFocusedCell=function(){return this.focusedCellController.getFocusedCell()},e.prototype.clearFocusedCell=function(){return this.focusedCellController.clearFocusedCell()},e.prototype.setFocusedCell=function(e,t,n){this.focusedCellController.setFocusedCell(e,t,n,!0)},e.prototype.setSuppressRowDrag=function(e){this.gridOptionsWrapper.setProperty(Ue.PROP_SUPPRESS_ROW_DRAG,e)},e.prototype.setHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Ue.PROP_HEADER_HEIGHT,e),this.doLayout()},e.prototype.setGridAutoHeight=function(e){console.warn("api.setGridAutoHeight(boolean) is deprecated, please use api.setDomLayout() instead"),this.setDomLayout(e?"autoHeight":"normal")},e.prototype.setDomLayout=function(e){this.gridOptionsWrapper.setProperty(Ue.PROP_DOM_LAYOUT,e)},e.prototype.setEnableCellTextSelection=function(e){this.gridPanel.setCellTextSelection(e)},e.prototype.setGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Ue.PROP_GROUP_HEADER_HEIGHT,e),this.doLayout()},e.prototype.setFloatingFiltersHeight=function(e){this.gridOptionsWrapper.setProperty(Ue.PROP_FLOATING_FILTERS_HEIGHT,e),this.doLayout()},e.prototype.setPivotGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Ue.PROP_PIVOT_GROUP_HEADER_HEIGHT,e),this.doLayout()},e.prototype.setPivotHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Ue.PROP_PIVOT_HEADER_HEIGHT,e),this.doLayout()},e.prototype.isSideBarVisible=function(){return this.gridCore.isSideBarVisible()},e.prototype.setSideBarVisible=function(e){this.gridCore.setSideBarVisible(e)},e.prototype.setSideBarPosition=function(e){this.gridCore.setSideBarPosition(e)},e.prototype.showToolPanel=function(e){console.warn("ag-grid: from v19 api.showToolPanel has been deprecated in favour of api.setSideBarVisible"),this.setSideBarVisible(e)},e.prototype.openToolPanel=function(e){this.gridCore.openToolPanel(e)},e.prototype.closeToolPanel=function(){this.gridCore.closeToolPanel()},e.prototype.getOpenedToolPanel=function(){return this.gridCore.getOpenedToolPanel()},e.prototype.getSideBar=function(){return this.gridCore.getSideBar()},e.prototype.setSideBar=function(e){return this.gridCore.setSideBar(e)},e.prototype.setSuppressClipboardPaste=function(e){this.gridOptionsWrapper.setProperty(Ue.PROP_SUPPRESS_CLIPBOARD_PASTE,e)},e.prototype.isToolPanelShowing=function(){return this.gridCore.isToolPanelShowing()},e.prototype.doLayout=function(){this.gridPanel.checkViewportAndScrolls()},e.prototype.resetRowHeights=function(){de.exists(this.clientSideRowModel)&&this.clientSideRowModel.resetRowHeights()},e.prototype.setGroupRemoveSingleChildren=function(e){this.gridOptionsWrapper.setProperty(Ue.PROP_GROUP_REMOVE_SINGLE_CHILDREN,e)},e.prototype.setGroupRemoveLowestSingleChildren=function(e){this.gridOptionsWrapper.setProperty(Ue.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,e)},e.prototype.onRowHeightChanged=function(){de.exists(this.clientSideRowModel)&&this.clientSideRowModel.onRowHeightChanged()},e.prototype.getValue=function(e,t){var n=this.columnController.getPrimaryColumn(e);return de.missing(n)&&(n=this.columnController.getGridColumn(e)),de.missing(n)?null:this.valueService.getValue(n,t)},e.prototype.addEventListener=function(e,t){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(e,t,n)},e.prototype.addGlobalListener=function(e){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(e,t)},e.prototype.removeEventListener=function(e,t){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(e,t,n)},e.prototype.removeGlobalListener=function(e){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(e,t)},e.prototype.dispatchEvent=function(e){this.eventService.dispatchEvent(e)},e.prototype.destroy=function(){this.gridCore.destroy(),this.context.destroy()},e.prototype.resetQuickFilter=function(){this.rowModel.forEachNode((function(e){return e.quickFilterAggregateText=null}))},e.prototype.getRangeSelections=function(){return console.warn("ag-Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the ag-Grid documentation."),null},e.prototype.getCellRanges=function(){return this.rangeController?this.rangeController.getCellRanges():(console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),null)},e.prototype.camelCaseToHumanReadable=function(e){return de.camelCaseToHumanText(e)},e.prototype.addRangeSelection=function(e){console.warn("ag-Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},e.prototype.addCellRange=function(e){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.addCellRange(e)},e.prototype.clearRangeSelection=function(){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.removeAllCellRanges()},e.prototype.createRangeChart=function(e){if(De.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.createRangeChart")&&De.assertRegistered(t.ModuleNames.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(e)},e.prototype.createPivotChart=function(e){if(De.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.createPivotChart")&&De.assertRegistered(t.ModuleNames.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(e)},e.prototype.copySelectedRowsToClipboard=function(e,t){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(e,t)},e.prototype.copySelectedRangeToClipboard=function(e){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(e)},e.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copyRangeDown()},e.prototype.showColumnMenuAfterButtonClick=function(e,t){var n=this.columnController.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(n,t)},e.prototype.showColumnMenuAfterMouseClick=function(e,t){var n=this.columnController.getGridColumn(e);this.menuFactory.showMenuAfterMouseEvent(n,t)},e.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},e.prototype.setPopupParent=function(e){this.gridOptionsWrapper.setProperty(Ue.PROP_POPUP_PARENT,e)},e.prototype.tabToNextCell=function(){return this.rowRenderer.tabToNextCell(!1)},e.prototype.tabToPreviousCell=function(){return this.rowRenderer.tabToNextCell(!0)},e.prototype.getCellRendererInstances=function(e){return void 0===e&&(e={}),this.rowRenderer.getCellRendererInstances(e)},e.prototype.getCellEditorInstances=function(e){return void 0===e&&(e={}),this.rowRenderer.getCellEditorInstances(e)},e.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},e.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.rowRenderer.stopEditing(e)},e.prototype.startEditingCell=function(e){var t=this.columnController.getGridColumn(e.colKey);if(t){var n={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t};de.missing(e.rowPinned)&&this.gridPanel.ensureIndexVisible(e.rowIndex),this.rowRenderer.startEditingCell(n,e.keyPress,e.charPress)}else console.warn("ag-Grid: no column found for "+e.colKey)},e.prototype.addAggFunc=function(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)},e.prototype.addAggFuncs=function(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)},e.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},e.prototype.updateRowData=function(e){var t=null;return this.clientSideRowModel?t=this.clientSideRowModel.updateRowData(e):this.infiniteRowModel?this.infiniteRowModel.updateRowData(e):console.error("ag-Grid: updateRowData() only works with ClientSideRowModel and InfiniteRowModel."),this.rowRenderer.refreshFullWidthRows(),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),t},e.prototype.batchUpdateRowData=function(e,t){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(e,t):console.error("ag-Grid: api.batchUpdateRowData() only works with ClientSideRowModel.")},e.prototype.insertItemsAtIndex=function(e,t,n){console.warn("ag-Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:e,update:null,remove:null})},e.prototype.removeItems=function(e,t){console.warn("ag-Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var n=e.map((function(e){return e.data}));this.updateRowData({add:null,addIndex:null,update:null,remove:n})},e.prototype.addItems=function(e,t){console.warn("ag-Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:null,update:null,remove:null})},e.prototype.refreshVirtualPageCache=function(){console.warn("ag-Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},e.prototype.refreshInfinitePageCache=function(){console.warn("ag-Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},e.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("ag-Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},e.prototype.purgeVirtualPageCache=function(){console.warn("ag-Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},e.prototype.purgeInfinitePageCache=function(){console.warn("ag-Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},e.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("ag-Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},e.prototype.purgeEnterpriseCache=function(e){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(e)},e.prototype.purgeServerSideCache=function(e){this.serverSideRowModel?this.serverSideRowModel.purgeCache(e):console.warn("ag-Grid: api.purgeServerSideCache is only available when rowModelType='enterprise'.")},e.prototype.getVirtualRowCount=function(){return console.warn("ag-Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},e.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getVirtualRowCount();console.warn("ag-Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},e.prototype.isMaxRowFound=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isMaxRowFound();console.warn("ag-Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},e.prototype.setVirtualRowCount=function(e,t){console.warn("ag-Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setInfiniteRowCount(e,t)},e.prototype.setInfiniteRowCount=function(e,t){this.infiniteRowModel?this.infiniteRowModel.setVirtualRowCount(e,t):console.warn("ag-Grid: api.setVirtualRowCount is only available when rowModelType='virtual'.")},e.prototype.getVirtualPageState=function(){return console.warn("ag-Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},e.prototype.getInfinitePageState=function(){return console.warn("ag-Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},e.prototype.getCacheBlockState=function(){return this.infiniteRowModel?this.infiniteRowModel.getBlockState():this.serverSideRowModel?this.serverSideRowModel.getBlockState():void console.warn("ag-Grid: api.getCacheBlockState() is only available when rowModelType='infinite' or rowModelType='serverSide'.")},e.prototype.checkGridSize=function(){this.gridPanel.setHeaderAndFloatingHeights()},e.prototype.getFirstRenderedRow=function(){return console.warn("in ag-Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},e.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},e.prototype.getLastRenderedRow=function(){return console.warn("in ag-Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},e.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},e.prototype.getDisplayedRowAtIndex=function(e){return this.rowModel.getRow(e)},e.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},e.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},e.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},e.prototype.paginationSetPageSize=function(e){this.gridOptionsWrapper.setProperty("paginationPageSize",e)},e.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},e.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},e.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},e.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},e.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},e.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},e.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},e.prototype.paginationGoToPage=function(e){this.paginationProxy.goToPage(e)},Xo([Ee("immutableService")],e.prototype,"immutableService",void 0),Xo([Ee("csvCreator")],e.prototype,"csvCreator",void 0),Xo([Ee("excelCreator")],e.prototype,"excelCreator",void 0),Xo([be("rowRenderer")],e.prototype,"rowRenderer",void 0),Xo([be("filterManager")],e.prototype,"filterManager",void 0),Xo([be("columnController")],e.prototype,"columnController",void 0),Xo([be("selectionController")],e.prototype,"selectionController",void 0),Xo([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Xo([be("valueService")],e.prototype,"valueService",void 0),Xo([be("alignedGridsService")],e.prototype,"alignedGridsService",void 0),Xo([be("eventService")],e.prototype,"eventService",void 0),Xo([be("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Xo([be("context")],e.prototype,"context",void 0),Xo([be("rowModel")],e.prototype,"rowModel",void 0),Xo([be("sortController")],e.prototype,"sortController",void 0),Xo([be("paginationProxy")],e.prototype,"paginationProxy",void 0),Xo([be("focusedCellController")],e.prototype,"focusedCellController",void 0),Xo([Ee("rangeController")],e.prototype,"rangeController",void 0),Xo([Ee("clipboardService")],e.prototype,"clipboardService",void 0),Xo([Ee("aggFuncService")],e.prototype,"aggFuncService",void 0),Xo([be("menuFactory")],e.prototype,"menuFactory",void 0),Xo([Ee("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),Xo([be("cellRendererFactory")],e.prototype,"cellRendererFactory",void 0),Xo([be("valueCache")],e.prototype,"valueCache",void 0),Xo([be("animationFrameService")],e.prototype,"animationFrameService",void 0),Xo([Ee("statusBarService")],e.prototype,"statusBarService",void 0),Xo([Ee("chartService")],e.prototype,"chartService",void 0),Xo([me],e.prototype,"init",null),Xo([we("gridApi")],e)}(),Jo=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ei=function(){function e(){this.expressionToFunctionCache={}}return e.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},e.prototype.evaluate=function(e,t){return"function"==typeof e?e(t):"string"==typeof e?this.evaluateExpression(e,t):void console.error("ag-Grid: value should be either a string or a function",e)},e.prototype.evaluateExpression=function(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup)}catch(n){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Exception = "+n),null}},e.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var t=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=n,n},e.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},Jo([F(0,Se("loggerFactory"))],e.prototype,"setBeans",null),Jo([we("expressionService")],e)}(),ti=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ni=function(){function e(){this.templateCache={},this.waitingCallbacks={}}return e.prototype.getTemplate=function(e,t){var n=this.templateCache[e];if(n)return n;var r=this.waitingCallbacks[e],o=this;if(!r){this.waitingCallbacks[e]=r=[];var i=new XMLHttpRequest;i.onload=function(){o.handleHttpResult(this,e)},i.open("GET",e),i.send()}return t&&r.push(t),null},e.prototype.handleHttpResult=function(e,t){if(200===e.status&&null!==e.response){this.templateCache[t]=e.response||e.responseText;for(var n=this.waitingCallbacks[t],r=0;r<n.length;r++)(0,n[r])();if(this.$scope){var o=this;window.setTimeout((function(){o.$scope.$apply()}),0)}}else console.warn("Unable to get template error "+e.status+" - "+t)},ti([be("$scope")],e.prototype,"$scope",void 0),ti([we("templateService")],e)}(),ri=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},oi=function(){function e(){this.popupList=[]}return e.prototype.registerGridCore=function(e){this.gridCore=e},e.prototype.getDocument=function(){return this.gridOptionsWrapper.getDocument()},e.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCore.getRootGui()},e.prototype.positionPopupForMenu=function(e){var t,n=e.eventSource.getBoundingClientRect(),r=this.getDocument(),o=this.getPopupParent();t=o===r.body?r.documentElement.getBoundingClientRect():o.getBoundingClientRect();var i=n.top-t.top;i=this.keepYWithinBounds(e,i);var s=e.ePopup.clientWidth>0?e.ePopup.clientWidth:200;e.ePopup.style.minWidth=s+"px";var a,l=t.right-t.left-s;function u(){return n.right-t.left-2}function c(){return n.left-t.left-s}this.gridOptionsWrapper.isEnableRtl()?((a=c())<0&&(a=u()),a>l&&(a=0)):((a=u())>l&&(a=c()),a<0&&(a=0)),e.ePopup.style.left=a+"px",e.ePopup.style.top=i+"px"},e.prototype.positionPopupUnderMouseEvent=function(e){var t=this.calculatePointerAlign(e.mouseEvent);this.positionPopup({ePopup:e.ePopup,x:t.x,y:t.y,nudgeX:e.nudgeX,nudgeY:e.nudgeY,keepWithinBounds:!0}),this.callPostProcessPopup(e.ePopup,null,e.mouseEvent,e.type,e.column,e.rowNode)},e.prototype.calculatePointerAlign=function(e){var t=this.getDocument(),n=this.getPopupParent(),r=n.getBoundingClientRect(),o=t.documentElement.getBoundingClientRect();return{x:e.clientX-(n===t.body?o.left:r.left),y:e.clientY-(n===t.body?o.top:r.top)}},e.prototype.positionPopupUnderComponent=function(e){var t,n=e.eventSource.getBoundingClientRect(),r=this.getDocument(),o=this.getPopupParent(),i=e.alignSide||"left";t=o===r.body?r.documentElement.getBoundingClientRect():o.getBoundingClientRect();var s=n.left-t.left;"right"===i&&(s-=e.ePopup.offsetWidth-n.width),this.positionPopup({ePopup:e.ePopup,minWidth:e.minWidth,minHeight:e.minHeight,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:s,y:n.top-t.top+n.height,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.ePopup,e.eventSource,null,e.type,e.column,e.rowNode)},e.prototype.positionPopupOverComponent=function(e){var t,n=e.eventSource.getBoundingClientRect(),r=this.getDocument(),o=this.getPopupParent();t=o===r.body?r.documentElement.getBoundingClientRect():o.getBoundingClientRect(),this.positionPopup({ePopup:e.ePopup,minWidth:e.minWidth,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:n.left-t.left,y:n.top-t.top,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.ePopup,e.eventSource,null,e.type,e.column,e.rowNode)},e.prototype.callPostProcessPopup=function(e,t,n,r,o,i){var s=this.gridOptionsWrapper.getPostProcessPopupFunc();s&&s({column:o,rowNode:i,ePopup:e,type:r,eventSource:t,mouseEvent:n})},e.prototype.positionPopup=function(e){var t=e.x,n=e.y;e.nudgeX&&(t+=e.nudgeX),e.nudgeY&&(n+=e.nudgeY),e.keepWithinBounds&&(t=this.keepXWithinBounds(e,t),n=this.keepYWithinBounds(e,n)),e.ePopup.style.left=t+"px",e.ePopup.style.top=n+"px"},e.prototype.keepYWithinBounds=function(e,t){var n=this.gridOptionsWrapper.getDocument(),r=n.documentElement,o=this.getPopupParent(),i=o.getBoundingClientRect(),s=n.documentElement.getBoundingClientRect(),a=o===n.body,l=Math.min(200,i.height),u=0;e.minHeight&&e.minHeight<l?l=e.minHeight:e.ePopup.offsetHeight>0&&(l=e.ePopup.clientHeight,u=de.getAbsoluteHeight(e.ePopup)-l);var c=a?de.getAbsoluteHeight(r)+r.scrollTop:i.height;a&&(c-=Math.abs(s.top-i.top));var p=c-l-u-3;return Math.min(Math.max(t,0),Math.abs(p))},e.prototype.keepXWithinBounds=function(e,t){var n=this.gridOptionsWrapper.getDocument(),r=n.documentElement,o=this.getPopupParent(),i=o.getBoundingClientRect(),s=n.documentElement.getBoundingClientRect(),a=o===n.body,l=e.ePopup,u=Math.min(200,i.width),c=0;e.minWidth&&e.minWidth<u?u=e.minWidth:l.offsetWidth>0&&(l.style.minWidth=(u=l.offsetWidth)+"px",c=de.getAbsoluteWidth(l)-u);var p=a?de.getAbsoluteWidth(r)+r.scrollLeft:i.width;a&&(p-=Math.abs(s.left-i.left));var d=p-u-c-3;return Math.min(Math.max(t,0),Math.abs(d))},e.prototype.addAsModalPopup=function(e,t,n,r){return this.addPopup(!0,e,t,n,r)},e.prototype.addPopup=function(e,t,n,r,o,i){var s=this,a=this.gridOptionsWrapper.getDocument();if(!a)return console.warn("ag-grid: could not find the document, document is empty"),function(){};var l=de.findIndex(this.popupList,(function(e){return e.element===t}));if(-1!==l)return this.popupList[l].hideFunc;var u=this.getPopupParent();u.appendChild(t),t.style.top="0px",t.style.left="0px";var c=document.createElement("div"),p=this.environment.getTheme().theme;p&&de.addCssClass(c,p),de.addCssClass(c,"ag-popup"),de.addCssClass(t,this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr"),c.appendChild(t),u.appendChild(c),i?this.setAlwaysOnTop(c,!0):this.bringPopupToFront(c);var d=!1,h=function(e){(e.which||e.keyCode)===ie.KEY_ESCAPE&&c.contains(document.activeElement)&&v(null)},f=function(e){v(e)},g=function(e){v(null,e)},v=function(e,n){s.isEventFromCurrentPopup(e,n,t)||s.isEventSameChainAsOriginalEvent(o,e,n)||d||(d=!0,u.removeChild(c),a.removeEventListener("keydown",h),a.removeEventListener("mousedown",f),a.removeEventListener("touchstart",g),a.removeEventListener("contextmenu",f),s.eventService.removeEventListener(xe.EVENT_DRAG_STARTED,f),r&&r(),s.popupList=s.popupList.filter((function(e){return e.element!==t})))};return window.setTimeout((function(){n&&a.addEventListener("keydown",h),e&&(a.addEventListener("mousedown",f),s.eventService.addEventListener(xe.EVENT_DRAG_STARTED,f),a.addEventListener("touchstart",g),a.addEventListener("contextmenu",f))}),0),this.popupList.push({element:t,hideFunc:v}),v},e.prototype.isEventFromCurrentPopup=function(e,t,n){var r=e||t;if(!r)return!1;var o=de.findIndex(this.popupList,(function(e){return e.element===n}));if(-1===o)return!1;for(var i=o;i<this.popupList.length;i++)if(de.isElementInEventPath(this.popupList[i].element,r))return!0;for(var s=r.target;s&&s!=document.body;){if(s.classList.contains("ag-custom-component-popup")||null===s.parentElement)return!0;s=s.parentElement}},e.prototype.isEventSameChainAsOriginalEvent=function(e,t,n){var r=null;if(t?r=t:n&&(r=n.touches[0]),r&&e){var o=t?t.screenY:0,i=Math.abs(e.screenX-(t?t.screenX:0))<5,s=Math.abs(e.screenY-o)<5;if(i&&s)return!0}return!1},e.prototype.getWrapper=function(e){for(;!de.containsClass(e,"ag-popup")&&e.parentElement;)e=e.parentElement;return de.containsClass(e,"ag-popup")?e:null},e.prototype.setAlwaysOnTop=function(e,t){var n=this.getWrapper(e);n&&(de.addOrRemoveCssClass(n,"ag-always-on-top",!!t),t&&this.bringPopupToFront(n))},e.prototype.bringPopupToFront=function(e){var t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),r=n.length,o=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),i=o.length,s=this.getWrapper(e);if(s&&!(r<=1)&&t.contains(e)){var a=n.indexOf(s);i?de.containsClass(s,"ag-always-on-top")?a!==r-1&&de.last(o).insertAdjacentElement("afterend",s):a!==r-i-1&&o[0].insertAdjacentElement("beforebegin",s):a!==r-1&&de.last(n).insertAdjacentElement("afterend",s);var l={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:s};this.eventService.dispatchEvent(l)}},ri([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ri([be("environment")],e.prototype,"environment",void 0),ri([be("eventService")],e.prototype,"eventService",void 0),ri([we("popupService")],e)}(),ii=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},si=function(){function e(){}return e.prototype.setBeans=function(e){this.logging=e.isDebug()},e.prototype.create=function(e){return new ai(e,this.isLogging.bind(this))},e.prototype.isLogging=function(){return this.logging},ii([M(0,Se("gridOptionsWrapper"))],e.prototype,"setBeans",null),ii([we("loggerFactory")],e)}(),ai=function(){function e(e,t){this.name=e,this.isLoggingFunc=t}return e.prototype.isLogging=function(){return this.isLoggingFunc()},e.prototype.log=function(e){this.isLoggingFunc()&&console.log("ag-Grid."+this.name+": "+e)},e}(),li=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ui=function(){function e(){}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.registerHeaderRootComp=function(e){this.headerRootComp=e},e.prototype.getPreferredWidthForColumn=function(e){var t=this.getHeaderCellForColumn(e);if(!t)return-1;var n=document.createElement("span");n.style.position="fixed";var r=this.gridPanel.getCenterContainer();r.appendChild(n),this.putRowCellsIntoDummyContainer(e,n),this.cloneItemIntoDummy(t,n);var o=n.offsetWidth;return r.removeChild(n),o+this.gridOptionsWrapper.getAutoSizePadding()},e.prototype.getHeaderCellForColumn=function(e){var t=null;return this.headerRootComp.forEachHeaderElement((function(n){if(n instanceof fo){var r=n;r.getColumn()===e&&(t=r)}})),t?t.getGui():null},e.prototype.putRowCellsIntoDummyContainer=function(e,t){var n=this;this.rowRenderer.getAllCellsForColumn(e).forEach((function(e){return n.cloneItemIntoDummy(e,t)}))},e.prototype.cloneItemIntoDummy=function(e,t){var n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";var r=document.createElement("div");r.style.display="table-row",r.appendChild(n),t.appendChild(r)},li([be("rowRenderer")],e.prototype,"rowRenderer",void 0),li([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),li([we("autoWidthCalculator")],e)}(),ci=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},pi=function(){function e(){}return e.prototype.addResizeBar=function(e){var t=this,n={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e)};return this.dragService.addDragSource(n,!0),function(){return t.dragService.removeDragSource(n)}},e.prototype.onDragStart=function(e,t){this.draggingStarted=!0,this.dragStartX=t.clientX,this.setResizeIcons();var n=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(n)},e.prototype.setResizeIcons=function(){this.oldBodyCursor=this.eGridDiv.style.cursor,this.oldMsUserSelect=this.eGridDiv.style.msUserSelect,this.oldWebkitUserSelect=this.eGridDiv.style.webkitUserSelect,this.eGridDiv.style.cursor="col-resize",this.eGridDiv.style.msUserSelect="none",this.eGridDiv.style.webkitUserSelect="none"},e.prototype.onDragStop=function(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()},e.prototype.resetIcons=function(){this.eGridDiv.style.cursor=this.oldBodyCursor,this.eGridDiv.style.msUserSelect=this.oldMsUserSelect,this.eGridDiv.style.webkitUserSelect=this.oldWebkitUserSelect},e.prototype.onDragging=function(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},ci([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ci([be("dragService")],e.prototype,"dragService",void 0),ci([be("eGridDiv")],e.prototype,"eGridDiv",void 0),ci([we("horizontalResizeService")],e)}(),di=(lr=function(e,t){return(lr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}lr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),hi=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return di(n,e),n.prototype.init=function(){var e=this;this.logger=this.loggerFactory.create("GridCore");var n=this.createTemplate();if(this.setTemplate(n),[this.gridApi,this.filterManager,this.rowRenderer,this.popupService].forEach((function(t){return t.registerGridCore(e)})),De.isRegistered(t.ModuleNames.ClipboardModule)&&this.clipboardService.registerGridCore(this),this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.eGridDiv.appendChild(this.getGui()),this.addDestroyFunc((function(){e.eGridDiv.removeChild(e.getGui())})),this.$scope){var r=this.$scope.$watch(this.quickFilterOnScope,(function(t){return e.filterManager.setQuickFilter(t)}));this.addDestroyFunc(r)}this.addRtlSupport(),this.logger.log("ready"),this.gridOptionsWrapper.addLayoutElement(this.eRootWrapperBody);var o=this.gridPanel.getGui();this.addDestroyableEventListener(o,"focusin",(function(){de.addCssClass(o,"ag-has-focus")})),this.addDestroyableEventListener(o,"focusout",(function(e){o.contains(e.relatedTarget)||de.removeCssClass(o,"ag-has-focus")}));var i=this.resizeObserverService.observeResize(this.eGridDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((function(){return i()}))},n.prototype.createTemplate=function(){var e=De.isRegistered(t.ModuleNames.SideBarModule),n=De.isRegistered(t.ModuleNames.StatusBarModule);return'<div class="ag-root-wrapper">\n                '+(De.isRegistered(t.ModuleNames.RowGroupingModule)?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-comp ref="gridPanel"></ag-grid-comp>                    \n                    '+(e?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(n?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(De.isRegistered(t.ModuleNames.EnterpriseCoreModule)?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},n.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:xe.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridDiv.clientWidth,clientHeight:this.eGridDiv.clientHeight})},n.prototype.addRtlSupport=function(){var e=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";de.addCssClass(this.getGui(),e)},n.prototype.getRootGui=function(){return this.getGui()},n.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},n.prototype.setSideBarVisible=function(e){this.sideBarComp?this.sideBarComp.setDisplayed(e):e&&console.warn("ag-Grid: sideBar is not loaded")},n.prototype.setSideBarPosition=function(e){this.sideBarComp?this.sideBarComp.setSideBarPosition(e):console.warn("ag-Grid: sideBar is not loaded")},n.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},n.prototype.getSideBar=function(){return this.gridOptions.sideBar},n.prototype.getToolPanelInstance=function(e){if(this.sideBarComp)return this.sideBarComp.getToolPanelInstance(e);console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},n.prototype.refreshSideBar=function(){this.sideBarComp&&this.sideBarComp.refresh()},n.prototype.setSideBar=function(e){this.sideBarComp&&(this.eRootWrapperBody.removeChild(this.sideBarComp.getGui()),this.gridOptions.sideBar=He.parse(e),this.sideBarComp.reset(),this.eRootWrapperBody.appendChild(this.sideBarComp.getGui()))},n.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},n.prototype.openToolPanel=function(e){this.sideBarComp?this.sideBarComp.openToolPanel(e):console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},n.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},n.prototype.destroy=function(){e.prototype.destroy.call(this),this.logger.log("Grid DOM removed")},n.prototype.ensureNodeVisible=function(e,t){if(void 0===t&&(t="top"),this.doingVirtualPaging)throw new Error("Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory");for(var n=this.rowModel.getRowCount(),r="function"==typeof e,o=-1,i=0;i<n;i++){var s=this.rowModel.getRow(i);if(r){if(e(s)){o=i;break}}else if(e===s||e===s.data){o=i;break}}o>=0&&this.gridPanel.ensureIndexVisible(o,t)},L([be("gridOptions")],n.prototype,"gridOptions",void 0),L([be("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),L([be("rowModel")],n.prototype,"rowModel",void 0),L([be("resizeObserverService")],n.prototype,"resizeObserverService",void 0),L([be("columnController")],n.prototype,"columnController",void 0),L([be("rowRenderer")],n.prototype,"rowRenderer",void 0),L([be("filterManager")],n.prototype,"filterManager",void 0),L([be("eventService")],n.prototype,"eventService",void 0),L([be("eGridDiv")],n.prototype,"eGridDiv",void 0),L([be("$scope")],n.prototype,"$scope",void 0),L([be("quickFilterOnScope")],n.prototype,"quickFilterOnScope",void 0),L([be("popupService")],n.prototype,"popupService",void 0),L([be("focusedCellController")],n.prototype,"focusedCellController",void 0),L([be("loggerFactory")],n.prototype,"loggerFactory",void 0),L([be("columnApi")],n.prototype,"columnApi",void 0),L([be("gridApi")],n.prototype,"gridApi",void 0),L([Ee("clipboardService")],n.prototype,"clipboardService",void 0),L([Xe("gridPanel")],n.prototype,"gridPanel",void 0),L([Xe("sideBar")],n.prototype,"sideBarComp",void 0),L([Xe("rootWrapperBody")],n.prototype,"eRootWrapperBody",void 0),L([me],n.prototype,"init",null),n}(Qe),fi=function(){function e(){}return e.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},e.prototype.showMenuAfterMouseEvent=function(e,t){var n=this;this.showPopup(e,(function(r){n.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:t,ePopup:r})}))},e.prototype.showMenuAfterButtonClick=function(e,t){var n=this;this.showPopup(e,(function(r){n.popupService.positionPopupUnderComponent({type:"columnMenu",eventSource:t,ePopup:r,keepWithinBounds:!0,column:e})}))},e.prototype.showPopup=function(e,t){var n,r=this,o=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU"),i=document.createElement("div");de.addCssClass(i,"ag-menu"),o.guiPromise.promise.then((function(e){i.appendChild(e)}));var s=function(e){"horizontal"===e.direction&&n()};this.eventService.addEventListener("bodyScroll",s),n=this.popupService.addAsModalPopup(i,!0,(function(){r.eventService.removeEventListener("bodyScroll",s),e.setMenuVisible(!1,"contextMenu")})),t(i),o.filterPromise.then((function(e){e.afterGuiAttached&&e.afterGuiAttached({hidePopup:n})})),this.hidePopup=n,e.setMenuVisible(!0,"contextMenu")},e.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()},V([be("eventService")],e.prototype,"eventService",void 0),V([be("filterManager")],e.prototype,"filterManager",void 0),V([be("popupService")],e.prototype,"popupService",void 0),V([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),V([we("menuFactory")],e)}(),gi=function(){function e(){this.onMouseUpListener=this.onMouseUp.bind(this),this.onMouseMoveListener=this.onMouseMove.bind(this),this.onTouchEndListener=this.onTouchUp.bind(this),this.onTouchMoveListener=this.onTouchMove.bind(this),this.dragEndFunctions=[],this.dragSources=[]}return e.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},e.prototype.destroy=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},e.prototype.removeListener=function(e){var t=e.dragSource.eElement;t.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&t.removeEventListener("touchstart",e.touchStartListener,{passive:!0})},e.prototype.removeDragSource=function(e){var t=de.find(this.dragSources,(function(t){return t.dragSource===e}));t&&(this.removeListener(t),de.removeFromArray(this.dragSources,t))},e.prototype.setNoSelectToBody=function(e){var t=this.gridOptionsWrapper.getDocument().querySelector("body");de.exists(t)&&de.addOrRemoveCssClass(t,"ag-unselectable",e)},e.prototype.addDragSource=function(e,t){void 0===t&&(t=!1);var n=this.onMouseDown.bind(this,e);e.eElement.addEventListener("mousedown",n);var r=null,o=this.gridOptionsWrapper.isSuppressTouch();t&&!o&&(r=this.onTouchStart.bind(this,e),e.eElement.addEventListener("touchstart",r,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:n,touchStartListener:r,touchEnabled:t})},e.prototype.onTouchStart=function(e,t){var n=this;this.currentDragParams=e,this.dragging=!1;var r=t.touches[0];this.touchLastTime=r,this.touchStart=r,t.preventDefault(),e.eElement.addEventListener("touchmove",this.onTouchMoveListener,{passive:!0}),e.eElement.addEventListener("touchend",this.onTouchEndListener,{passive:!0}),e.eElement.addEventListener("touchcancel",this.onTouchEndListener,{passive:!0}),this.dragEndFunctions.push((function(){e.eElement.removeEventListener("touchmove",n.onTouchMoveListener,{passive:!0}),e.eElement.removeEventListener("touchend",n.onTouchEndListener,{passive:!0}),e.eElement.removeEventListener("touchcancel",n.onTouchEndListener,{passive:!0})})),0===e.dragStartPixels&&this.onCommonMove(r,this.touchStart)},e.prototype.onMouseDown=function(e,t){var n=this;if(!(e.skipMouseEvent&&e.skipMouseEvent(t)||t._alreadyProcessedByDragService||(t._alreadyProcessedByDragService=!0,0!==t.button))){this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t;var r=this.gridOptionsWrapper.getDocument();this.setNoSelectToBody(!0),r.addEventListener("mousemove",this.onMouseMoveListener),r.addEventListener("mouseup",this.onMouseUpListener),this.dragEndFunctions.push((function(){r.removeEventListener("mousemove",n.onMouseMoveListener),r.removeEventListener("mouseup",n.onMouseUpListener)})),0===e.dragStartPixels&&this.onMouseMove(t)}},e.prototype.isEventNearStartEvent=function(e,t){var n=this.currentDragParams.dragStartPixels,r=de.exists(n)?n:4;return de.areEventsNear(e,t,r)},e.prototype.getFirstActiveTouch=function(e){for(var t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null},e.prototype.onCommonMove=function(e,t){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0,this.eventService.dispatchEvent({type:xe.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi}),this.currentDragParams.onDragStart(t)}this.currentDragParams.onDragging(e)},e.prototype.onTouchMove=function(e){var t=this.getFirstActiveTouch(e.touches);t&&this.onCommonMove(t,this.touchStart)},e.prototype.onMouseMove=function(e){this.onCommonMove(e,this.mouseStartEvent)},e.prototype.onTouchUp=function(e){var t=this.getFirstActiveTouch(e.changedTouches);t||(t=this.touchLastTime),this.onUpCommon(t)},e.prototype.onMouseUp=function(e){this.onUpCommon(e)},e.prototype.onUpCommon=function(e){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:xe.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi})),this.setNoSelectToBody(!1),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((function(e){return e()})),this.dragEndFunctions.length=0},G([be("loggerFactory")],e.prototype,"loggerFactory",void 0),G([be("eventService")],e.prototype,"eventService",void 0),G([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),G([be("columnApi")],e.prototype,"columnApi",void 0),G([be("gridApi")],e.prototype,"gridApi",void 0),G([me],e.prototype,"init",null),G([Ce],e.prototype,"destroy",null),G([we("dragService")],e)}(),vi=function(){function e(){var e=this;this.getSortModel=function(){return e.getColumnsWithSortingOrdered().map((function(e){return{colId:e.getColId(),sort:e.getSort()}}))}}var t;return t=e,e.prototype.progressSort=function(e,t,n){void 0===n&&(n="api");var r=this.getNextSortDirection(e);this.setSortForColumn(e,r,t,n)},e.prototype.setSortForColumn=function(e,t,n,r){if(void 0===r&&(r="api"),t!==ie.SORT_ASC&&t!==ie.SORT_DESC&&(t=null),e.setSort(t,r),e.getSort()){var o=Number((new Date).valueOf());e.setSortedAt(o)}else e.setSortedAt(null);n&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(e,r),this.dispatchSortChangedEvents()},e.prototype.onSortChanged=function(){this.dispatchSortChangedEvents()},e.prototype.dispatchSortChangedEvents=function(){this.eventService.dispatchEvent({type:xe.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.clearSortBarThisColumn=function(e,t){this.columnController.getPrimaryAndSecondaryAndAutoColumns().forEach((function(n){n!==e&&n.setSort(void 0,t)}))},e.prototype.getNextSortDirection=function(e){var n;if(n=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():t.DEFAULT_SORTING_ORDER,!Array.isArray(n)||n.length<=0)return console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+n),null;var r,o=n.indexOf(e.getSort());return t.DEFAULT_SORTING_ORDER.indexOf(r=o<0||o==n.length-1?n[0]:n[o+1])<0?(console.warn("ag-grid: invalid sort type "+r),null):r},e.prototype.setSortModel=function(e,t){var n=this;void 0===t&&(t="api");var r=e&&e.length>0;this.columnController.getPrimaryAndSecondaryAndAutoColumns().forEach((function(o){var i=null,s=-1;if(r&&o.getColDef().sortable)for(var a=0;a<e.length;a++){var l=e[a];"string"==typeof l.colId&&"string"==typeof o.getColId()&&n.compareColIds(l,o)&&(i=l.sort,s=a)}i?(o.setSort(i,t),o.setSortedAt(s)):(o.setSort(null,t),o.setSortedAt(null))})),this.dispatchSortChangedEvents()},e.prototype.compareColIds=function(e,t){return e.colId===t.getColId()},e.prototype.getColumnsWithSortingOrdered=function(){var e=this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter((function(e){return!!e.getSort()}));return e.sort((function(e,t){return e.sortedAt-t.sortedAt})),e},e.prototype.getSortForRowController=function(){return this.getColumnsWithSortingOrdered().map((function(e){return{inverter:e.getSort()===ie.SORT_ASC?1:-1,column:e}}))},e.DEFAULT_SORTING_ORDER=[ie.SORT_ASC,ie.SORT_DESC,null],W([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),W([be("columnController")],e.prototype,"columnController",void 0),W([be("eventService")],e.prototype,"eventService",void 0),W([be("columnApi")],e.prototype,"columnApi",void 0),W([be("gridApi")],e.prototype,"gridApi",void 0),t=W([we("sortController")],e)}(),yi=function(){function e(){}return e.prototype.init=function(){this.eventService.addEventListener(xe.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(xe.EVENT_COLUMN_EVERYTHING_CHANGED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(xe.EVENT_COLUMN_GROUP_OPENED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(xe.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearFocusedCell.bind(this))},e.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},e.prototype.getFocusedCell=function(){return this.focusedCellPosition},e.prototype.getFocusCellToUseAfterRefresh=function(){return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()?null:this.focusedCellPosition&&this.getGridCellForDomElement(document.activeElement)?this.focusedCellPosition:null},e.prototype.getGridCellForDomElement=function(e){for(var t=e;t;){var n=this.gridOptionsWrapper.getDomData(t,Hr.DOM_DATA_KEY_CELL_COMP);if(n)return n.getCellPosition();t=t.parentNode}return null},e.prototype.setFocusedCell=function(e,t,n,r){void 0===r&&(r=!1);var o=de.makeNull(this.columnController.getGridColumn(t));this.focusedCellPosition={rowIndex:e,rowPinned:de.makeNull(n),column:o},this.onCellFocused(r)},e.prototype.isCellFocused=function(e){return!de.missing(this.focusedCellPosition)&&this.focusedCellPosition.column===e.column&&this.isRowFocused(e.rowIndex,e.rowPinned)},e.prototype.isRowNodeFocused=function(e){return this.isRowFocused(e.rowIndex,e.rowPinned)},e.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},e.prototype.isRowFocused=function(e,t){if(de.missing(this.focusedCellPosition))return!1;var n=de.makeNull(t);return this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===n},e.prototype.onCellFocused=function(e){var t={type:xe.EVENT_CELL_FOCUSED,forceBrowserFocus:e,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null};this.focusedCellPosition&&(t.rowIndex=this.focusedCellPosition.rowIndex,t.column=this.focusedCellPosition.column,t.rowPinned=this.focusedCellPosition.rowPinned),this.eventService.dispatchEvent(t)},H([be("eventService")],e.prototype,"eventService",void 0),H([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),H([be("columnController")],e.prototype,"columnController",void 0),H([be("columnApi")],e.prototype,"columnApi",void 0),H([be("gridApi")],e.prototype,"gridApi",void 0),H([me],e.prototype,"init",null),H([we("focusedCellController")],e)}(),mi=function(){function e(){this.gridInstanceId=t.gridInstanceSequence.next()}var t;return t=e,e.prototype.init=function(){this.stampDomElementWithGridInstance()},e.prototype.stampDomElementWithGridInstance=function(){this.eGridDiv[t.GRID_DOM_KEY]=this.gridInstanceId},e.prototype.getRenderedCellForEvent=function(e){return de.getCellCompForEvent(this.gridOptionsWrapper,e)},e.prototype.isEventFromThisGrid=function(e){for(var n=de.getEventPath(e),r=0;r<n.length;r++){var o=n[r][t.GRID_DOM_KEY];if(de.exists(o))return o===this.gridInstanceId}return!1},e.prototype.getCellPositionForEvent=function(e){var t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null},e.gridInstanceSequence=new pe,e.GRID_DOM_KEY="__ag_grid_instance",B([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),B([be("eGridDiv")],e.prototype,"eGridDiv",void 0),B([me],e.prototype,"init",null),t=B([we("mouseEventService")],e)}(),Ci=function(){function e(){}return e.prototype.getNextCellToFocus=function(e,t){for(var n=t,r=!1;!r;){switch(e){case ie.KEY_UP:n=this.getCellAbove(n);break;case ie.KEY_DOWN:n=this.getCellBelow(n);break;case ie.KEY_RIGHT:n=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(n):this.getCellToRight(n);break;case ie.KEY_LEFT:n=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,console.warn("ag-Grid: unknown key for navigation "+e)}r=!n||this.isCellGoodToFocusOn(n)}return n},e.prototype.isCellGoodToFocusOn=function(e){var t,n=e.column;switch(e.rowPinned){case ie.PINNED_TOP:t=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case ie.PINNED_BOTTOM:t=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:t=this.rowModel.getRow(e.rowIndex)}return!n.isSuppressNavigable(t)},e.prototype.getCellToLeft=function(e){if(!e)return null;var t=this.columnController.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},e.prototype.getCellToRight=function(e){if(!e)return null;var t=this.columnController.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},e.prototype.getRowBelow=function(e){var t=e.rowIndex,n=e.rowPinned;if(this.isLastRowInContainer(e))switch(n){case ie.PINNED_BOTTOM:return null;case ie.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:0,rowPinned:null}:this.pinnedRowModel.isRowsToRender(ie.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ie.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(ie.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ie.PINNED_BOTTOM}:null}return{rowIndex:t+1,rowPinned:n}},e.prototype.getCellBelow=function(e){if(!e)return null;var t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},e.prototype.isLastRowInContainer=function(e){var t=e.rowPinned,n=e.rowIndex;return t===ie.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=n:t===ie.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=n:this.rowModel.getRowCount()-1<=n},e.prototype.getRowAbove=function(e){var t=e.rowIndex,n=e.rowPinned;return 0===t?n===ie.PINNED_TOP?null:n&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(ie.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:t-1,rowPinned:n}},e.prototype.getCellAbove=function(e){if(!e)return null;var t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},e.prototype.getLastBodyCell=function(){return{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},e.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:ie.PINNED_TOP}},e.prototype.getNextTabbedCell=function(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},e.prototype.getNextTabbedCellForwards=function(e){var t=this.columnController.getAllDisplayedColumns(),n=e.rowIndex,r=e.rowPinned,o=this.columnController.getDisplayedColAfter(e.column);if(!o){o=t[0];var i=this.getRowBelow(e);if(de.missing(i))return null;n=i?i.rowIndex:null,r=i?i.rowPinned:null}return{rowIndex:n,column:o,rowPinned:r}},e.prototype.getNextTabbedCellBackwards=function(e){var t=this.columnController.getAllDisplayedColumns(),n=e.rowIndex,r=e.rowPinned,o=this.columnController.getDisplayedColBefore(e.column);if(!o){o=de.last(t);var i=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(de.missing(i))return null;n=i?i.rowIndex:null,r=i?i.rowPinned:null}return{rowIndex:n,column:o,rowPinned:r}},U([be("columnController")],e.prototype,"columnController",void 0),U([be("rowModel")],e.prototype,"rowModel",void 0),U([be("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),U([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),U([we("cellNavigationService")],e)}(),wi=function(){function e(){this.cellRendererMap={}}var t;return t=e,e.prototype.init=function(){this.cellRendererMap[t.ANIMATE_SLIDE]=Zt,this.cellRendererMap[t.ANIMATE_SHOW_CHANGE]=Qt,this.cellRendererMap[t.GROUP]=qt},e.prototype.addCellRenderer=function(e,t){this.cellRendererMap[e]=t},e.prototype.getCellRenderer=function(e){var t=this.cellRendererMap[e];return de.missing(t)?(console.warn("ag-Grid: unable to find cellRenderer for key "+e),null):t},e.ANIMATE_SLIDE="animateSlide",e.ANIMATE_SHOW_CHANGE="animateShowChange",e.GROUP="group",j([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),j([be("expressionService")],e.prototype,"expressionService",void 0),j([be("eventService")],e.prototype,"eventService",void 0),j([me],e.prototype,"init",null),t=j([we("cellRendererFactory")],e)}(),bi=function(){function e(){}return e.prototype.formatValue=function(e,t,n,r){var o,i=e.getColDef(),s=null;if(o=t&&t.rowPinned&&i.pinnedRowValueFormatter?i.pinnedRowValueFormatter:i.valueFormatter){var a={value:r,node:t,data:t?t.data:null,colDef:e.getColDef(),column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};a.$scope=n,s=this.expressionService.evaluate(o,a)}else if(i.refData)return i.refData[r]||"";return null==s&&Array.isArray(r)&&(s=r.join(", ")),s},z([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),z([be("expressionService")],e.prototype,"expressionService",void 0),z([we("valueFormatterService")],e)}(),Ei=(ar=function(e,t){return(ar=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ar(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),_i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.className="ag-radio-button",t.inputType="radio",t.iconMap={selected:"radioButtonOn",unselected:"radioButtonOff"},t}return Ei(t,e),t.prototype.toggle=function(){var e=this.getNextValue();this.setValue(e)},t.prototype.getIconName=function(){var e=this.getValue()?"selected":"unselected",t=this.isReadOnly()?"ReadOnly":"";return""+this.iconMap[e]+t},t}(oo),Si=function(){function e(){}return e.prototype.setTimeout=function(e,t){window.setTimeout(e,t)},e.prototype.addEventListenerOutsideAngular=function(e,t,n,r){e.addEventListener(t,n,r)},e}(),Ri=function(){function e(){}return e.prototype.setScrollsVisible=function(e){this.horizontalScrollShowing===e.horizontalScrollShowing&&this.verticalScrollShowing===e.verticalScrollShowing||(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:xe.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},e.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},e.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},q([be("eventService")],e.prototype,"eventService",void 0),q([be("columnController")],e.prototype,"columnController",void 0),q([be("columnApi")],e.prototype,"columnApi",void 0),q([be("gridApi")],e.prototype,"gridApi",void 0),q([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),q([we("scrollVisibleService")],e)}(),Ti=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Oi=function(){function e(){}return e.prototype.processAllCellClasses=function(e,t,n,r){this.processClassRules(e.cellClassRules,t,n,r),this.processStaticCellClasses(e,t,n)},e.prototype.processClassRules=function(e,t,n,r){if("object"==typeof e&&null!==e)for(var o=Object.keys(e),i=0;i<o.length;i++){var s=o[i],a=e[s],l=void 0;"string"==typeof a?l=this.expressionService.evaluate(a,t):"function"==typeof a&&(l=a(t)),l?n(s):r&&r(s)}},e.prototype.processStaticCellClasses=function(e,t,n){if(e.cellClass){var r=void 0;"string"==typeof(r="function"==typeof e.cellClass?(0,e.cellClass)(t):e.cellClass)?n(r):Array.isArray(r)&&r.forEach((function(e){n(e)}))}},Ti([be("expressionService")],e.prototype,"expressionService",void 0),Ti([we("stylingService")],e)}(),Di=(sr=function(e,t){return(sr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}sr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ii=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ai=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Di(t,e),t.prototype.setMouseOver=function(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.isHovered=function(e){return this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},Ii([be("eventService")],t.prototype,"eventService",void 0),Ii([be("columnApi")],t.prototype,"columnApi",void 0),Ii([be("gridApi")],t.prototype,"gridApi",void 0),Ii([we("columnHoverService")],t)}(qe),ki=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Pi=function(){function e(){this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.animationThreadCount=0}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.isActive=function(){return this.active},e.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},e.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},e.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},e.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},e.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var t=this.animationThreadCount;this.gridPanel.setColumnMovingCss(!0),this.executeLaterFuncs.push((function(){e.animationThreadCount===t&&e.gridPanel.setColumnMovingCss(!1)}))},e.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var t=this.executeLaterFuncs;this.executeLaterFuncs=[],0===e.length&&0===t.length||(window.setTimeout((function(){return e.forEach((function(e){return e()}))}),0),window.setTimeout((function(){return t.forEach((function(e){return e()}))}),300))},ki([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ki([we("columnAnimationService")],e)}(),Ni=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},xi=function(){function e(){}var t;return t=e,e.prototype.createAutoGroupColumns=function(e){var t=this,n=[],r=this.gridOptionsWrapper.isTreeData(),o=this.gridOptionsWrapper.isGroupMultiAutoColumn();return r&&o&&(console.warn("ag-Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),o=!1),o?e.forEach((function(e,r){n.push(t.createOneAutoGroupColumn(e,r))})):n.push(this.createOneAutoGroupColumn()),n},e.prototype.createOneAutoGroupColumn=function(e,n){var r,o=this.generateDefaultColDef(e);r=e?ie.GROUP_AUTO_COLUMN_ID+"-"+e.getId():t.GROUP_AUTO_COLUMN_BUNDLE_ID;var i=this.gridOptionsWrapper.getAutoGroupColumnDef();de.mergeDeep(o,i),(o=this.columnFactory.mergeColDefs(o)).colId=r,this.gridOptionsWrapper.isTreeData()||de.missing(o.field)&&de.missing(o.valueGetter)&&de.missing(o.filterValueGetter)&&(o.filter=!1),n&&n>0&&(o.headerCheckboxSelection=!1);var s=new Ie(o,null,r,!0);return this.context.wireBean(s),s},e.prototype.generateDefaultColDef=function(e){var t=this.gridOptionsWrapper.getAutoGroupColumnDef(),n={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererFramework)||(n.cellRenderer="agGroupCellRenderer"),e){var r=e.getColDef();de.assign(n,{headerName:this.columnController.getDisplayNameForColumn(e,"header"),headerValueGetter:r.headerValueGetter}),r.cellRenderer&&de.assign(n,{cellRendererParams:{innerRenderer:r.cellRenderer,innerRendererParams:r.cellRendererParams}}),n.showRowGroup=e.getColId()}else n.showRowGroup=!0;return n},e.GROUP_AUTO_COLUMN_BUNDLE_ID=ie.GROUP_AUTO_COLUMN_ID,Ni([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ni([be("context")],e.prototype,"context",void 0),Ni([be("columnController")],e.prototype,"columnController",void 0),Ni([be("columnFactory")],e.prototype,"columnFactory",void 0),t=Ni([we("autoGroupColService")],e)}(),Fi=(ir=function(e,t){return(ir=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ir(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Mi=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Li=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return Fi(t,e),t.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addDestroyableEventListener(this.eventService,xe.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,"paginationPageSize",this.onModelUpdated.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,t,n,r){var o=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return o&&this.calculatePages(),o},t.prototype.onModelUpdated=function(e){this.calculatePages(),this.eventService.dispatchEvent({type:xe.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,keepRenderedRows:!!e&&e.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},t.prototype.goToPage=function(e){this.active&&this.currentPage!==e&&(this.currentPage=e,this.onModelUpdated({type:xe.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return de.missing(this.topRowBounds)||de.missing(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.isRowPresent=function(e){return!!this.rowModel.isRowPresent(e)&&e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.getNodesInRangeForSelection=function(e,t){return this.rowModel.getNodesInRangeForSelection(e,t)},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.goToPageWithIndex=function(e){if(this.active){var t=Math.floor(e/this.pageSize);this.goToPage(t)}},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowFound()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),this.pageSize>=1||(this.pageSize=100)},t.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.pixelOffset=de.exists(this.topRowBounds)?this.topRowBounds.rowTop:0},t.prototype.setZeroRows=function(){this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!de.isNumeric(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var t=this.pageSize*(this.currentPage+1)-1;if(t>e&&(t=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),t===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var n=this.rowModel.getTopLevelRowDisplayedIndex(t+1);this.bottomDisplayedRowIndex=n-1}}else this.setZeroRows()},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!de.isNumeric(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()},t.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Mi([be("rowModel")],t.prototype,"rowModel",void 0),Mi([be("eventService")],t.prototype,"eventService",void 0),Mi([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Mi([be("selectionController")],t.prototype,"selectionController",void 0),Mi([be("columnApi")],t.prototype,"columnApi",void 0),Mi([be("gridApi")],t.prototype,"gridApi",void 0),Mi([me],t.prototype,"postConstruct",null),Mi([we("paginationProxy")],t)}(qe),Vi=(or=function(e,t){return(or=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}or(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Gi=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Wi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vi(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e,this.addDestroyableEventListener(this.eventService,xe.EVENT_BODY_HEIGHT_CHANGED,this.onBodyHeightChanged.bind(this)),this.addDestroyableEventListener(this.eventService,xe.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.checkPageSize()},t.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},t.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},t.prototype.onBodyHeightChanged=function(){this.checkPageSize()},t.prototype.checkPageSize=function(){if(!this.notActive()){var e=this.gridOptionsWrapper.getRowHeightAsNumber(),t=this.gridPanel.getBodyHeight();if(t>0){var n=Math.floor(t/e);this.gridOptionsWrapper.setProperty("paginationPageSize",n)}}},Gi([be("eventService")],t.prototype,"eventService",void 0),Gi([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Gi([be("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Gi([we("paginationAutoPageSizeService")],t)}(qe),Hi=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Bi=function(){function e(){this.cacheVersion=0}return e.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},e.prototype.onDataChanged=function(){this.neverExpires||this.expire()},e.prototype.expire=function(){this.cacheVersion++},e.prototype.setValue=function(e,t,n){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=n)},e.prototype.getValue=function(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]},Hi([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Hi([me],e.prototype,"init",null),Hi([we("valueCache")],e)}(),Ui=(rr=function(e,t){return(rr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}rr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ji=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},zi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ui(t,e),t.prototype.init=function(){this.rowModel.getType()===ie.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addDestroyableEventListener(this.eventService,xe.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){e.source!==ie.SOURCE_PASTE&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,t){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!e.isRowPinned()){var n=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),r=new Gn(n,this.clientSideRowModel.getRootNode());r.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(r)}this.rowRenderer.refreshCells()}},ji([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ji([be("rowModel")],t.prototype,"rowModel",void 0),ji([be("rowRenderer")],t.prototype,"rowRenderer",void 0),ji([be("eventService")],t.prototype,"eventService",void 0),ji([me],t.prototype,"init",null),ji([we("changeDetectionService")],t)}(qe),qi=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ki=function(){function e(){this.consuming=!1}return e.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.init=function(){this.eventService.addEventListener(xe.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(xe.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(xe.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(xe.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(xe.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(xe.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},e.prototype.fireEvent=function(e){if(!this.consuming){var t=this.gridOptionsWrapper.getAlignedGrids();t&&t.forEach((function(t){if(t.api){var n=t.api.__getAlignedGridService();e(n)}}))}},e.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},e.prototype.fireColumnEvent=function(e){this.fireEvent((function(t){t.onColumnEvent(e)}))},e.prototype.fireScrollEvent=function(e){"horizontal"===e.direction&&this.fireEvent((function(t){t.onScrollEvent(e)}))},e.prototype.onScrollEvent=function(e){var t=this;this.onEvent((function(){t.gridPanel.setHorizontalScrollPosition(e.left)}))},e.prototype.getMasterColumns=function(e){var t=[];return e.columns?e.columns.forEach((function(e){t.push(e)})):e.column&&t.push(e.column),t},e.prototype.getColumnIds=function(e){var t=[];return e.columns?e.columns.forEach((function(e){t.push(e.getColId())})):e.column&&t.push(e.column.getColId()),t},e.prototype.onColumnEvent=function(e){var t=this;this.onEvent((function(){switch(e.type){case xe.EVENT_COLUMN_MOVED:case xe.EVENT_COLUMN_VISIBLE:case xe.EVENT_COLUMN_PINNED:case xe.EVENT_COLUMN_RESIZED:t.processColumnEvent(e);break;case xe.EVENT_COLUMN_GROUP_OPENED:t.processGroupOpenedEvent(e);break;case xe.EVENT_COLUMN_PIVOT_CHANGED:console.warn("ag-Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))},e.prototype.processGroupOpenedEvent=function(e){var t,n=e.columnGroup;if(n){var r=n.getGroupId();t=this.columnController.getOriginalColumnGroup(r)}n&&!t||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+n.isExpanded()),this.columnController.setColumnGroupOpened(t,n.isExpanded(),"alignedGridChanged"))},e.prototype.processColumnEvent=function(e){var t,n=this,r=e.column;if(r&&(t=this.columnController.getPrimaryColumn(r.getColId())),!r||t){var o=this.getColumnIds(e),i=this.getMasterColumns(e);switch(e.type){case xe.EVENT_COLUMN_MOVED:var s=e;this.logger.log("onColumnEvent-> processing "+e.type+" toIndex = "+s.toIndex),this.columnController.moveColumns(o,s.toIndex,"alignedGridChanged");break;case xe.EVENT_COLUMN_VISIBLE:var a=e;this.logger.log("onColumnEvent-> processing "+e.type+" visible = "+a.visible),this.columnController.setColumnsVisible(o,a.visible,"alignedGridChanged");break;case xe.EVENT_COLUMN_PINNED:var l=e;this.logger.log("onColumnEvent-> processing "+e.type+" pinned = "+l.pinned),this.columnController.setColumnsPinned(o,l.pinned,"alignedGridChanged");break;case xe.EVENT_COLUMN_RESIZED:var u=e;i.forEach((function(t){n.logger.log("onColumnEvent-> processing "+e.type+" actualWidth = "+t.getActualWidth()),n.columnController.setColumnWidth(t.getColId(),t.getActualWidth(),!1,u.finished,"alignedGridChanged")}))}var c=this.gridPanel.isVerticalScrollShowing();this.gridOptionsWrapper.getAlignedGrids().forEach((function(e){e.api.setAlwaysShowVerticalScroll(c)}))}},qi([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),qi([be("columnController")],e.prototype,"columnController",void 0),qi([be("eventService")],e.prototype,"eventService",void 0),qi([K(0,Se("loggerFactory"))],e.prototype,"setBeans",null),qi([me],e.prototype,"init",null),qi([we("alignedGridsService")],e)}(),Qi=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Yi=function(){function e(){}return e.prototype.adaptFunction=function(e,t,n,r){if(null==t)return{component:null,componentFromFramework:n,source:r,paramsFromSelector:null};var o=this.componentMetadataProvider.retrieve(e);return o&&o.functionAdapter?{componentFromFramework:n,component:o.functionAdapter(t),source:r,paramsFromSelector:null}:null},e.prototype.adaptCellRendererFunction=function(e){return function(){function t(){}return t.prototype.refresh=function(e){return!1},t.prototype.getGui=function(){var t=e(this.params),n=typeof t;return"string"===n||"number"===n||"boolean"===n?de.loadTemplate("<span>"+t+"</span>"):t},t.prototype.init=function(e){this.params=e},t}()},e.prototype.doesImplementIComponent=function(e){return!!e&&e.prototype&&"getGui"in e.prototype},Qi([be("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),Qi([we("agComponentUtils")],e)}(),Zi=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Xi=function(){function e(){}return e.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerComponent:{mandatoryMethodList:[],optionalMethodList:[]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowInnerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},e.prototype.retrieve=function(e){return this.componentMetaData[e]},Zi([be("agComponentUtils")],e.prototype,"agComponentUtils",void 0),Zi([me],e.prototype,"postConstruct",null),Zi([we("componentMetadataProvider")],e)}(),$i=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ji=function(){function e(){}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},$i([be("paginationProxy")],e.prototype,"paginationProxy",void 0),$i([be("context")],e.prototype,"context",void 0),$i([be("columnApi")],e.prototype,"columnApi",void 0),$i([be("gridApi")],e.prototype,"gridApi",void 0),$i([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),$i([be("expressionService")],e.prototype,"expressionService",void 0),$i([be("rowRenderer")],e.prototype,"rowRenderer",void 0),$i([be("$compile")],e.prototype,"$compile",void 0),$i([be("templateService")],e.prototype,"templateService",void 0),$i([be("valueService")],e.prototype,"valueService",void 0),$i([be("eventService")],e.prototype,"eventService",void 0),$i([be("columnController")],e.prototype,"columnController",void 0),$i([be("columnAnimationService")],e.prototype,"columnAnimationService",void 0),$i([Ee("rangeController")],e.prototype,"rangeController",void 0),$i([be("focusedCellController")],e.prototype,"focusedCellController",void 0),$i([Ee("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),$i([be("cellRendererFactory")],e.prototype,"cellRendererFactory",void 0),$i([be("popupService")],e.prototype,"popupService",void 0),$i([be("valueFormatterService")],e.prototype,"valueFormatterService",void 0),$i([be("stylingService")],e.prototype,"stylingService",void 0),$i([be("columnHoverService")],e.prototype,"columnHoverService",void 0),$i([be("userComponentFactory")],e.prototype,"userComponentFactory",void 0),$i([be("animationFrameService")],e.prototype,"taskQueue",void 0),$i([be("dragAndDropService")],e.prototype,"dragAndDropService",void 0),$i([be("sortController")],e.prototype,"sortController",void 0),$i([be("filterManager")],e.prototype,"filterManager",void 0),$i([be("maxDivHeightScaler")],e.prototype,"maxDivHeightScaler",void 0),$i([be("tooltipManager")],e.prototype,"tooltipManager",void 0),$i([be("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),$i([be("detailRowCompCache")],e.prototype,"detailRowCompCache",void 0),$i([be("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),$i([be("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),$i([me],e.prototype,"postConstruct",null),$i([we("beans")],e)}(),es=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ts={"ag-theme-material":{headerHeight:56,virtualItemHeight:40,rowHeight:48},"ag-theme-classic":{headerHeight:25,virtualItemHeight:20,rowHeight:25},"ag-theme-balham":{headerHeight:32,virtualItemHeight:28,rowHeight:28}},ns={headerHeight:["ag-header-row"],virtualItemHeight:["ag-virtual-list-container","ag-virtual-list-item"],rowHeight:["ag-row"]},rs={},os=function(){function e(){}return e.prototype.getSassVariable=function(e,t){var n="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":"classic"),r=ts[n][t],o=0;if(rs[e]||(rs[e]={}),rs[e][t])return rs[e][t];if(ns[t]){var i=ns[t],s=document.createElement("div"),a=i.reduce((function(t,n,r){0===r&&de.addCssClass(t,e);var o=document.createElement("div");return de.addCssClass(o,n),t.appendChild(o),o}),s);document.body&&(document.body.appendChild(s),o=parseInt(window.getComputedStyle(a).height,10),document.body.removeChild(s))}return rs[e][t]=o||r,rs[e][t]},e.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},e.prototype.getTheme=function(){for(var e,t=/\bag-(fresh|dark|blue|material|bootstrap|(?:theme-([\w\-]*)))\b/,n=this.eGridDiv;n&&!(e=t.exec(n.className));)n=n.parentElement;if(!e)return{};var r=e[0];if(void 0===e[2]){var o=r.replace("ag-","ag-theme-");de.doOnce((function(){return console.warn("ag-Grid: As of v19 old theme are no longer provided. Please replace "+r+" with "+o+".")}),"using-old-theme")}return{theme:r,el:n}},es([be("eGridDiv")],e.prototype,"eGridDiv",void 0),es([we("environment")],e)}(),is=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ss=function(){function e(){this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0}return e.prototype.setScrollTop=function(e){this.scrollGoingDown=e>this.lastScrollTop,this.lastScrollTop=e},e.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},e.prototype.verifyAnimationFrameOn=function(e){!1===this.useAnimationFrame&&console.warn("ag-Grid: AnimationFrameService."+e+" called but animation frames are off")},e.prototype.createTask=function(e,t,n){this.verifyAnimationFrameOn(n),this.addTaskToList(this[n],{task:e,index:t}),this.schedule()},e.prototype.addTaskToList=function(e,t){e.list.push(t),e.sorted=!1},e.prototype.sortTaskList=function(e){e.sorted||(e.list.sort(this.scrollGoingDown?function(e,t){return t.index-e.index}:function(e,t){return e.index-t.index}),e.sorted=!0)},e.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},e.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var t=this.createTasksP1,n=t.list,r=this.createTasksP2,o=r.list,i=this.destroyTasks,s=(new Date).getTime(),a=(new Date).getTime()-s,l=e<=0;l||a<e;){if(n.length)this.sortTaskList(t),n.pop().task();else if(o.length)this.sortTaskList(r),o.pop().task();else{if(!i.length)break;i.pop()()}a=(new Date).getTime()-s}n.length||o.length||i.length?this.requestFrame():this.stopTicking()},e.prototype.stopTicking=function(){this.ticking=!1;var e={type:xe.EVENT_ANIMATION_QUEUE_EMPTY,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(e)},e.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},e.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},e.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60);window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.setTimeout(e,0)},e.prototype.isQueueEmpty=function(){return this.ticking},is([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),is([be("eventService")],e.prototype,"eventService",void 0),is([me],e.prototype,"init",null),is([we("animationFrameService")],e)}(),as=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ls=function(){function e(){this.timeLastPageEventProcessed=0}return e.prototype.init=function(){this.scrollWidth=this.gridOptionsWrapper.getScrollbarWidth()},e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.handlePageScrollingKey=function(e){var t=e.which||e.keyCode,n=e.altKey,r=e.ctrlKey,o=this.mouseEventService.getCellPositionForEvent(e);if(!o)return!1;var i=!1;switch(t){case ie.KEY_PAGE_HOME:case ie.KEY_PAGE_END:r||n||(this.onHomeOrEndKey(t),i=!0);break;case ie.KEY_LEFT:case ie.KEY_RIGHT:r&&!n&&(this.onCtrlLeftOrRight(t,o),i=!0);break;case ie.KEY_UP:case ie.KEY_DOWN:r&&!n&&(this.onCtrlUpOrDown(t,o),i=!0);break;case ie.KEY_PAGE_DOWN:r||n||(this.onPageDown(o),i=!0);break;case ie.KEY_PAGE_UP:r||n||(this.onPageUp(o),i=!0)}return i&&e.preventDefault(),i},e.prototype.isTimeSinceLastPageEventToRecent=function(){return(new Date).getTime()-this.timeLastPageEventProcessed<100},e.prototype.setTimeLastPageEventProcessed=function(){this.timeLastPageEventProcessed=(new Date).getTime()},e.prototype.onPageDown=function(e){if(!this.isTimeSinceLastPageEventToRecent()){var t=this.gridPanel.getVScrollPosition(),n=t.bottom-t.top;this.gridPanel.isHorizontalScrollShowing()&&(n-=this.scrollWidth);var r=this.paginationProxy.getPixelOffset(),o=this.paginationProxy.getRowIndexAtPixel(t.top+n+r),i=this.paginationProxy.getRow(e.rowIndex).rowTop,s=this.paginationProxy.getRowIndexAtPixel(i+n-r+r),a=this.paginationProxy.getPageLastRow();s>a&&(s=a),o>a&&(o=a),this.navigateTo(o,"top",null,s,e.column),this.setTimeLastPageEventProcessed()}},e.prototype.onPageUp=function(e){if(!this.isTimeSinceLastPageEventToRecent()){var t=this.gridPanel.getVScrollPosition(),n=t.bottom-t.top;this.gridPanel.isHorizontalScrollShowing()&&(n-=this.scrollWidth);var r=this.paginationProxy.getPixelOffset(),o=this.paginationProxy.getRowIndexAtPixel(t.top+r),i=this.paginationProxy.getRow(e.rowIndex),s=this.paginationProxy.getRowIndexAtPixel(i.rowTop+i.rowHeight-n-r+r),a=this.paginationProxy.getPageFirstRow();s<a&&(s=a),o<a&&(o=a),this.navigateTo(o,"bottom",null,s,e.column),this.setTimeLastPageEventProcessed()}},e.prototype.navigateTo=function(e,t,n,r,o){de.exists(n)&&this.gridPanel.ensureColumnVisible(n),de.exists(e)&&this.gridPanel.ensureIndexVisible(e,t),this.animationFrameService.flushAllFrames(),this.focusedCellController.setFocusedCell(r,o,null,!0),this.rangeController&&this.rangeController.setRangeToCell({rowIndex:r,rowPinned:null,column:o})},e.prototype.onCtrlUpOrDown=function(e,t){var n=e===ie.KEY_UP?0:this.paginationProxy.getPageLastRow();this.navigateTo(n,null,t.column,n,t.column)},e.prototype.onCtrlLeftOrRight=function(e,t){var n=e===ie.KEY_LEFT,r=this.columnController.getAllDisplayedColumns(),o=n?r[0]:de.last(r);this.navigateTo(t.rowIndex,null,o,t.rowIndex,o)},e.prototype.onHomeOrEndKey=function(e){var t=e===ie.KEY_PAGE_HOME,n=this.columnController.getAllDisplayedColumns(),r=t?n[0]:de.last(n),o=t?0:this.paginationProxy.getPageLastRow();this.navigateTo(o,null,r,o,r)},as([be("mouseEventService")],e.prototype,"mouseEventService",void 0),as([be("paginationProxy")],e.prototype,"paginationProxy",void 0),as([be("focusedCellController")],e.prototype,"focusedCellController",void 0),as([be("animationFrameService")],e.prototype,"animationFrameService",void 0),as([Ee("rangeController")],e.prototype,"rangeController",void 0),as([be("columnController")],e.prototype,"columnController",void 0),as([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),as([me],e.prototype,"init",null),as([we("navigationService")],e)}(),us=(nr=function(e,t){return(nr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}nr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),cs=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ps=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return us(t,e),t.prototype.postConstruct=function(){this.addDestroyableEventListener(this.eventService,xe.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.scrollBarWidth=this.gridOptionsWrapper.getScrollbarWidth(),this.maxDivHeight=de.getMaxDivHeight()},t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.isScaling=function(){return this.scaling},t.prototype.getOffset=function(){return this.offset},t.prototype.updateOffset=function(){if(this.scaling){var e=this.gridPanel.getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.uiContainerHeight=this.maxDivHeight,this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight,this.setOffset(this.scrollY/this.maxScrollY*this.pixelsToShave)},t.prototype.clearOffset=function(){this.uiContainerHeight=this.modelHeight,this.pixelsToShave=0,this.setOffset(0)},t.prototype.setOffset=function(e){var t="number"==typeof e?Math.floor(e):null;this.offset!==t&&(this.offset=t,this.eventService.dispatchEvent({type:xe.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.scaling=this.maxDivHeight>0&&e>this.maxDivHeight,this.scaling?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.offset},t.prototype.getUiBodyHeight=function(){var e=this.gridPanel.getVScrollPosition();return e.bottom-e.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var t=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/t)},cs([be("eventService")],t.prototype,"eventService",void 0),cs([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),cs([me],t.prototype,"postConstruct",null),cs([we("maxDivHeightScaler")],t)}(qe),ds=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},hs=function(){function e(){}return e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},e.prototype.updateSelectableAfterGrouping=function(e){this.isRowSelectableFunc&&this.recurseDown(e.childrenAfterGroup,(function(e){return e.childrenAfterGroup}))},e.prototype.updateSelectableAfterFiltering=function(e){this.isRowSelectableFunc&&this.recurseDown(e.childrenAfterGroup,(function(e){return e.childrenAfterFilter}))},e.prototype.recurseDown=function(e,t){var n=this;e.forEach((function(e){if(e.group){var r;if(e.hasChildren()&&n.recurseDown(t(e),t),n.groupSelectsChildren){var o=de.find(t(e),"selectable",!0);r=de.exists(o)}else r=!!n.isRowSelectableFunc&&n.isRowSelectableFunc(e);e.setRowSelectable(r)}}))},ds([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ds([me],e.prototype,"init",null),ds([we("selectableService")],e)}(),fs=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},gs=function(){function e(){}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.getPreferredHeightForRow=function(e){var t=this;this.eDummyContainer||(this.eDummyContainer=document.createElement("div"),de.addCssClass(this.eDummyContainer,"ag-row ag-row-no-focus"));var n=this.gridPanel.getCenterContainer();n.appendChild(this.eDummyContainer);var r=[];this.columnController.getAllAutoRowHeightCols().filter((function(e){return e.isVisible()})).forEach((function(n){var o=new Hr(t.$scope,t.beans,n,e,null,!0,!1);o.setParentRow(t.eDummyContainer),r.push(o)}));var o=r.map((function(e){return e.getCreateTemplate()})).join(" ");this.eDummyContainer.innerHTML=o,r.forEach((function(e){return e.afterAttached()}));for(var i=0,s=0;s<this.eDummyContainer.children.length;s++){var a=this.eDummyContainer.children[s];a.offsetHeight>i&&(i=a.offsetHeight)}return n.removeChild(this.eDummyContainer),r.forEach((function(e){e.detach(),e.destroy()})),de.clearElement(this.eDummyContainer),i},fs([be("beans")],e.prototype,"beans",void 0),fs([be("$scope")],e.prototype,"$scope",void 0),fs([be("columnController")],e.prototype,"columnController",void 0),fs([we("autoHeightCalculator")],e)}(),vs=(tr=function(e,t){return(tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}tr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ys=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ms=function(e){function t(){return e.call(this)||this}return vs(t,e),t.prototype.postConstruct=function(){var e=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",de.createIconNoSpan(e?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",de.createIconNoSpan(e?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",de.createIconNoSpan(e?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",de.createIconNoSpan(e?"first":"last",this.gridOptionsWrapper)),this.rowModel.getType()===ie.ROW_MODEL_TYPE_SERVER_SIDE&&(this.serverSideRowModel=this.rowModel),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addDestroyableEventListener(this.eventService,xe.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addDestroyableEventListener(this.btFirst,"click",this.onBtFirst.bind(this)),this.addDestroyableEventListener(this.btLast,"click",this.onBtLast.bind(this)),this.addDestroyableEventListener(this.btNext,"click",this.onBtNext.bind(this)),this.addDestroyableEventListener(this.btPrevious,"click",this.onBtPrevious.bind(this)),this.onPaginationChanged()):this.setDisplayed(!1)},t.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(e?t+1:0)},t.prototype.formatNumber=function(e){var t=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();return t?t({value:e}):de.formatNumberCommas(e)},t.prototype.getTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("page","Page"),n=e("to","to"),r=e("of","of");return'<div class="ag-paging-panel ag-unselectable">\n                <span ref="eSummaryPanel" class="ag-paging-row-summary-panel">\n                    <span ref="lbFirstRowOnPage"></span> '+n+' <span ref="lbLastRowOnPage"></span> '+r+' <span ref="lbRecordCount"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel">\n                    <div ref="btFirst" class="ag-paging-button">\n                        <button type="button">'+e("first","First")+'</button>\n                    </div>\n                    <div ref="btPrevious" class="ag-paging-button">\n                        <button type="button">'+e("previous","Previous")+"</button>\n                    </div>\n                    "+t+' <span ref="lbCurrent"></span> '+r+' <span ref="lbTotal"></span>\n                    <div ref="btNext" class="ag-paging-button">\n                        <button type="button">'+e("next","Next")+'</button>\n                    </div>\n                    <div ref="btLast" class="ag-paging-button">\n                        <button type="button">'+e("last","Last")+"</button>\n                    </div>\n                </span>\n            </div>"},t.prototype.onBtNext=function(){this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.paginationProxy.goToPreviousPage()},t.prototype.onBtFirst=function(){this.paginationProxy.goToFirstPage()},t.prototype.onBtLast=function(){this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages(),r=0===e;de.addOrRemoveCssClass(this.btPrevious,"ag-disabled",r),de.addOrRemoveCssClass(this.btFirst,"ag-disabled",r);var o=this.isZeroPagesToDisplay();de.addOrRemoveCssClass(this.btNext,"ag-disabled",t&&e===n-1||o),de.addOrRemoveCssClass(this.btLast,"ag-disabled",!t||o||e===n-1)},t.prototype.updateRowLabels=function(){var e,t,n=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.getPageSize(),o=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?(e=0,t=0):(t=(e=r*n+1)+r-1,o&&t>i&&(t=i)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(e),this.lbLastRowOnPage.innerHTML=this.serverSideRowModel&&this.serverSideRowModel.isLoading()?"?":this.formatNumber(t)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&0===t},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),n=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;if(e)this.lbTotal.innerHTML=this.formatNumber(t),this.lbRecordCount.innerHTML=this.formatNumber(n);else{var r=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=r,this.lbRecordCount.innerHTML=r}},ys([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ys([be("eventService")],t.prototype,"eventService",void 0),ys([be("paginationProxy")],t.prototype,"paginationProxy",void 0),ys([be("rowRenderer")],t.prototype,"rowRenderer",void 0),ys([be("rowModel")],t.prototype,"rowModel",void 0),ys([Xe("btFirst")],t.prototype,"btFirst",void 0),ys([Xe("btPrevious")],t.prototype,"btPrevious",void 0),ys([Xe("btNext")],t.prototype,"btNext",void 0),ys([Xe("btLast")],t.prototype,"btLast",void 0),ys([Xe("lbRecordCount")],t.prototype,"lbRecordCount",void 0),ys([Xe("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),ys([Xe("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),ys([Xe("eSummaryPanel")],t.prototype,"eSummaryPanel",void 0),ys([Xe("lbCurrent")],t.prototype,"lbCurrent",void 0),ys([Xe("lbTotal")],t.prototype,"lbTotal",void 0),ys([me],t.prototype,"postConstruct",null),t}(Qe),Cs=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ws=function(){function e(){}return e.prototype.observeResize=function(e,t,n){void 0===n&&(n=50);var r,o,i,s,a,l=this.frameworkOverrides,u=de.debounce(t,n),c=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return window.ResizeObserver&&!c?((a=new window.ResizeObserver(u)).observe(e),function(){return a.disconnect()}):(r=de.offsetWidth(e),o=de.offsetHeight(e),i=!0,(s=function(){if(i){var a=de.offsetWidth(e),u=de.offsetHeight(e);(a!==r||u!==o)&&(r=a,o=u,t()),l.setTimeout(s,n)}})(),function(){return i=!1})},Cs([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Cs([be("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),Cs([we("resizeObserverService")],e)}(),bs=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Es=function(){function e(){this.DEFAULT_HIDE_TOOLTIP_TIMEOUT=1e4,this.MOUSEOUT_HIDE_TOOLTIP_TIMEOUT=1e3,this.MOUSEOVER_SHOW_TOOLTIP_TIMEOUT=2e3,this.HIDE_SHOW_ONLY=!0,this.showTimeoutId=0,this.hideTimeoutId=0,this.registeredComponents={}}return e.prototype.registerTooltip=function(e){var t=this,n=e.getGui(),r=e.getCompId();this.registeredComponents[r]={tooltipComp:void 0,destroyFunc:void 0,eventDestroyFuncs:[e.addDestroyableEventListener(n,"mouseover",(function(n){return t.processMouseOver(n,e)})),e.addDestroyableEventListener(n,"mousemove",(function(e){return t.processMouseMove(e)})),e.addDestroyableEventListener(n,"mousedown",this.hideTooltip.bind(this)),e.addDestroyableEventListener(n,"mouseout",this.processMouseOut.bind(this))]},e.addDestroyFunc((function(){return t.unregisterTooltip(e)}))},e.prototype.unregisterTooltip=function(e){var t=e.getCompId(),n=this.registeredComponents[t];this.activeComponent===e&&this.hideTooltip(),e.isAlive()&&n&&n.eventDestroyFuncs.length&&n.eventDestroyFuncs.forEach((function(e){return e()})),delete this.registeredComponents[t]},e.prototype.processMouseOver=function(e,t){var n=this.MOUSEOVER_SHOW_TOOLTIP_TIMEOUT;if(this.activeComponent){if(this.lastHoveredComponent===this.activeComponent)return;n=200}else if(this.showTimeoutId&&this.lastHoveredComponent===t)return;this.clearTimers(this.HIDE_SHOW_ONLY),this.lastHoveredComponent!==t&&(this.lastHoveredComponent=t,this.lastMouseEvent=e,this.showTimeoutId=window.setTimeout(this.showTooltip.bind(this),n,e))},e.prototype.processMouseOut=function(e){var t=this.activeComponent,n=e.relatedTarget;if(t){if(!t.getGui().contains(n)){var r=this.registeredComponents[t.getCompId()];de.addCssClass(r.tooltipComp.getGui(),"ag-tooltip-hiding"),this.lastHoveredComponent=void 0,this.clearTimers(),this.hideTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.MOUSEOUT_HIDE_TOOLTIP_TIMEOUT)}}else{if(this.lastHoveredComponent){var o=this.lastHoveredComponent.getGui().contains(n);if(this.showTimeoutId&&o)return;o||(this.lastHoveredComponent=void 0)}this.clearTimers()}},e.prototype.processMouseMove=function(e){this.lastMouseEvent=e},e.prototype.showTooltip=function(e){var t=this.lastHoveredComponent,n=t,r=this.registeredComponents[t.getCompId()];this.hideTooltip();var o={api:this.gridApi,columnApi:this.columnApi,colDef:t.getComponentHolder(),column:n.getColumn&&n.getColumn(),context:this.gridOptionsWrapper.getContext(),rowIndex:n.getCellPosition&&n.getCellPosition().rowIndex,value:t.getTooltipText()};this.createTooltipComponent(o,r,e)},e.prototype.createTooltipComponent=function(e,t,n){var r=this,o=this.lastMouseEvent;o&&this.userComponentFactory.newTooltipComponent(e).then((function(e){if(t){t.tooltipComp=e;var n=e.getGui();de.containsClass(n,"ag-tooltip")||de.addCssClass(n,"ag-tooltip-custom");var i=r.popupService.addPopup(!1,n,!1);t.destroyFunc=function(){i(),e.destroy&&e.destroy()},r.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:o,ePopup:n,nudgeY:18}),r.activeComponent=r.lastHoveredComponent,r.hideTimeoutId=window.setTimeout(r.hideTooltip.bind(r),r.DEFAULT_HIDE_TOOLTIP_TIMEOUT)}}))},e.prototype.hideTooltip=function(){var e=this.activeComponent;if(this.clearTimers(),e){var t=e.getCompId(),n=this.registeredComponents[t];this.activeComponent=void 0,n&&(n.destroyFunc&&n.destroyFunc(),this.clearRegisteredComponent(n))}},e.prototype.clearRegisteredComponent=function(e){delete e.destroyFunc,delete e.tooltipComp},e.prototype.clearTimers=function(e){void 0===e&&(e=!1),this.hideTimeoutId&&!e&&(window.clearTimeout(this.hideTimeoutId),this.hideTimeoutId=0),this.showTimeoutId&&(window.clearTimeout(this.showTimeoutId),this.showTimeoutId=0)},bs([be("popupService")],e.prototype,"popupService",void 0),bs([be("userComponentFactory")],e.prototype,"userComponentFactory",void 0),bs([be("columnApi")],e.prototype,"columnApi",void 0),bs([be("gridApi")],e.prototype,"gridApi",void 0),bs([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),bs([we("tooltipManager")],e)}(),_s=(er=function(e,t){return(er=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}er(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ss=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Rs=function(e){return e[e.Loading=0]="Loading",e[e.NoRows=1]="NoRows",e}({}),Ts=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return _s(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.addLayoutElement(this.eOverlayWrapper),this.setDisplayed(!1)},t.prototype.setWrapperTypeClass=function(e){de.addOrRemoveCssClass(this.eOverlayWrapper,"ag-overlay-loading-wrapper",e===Rs.Loading),de.addOrRemoveCssClass(this.eOverlayWrapper,"ag-overlay-no-rows-wrapper",e===Rs.NoRows)},t.prototype.showLoadingOverlay=function(){var e=this;this.setWrapperTypeClass(Rs.Loading),this.destroyActiveOverlay();var t={api:this.gridOptionsWrapper.getApi()};this.userComponentFactory.newLoadingOverlayComponent(t).then((function(t){e.eOverlayWrapper.appendChild(t.getGui()),e.activeOverlay=t})),this.setDisplayed(!0)},t.prototype.showNoRowsOverlay=function(){var e=this;this.setWrapperTypeClass(Rs.NoRows),this.destroyActiveOverlay();var t={api:this.gridOptionsWrapper.getApi()};this.userComponentFactory.newNoRowsOverlayComponent(t).then((function(t){e.eOverlayWrapper.appendChild(t.getGui()),e.activeOverlay=t})),this.setDisplayed(!0)},t.prototype.destroyActiveOverlay=function(){this.activeOverlay&&(this.activeOverlay.destroy&&this.activeOverlay.destroy(),this.activeOverlay=void 0,de.clearElement(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.destroyActiveOverlay()},t.TEMPLATE='<div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Ss([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ss([be("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ss([Xe("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),Ss([me],t.prototype,"postConstruct",null),t}(Qe),Os=(Jn=function(e,t){return(Jn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Jn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ds=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Is=function(e){function t(n){var r=e.call(this,t.TEMPLATE)||this;r.suppressEnabledCheckbox=!0,r.suppressOpenCloseIcons=!1,n||(n={});var o=n.enabled,i=n.items,s=n.suppressEnabledCheckbox,a=n.suppressOpenCloseIcons;return r.title=n.title,r.enabled=null==o||o,r.items=i||[],r.alignItems=n.alignItems||"center",null!=s&&(r.suppressEnabledCheckbox=s),null!=a&&(r.suppressOpenCloseIcons=a),r}return Os(t,e),t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var t=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(t("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(de.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(de.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.setOpenClosedIcons(),this.addDestroyableEventListener(this.groupTitle,"click",(function(){return e.toggleGroupExpand()}))},t.prototype.setOpenClosedIcons=function(){var e=this.expanded;de.setDisplayed(this.eGroupClosedIcon,!e),de.setDisplayed(this.eGroupOpenedIcon,e)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){var t=this.getGui();this.alignItems!==e&&de.removeCssClass(t,"ag-alignment-"+this.alignItems),this.alignItems=e;var n="ag-alignment-"+this.alignItems;return"center"===e||de.containsClass(t,n)||de.addCssClass(t,n),this},t.prototype.toggleGroupExpand=function(e){var t=this.getGui();return this.suppressOpenCloseIcons?(this.expanded=!0,de.removeCssClass(t,"ag-collapsed"),this):this.expanded===(e=null!=e?e:!this.expanded)?this:(this.expanded=e,this.setOpenClosedIcons(),de.addOrRemoveCssClass(t,"ag-collapsed",!e),this.dispatchEvent(this.expanded?{type:"expanded"}:{type:"collapsed"}),this)},t.prototype.addItems=function(e){var t=this;e.forEach((function(e){return t.addItem(e)}))},t.prototype.addItem=function(e){var t=this.groupContainer,n=e instanceof Qe?e.getGui():e;de.addCssClass(n,"ag-group-item"),t.appendChild(n),this.items.push(n)},t.prototype.hideItem=function(e,t){de.addOrRemoveCssClass(this.items[t],"ag-hidden",e)},t.prototype.setTitle=function(e){return this.lbGroupTitle.innerText=e,this},t.prototype.setEnabled=function(e,t){return this.enabled=e,de.addOrRemoveCssClass(this.getGui(),"ag-disabled",!e),this.toggleGroupExpand(e),t||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var t=this;return this.cbGroupEnabled.onValueChange((function(n){t.setEnabled(n,!0),e(n)})),this},t.prototype.hideEnabledCheckbox=function(e){return de.addOrRemoveCssClass(this.eToolbar,"ag-hidden",e),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,de.addOrRemoveCssClass(this.getGui(),"ag-collapsible",!e),e&&this.toggleGroupExpand(!0),this},t.TEMPLATE='<div class="ag-group-component">\n            <div class="ag-group-component-title-bar" ref="groupTitle">\n                 <span class="ag-column-group-icons">\n                    <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n                    <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                </span>\n                <span ref="lbGroupTitle" class="ag-group-component-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-component-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-component-container"></div>\n        </div>',Ds([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ds([Xe("groupTitle")],t.prototype,"groupTitle",void 0),Ds([Xe("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),Ds([Xe("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),Ds([Xe("eToolbar")],t.prototype,"eToolbar",void 0),Ds([Xe("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),Ds([Xe("lbGroupTitle")],t.prototype,"lbGroupTitle",void 0),Ds([Xe("eContainer")],t.prototype,"groupContainer",void 0),Ds([me],t.prototype,"postConstruct",null),t}(Qe),As=($n=function(e,t){return($n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}$n(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ks=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ps=function(e){function t(n){var r=e.call(this,t.TEMPLATE)||this;return r.closable=!0,r.positioned=!1,r.dragStartPosition={x:0,y:0},r.position={x:0,y:0},r.size={width:void 0,height:void 0},r.config=n,r}return As(t,e),t.prototype.postConstruct=function(){var e=this,t=this.config,n=t.component,r=t.closable,o=t.hideTitleBar,i=t.title,s=t.minWidth,a=t.width,l=t.minHeight,u=t.height,c=t.centered,p=t.x,d=t.y,h=this.getGui();n&&this.setBodyComponent(n),o?de.addCssClass(this.eTitleBar,"ag-hidden"):(i&&this.setTitle(i),this.setClosable(null!=r?r:this.closable)),this.addDestroyableEventListener(this.eTitleBar,"mousedown",(function(t){if(h.contains(t.relatedTarget)||h.contains(document.activeElement)||e.eTitleBarButtons.contains(t.target))t.preventDefault();else{var n=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");n&&n.focus()}})),this.positioned||(this.minHeight=null!=l?l:250,this.minWidth=null!=s?s:250,this.popupParent=this.popupService.getPopupParent(),a&&this.setWidth(a),u&&this.setHeight(u),this.renderComponent&&this.renderComponent(),a&&u||this.refreshSize(),c?this.center():(p||d)&&this.offsetElement(p,d),this.positioned=!0,this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,t=this.getGui();t.focus(),this.close=function(){t.parentElement.removeChild(t),e.destroy()}},t.prototype.updateDragStartPosition=function(e,t){this.dragStartPosition={x:e,y:t}},t.prototype.calculateMouseMovement=function(e){var t=this.popupParent.getBoundingClientRect(),n=e.e,r=e.isLeft,o=e.isTop,i=e.anywhereWithin,s=e.topBuffer,a=n.clientX-this.dragStartPosition.x,l=n.clientY-this.dragStartPosition.y,u=this.getWidth(),c=this.getHeight(),p=t.left>=n.clientX&&this.position.x<=0||t.right<=n.clientX&&t.right<=this.position.x+t.left+u;return p||(p=r?a<0&&n.clientX>this.position.x+t.left||a>0&&n.clientX<this.position.x+t.left:i?a<0&&n.clientX>this.position.x+t.left+u||a>0&&n.clientX<this.position.x+t.left:a<0&&n.clientX>this.position.x+t.left+u||a>0&&n.clientX<this.position.x+t.left+u),{movementX:a=p?0:a,movementY:l=t.top>=n.clientY&&this.position.y<=0||t.bottom<=n.clientY&&t.bottom<=this.position.y+t.top+c||o&&(l<0&&n.clientY>this.position.y+t.top+(s||0)||l>0&&n.clientY<this.position.y+t.top)||!o&&(l<0&&n.clientY>this.position.y+t.top+c||l>0&&n.clientY<this.position.y+t.top+c)?0:l}},t.prototype.refreshSize=function(){var e=this.size,t=e.height;e.width||this.setWidth(this.getGui().offsetWidth),t||this.setHeight(this.getGui().offsetHeight)},t.prototype.offsetElement=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var n=this.getGui();this.popupService.positionPopup({ePopup:n,x:e,y:t,minWidth:this.minWidth,minHeight:this.minHeight,keepWithinBounds:!0}),this.position.x=parseInt(n.style.left,10),this.position.y=parseInt(n.style.top,10)},t.prototype.getHeight=function(){return this.size.height},t.prototype.setHeight=function(e){var t=this.getGui(),n=!1;if("string"==typeof e&&-1!==e.indexOf("%"))de.setFixedHeight(t,e),e=de.getAbsoluteHeight(t),n=!0;else{e=Math.max(this.minHeight,e);var r=t.offsetParent;r&&r.clientHeight&&e+this.position.y>r.clientHeight&&(e=r.clientHeight-this.position.y)}this.size.height!==e&&(this.size.height=e,n?(t.style.maxHeight="unset",t.style.minHeight="unset"):de.setFixedHeight(t,e))},t.prototype.getWidth=function(){return this.size.width},t.prototype.setWidth=function(e){var t=this.getGui(),n=!1;if("string"==typeof e&&-1!==e.indexOf("%"))de.setFixedWidth(t,e),e=de.getAbsoluteWidth(t),n=!0;else{e=Math.max(this.minWidth,e);var r=t.offsetParent;r&&r.clientWidth&&e+this.position.x>r.clientWidth&&(e=r.clientWidth-this.position.x)}this.size.width!==e&&(this.size.width=e,n?(t.style.maxWidth="unset",t.style.minWidth="unset"):de.setFixedWidth(t,e))},t.prototype.center=function(){var e=this.getGui(),t=e.offsetParent.clientWidth/2-this.getWidth()/2,n=e.offsetParent.clientHeight/2-this.getHeight()/2;this.offsetElement(t,n)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var n=this.closeButtonComp=new Qe(t.CLOSE_BTN_TEMPLATE);this.getContext().wireBean(n),(r=n.getGui()).appendChild(de.createIconNoSpan("close",this.gridOptionsWrapper)),this.addTitleBarButton(n),n.addDestroyableEventListener(r,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var r;(r=this.closeButtonComp.getGui()).parentElement.removeChild(r),this.closeButtonComp.destroy(),this.closeButtonComp=void 0}},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,t){var n=this.eTitleBarButtons,r=n.children,o=r.length;null==t&&(t=o),t=Math.max(0,Math.min(t,o));var i=e.getGui();de.addCssClass(i,"ag-button"),0===t?n.insertAdjacentElement("afterbegin",i):t===o?n.insertAdjacentElement("beforeend",i):r[t-1].insertAdjacentElement("afterend",i),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return de.getInnerHeight(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return de.getInnerWidth(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.closeButtonComp&&(this.closeButtonComp.destroy(),this.closeButtonComp=void 0);var t=this.getGui();t&&t.offsetParent&&this.close()},t.TEMPLATE='<div class="ag-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper"></div>\n        </div>',t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',ks([be("popupService")],t.prototype,"popupService",void 0),ks([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ks([Xe("eContentWrapper")],t.prototype,"eContentWrapper",void 0),ks([Xe("eTitleBar")],t.prototype,"eTitleBar",void 0),ks([Xe("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),ks([Xe("eTitle")],t.prototype,"eTitle",void 0),ks([me],t.prototype,"postConstruct",null),t}(Qe),Ns=(Xn=function(e,t){return(Xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Xn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),xs=function(e){function t(t){var n=e.call(this,t)||this;return n.RESIZE_TEMPLATE='\n        <div class="ag-resizer-wrapper">\n            <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n            <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n            <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n            <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n            <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n            <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n            <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n            <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n        </div>\n    ',n.MAXIMIZE_BTN_TEMPLATE='<div class="ag-dialog-button"></span>',n.resizable={},n.isResizable=!1,n.movable=!1,n.isMoving=!1,n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.isResizing=!1,n.lastPosition={x:0,y:0,width:0,height:0},n}return Ns(t,e),t.prototype.postConstruct=function(){var t=this,n=this.getGui(),r=this.config,o=r.movable,i=r.resizable,s=r.maximizable;de.addCssClass(n,"ag-dialog"),this.moveElement=this.eTitleBar,e.prototype.postConstruct.call(this),this.addDestroyableEventListener(n,"focusin",(function(e){n.contains(e.relatedTarget)||t.popupService.bringPopupToFront(n)})),o&&this.setMovable(o),s&&this.setMaximizable(s),this.addResizers(),i&&this.setResizable(i)},t.prototype.renderComponent=function(){var e=this.getGui(),t=this.config,n=t.alwaysOnTop;this.close=this.popupService.addPopup(t.modal,e,!0,this.destroy.bind(this),void 0,n),e.focus()},t.prototype.addResizers=function(){var e=this.getGui();if(e){var t=(new DOMParser).parseFromString(this.RESIZE_TEMPLATE,"text/html").body;e.appendChild(t.firstChild),this.createMap()}},t.prototype.createMap=function(){var e=this.getGui();this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e){this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onResize=function(e,t){if(this.isResizing){var n=!!t.match(/left/i),r=!!t.match(/right/i),o=!!t.match(/top/i),i=!!t.match(/bottom/i),s=n||r,a=o||i,l=this.calculateMouseMovement({e:e,isLeft:n,isTop:o}),u=l.movementX,c=l.movementY,p=0,d=0;if(s&&u){var h=n?-1:1,f=this.getWidth(),g=f+u*h,v=!1;n&&(this.position.x+(p=f-g)<=0||g<=this.minWidth)&&(v=!0,p=0),v||this.setWidth(g)}if(a&&c){h=o?-1:1;var y=this.getHeight(),m=y+c*h,C=!1;o&&(this.position.y+(d=y-m)<=0||m<=this.minHeight)&&(C=!0,d=0),C||this.setHeight(m)}this.updateDragStartPosition(e.clientX,e.clientY),(p||d)&&this.offsetElement(this.position.x+p,this.position.y+d)}},t.prototype.onResizeEnd=function(){this.isResizing=!1;var e={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.localEventService&&this.localEventService.dispatchEvent(e)},t.prototype.onMoveStart=function(e){this.isMoving=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var t=this.position,n=t.x,r=t.y,o=this.calculateMouseMovement({e:e,isTop:!0,anywhereWithin:!0,topBuffer:this.getHeight()-this.getBodyHeight()});this.offsetElement(n+o.movementX,r+o.movementY),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1},t.prototype.toggleMaximize=function(){if(this.isMaximized){var e=this.lastPosition,t=e.x,n=e.y,r=e.height;this.setWidth(e.width),this.setHeight(r),this.offsetElement(t,n)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=this.position.x,this.lastPosition.y=this.position.y,this.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){de.addOrRemoveCssClass(this.maximizeIcon,"ag-hidden",this.isMaximized),de.addOrRemoveCssClass(this.minimizeIcon,"ag-hidden",!this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach((function(e){return e()})),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.setResizable(!1),this.setMovable(!1),this.maximizeButtonComp&&(this.maximizeButtonComp.destroy(),this.maximizeButtonComp=void 0),this.clearMaximizebleListeners()},t.prototype.setResizable=function(e){var t=this,n=!1;"boolean"==typeof e&&(e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}),Object.keys(e).forEach((function(r){var o=r,i=!!e[o],s=t.getResizerElement(o),a=t.resizerMap[o].dragSource||{eElement:s,onDragStart:t.onResizeStart.bind(t),onDragging:function(e){return t.onResize(e,o)},onDragStop:t.onResizeEnd.bind(t)};!!t.resizable[o]===i&&(t.isAlive()||i)||(i?(t.dragService.addDragSource(a),s.style.pointerEvents="all",n=!0):(t.dragService.removeDragSource(a),s.style.pointerEvents="none"),t.resizerMap[o].dragSource=i?a:void 0)})),this.isResizable=n},t.prototype.setMovable=function(e){if(e!==this.movable){this.movable=e;var t=this.moveElementDragListener||{eElement:this.moveElement,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(t),this.moveElementDragListener=t):(this.dragService.removeDragSource(t),this.moveElementDragListener=void 0)}},t.prototype.setMaximizable=function(e){var t=this;if(!1===e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.maximizeButtonComp.destroy(),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var n=this.eTitleBar;if(n&&e!==this.isMaximizable){var r=this.maximizeButtonComp=new Qe(this.MAXIMIZE_BTN_TEMPLATE);this.getContext().wireBean(r);var o=r.getGui();o.appendChild(this.maximizeIcon=de.createIconNoSpan("maximize",this.gridOptionsWrapper)),o.appendChild(this.minimizeIcon=de.createIconNoSpan("minimize",this.gridOptionsWrapper)),de.addCssClass(this.minimizeIcon,"ag-hidden"),r.addDestroyableEventListener(o,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(r,0),this.maximizeListeners.push(this.addDestroyableEventListener(n,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addDestroyableEventListener(this,"resize",(function(){t.isMaximized=!1,t.refreshMaximizeIcon()}))}},function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([be("dragService")],t.prototype,"dragService",void 0),t}(Ps),Fs=(Zn=function(e,t){return(Zn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Zn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ms=function(e){function t(t){var n=e.call(this)||this;return n.className="ag-text-field",n.displayTag="input",n.inputType="text",n.setTemplate(n.TEMPLATE.replace(/%displayField%/g,n.displayTag)),t&&(n.config=t),n}return Fs(t,e),t.prototype.setValue=function(t,n){var r=e.prototype.setValue.call(this,t,n);return this.eInput.value!==t&&(this.eInput.value=t),r},t}(no),Ls=(Yn=function(e,t){return(Yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Yn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Vs=function(e){function t(t){var n=e.call(this)||this;return n.className="ag-text-area",n.displayTag="textarea",n.inputType="",n.setTemplate(n.TEMPLATE.replace(/%displayField%/g,n.displayTag)),t&&(n.config=t),n}return Ls(t,e),t.prototype.setValue=function(t,n){var r=e.prototype.setValue.call(this,t,n);return this.eInput.value=t,r},t}(no),Gs=(Qn=function(e,t){return(Qn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Qn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ws=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Hs=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.labelAlignment="top",n}return Gs(t,e),t.prototype.onValueChange=function(e){var t=this,n=Jr.EVENT_CHANGED;return this.addDestroyableEventListener(this.eText,n,(function(){var n=parseFloat(t.eText.getValue());t.eSlider.setValue(n.toString(),!0),e(n||0)})),this.addDestroyableEventListener(this.eSlider,n,(function(){var n=t.eSlider.getValue();t.eText.setValue(n,!0),e(parseFloat(n))})),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e?this:(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:Jr.EVENT_CHANGED}),this)},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',Ws([Xe("eLabel")],t.prototype,"eLabel",void 0),Ws([Xe("eSlider")],t.prototype,"eSlider",void 0),Ws([Xe("eText")],t.prototype,"eText",void 0),t}(Xr),Bs=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Us=function(e){function t(n){var r=e.call(this,t.TEMPLATE)||this;return r.H=1,r.S=1,r.B=1,r.A=1,r.isSpectrumDragging=!1,r.isSpectrumHueDragging=!1,r.isSpectrumAlphaDragging=!1,r.colorChanged=!1,r.picker=n.picker,r}return Q(t,e),t.prototype.postConstruct=function(){var e=this.getGui();this.initRecentColors(),this.addDestroyableEventListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addDestroyableEventListener(e,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addDestroyableEventListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addDestroyableEventListener(e,"mousemove",this.onSpectrumHueMove.bind(this)),this.addDestroyableEventListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addDestroyableEventListener(e,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addDestroyableEventListener(document,"mouseup",this.onMouseUp.bind(this)),this.addDestroyableEventListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},t.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},t.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},t.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},t.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},t.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},t.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},t.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},t.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},t.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},t.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},t.prototype.moveDragger=function(e){var t=this.spectrumValRect;if(t){var n=e.clientX-t.left,r=e.clientY-t.top;n=Math.max(n,0),n=Math.min(n,t.width),r=Math.max(r,0),r=Math.min(r,t.height),this.setSpectrumValue(n/t.width,1-r/t.height)}},t.prototype.moveHueSlider=function(e){var t=this.spectrumHueRect;if(t){var n=this.spectrumHueSlider,r=n.getBoundingClientRect(),o=e.clientX-t.left;o=Math.max(o,0),o=Math.min(o,t.width),this.H=1-o/t.width,n.style.left=o+r.width/2+"px",this.update()}},t.prototype.moveAlphaSlider=function(e){var t=this.spectrumAlphaRect;if(t){var n=this.spectrumAlphaSlider,r=n.getBoundingClientRect(),o=e.clientX-t.left;o=Math.max(o,0),o=Math.min(o,t.width),this.A=o/t.width,n.style.left=o+r.width/2+"px",this.update()}},t.prototype.update=function(){var e=oe.fromHSB(360*this.H,this.S,this.B,this.A),t=oe.fromHSB(360*this.H,1,1),n=e.toRgbaString(),r=this.picker;oe.fromString(r.getValue()).toRgbaString()!==n&&(this.colorChanged=!0),r.setValue(n),this.spectrumColor.style.backgroundColor=t.toRgbaString(),this.spectrumDragger.style.backgroundColor=n},t.prototype.setSpectrumValue=function(e,t){var n=this.spectrumValRect||this.refreshSpectrumRect();if(n){var r=this.spectrumDragger,o=r.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),t=Math.max(0,t),t=Math.min(1,t),this.S=e,this.B=t,r.style.left=e*n.width-o.width/2+"px",r.style.top=(1-t)*n.height-o.height/2+"px",this.update()}},t.prototype.initRecentColors=function(){var e=t.recentColors.map((function(e,t){return'<div class="ag-recent-color" id='+t+' style="background-color: '+e+'; width: 15px; height: 15px;" recent-color="'+e+'"></div>'}));this.recentColors.innerHTML=e.join("")},t.prototype.setValue=function(e){var t=oe.fromString(e),n=t.toHSB(),r=n[0],o=n[1],i=n[2];this.H=(isNaN(r)?0:r)/360,this.A=t.a;var s=this.spectrumHueRect||this.refreshHueRect(),a=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-s.width+"px",this.spectrumAlphaSlider.style.left=this.A*a.width+"px",this.setSpectrumValue(o,i)},t.prototype.onRecentColorClick=function(e){var n=e.target;if(de.exists(n.id)){var r=parseInt(n.id,10);this.setValue(t.recentColors[r]),this.destroy()}},t.prototype.addRecentColor=function(){var e=oe.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),n=t.recentColors;this.colorChanged&&n[0]!==e&&(n=n.filter((function(t){return t!=e})),(n=[e].concat(n)).length>t.maxRecentColors&&(n=n.slice(0,t.maxRecentColors)),t.recentColors=n)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.addRecentColor()},t.maxRecentColors=8,t.recentColors=[],t.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-hue-alpha">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-hue-alpha">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',Bs([Xe("spectrumColor")],t.prototype,"spectrumColor",void 0),Bs([Xe("spectrumVal")],t.prototype,"spectrumVal",void 0),Bs([Xe("spectrumDragger")],t.prototype,"spectrumDragger",void 0),Bs([Xe("spectrumHue")],t.prototype,"spectrumHue",void 0),Bs([Xe("spectrumHueSlider")],t.prototype,"spectrumHueSlider",void 0),Bs([Xe("spectrumAlpha")],t.prototype,"spectrumAlpha",void 0),Bs([Xe("spectrumAlphaSlider")],t.prototype,"spectrumAlphaSlider",void 0),Bs([Xe("recentColors")],t.prototype,"recentColors",void 0),Bs([me],t.prototype,"postConstruct",null),t}(Qe),js=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},zs=function(e){function t(t){var n=e.call(this)||this;return n.displayTag="div",n.className="ag-color-picker",n.pickerIcon="colorPicker",n.setTemplate(n.TEMPLATE.replace(/%displayField%/g,n.displayTag)),t&&t.color&&(n.value=t.color),n}return Z(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),de.addCssClass(this.getGui(),this.className),this.addDestroyableEventListener(this.eDisplayField,"click",(function(){return t.showPicker()})),this.value&&this.setValue(this.value)},t.prototype.showPicker=function(){var e=this;if(this.displayedPicker)this.displayedPicker=!1;else{var t=this.getGui().getBoundingClientRect(),n=new xs({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:t.right-190,y:t.top-250});this.getContext().wireBean(n),de.addCssClass(n.getGui(),"ag-color-dialog");var r=new Us({picker:this});this.getContext().wireBean(r),r.addDestroyFunc((function(){n.isAlive()&&n.destroy()})),n.setParentComponent(this),n.setBodyComponent(r),r.setValue(this.getValue()),n.addDestroyFunc((function(){var t=e.isDestroyingPicker;e.displayedPicker=!1,t?e.isDestroyingPicker=!1:(e.isDestroyingPicker=!0,r.isAlive()&&r.destroy())}))}},t.prototype.setValue=function(e){return this.value===e?this:(this.value=e,this.eDisplayField.style.backgroundColor=e,this.dispatchEvent({type:Jr.EVENT_CHANGED}),this)},t.prototype.getValue=function(){return this.value},t}(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.TEMPLATE='<div class="ag-picker-field">\n            <label ref="eLabel"></label>\n            <div ref="eWrapper" class="ag-wrapper">\n                <%displayField% ref="eDisplayField"></%displayField%>\n                <button ref="eButton" class="ag-picker-button"> </button>\n            </div>\n        </div>',t.displayedPicker=!1,t.isDestroyingPicker=!1,t}return Y(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.addDestroyableEventListener(this.eButton,"click",(function(){t.showPicker()})),this.pickerIcon&&this.eButton.appendChild(de.createIconNoSpan(this.pickerIcon,this.gridOptionsWrapper,null))},t.prototype.setInputWidth=function(e){return de.setElementWidth(this.eWrapper,e),this},js([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),js([Xe("eLabel")],t.prototype,"eLabel",void 0),js([Xe("eWrapper")],t.prototype,"eWrapper",void 0),js([Xe("eDisplayField")],t.prototype,"eDisplayField",void 0),js([Xe("eButton")],t.prototype,"eButton",void 0),t}(Jr)),qs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.className="ag-number-field",t.inputType="number",t}return X(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.addDestroyableEventListener(this.eInput,"blur",(function(){var e=t.normalizeValue(t.eInput.value);t.value!==e&&t.setValue(e)}))},t.prototype.normalizeValue=function(e){if(""===e)return"";this.precision&&(e=this.adjustPrecision(e));var t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e){if(this.precision){var t=parseFloat(e).toFixed(this.precision);e=parseFloat(t).toString()}return e},t.prototype.setMin=function(e){return this.min===e?this:(this.min=e,null!=this.min?this.eInput.setAttribute("min",e.toString()):this.eInput.removeAttribute("min"),this)},t.prototype.setMax=function(e){return this.max===e?this:(this.max=e,null!=this.max?this.eInput.setAttribute("max",e.toString()):this.eInput.removeAttribute("max"),this)},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e?this:(this.step=e,null!=e?this.eInput.setAttribute("step",e.toString()):this.eInput.removeAttribute("step"),this)},t.prototype.setValue=function(t,n){return(t=this.adjustPrecision(t))!=this.normalizeValue(t)?this:e.prototype.setValue.call(this,t,n)},t}(Ms),Ks=function(e){function t(t){var n=e.call(this)||this;return n.className="ag-range-field",n.displayTag="input",n.inputType="range",n.setTemplate(n.TEMPLATE.replace(/%displayField%/g,n.displayTag)),t&&(n.config=t),n}return $(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this);var t=this.config,n=t.min,r=t.max,o=t.step;null!=n&&this.setMinValue(n),null!=r&&this.setMaxValue(r),this.setStep(o||1)},t.prototype.addInputListeners=function(){var e=this,t=de.isBrowserIE();this.addDestroyableEventListener(this.eInput,t?"change":"input",(function(t){e.setValue(t.target.value)}))},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.step=e,this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(t,n){null!=this.min&&(t=Math.max(parseFloat(t),this.min).toString()),null!=this.max&&(t=Math.min(parseFloat(t),this.max).toString());var r=e.prototype.setValue.call(this,t,n);return this.eInput.value=t,r},t}(no),Qs=function(e){function t(){var t=e.call(this)||this;return t.className="ag-select",t.displayTag="select",t.inputType="",t.setTemplate(t.TEMPLATE.replace(/%displayField%/g,t.displayTag)),t}return J(t,e),t.prototype.addOptions=function(e){var t=this;return e.forEach((function(e){return t.addOption(e)})),this},t.prototype.addOption=function(e){var t=document.createElement("option");return t.value=e.value,t.text=e.text||e.value,this.eInput.appendChild(t),this},t.prototype.setValue=function(t,n){var r=e.prototype.setValue.call(this,t,n);return this.eInput.value=t,r},t}(no),Ys=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Zs=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.radius=0,n.offsetX=0,n.offsetY=0,n}return ee(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(e){t.parentCircleRect=t.eParentCircle.getBoundingClientRect()},onDragging:function(e){return t.calculateAngleDrag(e)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange((function(e){null!=e&&""!==e||(e="0"),e=t.eAngleValue.normalizeValue(e);var n=parseFloat(e);n>180&&(n-=360),t.setValue(n)})),this.updateNumberInput(),de.exists(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addDestroyableEventListener(this,Jr.EVENT_CHANGED,(function(){t.eAngleValue.getInputElement().contains(document.activeElement)||t.updateNumberInput()}))},t.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},t.prototype.positionChildCircle=function(e){var t=this.parentCircleRect||{width:24,height:24},n=this.eChildCircle,r=t.height/2;n.style.left=t.width/2+8*Math.cos(e)+"px",n.style.top=r+8*Math.sin(e)+"px"},t.prototype.calculatePolar=function(){var e=this.offsetX,t=this.offsetY,n=Math.atan2(t,e);this.degrees=this.toDegrees(n),this.radius=Math.sqrt(e*e+t*t),this.positionChildCircle(n)},t.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),t=this.getRadius();this.setOffsetX(Math.cos(e)*t).setOffsetY(Math.sin(e)*t)},t.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},t.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},t.prototype.calculateAngleDrag=function(e){var t=this.parentCircleRect,n=Math.atan2(e.clientY-t.top-t.height/2,e.clientX-t.left-t.width/2);this.setValue(n,!0)},t.prototype.toDegrees=function(e){return e/Math.PI*180},t.prototype.toRadians=function(e){return e/180*Math.PI},t.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},t.prototype.normalizeAngle180=function(e){return(e%=2*Math.PI)<-Math.PI?e+=2*Math.PI:e>=Math.PI&&(e-=2*Math.PI),e},t.prototype.getRadius=function(){return this.radius},t.prototype.setRadius=function(e){return this.radius===e?this:(this.radius=e,this.calculateCartesian(),this)},t.prototype.onValueChange=function(e){var t=this;return this.addDestroyableEventListener(this,Jr.EVENT_CHANGED,(function(){e(t.degrees)})),this},t.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},t.prototype.setValue=function(e,t){var n;return n=t?e:this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(n),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(n),this.dispatchEvent({type:Jr.EVENT_CHANGED})),this},t.prototype.setWidth=function(e){return de.setFixedWidth(this.getGui(),e),this},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.dragService.removeDragSource(this.dragListener)},t.TEMPLATE='<div class="ag-angle-select">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-parent-circle">\n                        <div ref="eChildCircle" class="ag-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',Ys([Xe("eLabel")],t.prototype,"eLabel",void 0),Ys([Xe("eParentCircle")],t.prototype,"eParentCircle",void 0),Ys([Xe("eChildCircle")],t.prototype,"eChildCircle",void 0),Ys([Xe("eAngleValue")],t.prototype,"eAngleValue",void 0),Ys([be("dragService")],t.prototype,"dragService",void 0),t}(Xr),Xs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.className="ag-toggle-button",t}return te(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),de.addCssClass(this.eIconEl,"ag-icon")},t.prototype.updateIcons=function(){var e=this.getValue();de.addOrRemoveCssClass(this.eIconEl,"ag-icon-toggle-on",e),de.addOrRemoveCssClass(this.eIconEl,"ag-icon-toggle-off",!e)},t.prototype.setValue=function(t,n){return e.prototype.setValue.call(this,t,n),de.addOrRemoveCssClass(this.getGui(),"ag-selected",this.getValue()),this},t}(_i),$s=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Js=function(){function e(){this.cacheItems=[]}return e.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isKeepDetailRows(),this.maxCacheSize=this.gridOptionsWrapper.getKeepDetailRowsCount()},e.prototype.addOrDestroy=function(e,t,n){if(this.active&&e.detail){var r=this.getCacheItem(e,!0);switch(t){case ie.PINNED_LEFT:this.destroyFullWidthRow(r.left),r.left=n;break;case ie.PINNED_RIGHT:this.destroyFullWidthRow(r.right),r.right=n;break;default:this.destroyFullWidthRow(r.center),r.center=n}this.cacheItems.sort((function(e,t){return t.lastAccessedTime-e.lastAccessedTime})),this.purgeCache(this.maxCacheSize)}else this.destroyFullWidthRow(n)},e.prototype.getCacheItem=function(e,t){var n;void 0===t&&(t=!1);for(var r=0;r<this.cacheItems.length;r++){var o=this.cacheItems[r];if(o.rowNode===e){n=o;break}}return!n&&t&&this.cacheItems.push(n={rowNode:e}),n&&this.stampCacheItem(n),n},e.prototype.stampCacheItem=function(e){e.lastAccessedTime=(new Date).getTime()},e.prototype.destroyFullWidthRow=function(e){e&&e.destroy&&e.destroy()},e.prototype.purgeCache=function(e){for(var t=e;t<this.cacheItems.length;t++){var n=this.cacheItems[t];this.destroyFullWidthRow(n.center),this.destroyFullWidthRow(n.left),this.destroyFullWidthRow(n.right)}this.cacheItems.length>e&&(this.cacheItems.length=e)},e.prototype.get=function(e,t){if(e.detail){var n,r=this.getCacheItem(e);if(r)switch(t){case ie.PINNED_LEFT:r.left&&(n=r.left,r.left=void 0);break;case ie.PINNED_RIGHT:r.right&&(n=r.right,r.right=void 0);break;default:r.center&&(n=r.center,r.center=void 0)}return n}},e.prototype.destroy=function(){this.purgeCache(0)},$s([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),$s([me],e.prototype,"postConstruct",null),$s([Ce],e.prototype,"destroy",null),$s([we("detailRowCompCache")],e)}(),ea=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ta=function(){function e(){}return e.prototype.getRowNode=function(e){switch(e.rowPinned){case ie.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case ie.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},e.prototype.sameRow=function(e,t){return!e&&!t||!(e&&!t||!e&&t)&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned},e.prototype.before=function(e,t){switch(e.rowPinned){case ie.PINNED_TOP:if(t.rowPinned!==ie.PINNED_TOP)return!0;break;case ie.PINNED_BOTTOM:if(t.rowPinned!==ie.PINNED_BOTTOM)return!1;break;default:if(de.exists(t.rowPinned))return t.rowPinned!==ie.PINNED_TOP}return e.rowIndex<t.rowIndex},ea([be("rowModel")],e.prototype,"rowModel",void 0),ea([be("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),ea([we("rowPositionUtils")],e)}(),na=function(){function e(){}return e.prototype.createId=function(e){return this.createIdFromValues(e.rowIndex,e.column,e.rowPinned)},e.prototype.createIdFromValues=function(e,t,n){return e+"."+(null==n?"null":n)+"."+t.getId()},e.prototype.equals=function(e,t){return e.column===t.column&&e.rowPinned===t.rowPinned&&e.rowIndex===t.rowIndex},function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([we("cellPositionUtils")],e)}(),ra=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},oa=function(){function e(){}return e.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},e.prototype.isEmpty=function(e){return de.missingOrEmpty(e===ie.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},e.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},e.prototype.getRowAtPixel=function(e,t){var n=t===ie.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(de.missingOrEmpty(n))return 0;for(var r=0;r<n.length;r++){var o=n[r];if(o.rowTop+o.rowHeight-1>=e)return r}return n.length-1},e.prototype.setPinnedTopRowData=function(e){this.pinnedTopRows=this.createNodesFromData(e,!0),this.eventService.dispatchEvent({type:xe.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.setPinnedBottomRowData=function(e){this.pinnedBottomRows=this.createNodesFromData(e,!1),this.eventService.dispatchEvent({type:xe.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.createNodesFromData=function(e,t){var n=this,r=[];if(e){var o=0;e.forEach((function(e,i){var s=new Vt;n.context.wireBean(s),s.data=e,s.id=(t?"t":"b")+"-"+i,s.rowPinned=t?ie.PINNED_TOP:ie.PINNED_BOTTOM,s.setRowTop(o),s.setRowHeight(n.gridOptionsWrapper.getRowHeightForNode(s).height),s.setRowIndex(i),o+=s.rowHeight,r.push(s)}))}return r},e.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},e.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},e.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},e.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},e.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},e.prototype.forEachPinnedTopRow=function(e){de.missingOrEmpty(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},e.prototype.forEachPinnedBottomRow=function(e){de.missingOrEmpty(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},e.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},e.prototype.getTotalHeight=function(e){if(e&&0!==e.length){var t=de.last(e);return t.rowTop+t.rowHeight}return 0},ra([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ra([be("eventService")],e.prototype,"eventService",void 0),ra([be("context")],e.prototype,"context",void 0),ra([be("columnApi")],e.prototype,"columnApi",void 0),ra([be("gridApi")],e.prototype,"gridApi",void 0),ra([me],e.prototype,"init",null),ra([we("pinnedRowModel")],e)}(),ia=function(){function e(e,n,r){if(e)if(n){var o=!!n.debug;this.gridOptions=n;var i=this.getRegisteredModules(r),s=this.createBeansList(i),a=this.createAgStackComponentsList(i),l=this.createProvidedBeans(e,r);if(s){var u={providedBeanInstances:l,beanClasses:s,components:a,debug:o};this.logger=new ai("ag-Grid",(function(){return n.debug}));var c=new ai("Context",(function(){return u.debug}));this.context=new ve(u,c),this.registerModuleUserComponents(i);var p=new hi;this.context.wireBean(p),this.setColumnsAndData(),this.dispatchGridReadyEvent(n);var d=De.isRegistered(t.ModuleNames.EnterpriseCoreModule);this.logger.log("initialised successfully, enterprise = "+d)}}else console.error("ag-Grid: no gridOptions provided to the grid");else console.error("ag-Grid: no div element provided to the grid")}return e.prototype.getRegisteredModules=function(e){var t=e?e.modules:null,n=De.getRegisteredModules(),r=[],o={};function i(e){!function(e){o[e.moduleName]||(o[e.moduleName]=!0,r.push(e),De.register(e))}(e),e.dependantModules&&e.dependantModules.forEach(i)}return t&&t.forEach(i),n&&n.forEach(i),r},e.prototype.registerModuleUserComponents=function(e){var t=this.context.getBean("userComponentRegistry");this.extractModuleEntity(e,(function(e){return e.userComponents?e.userComponents:[]})).forEach((function(e){t.registerDefaultComponent(e.componentName,e.componentClass)}))},e.prototype.createProvidedBeans=function(e,t){var n=t?t.frameworkOverrides:null;de.missing(n)&&(n=new Si);var r={gridOptions:this.gridOptions,eGridDiv:e,$scope:t?t.$scope:null,$compile:t?t.$compile:null,quickFilterOnScope:t?t.quickFilterOnScope:null,globalEventListener:t?t.globalEventListener:null,frameworkOverrides:n};return t&&t.providedBeanInstances&&de.assign(r,t.providedBeanInstances),r},e.prototype.createAgStackComponentsList=function(e){var t=[{componentName:"AgCheckbox",componentClass:oo},{componentName:"AgRadioButton",componentClass:_i},{componentName:"AgToggleButton",componentClass:Xs},{componentName:"AgInputTextField",componentClass:Ms},{componentName:"AgInputTextArea",componentClass:Vs},{componentName:"AgInputNumberField",componentClass:qs},{componentName:"AgInputRange",componentClass:Ks},{componentName:"AgSelect",componentClass:Qs},{componentName:"AgSlider",componentClass:Hs},{componentName:"AgAngleSelect",componentClass:Zs},{componentName:"AgColorPicker",componentClass:zs},{componentName:"AgGridComp",componentClass:Zo},{componentName:"AgHeaderRoot",componentClass:Vo},{componentName:"AgPagination",componentClass:ms},{componentName:"AgOverlayWrapper",componentClass:Ts},{componentName:"AgGroupComponent",componentClass:Is},{componentName:"AgPanel",componentClass:Ps},{componentName:"AgDialog",componentClass:xs}],n=this.extractModuleEntity(e,(function(e){return e.agStackComponents?e.agStackComponents:[]}));return t.concat(n)},e.prototype.createBeansList=function(e){var t=this.getRowModelClass(e);if(t){var n=[t,Ji,ta,na,Wi,$o,Vn,Yi,Xi,ws,Ut,ps,gs,wi,pi,oa,gi,Ve,Oe,Ue,oi,Hn,Wo,Me,Li,qr,ei,Ne,ni,Ki,ls,Bi,Bo,si,Le,ui,fi,Ir,Un,yi,mi,os,Ci,bi,Oi,Ri,vi,Ai,Pi,hs,xi,zi,ss,Es,Js],r=this.extractModuleEntity(e,(function(e){return e.beans?e.beans:[]}));n.push.apply(n,r);var o=[];return n.forEach((function(e){o.indexOf(e)<0&&o.push(e)})),o}},e.prototype.extractModuleEntity=function(e,t){return[].concat.apply([],e.map(t))},e.prototype.setColumnsAndData=function(){var e=this.context.getBean("gridOptionsWrapper"),t=this.context.getBean("columnController"),n=e.getColumnDefs();de.exists(n)&&t.setColumnDefs(n,"gridInitializing"),this.context.getBean("rowModel").start()},e.prototype.dispatchGridReadyEvent=function(e){this.context.getBean("eventService").dispatchEvent({type:xe.EVENT_GRID_READY,api:e.api,columnApi:e.columnApi})},e.prototype.getRowModelClass=function(e){var t=this.gridOptions.rowModelType;"enterprise"===t&&(console.warn("ag-Grid: enterprise rowModel deprecated. Should now be called server side row model instead."),t=ie.ROW_MODEL_TYPE_SERVER_SIDE),"normal"===t&&(console.warn("ag-Grid: normal rowModel deprecated. Should now be called client side row model instead."),t=ie.ROW_MODEL_TYPE_CLIENT_SIDE),t||(t=ie.ROW_MODEL_TYPE_CLIENT_SIDE);var n={};e.forEach((function(e){de.iterateObject(e.rowModels,(function(e,t){n[e]=t}))}));var r=n[t];return de.exists(r)?r:(t===ie.ROW_MODEL_TYPE_INFINITE&&console.error("ag-Grid: Row Model \"Infinite\" not found. Please ensure the InfiniteRowModelModule is loaded using: import '@ag-grid-community/infinite-row-model';"),console.error("ag-Grid: could not find matching row model for rowModelType "+t),t===ie.ROW_MODEL_TYPE_VIEWPORT&&console.error('ag-Grid: Row Model "Viewport" not found. For this row model to work you must a) be using ag-Grid Enterprise and b) ensure ViewportRowModelModule is loaded using: import \'@ag-grid-enterprise/viewport-row-model;'),t===ie.ROW_MODEL_TYPE_SERVER_SIDE&&console.error("ag-Grid: Row Model \"Server Side\" not found. For this row model to work you must a) be using ag-Grid Enterprise and b) ensure ServerSideRowModelModule is loaded using: import '@ag-grid-enterprise/server-server-side-row-model';"),void(t===ie.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error("ag-Grid: Row Model \"Client Side\" not found. Please ensure the ClientSideRowModelModule is loaded using: import '@ag-grid-community/client-side-row-model';")))},e.prototype.destroy=function(){this.gridOptions.api.destroy()},e}();function sa(e,t,n,r){var o,i,s=r.agGrid;if(i=s+".quickFilterText",o=t.$eval(s)){var a=new ia(e[0],o,{$scope:t,$compile:n,quickFilterOnScope:i});t.$on("$destroy",(function(){a.destroy(),a=null}))}else console.warn("WARNING - grid options for ag-Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope")}var aa,la,ua,ca=!1,pa=function(){function e(t){var n=this;this.items=[],this.params=t,this.eGui=document.createElement("div"),this.eGui.innerHTML=e.TEMPLATE,this.eHeader=this.eGui.querySelector('[ref="tabHeader"]'),this.eBody=this.eGui.querySelector('[ref="tabBody"]'),de.addCssClass(this.eGui,t.cssClass),t.items&&t.items.forEach((function(e){return n.addItem(e)}))}return e.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},e.prototype.getMinDimensions=function(){var e=this.eGui.cloneNode(!0),t=e.querySelector('[ref="tabBody"]');e.style.position="fixed",this.eGui.appendChild(e);var n=0,r=0;return this.items.forEach((function(o){de.clearElement(t);var i=o.tabbedItem.bodyPromise.resolveNow(null,(function(e){return e.cloneNode(!0)}));null!=i&&(t.appendChild(i),n<e.offsetWidth&&(n=e.offsetWidth),r<e.offsetHeight&&(r=e.offsetHeight))})),this.eGui.removeChild(e),{height:r,width:n}},e.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},e.prototype.addItem=function(e){var t=document.createElement("span");t.appendChild(e.title),de.addCssClass(t,"ag-tab"),this.eHeader.appendChild(t);var n={tabbedItem:e,eHeaderButton:t};this.items.push(n),t.addEventListener("click",this.showItemWrapper.bind(this,n))},e.prototype.showItem=function(e){var t=de.find(this.items,(function(t){return t.tabbedItem===e}));t&&this.showItemWrapper(t)},e.prototype.showItemWrapper=function(e){var t=this;this.params.onItemClicked&&this.params.onItemClicked({item:e.tabbedItem}),this.activeItem!==e?(de.clearElement(this.eBody),e.tabbedItem.bodyPromise.then((function(e){t.eBody.appendChild(e)})),this.activeItem&&de.removeCssClass(this.activeItem.eHeaderButton,"ag-tab-selected"),de.addCssClass(e.eHeaderButton,"ag-tab-selected"),this.activeItem=e,e.tabbedItem.afterAttachedCallback&&e.tabbedItem.afterAttachedCallback(this.afterAttachedParams)):de.callIfPresent(this.params.onActiveItemClicked)},e.prototype.getGui=function(){return this.eGui},e.TEMPLATE='<div><div ref="tabHeader" class="ag-tab-header"></div><div ref="tabBody" class="ag-tab-body"></div></div>',e}(),da=function(e){function t(n,r){var o=e.call(this)||this;return o.version=0,o.state=t.STATE_DIRTY,o.rowNodeCacheParams=r,o.blockNumber=n,o.startRow=n*r.blockSize,o.endRow=o.startRow+r.blockSize,o}return ne(t,e),t.prototype.isAnyNodeOpen=function(e){var t=!1;return this.forEachNodeCallback((function(e){e.expanded&&(t=!0)}),e),t},t.prototype.forEachNodeCallback=function(e,t){for(var n=this.startRow;n<this.endRow;n++)n<t&&e(this.getRowUsingLocalIndex(n),n)},t.prototype.forEachNode=function(e,t,n,r){this.forEachNodeCallback((function(n){e(n,t.next()),r&&n.childrenCache&&n.childrenCache.forEachNodeDeep(e,t)}),n)},t.prototype.forEachNodeDeep=function(e,t,n){this.forEachNode(e,t,n,!0)},t.prototype.forEachNodeShallow=function(e,t,n){this.forEachNode(e,t,n,!1)},t.prototype.getVersion=function(){return this.version},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRowUsingLocalIndex=function(e,t){return void 0===t&&(t=!1),t||(this.lastAccessed=this.rowNodeCacheParams.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]},t.prototype.init=function(e){this.beans=e,this.createRowNodes()},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.getBlockNumber=function(){return this.blockNumber},t.prototype.setDirty=function(){this.version++,this.state=t.STATE_DIRTY},t.prototype.setDirtyAndPurge=function(){this.setDirty(),this.rowNodes.forEach((function(e){e.setData(null)}))},t.prototype.getState=function(){return this.state},t.prototype.setRowNode=function(e,t){this.rowNodes[e-this.startRow]=t},t.prototype.setBlankRowNode=function(e){var t=e-this.startRow,n=this.createBlankRowNode(e);return this.rowNodes[t]=n,n},t.prototype.setNewData=function(e,t){var n=this.setBlankRowNode(e);return this.setDataAndId(n,t,this.startRow+e),n},t.prototype.createBlankRowNode=function(e){var t=new Vt;return this.beans.context.wireBean(t),t.setRowHeight(this.rowNodeCacheParams.rowHeight),t},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.rowNodeCacheParams.blockSize;e++){var t=this.createBlankRowNode(this.startRow+e);this.rowNodes.push(t)}},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.pageLoadFailed=function(){this.state=t.STATE_FAILED,this.dispatchEvent({type:t.EVENT_LOAD_COMPLETE,success:!1,page:this,lastRow:null})},t.prototype.populateWithRowData=function(e){var t=this,n=[];this.rowNodes.forEach((function(r,o){var i=e[o];r.stub&&n.push(r),t.setDataAndId(r,i,t.startRow+o)})),n.length>0&&this.beans.rowRenderer.redrawRows(n)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.rowNodes.forEach((function(e){e.childrenCache&&(e.childrenCache.destroy(),e.childrenCache=null),e.clearRowTop()}))},t.prototype.pageLoaded=function(e,n,r){e===this.version&&(this.state=t.STATE_LOADED,this.populateWithRowData(n)),r=de.cleanNumber(r),this.dispatchEvent({type:t.EVENT_LOAD_COMPLETE,success:!0,page:this,lastRow:r})},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_DIRTY="dirty",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(qe),ha=function(){function e(e,t){this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0,this.maxConcurrentRequests=e,t&&t>0&&(this.checkBlockToLoadDebounce=de.debounce(this.performCheckBlocksToLoad.bind(this),t))}return e.prototype.setBeans=function(e){this.logger=e.create("RowNodeBlockLoader")},e.prototype.addBlock=function(e){this.blocks.push(e)},e.prototype.removeBlock=function(e){de.removeFromArray(this.blocks,e)},e.prototype.destroy=function(){this.active=!1},e.prototype.loadComplete=function(){this.activeBlockLoadsCount--},e.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},e.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log("checkBlockToLoad: max loads exceeded");else{var e=null;this.blocks.forEach((function(t){t.getState()===da.STATE_DIRTY&&(e=t)})),e?(e.load(),this.activeBlockLoadsCount++,this.logger.log("checkBlockToLoad: loading page "+e.getBlockNumber()),this.printCacheStatus()):this.logger.log("checkBlockToLoad: no pages to load")}},e.prototype.getBlockState=function(){var e={};return this.blocks.forEach((function(t){var n=t.getNodeIdPrefix(),r={blockNumber:t.getBlockNumber(),startRow:t.getStartRow(),endRow:t.getEndRow(),pageStatus:t.getState()};de.exists(n)?e[n+t.getBlockNumber()]=r:e[t.getBlockNumber()]=r})),e},e.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},e.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([(t=Se("loggerFactory"),function(e,n){t(e,n,0)})],e.prototype,"setBeans",null),e;var t}(),fa=function(e){function t(t){var n=e.call(this)||this;return n.maxRowFound=!1,n.blocks={},n.blockCount=0,n.virtualRowCount=t.initialRowCount,n.cacheParams=t,n}return re(t,e),t.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this),this.forEachBlockInOrder((function(e){return t.destroyBlock(e)}))},t.prototype.init=function(){var e=this;this.active=!0,this.addDestroyFunc((function(){return e.active=!1}))},t.prototype.isActive=function(){return this.active},t.prototype.getVirtualRowCount=function(){return this.virtualRowCount},t.prototype.hack_setVirtualRowCount=function(e){this.virtualRowCount=e},t.prototype.isMaxRowFound=function(){return this.maxRowFound},t.prototype.onPageLoaded=function(e){this.cacheParams.rowNodeBlockLoader.loadComplete(),this.checkBlockToLoad(),this.isActive()&&(this.logger.log("onPageLoaded: page = "+e.page.getBlockNumber()+", lastRow = "+e.lastRow),e.success&&this.checkVirtualRowCount(e.page,e.lastRow))},t.prototype.purgeBlocksIfNeeded=function(e){var n=this,r=[];this.forEachBlockInOrder((function(t){t!==e&&r.push(t)})),r.sort((function(e,t){return t.getLastAccessed()-e.getLastAccessed()}));var o=this.cacheParams.maxBlocksInCache>0,i=o?this.cacheParams.maxBlocksInCache-1:null,s=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;r.forEach((function(e,t){if(e.getState()===da.STATE_DIRTY&&t>=s||o&&t>=i){if(e.isAnyNodeOpen(n.virtualRowCount))return;n.removeBlockFromCache(e)}}))},t.prototype.postCreateBlock=function(e){e.addEventListener(da.EVENT_LOAD_COMPLETE,this.onPageLoaded.bind(this)),this.setBlock(e.getBlockNumber(),e),this.purgeBlocksIfNeeded(e),this.checkBlockToLoad()},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkBlockToLoad=function(){this.cacheParams.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.checkVirtualRowCount=function(e,t){if("number"==typeof t&&t>=0)this.virtualRowCount=t,this.maxRowFound=!0,this.onCacheUpdated();else if(!this.maxRowFound){var n=(e.getBlockNumber()+1)*this.cacheParams.blockSize+this.cacheParams.overflowSize;this.virtualRowCount<n?(this.virtualRowCount=n,this.onCacheUpdated()):this.cacheParams.dynamicRowHeight&&this.onCacheUpdated()}},t.prototype.setVirtualRowCount=function(e,t){this.virtualRowCount=e,de.exists(t)&&(this.maxRowFound=t),this.maxRowFound||this.virtualRowCount%this.cacheParams.blockSize==0&&this.virtualRowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e,t){var n=this;void 0===t&&(t=new pe),this.forEachBlockInOrder((function(r){r.forEachNodeDeep(e,t,n.virtualRowCount)}))},t.prototype.forEachBlockInOrder=function(e){var t=this.getBlockIdsSorted();this.forEachBlockId(t,e)},t.prototype.forEachBlockInReverseOrder=function(e){var t=this.getBlockIdsSorted().reverse();this.forEachBlockId(t,e)},t.prototype.forEachBlockId=function(e,t){var n=this;e.forEach((function(e){t(n.blocks[e],e)}))},t.prototype.getBlockIdsSorted=function(){return Object.keys(this.blocks).map((function(e){return parseInt(e,10)})).sort((function(e,t){return e-t}))},t.prototype.getBlock=function(e){return this.blocks[e]},t.prototype.setBlock=function(e,t){this.blocks[e]=t,this.blockCount++,this.cacheParams.rowNodeBlockLoader.addBlock(t)},t.prototype.destroyBlock=function(e){delete this.blocks[e.getBlockNumber()],e.destroy(),this.blockCount--,this.cacheParams.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){this.isActive()&&this.dispatchEvent({type:t.EVENT_CACHE_UPDATED})},t.prototype.purgeCache=function(){var e=this;this.forEachBlockInOrder((function(t){return e.removeBlockFromCache(t)})),this.virtualRowCount=this.cacheParams.initialRowCount,this.maxRowFound=!1,this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,t){var n=this,r=[],o=-1,i=!1,s=new pe;de.missing(e)&&(i=!0);var a=!1;return this.forEachBlockInOrder((function(l,u){a||(i&&o+1!==u?a=!0:(o=u,l.forEachNodeShallow((function(n){var o=n===e||n===t;(i||o)&&r.push(n),o&&(i=!i)}),s,n.virtualRowCount)))})),a||i?[]:r},t.EVENT_CACHE_UPDATED="cacheUpdated",t.MAX_EMPTY_BLOCKS_TO_KEEP=2,t}(qe),ga=(ua=function(e,t){return(ua=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ua(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),va=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ya=function(e){function t(t){var n=e.call(this,t)||this;return n.message=t.message,n}return ga(t,e),t.prototype.postConstruct=function(){var t=this,n=new ma;this.wireDependentBean(n),n.setMessage(this.message),this.setBodyComponent(n),e.prototype.postConstruct.call(this),this.addDestroyableEventListener(n,"onBtOk",(function(){return t.close()}))},t}(xs),ma=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return ga(t,e),t.prototype.setMessage=function(e){this.eCenter.innerText=e},t.prototype.postConstruct=function(){this.addDestroyableEventListener(this.eOk,"click",this.onBtOk.bind(this))},t.prototype.onBtOk=function(){this.dispatchEvent({type:"onBtOk"})},t.TEMPLATE='<div class="ag-message-box">\n            <div ref="eCenter" class="ag-message-box-content"></div>\n            <div ref="eButtons" class="ag-message-box-button-bar">\n                <button ref="eOk">OK</button>\n            </div>\n        </div>',va([Xe("eCenter")],t.prototype,"eCenter",void 0),va([Xe("eOk")],t.prototype,"eOk",void 0),va([me],t.prototype,"postConstruct",null),t}(Qe),Ca=(la=function(e,t){return(la=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}la(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),wa=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ba=function(e){function t(){var t=e.call(this,void 0)||this;return t.rowsInBodyContainer={},t.rowHeight=20,t}return Ca(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE),this.eListContainer=this.queryForHtmlElement(".ag-virtual-list-container"),this.addScrollListener();var e=document.createElement("div");de.addCssClass(e,"ag-virtual-list-item"),this.rowHeight=this.getItemHeight()},t.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getVirtualItemHeight()},t.prototype.ensureIndexVisible=function(e){var t=this.model.getRowCount();if("number"!=typeof e||e<0||e>=t)console.warn("invalid row index for ensureIndexVisible: "+e);else{var n=e*this.rowHeight,r=n+this.rowHeight,o=this.getGui().scrollTop,i=this.getGui().offsetHeight,s=o+i<r;if(o>n)this.getGui().scrollTop=n;else if(s){var a=r-i;this.getGui().scrollTop=a}}},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(){de.missing(this.model)||(this.eListContainer.style.height=this.model.getRowCount()*this.rowHeight+"px",this.clearVirtualRows(),this.drawVirtualRows())},t.prototype.clearVirtualRows=function(){var e=Object.keys(this.rowsInBodyContainer);this.removeVirtualRows(e)},t.prototype.drawVirtualRows=function(){var e=this.getGui().scrollTop,t=e+this.getGui().offsetHeight,n=Math.floor(e/this.rowHeight),r=Math.floor(t/this.rowHeight);this.ensureRowsRendered(n,r)},t.prototype.ensureRowsRendered=function(e,t){for(var n=Object.keys(this.rowsInBodyContainer),r=e;r<=t;r++)if(n.indexOf(r.toString())>=0)n.splice(n.indexOf(r.toString()),1);else if(this.model.getRowCount()>r){var o=this.model.getRow(r);this.insertRow(o,r)}this.removeVirtualRows(n)},t.prototype.removeVirtualRows=function(e){var t=this;e.forEach((function(e){var n=t.rowsInBodyContainer[e];t.eListContainer.removeChild(n.eDiv),n.rowComponent.destroy&&n.rowComponent.destroy(),delete t.rowsInBodyContainer[e]}))},t.prototype.insertRow=function(e,t){var n=document.createElement("div");de.addCssClass(n,"ag-virtual-list-item"),n.style.top=this.rowHeight*t+"px";var r=this.componentCreator(e);n.appendChild(r.getGui()),this.eListContainer.appendChild(n),this.rowsInBodyContainer[t]={rowComponent:r,eDiv:n}},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",(function(){e.drawVirtualRows()}))},t.prototype.setModel=function(e){this.model=e},t.TEMPLATE='<div class="ag-virtual-list-viewport">\n            <div class="ag-virtual-list-container"></div>\n        </div>',wa([be("environment")],t.prototype,"environment",void 0),wa([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),wa([me],t.prototype,"init",null),t}(Qe),Ea=function(){function e(){}return e.prototype.wrap=function(e,t,n,r){var o=this;void 0===n&&(n=[]);var i=this.createWrapper(e,r);return t.forEach((function(e){o.createMethod(i,e,!0)})),n.forEach((function(e){o.createMethod(i,e,!1)})),i},e.prototype.createMethod=function(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))},e.prototype.createMethodProxy=function(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&console.warn("ag-Grid: Framework component is missing the method "+t+"()"),null)}},e}();(aa=t.ChartType||(t.ChartType={})).GroupedColumn="groupedColumn",aa.StackedColumn="stackedColumn",aa.NormalizedColumn="normalizedColumn",aa.GroupedBar="groupedBar",aa.StackedBar="stackedBar",aa.NormalizedBar="normalizedBar",aa.Line="line",aa.Scatter="scatter",aa.Bubble="bubble",aa.Pie="pie",aa.Doughnut="doughnut",aa.Area="area",aa.StackedArea="stackedArea",aa.NormalizedArea="normalizedArea";var _a="undefined"==typeof global?{}:global;_a.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,_a.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,_a.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,_a.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,_a.Node="undefined"==typeof Node?{}:Node,_a.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var Sa,Ra,Ta,Oa,Da=function(){function e(t,n,r,o,i,s,a,l){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsWrapper=n,this.context=r,this.eventService=o,this.columnController=i,this.gridApi=s,this.columnApi=a,this.selectionController=l,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=e.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return e.prototype.postConstruct=function(){this.getNodeChildDetails=this.gridOptionsWrapper.getNodeChildDetailsFunc(),this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.doesDataFlower=this.gridOptionsWrapper.getDoesDataFlowerFunc(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingLegacyTreeData=de.exists(this.getNodeChildDetails),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.getNodeChildDetails&&console.warn("ag-Grid: the callback nodeChildDetailsFunc() is now deprecated. The new way of doing\n                                    tree data in ag-Grid was introduced in v14 (released November 2017). In the next\n                                    major release of ag-Grid we will be dropping support for the old version of\n                                    tree data. If you are reading this message, please go to the docs to see how\n                                    to implement Tree Data without using nodeChildDetailsFunc().")},e.prototype.getCopyOfNodesMap=function(){return de.cloneObject(this.allNodesMap)},e.prototype.getRowNode=function(e){return this.allNodesMap[e]},e.prototype.setRowData=function(t){if(this.rootNode.childrenAfterFilter=null,this.rootNode.childrenAfterGroup=null,this.rootNode.childrenAfterSort=null,this.rootNode.childrenMapped=null,this.nextId=0,this.allNodesMap={},!t)return this.rootNode.allLeafChildren=[],void(this.rootNode.childrenAfterGroup=[]);var n=this.recursiveFunction(t,this.rootNode,e.TOP_LEVEL);this.doingLegacyTreeData?(this.rootNode.childrenAfterGroup=n,this.setLeafChildren(this.rootNode)):this.rootNode.allLeafChildren=n},e.prototype.updateRowData=function(e,t){if(this.isLegacyTreeData())return null;var n={remove:[],update:[],add:[]};return this.executeAdd(e,n),this.executeRemove(e,n),this.executeUpdate(e,n),t&&de.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),n},e.prototype.executeAdd=function(e,t){var n=this,r=e.add,o=e.addIndex;r&&("number"==typeof o&&o>=0?r.reverse().forEach((function(e){var r=n.addRowNode(e,o);t.add.push(r)})):r.forEach((function(e){var r=n.addRowNode(e);t.add.push(r)})))},e.prototype.executeRemove=function(e,t){var n=this,r=e.remove;if(r){var o={},i=!1;r.forEach((function(e){var r=n.lookupRowNode(e);r&&(r.isSelected()&&(i=!0),r.setSelected(!1,!1,!0),r.clearRowTop(),o[r.id]=!0,delete n.allNodesMap[r.id],t.remove.push(r))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter((function(e){return!o[e.id]})),i&&(this.selectionController.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:xe.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi}))}},e.prototype.executeUpdate=function(e,t){var n=this,r=e.update;r&&r.forEach((function(e){var r=n.lookupRowNode(e);r&&(r.updateData(e),t.update.push(r))}))},e.prototype.addRowNode=function(t,n){var r=this.createNode(t,this.rootNode,e.TOP_LEVEL);return de.exists(n)?de.insertIntoArray(this.rootNode.allLeafChildren,r,n):this.rootNode.allLeafChildren.push(r),r},e.prototype.lookupRowNode=function(e){var t,n=this.gridOptionsWrapper.getRowNodeIdFunc();if(de.exists(n)){var r=n(e);if(!(t=this.allNodesMap[r]))return console.error("ag-Grid: could not find row id="+r+", data item was not found for this id"),null}else if(!(t=de.find(this.rootNode.allLeafChildren,(function(t){return t.data===e}))))return console.error("ag-Grid: could not find data item as object was not found",e),null;return t},e.prototype.recursiveFunction=function(e,t,n){var r=this;if("string"!=typeof e){var o=[];return e.forEach((function(e){var i=r.createNode(e,t,n);o.push(i)})),o}console.warn("ag-Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},e.prototype.createNode=function(e,t,n){var r=new Vt;this.context.wireBean(r);var o=this.gridOptionsWrapper.isTreeData(),i=!o&&de.exists(this.getNodeChildDetails)?this.getNodeChildDetails(e):null;if(i&&i.group)r.group=!0,r.childrenAfterGroup=this.recursiveFunction(i.children,r,n+1),r.expanded=!0===i.expanded,r.field=i.field,r.key=i.key,r.canFlower=r.master,this.setLeafChildren(r);else if(r.group=!1,o)r.master=!1,r.expanded=!1;else{r.master=this.doesDataFlower?this.doesDataFlower(e):!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(e));var s=this.columnController.getRowGroupColumns();r.expanded=!!r.master&&this.isExpanded(n+(s?s.length:0))}return r.canFlower=r.master,t&&!this.suppressParentsInRowNodes&&(r.parent=t),r.level=n,r.setDataAndId(e,this.nextId.toString()),this.allNodesMap[r.id]&&console.warn("ag-grid: duplicate node id '"+r.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[r.id]=r,this.nextId++,r},e.prototype.isExpanded=function(e){var t=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===t||e<t},e.prototype.setLeafChildren=function(e){e.allLeafChildren=[],e.childrenAfterGroup&&e.childrenAfterGroup.forEach((function(t){t.group?t.allLeafChildren&&t.allLeafChildren.forEach((function(t){return e.allLeafChildren.push(t)})):e.allLeafChildren.push(t)}))},e.prototype.isLegacyTreeData=function(){return!!de.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc())&&(console.warn("ag-Grid: adding and removing rows is not supported when using nodeChildDetailsFunc, ie it is not supported for legacy tree data. Please see the docs on the new preferred way of providing tree data that works with delta updates."),!0)},e.TOP_LEVEL=0,e.ROOT_NODE_ID="ROOT_NODE_ID",e}(),Ia=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Aa=function(e){return e[e.Normal=0]="Normal",e[e.AfterFilter=1]="AfterFilter",e[e.AfterFilterAndSort=2]="AfterFilterAndSort",e[e.PivotNodes=3]="PivotNodes",e}({}),ka=function(){function e(){}return e.prototype.init=function(){var e=this.refreshModel.bind(this,{step:ie.STEP_EVERYTHING}),t=this.refreshModel.bind(this,{step:ie.STEP_EVERYTHING,afterColumnsChanged:!0});this.eventService.addModalPriorityEventListener(xe.EVENT_COLUMN_EVERYTHING_CHANGED,t),this.eventService.addModalPriorityEventListener(xe.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.eventService.addModalPriorityEventListener(xe.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.eventService.addModalPriorityEventListener(xe.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:ie.STEP_PIVOT})),this.eventService.addModalPriorityEventListener(xe.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this)),this.eventService.addModalPriorityEventListener(xe.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.eventService.addModalPriorityEventListener(xe.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.eventService.addModalPriorityEventListener(xe.EVENT_COLUMN_PIVOT_MODE_CHANGED,e);var n=this.refreshModel.bind(this,{step:ie.STEP_MAP,keepRenderedRows:!0,animate:!0});this.gridOptionsWrapper.addEventListener(Ue.PROP_GROUP_REMOVE_SINGLE_CHILDREN,n),this.gridOptionsWrapper.addEventListener(Ue.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,n),this.rootNode=new Vt,this.nodeManager=new Da(this.rootNode,this.gridOptionsWrapper,this.context,this.eventService,this.columnController,this.gridApi,this.columnApi,this.selectionController),this.context.wireBean(this.rootNode)},e.prototype.start=function(){var e=this.gridOptionsWrapper.getRowData();e&&this.setRowData(e)},e.prototype.ensureRowHeightsValid=function(e,t,n,r){var o,i=!1;do{o=!1;for(var s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,n),u=Math.min(a,r),c=l;c<=u;c++){var p=this.getRow(c);if(p.rowHeightEstimated){var d=this.gridOptionsWrapper.getRowHeightForNode(p);p.setRowHeight(d.height),o=!0,i=!0}}o&&this.setRowTops()}while(o);return i},e.prototype.setRowTops=function(){for(var e=0,t=0;t<this.rowsToDisplay.length;t++){var n=this.gridOptionsWrapper.getDomLayout()===ie.DOM_LAYOUT_NORMAL,r=this.rowsToDisplay[t];if(de.missing(r.rowHeight)){var o=this.gridOptionsWrapper.getRowHeightForNode(r,n);r.setRowHeight(o.height,o.estimated)}r.setRowTop(e),r.setRowIndex(t),e+=r.rowHeight}},e.prototype.resetRowTops=function(e,t){if(e.clearRowTop(),e.hasChildren()){if(e.childrenAfterGroup&&(!t.isActive()||e.expanded))for(var n=0;n<e.childrenAfterGroup.length;n++)this.resetRowTops(e.childrenAfterGroup[n],t);e.sibling&&e.sibling.clearRowTop()}e.detailNode&&e.detailNode.clearRowTop()},e.prototype.ensureRowAtPixel=function(e,t){var n=this.getRowIndexAtPixel(t);return this.getRow(n)!==e&&(de.removeFromArray(this.rootNode.allLeafChildren,e),de.insertIntoArray(this.rootNode.allLeafChildren,e,n),this.refreshModel({step:ie.STEP_EVERYTHING,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),!0)},e.prototype.isLastRowFound=function(){return!0},e.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},e.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},e.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var t=this.rootNode.childrenAfterSort[e];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;t.expanded&&t.childrenAfterSort&&t.childrenAfterSort.length>0;)t=t.childrenAfterSort[0];return t.rowIndex},e.prototype.getRowBounds=function(e){if(de.missing(this.rowsToDisplay))return null;var t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null},e.prototype.onRowGroupOpened=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:ie.STEP_MAP,keepRenderedRows:!0,animate:e})},e.prototype.onFilterChanged=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:ie.STEP_FILTER,keepRenderedRows:!0,animate:e})},e.prototype.onSortChanged=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:ie.STEP_SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},e.prototype.getType=function(){return ie.ROW_MODEL_TYPE_CLIENT_SIDE},e.prototype.onValueChanged=function(){this.columnController.isPivotActive()?this.refreshModel({step:ie.STEP_PIVOT}):this.refreshModel({step:ie.STEP_AGGREGATE})},e.prototype.createChangePath=function(e){var t=de.missingOrEmpty(e),n=new Gn(!1,this.rootNode);return(t||this.gridOptionsWrapper.isTreeData())&&n.setInactive(),n},e.prototype.refreshModel=function(e){var t=this,n=this.createChangePath(e.rowNodeTransactions);switch(e.step){case ie.STEP_EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,n,e.afterColumnsChanged);case ie.STEP_FILTER:this.doFilter(n);case ie.STEP_PIVOT:this.doPivot(n);case ie.STEP_AGGREGATE:this.doAggregate(n);case ie.STEP_SORT:this.doSort(e.rowNodeTransactions,n);case ie.STEP_MAP:this.doRowsToDisplay()}this.resetRowTops(this.rootNode,n),this.setRowTops(),this.eventService.dispatchEvent({type:xe.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1}),this.$scope&&window.setTimeout((function(){t.$scope.$apply()}),0)},e.prototype.isEmpty=function(){var e;return e=de.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc())?de.missing(this.rootNode.childrenAfterGroup)||0===this.rootNode.childrenAfterGroup.length:de.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length,de.missing(this.rootNode)||e||!this.columnController.isReady()},e.prototype.isRowsToRender=function(){return de.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},e.prototype.getNodesInRangeForSelection=function(e,t){var n,r=!t,o=!1,i=[],s=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort((function(a){var l=r&&!o;if(r||a!==t&&a!==e||(r=!0),!a.group||!s){var u=r&&!o,c=a.isParentOfNode(n);(u||c)&&i.push(a)}l&&(a!==t&&a!==e||(o=!0,n=a===t?t:e))})),i},e.prototype.setDatasource=function(e){console.error("ag-Grid: should never call setDatasource on clientSideRowController")},e.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},e.prototype.getRootNode=function(){return this.rootNode},e.prototype.getRow=function(e){return this.rowsToDisplay[e]},e.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},e.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty())return-1;var t=0,n=this.rowsToDisplay.length-1;if(e<=0)return 0;if(de.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(;;){var r=Math.floor((t+n)/2),o=this.rowsToDisplay[r];if(this.isRowInPixel(o,e))return r;o.rowTop<e?t=r+1:o.rowTop>e&&(n=r-1)}},e.prototype.isRowInPixel=function(e,t){return e.rowTop<=t&&e.rowTop+e.rowHeight>t},e.prototype.getCurrentPageHeight=function(){if(this.rowsToDisplay&&this.rowsToDisplay.length>0){var e=de.last(this.rowsToDisplay);return e.rowTop+e.rowHeight}return 0},e.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((function(t,n){return e(t,n)}))},e.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,e,Aa.Normal,0)},e.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,e,Aa.AfterFilter,0)},e.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,e,Aa.AfterFilterAndSort,0)},e.prototype.forEachPivotNode=function(e){this.recursivelyWalkNodesAndCallback([this.rootNode],e,Aa.PivotNodes,0)},e.prototype.recursivelyWalkNodesAndCallback=function(e,t,n,r){if(e)for(var o=0;o<e.length;o++){var i=e[o];if(t(i,r++),i.hasChildren()){var s=null;switch(n){case Aa.Normal:s=i.childrenAfterGroup;break;case Aa.AfterFilter:s=i.childrenAfterFilter;break;case Aa.AfterFilterAndSort:s=i.childrenAfterSort;break;case Aa.PivotNodes:s=i.leafGroup?null:i.childrenAfterSort}s&&(r=this.recursivelyWalkNodesAndCallback(s,t,n,r))}}return r},e.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},e.prototype.expandOrCollapseAll=function(e){var t=this.gridOptionsWrapper.isTreeData();this.rootNode&&function n(r){r&&r.forEach((function(r){(t?de.exists(r.childrenAfterGroup):r.group)&&(r.expanded=e,n(r.childrenAfterGroup))}))}(this.rootNode.childrenAfterGroup),this.refreshModel({step:ie.STEP_MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:xe.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})},e.prototype.doSort=function(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})},e.prototype.doRowGrouping=function(e,t,n,r,o){var i=this;de.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc())||(this.groupStage?(t&&de.exists(t)?t.forEach((function(e){i.groupStage.execute({rowNode:i.rootNode,rowNodeTransaction:e,rowNodeOrder:n,changedPath:r})})):(this.selectionController.removeGroupsFromSelection(),this.groupStage.execute({rowNode:this.rootNode,changedPath:r,afterColumnsChanged:o}),this.restoreGroupState(e)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionController.updateGroupsFromChildrenSelections(r)):this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren)},e.prototype.restoreGroupState=function(e){e&&de.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(t,n){"boolean"==typeof e[n]&&(t.expanded=e[n])}))},e.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},e.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},e.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var e={};return de.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(t,n){return e[n]=t.expanded})),e},e.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},e.prototype.getRowNode=function(e){return this.nodeManager.getRowNode(e)},e.prototype.setRowData=function(e){var t=this.getGroupState();this.nodeManager.setRowData(e),this.eventService.dispatchEvent({type:xe.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:ie.STEP_EVERYTHING,groupState:t,newData:!0})},e.prototype.batchUpdateRowData=function(e,t){var n=this;if(!this.rowDataTransactionBatch){this.rowDataTransactionBatch=[];var r=this.gridOptionsWrapper.getBatchUpdateWaitMillis();window.setTimeout((function(){n.executeBatchUpdateRowData(),n.rowDataTransactionBatch=null}),r)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})},e.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var t=[],n=[];this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((function(r){var o=e.nodeManager.updateRowData(r.rowDataTransaction,null);n.push(o),r.callback&&t.push(r.callback.bind(null,o))})),this.commonUpdateRowData(n),t.length>0&&window.setTimeout((function(){t.forEach((function(e){return e()}))}),0)},e.prototype.updateRowData=function(e,t){this.valueCache.onDataChanged();var n=this.nodeManager.updateRowData(e,t);return this.commonUpdateRowData([n],t),n},e.prototype.commonUpdateRowData=function(e,t){this.refreshModel({step:ie.STEP_EVERYTHING,rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),this.eventService.dispatchEvent({type:xe.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},e.prototype.onRowHeightChanged=function(){this.refreshModel({step:ie.STEP_MAP,keepRenderedRows:!0,keepEditingRows:!0})},e.prototype.resetRowHeights=function(){this.forEachNode((function(e){return e.setRowHeight(null)})),this.onRowHeightChanged()},Ia([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ia([be("columnController")],e.prototype,"columnController",void 0),Ia([be("filterManager")],e.prototype,"filterManager",void 0),Ia([be("$scope")],e.prototype,"$scope",void 0),Ia([be("selectionController")],e.prototype,"selectionController",void 0),Ia([be("eventService")],e.prototype,"eventService",void 0),Ia([be("context")],e.prototype,"context",void 0),Ia([be("valueService")],e.prototype,"valueService",void 0),Ia([be("valueCache")],e.prototype,"valueCache",void 0),Ia([be("columnApi")],e.prototype,"columnApi",void 0),Ia([be("gridApi")],e.prototype,"gridApi",void 0),Ia([be("filterStage")],e.prototype,"filterStage",void 0),Ia([be("sortStage")],e.prototype,"sortStage",void 0),Ia([be("flattenStage")],e.prototype,"flattenStage",void 0),Ia([Ee("groupStage")],e.prototype,"groupStage",void 0),Ia([Ee("aggregationStage")],e.prototype,"aggregationStage",void 0),Ia([Ee("pivotStage")],e.prototype,"pivotStage",void 0),Ia([me],e.prototype,"init",null),Ia([we("rowModel")],e)}(),Pa=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Na=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},xa=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Fa=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ma=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},La=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Va={moduleName:t.ModuleNames.ClientSideRowModelModule,beans:[function(){function e(){}return e.prototype.execute=function(e){var t=e.rowNode;this.filterService.filter(e.changedPath),this.selectableService.updateSelectableAfterFiltering(t)},Pa([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Pa([be("selectableService")],e.prototype,"selectableService",void 0),Pa([be("filterService")],e.prototype,"filterService",void 0),Pa([we("filterStage")],e)}(),function(){function e(){}return e.prototype.execute=function(e){var t=this.sortController.getSortForRowController(),n=de.exists(t)&&t.length>0,r=n&&de.exists(e.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),o=r?this.calculateDirtyNodes(e.rowNodeTransactions):null,i=this.columnController.getValueColumns(),s=de.missingOrEmpty(i);this.sortService.sort(t,n,r,o,e.changedPath,s)},e.prototype.calculateDirtyNodes=function(e){var t={},n=function(e){e&&e.forEach((function(e){return t[e.id]=!0}))};return e.forEach((function(e){n(e.add),n(e.update),n(e.remove)})),t},Na([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Na([be("sortService")],e.prototype,"sortService",void 0),Na([be("sortController")],e.prototype,"sortController",void 0),Na([be("columnController")],e.prototype,"columnController",void 0),Na([we("sortStage")],e)}(),function(){function e(){}return e.prototype.execute=function(e){var t=e.rowNode,n=[],r={value:0},o=this.columnController.isPivotMode(),i=o&&t.leafGroup;return this.recursivelyAddToRowsToDisplay(i?[t]:t.childrenAfterSort,n,r,o,0),!i&&n.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(t),this.addRowNodeToRowsToDisplay(t.sibling,n,r,0)),n},e.prototype.recursivelyAddToRowsToDisplay=function(e,t,n,r,o){if(!de.missingOrEmpty(e))for(var i=this.gridOptionsWrapper.isGroupSuppressRow(),s=this.gridOptionsWrapper.isGroupHideOpenParents(),a=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),l=!a&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),u=0;u<e.length;u++){var c=e[u],p=c.hasChildren(),d=a&&p&&1===c.childrenAfterGroup.length,h=l&&p&&c.leafGroup&&1===c.childrenAfterGroup.length;if(!(r&&!p||i&&p||s&&c.expanded&&(!r||!c.leafGroup)||d||h)&&this.addRowNodeToRowsToDisplay(c,t,n,o),!r||!c.leafGroup)if(p){var f=d||h;(c.expanded||f)&&(this.recursivelyAddToRowsToDisplay(c.childrenAfterSort,t,n,r,f?o:o+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(c),this.addRowNodeToRowsToDisplay(c.sibling,t,n,o)))}else if(c.master&&c.expanded){var g=this.createDetailNode(c);this.addRowNodeToRowsToDisplay(g,t,n,o)}}},e.prototype.addRowNodeToRowsToDisplay=function(e,t,n,r){t.push(e);var o=this.gridOptionsWrapper.isGroupMultiAutoColumn();e.setUiLevel(o?0:r)},e.prototype.ensureFooterNodeExists=function(e){if(!de.exists(e.sibling)){var t=new Vt;this.context.wireBean(t),Object.keys(e).forEach((function(n){t[n]=e[n]})),t.footer=!0,t.rowTop=null,t.oldRowTop=null,de.exists(t.id)&&(t.id="rowGroupFooter_"+t.id),t.sibling=e,e.sibling=t}},e.prototype.createDetailNode=function(e){if(de.exists(e.detailNode))return e.detailNode;var t=new Vt;return this.context.wireBean(t),t.detail=!0,t.selectable=!1,t.flower=t.detail,t.parent=e,de.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,e.childFlower=e.detailNode,t},xa([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),xa([be("selectionController")],e.prototype,"selectionController",void 0),xa([be("eventService")],e.prototype,"eventService",void 0),xa([be("context")],e.prototype,"context",void 0),xa([be("columnController")],e.prototype,"columnController",void 0),xa([we("flattenStage")],e)}(),function(){function e(){}return e.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},e.prototype.sort=function(e,t,n,r,o,i){var s=this;o.forEachChangedNodeDepthFirst((function(a){if(s.pullDownGroupDataForHideOpenParents(a.childrenAfterFilter,!0),t){var l=n?s.doDeltaSort(a,e,r,o,i):s.doFullSort(a,e);a.childrenAfterSort=l.map((function(e){return e.rowNode}))}else a.childrenAfterSort=a.childrenAfterFilter.slice(0);s.updateChildIndexes(a),s.postSortFunc&&s.postSortFunc(a.childrenAfterSort)})),this.updateGroupDataForHiddenOpenParents(o)},e.prototype.doFullSort=function(e,t){var n=e.childrenAfterFilter.map(this.mapNodeToSortedNode.bind(this));return n.sort(this.compareRowNodes.bind(this,t)),n},e.prototype.mapNodeToSortedNode=function(e,t){return{currentPos:t,rowNode:e}},e.prototype.doDeltaSort=function(e,t,n,r,o){var i=e.childrenAfterSort.filter((function(e){var t=!n[e.id],i=o||r.canSkip(e);return t&&i})).map(this.mapNodeToSortedNode.bind(this)),s={};i.forEach((function(e){return s[e.rowNode.id]=e.rowNode}));var a=e.childrenAfterFilter.filter((function(e){return!s[e.id]})).map(this.mapNodeToSortedNode.bind(this));return a.sort(this.compareRowNodes.bind(this,t)),0===a.length?i:0===i.length?a:this.mergeSortedArrays(t,i,a)},e.prototype.mergeSortedArrays=function(e,t,n){for(var r=[],o=0,i=0;o<t.length&&i<n.length;){var s=this.compareRowNodes(e,t[o],n[i]);r.push(s<0?t[o++]:n[i++])}for(;o<t.length;)r.push(t[o++]);for(;i<n.length;)r.push(n[i++]);return r},e.prototype.compareRowNodes=function(e,t,n){for(var r=t.rowNode,o=n.rowNode,i=0,s=e.length;i<s;i++){var a,l=e[i],u=-1===l.inverter,c=this.getValue(r,l.column),p=this.getValue(o,l.column);if(0!==(a=l.column.getColDef().comparator?l.column.getColDef().comparator(c,p,r,o,u):de.defaultComparator(c,p,this.gridOptionsWrapper.isAccentedSort())))return a*l.inverter}return t.currentPos-n.currentPos},e.prototype.getValue=function(e,t){return this.valueService.getValue(t,e)},e.prototype.updateChildIndexes=function(e){if(!de.missing(e.childrenAfterSort))for(var t=e.childrenAfterSort,n=0;n<t.length;n++){var r=t[n],o=n===e.childrenAfterSort.length-1;r.setFirstChild(0===n),r.setLastChild(o),r.setChildIndex(n)}},e.prototype.updateGroupDataForHiddenOpenParents=function(e){var t=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){e.executeFromRootNode((function(e){return function e(n){t.pullDownGroupDataForHideOpenParents(n.childrenAfterSort,!1),n.childrenAfterSort.forEach((function(t){t.hasChildren()&&e(t)}))}(e)}))}},e.prototype.pullDownGroupDataForHideOpenParents=function(e,t){var n=this;de.missing(e)||this.gridOptionsWrapper.isGroupHideOpenParents()&&e.forEach((function(e){n.columnController.getGroupDisplayColumns().forEach((function(r){var o=r.getColDef().showRowGroup;if("string"==typeof o){var i=n.columnController.getPrimaryColumn(o);if(i!==e.rowGroupColumn)if(t)e.setGroupValue(r.getId(),null);else{var s=e.getFirstChildOfFirstChild(i);s&&e.setGroupValue(r.getId(),s.key)}}else console.error("ag-Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")}))}))},Fa([be("sortController")],e.prototype,"sortController",void 0),Fa([be("columnController")],e.prototype,"columnController",void 0),Fa([be("valueService")],e.prototype,"valueService",void 0),Fa([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Fa([me],e.prototype,"init",null),Fa([we("sortService")],e)}(),function(){function e(){}return e.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},e.prototype.filter=function(e){var t=this.filterManager.isAnyFilterPresent();this.filterNodes(t,e)},e.prototype.filterNodes=function(e,t){var n=this,r=function(t,r){t.hasChildren()?(t.childrenAfterFilter=e&&!r?t.childrenAfterGroup.filter((function(e){var t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,r=e.data&&n.filterManager.doesRowPassFilter(e);return t||r})):t.childrenAfterGroup,n.setAllChildrenCount(t)):(t.childrenAfterFilter=t.childrenAfterGroup,t.setAllChildrenCount(null))};if(this.doingTreeDataFiltering()){t.executeFromRootNode((function(e){return function e(t,o){if(t.childrenAfterGroup)for(var i=0;i<t.childrenAfterGroup.length;i++){var s=t.childrenAfterGroup[i],a=o||n.filterManager.doesRowPassFilter(s);s.childrenAfterGroup?e(t.childrenAfterGroup[i],a):r(s,a)}r(t,o)}(e,!1)}))}else t.forEachChangedNodeDepthFirst((function(e){return r(e,!1)}),!0)},e.prototype.setAllChildrenCountTreeData=function(e){var t=0;e.childrenAfterFilter.forEach((function(e){t++,t+=e.allChildrenCount})),e.setAllChildrenCount(t)},e.prototype.setAllChildrenCountGridGrouping=function(e){var t=0;e.childrenAfterFilter.forEach((function(e){e.group?t+=e.allChildrenCount:t++})),e.setAllChildrenCount(t)},e.prototype.setAllChildrenCount=function(e){this.doingTreeData?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)},e.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},Ma([be("filterManager")],e.prototype,"filterManager",void 0),Ma([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ma([me],e.prototype,"postConstruct",null),Ma([we("filterService")],e)}(),function(){function e(){}return e.prototype.postConstruct=function(){this.rowModel.getType()===ie.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},e.prototype.createTransactionForRowData=function(e){if(de.missing(this.clientSideRowModel))console.error("ag-Grid: ImmutableService only works with ClientSideRowModel");else{var t=this.gridOptionsWrapper.getRowNodeIdFunc();if(t&&!de.missing(t)){var n={remove:[],update:[],add:[]},r=this.clientSideRowModel.getCopyOfNodesMap(),o=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?null:{};return de.exists(e)&&e.forEach((function(e,i){var s=t(e),a=r[s];o&&(o[s]=i),a?(a.data!==e&&n.update.push(e),r[s]=void 0):n.add.push(e)})),de.iterateObject(r,(function(e,t){t&&n.remove.push(t.data)})),[n,o]}console.error("ag-Grid: ImmutableService requires getRowNodeId() callback to be implemented, your row data need IDs!")}},La([be("rowModel")],e.prototype,"rowModel",void 0),La([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),La([me],e.prototype,"postConstruct",null),La([we("immutableService")],e)}()],rowModels:{clientSide:ka}},Ga=(Oa=function(e,t){return(Oa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Oa(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Wa=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ha=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.cacheParams=n,r}return Ga(t,e),t.prototype.createBlankRowNode=function(t){var n=e.prototype.createBlankRowNode.call(this,t);return n.uiLevel=0,this.setIndexAndTopOnRowNode(n,t),n},t.prototype.setDataAndId=function(e,t,n){de.exists(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)},t.prototype.setRowNode=function(t,n){e.prototype.setRowNode.call(this,t,n),this.setIndexAndTopOnRowNode(n,t)},t.prototype.init=function(){e.prototype.init.call(this,{context:this.getContext(),rowRenderer:this.rowRenderer})},t.prototype.getNodeIdPrefix=function(){return null},t.prototype.getRow=function(e){return this.getRowUsingLocalIndex(e)},t.prototype.setIndexAndTopOnRowNode=function(e,t){e.setRowIndex(t),e.rowTop=this.cacheParams.rowHeight*t},t.prototype.loadFromDatasource=function(){var e=this,t={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this),sortModel:this.cacheParams.sortModel,filterModel:this.cacheParams.filterModel,context:this.gridOptionsWrapper.getContext()};de.missing(this.cacheParams.datasource.getRows)?console.warn("ag-Grid: datasource is missing getRows method"):(de.getFunctionParameters(this.cacheParams.datasource.getRows).length>1&&(console.warn("ag-grid: It looks like your paging datasource is of the old type, taking more than one parameter."),console.warn("ag-grid: From ag-grid 1.9.0, now the getRows takes one parameter. See the documentation for details.")),window.setTimeout((function(){e.cacheParams.datasource.getRows(t)}),0))},Wa([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Wa([be("rowRenderer")],t.prototype,"rowRenderer",void 0),Wa([me],t.prototype,"init",null),t}(da),Ba=(Ta=function(e,t){return(Ta=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ta(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ua=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ja=function(e){function t(t){return e.call(this,t)||this}return Ba(t,e),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.init=function(){e.prototype.init.call(this),this.getRow(0)},t.prototype.moveItemsDown=function(e,t,n){for(var r=e.getStartRow(),o=t+n,i=e.getEndRow()-1;i>=r;i--)if(!(i<o)){var s=this.getRow(i-n,!0);s?e.setRowNode(i,s):(e.setBlankRowNode(i),e.setDirty())}},t.prototype.insertItems=function(e,t,n){for(var r=e.getStartRow(),o=e.getEndRow(),i=[],s=0;s<n.length;s++){var a=t+s;if(a>=r&&a<o){var l=e.setNewData(a,n[s]);i.push(l)}}return i},t.prototype.insertItemsAtIndex=function(e,t){var n=this,r=[];this.forEachBlockInReverseOrder((function(o){o.getEndRow()<=e||(n.moveItemsDown(o,e,t.length),n.insertItems(o,e,t).forEach((function(e){return r.push(e)})))})),this.isMaxRowFound()&&this.hack_setVirtualRowCount(this.getVirtualRowCount()+t.length),this.onCacheUpdated(),this.eventService.dispatchEvent({type:xe.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.getRow=function(e,t){void 0===t&&(t=!1);var n=Math.floor(e/this.cacheParams.blockSize),r=this.getBlock(n);if(!r){if(t)return null;r=this.createBlock(n)}return r.getRow(e)},t.prototype.createBlock=function(e){var t=new Ha(e,this.cacheParams);return this.getContext().wireBean(t),this.postCreateBlock(t),t},t.prototype.refreshCache=function(){this.forEachBlockInOrder((function(e){return e.setDirty()})),this.checkBlockToLoad()},Ua([be("eventService")],t.prototype,"eventService",void 0),Ua([be("columnApi")],t.prototype,"columnApi",void 0),Ua([be("gridApi")],t.prototype,"gridApi",void 0),Ua([(n=Se("loggerFactory"),function(e,t){n(e,t,0)})],t.prototype,"setBeans",null),Ua([me],t.prototype,"init",null),t;var n}(fa),za=(Ra=function(e,t){return(Ra=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ra(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),qa=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ka=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return za(t,e),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,t,n,r){return!1},t.prototype.init=function(){var e=this;this.gridOptionsWrapper.isRowModelInfinite()&&(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((function(){return e.destroyCache()})))},t.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},t.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.isLastRowFound=function(){return!!this.infiniteCache&&this.infiniteCache.isMaxRowFound()},t.prototype.addEventListeners=function(){this.addDestroyableEventListener(this.eventService,xe.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addDestroyableEventListener(this.eventService,xe.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addDestroyableEventListener(this.eventService,xe.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnEverything.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!de.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return ie.ROW_MODEL_TYPE_INFINITE},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&(this.checkForDeprecated(),this.reset())},t.prototype.checkForDeprecated=function(){var e=this.datasource;de.exists(e.maxConcurrentRequests)&&console.error("ag-Grid: since version 5.1.x, maxConcurrentRequests is replaced with grid property maxConcurrentDatasourceRequests"),de.exists(e.maxPagesInCache)&&console.error("ag-Grid: since version 5.1.x, maxPagesInCache is replaced with grid property maxPagesInPaginationCache"),de.exists(e.overflowSize)&&console.error("ag-Grid: since version 5.1.x, overflowSize is replaced with grid property paginationOverflowSize"),de.exists(e.blockSize)&&console.error("ag-Grid: since version 5.1.x, pageSize/blockSize is replaced with grid property infinitePageSize")},t.prototype.isEmpty=function(){return de.missing(this.infiniteCache)},t.prototype.isRowsToRender=function(){return de.exists(this.infiniteCache)},t.prototype.getNodesInRangeForSelection=function(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]},t.prototype.reset=function(){if(!de.missing(this.datasource)){de.exists(this.gridOptionsWrapper.getRowNodeIdFunc())||this.selectionController.reset(),this.resetCache();var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}},t.prototype.createModelUpdatedEvent=function(){return{type:xe.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!1,animate:!1}},t.prototype.resetCache=function(){this.destroyCache();var e=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests(),t=this.gridOptionsWrapper.getBlockLoadDebounceMillis();this.rowNodeBlockLoader=new ha(e,t),this.getContext().wireBean(this.rowNodeBlockLoader),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,maxConcurrentRequests:e,overflowSize:this.gridOptionsWrapper.getCacheOverflowSize(),initialRowCount:this.gridOptionsWrapper.getInfiniteInitialRowCount(),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),blockSize:this.gridOptionsWrapper.getCacheBlockSize(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),lastAccessedSequence:new pe},this.cacheParams.maxConcurrentRequests&&this.cacheParams.maxConcurrentRequests>=1||(this.cacheParams.maxConcurrentRequests=2),this.cacheParams.blockSize&&this.cacheParams.blockSize>=1||(this.cacheParams.blockSize=100),this.cacheParams.initialRowCount>=1||(this.cacheParams.initialRowCount=0),this.cacheParams.overflowSize>=1||(this.cacheParams.overflowSize=1),this.infiniteCache=new ja(this.cacheParams),this.getContext().wireBean(this.infiniteCache),this.infiniteCache.addEventListener(fa.EVENT_CACHE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache.destroy(),this.infiniteCache=null),this.rowNodeBlockLoader&&(this.rowNodeBlockLoader.destroy(),this.rowNodeBlockLoader=null)},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){return this.infiniteCache?this.infiniteCache.getRow(e):null},t.prototype.getRowNode=function(e){var t=null;return this.forEachNode((function(n){n.id===e&&(t=n)})),t},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e,new pe)},t.prototype.getCurrentPageHeight=function(){return this.getRowCount()*this.rowHeight},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getVirtualRowCount():0},t.prototype.updateRowData=function(e){de.exists(e.remove)||de.exists(e.update)?console.warn("ag-Grid: updateRowData for InfiniteRowModel does not support remove or update, only add"):de.missing(e.addIndex)?console.warn("ag-Grid: updateRowData for InfiniteRowModel requires add and addIndex to be set"):this.infiniteCache&&this.infiniteCache.insertItemsAtIndex(e.addIndex,e.add)},t.prototype.isRowPresent=function(e){return!1},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.getVirtualRowCount=function(){return this.infiniteCache?this.infiniteCache.getVirtualRowCount():null},t.prototype.isMaxRowFound=function(){if(this.infiniteCache)return this.infiniteCache.isMaxRowFound()},t.prototype.setVirtualRowCount=function(e,t){this.infiniteCache&&this.infiniteCache.setVirtualRowCount(e,t)},t.prototype.getBlockState=function(){return this.rowNodeBlockLoader?this.rowNodeBlockLoader.getBlockState():null},qa([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),qa([be("filterManager")],t.prototype,"filterManager",void 0),qa([be("sortController")],t.prototype,"sortController",void 0),qa([be("selectionController")],t.prototype,"selectionController",void 0),qa([be("eventService")],t.prototype,"eventService",void 0),qa([be("gridApi")],t.prototype,"gridApi",void 0),qa([be("columnApi")],t.prototype,"columnApi",void 0),qa([be("rowRenderer")],t.prototype,"rowRenderer",void 0),qa([me],t.prototype,"init",null),qa([Ce],t.prototype,"destroyDatasource",null),qa([we("rowModel")],t)}(qe),Qa={moduleName:t.ModuleNames.InfiniteRowModelModule,rowModels:{infinite:Ka}},Ya=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Za=function(){function e(e){var t=e.valueService,n=e.gridOptionsWrapper,r=e.processCellCallback,o=e.processHeaderCallback,i=e.processGroupHeaderCallback,s=e.cellAndHeaderEscaper;this.columnController=e.columnController,this.valueService=t,this.gridOptionsWrapper=n,this.processCellCallback=r,this.processHeaderCallback=o,this.processGroupHeaderCallback=i,this.cellAndHeaderEscaper=s}return e.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return null==t&&(t=""),this.cellAndHeaderEscaper?this.cellAndHeaderEscaper(t):t},e.prototype.extractRowCellValue=function(e,t,n,r){var o;return o=r&&r.group&&e.getColDef().showRowGroup?this.createValueForGroupNode(r):this.valueService.getValue(e,r),null==(o=this.processCell(r,e,o,this.processCellCallback,n))&&(o=""),this.cellAndHeaderEscaper?this.cellAndHeaderEscaper(o):o},e.prototype.getHeaderName=function(e,t){return e?e({column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnController.getDisplayNameForColumn(t,"csv",!0)},e.prototype.createValueForGroupNode=function(e){for(var t=[e.key];e.parent;)t.push((e=e.parent).key);return t.reverse().join(" -> ")},e.prototype.processCell=function(e,t,n,r,o){return r?r({column:t,node:e,value:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:o}):n},e}(),Xa=function(){function e(){}return e.prototype.serialize=function(e,t){var n=t&&t.skipGroups,r=t&&t.skipHeader,o=t&&t.columnGroups,i=t&&t.skipFooters,s=t&&t.skipPinnedTop,a=t&&t.skipPinnedBottom,l=t&&t.customHeader,u=t&&t.customFooter,c=t&&t.allColumns,p=t&&t.onlySelected,d=t&&t.columnKeys,h=t&&t.onlySelectedAllPages,f=t?t.processGroupHeaderCallback:void 0,g=t&&t.shouldRowBeSkipped||function(){return!1},v=this.gridOptionsWrapper.getApi(),y=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),m=this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),C=this.gridOptionsWrapper.getContext(),w=this.columnController.isPivotMode(),b=this.rowModel.getType()===ie.ROW_MODEL_TYPE_CLIENT_SIDE,E=!b&&p,_=[];if(_=de.existsAndNotEmpty(d)?this.columnController.getGridColumns(d):c&&!w?(_=this.gridOptionsWrapper.isTreeData()?this.columnController.getGridColumns([ie.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnController.getAllPrimaryColumns()||[]):this.columnController.getAllDisplayedColumns(),l&&e.addCustomHeader(l),e.prepare(_),o){var S=new Fe,R=this.displayedGroupCreator.createDisplayedGroups(_,this.columnController.getGridBalancedTree(),S,null);this.recursivelyAddHeaderGroups(R,e,f)}if(!r){var T=e.onNewHeaderRow();_.forEach((function(e,t){T.onColumn(e,t,void 0)}))}function O(t){if((!t.group||!n&&(1!==t.allChildrenCount||!(y||m&&t.leafGroup)))&&(!i||!t.footer)&&(!p||t.isSelected())&&(!s||"top"!==t.rowPinned)&&(!a||"bottom"!==t.rowPinned)&&(-1!==t.level||t.leafGroup)&&!g({node:t,api:v,context:C})){var r=e.onNewBodyRow();_.forEach((function(e,n){r.onColumn(e,n,t)}))}}return this.pinnedRowModel.forEachPinnedTopRow(O),w?this.rowModel.forEachPivotNode?this.rowModel.forEachPivotNode(O):this.rowModel.forEachNode(O):h||E?this.selectionController.getSelectedNodes().forEach((function(e){O(e)})):b?this.rowModel.forEachNodeAfterFilterAndSort(O):this.rowModel.forEachNode(O),this.pinnedRowModel.forEachPinnedBottomRow(O),u&&e.addCustomFooter(u),e.parse()},e.prototype.recursivelyAddHeaderGroups=function(e,t,n){var r=[];e.forEach((function(e){e.getChildren&&e.getChildren().forEach((function(e){return r.push(e)}))})),e.length>0&&e[0]instanceof Ae&&this.doAddHeaderHeader(t,e,n),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,t,n)},e.prototype.doAddHeaderHeader=function(e,t,n){var r=this,o=e.onNewHeaderGroupingRow(),i=0;t.forEach((function(e){var t,s=e;t=n?n({columnGroup:s,api:r.gridOptionsWrapper.getApi(),columnApi:r.gridOptionsWrapper.getColumnApi(),context:r.gridOptionsWrapper.getContext()}):r.columnController.getDisplayNameForColumnGroup(s,"header"),o.onColumn(t||"",i++,s.getLeafColumns().length-1)}))},Ya([be("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),Ya([be("columnController")],e.prototype,"columnController",void 0),Ya([be("rowModel")],e.prototype,"rowModel",void 0),Ya([be("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Ya([be("selectionController")],e.prototype,"selectionController",void 0),Ya([be("columnFactory")],e.prototype,"columnFactory",void 0),Ya([be("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ya([we("gridSerializer")],e)}(),$a=(Sa=function(e,t){return(Sa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Sa(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ja=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},el=function(e){function t(t){var n=e.call(this,{columnController:t.columnController,valueService:t.valueService,gridOptionsWrapper:t.gridOptionsWrapper,processCellCallback:t.processCellCallback,processHeaderCallback:t.processHeaderCallback})||this;n.result="",n.lineOpened=!1;var r=t.columnSeparator;return n.suppressQuotes=t.suppressQuotes,n.columnSeparator=r,n}return $a(t,e),t.prototype.prepare=function(e){},t.prototype.addCustomHeader=function(e){e&&(this.result+=e+"\r\n")},t.prototype.addCustomFooter=function(e){e&&(this.result+=e+"\r\n")},t.prototype.onNewHeaderGroupingRow=function(){return this.lineOpened&&(this.result+="\r\n"),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,t,n){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e,this.suppressQuotes);for(var r=1;r<=n;r++)this.result+=this.columnSeparator+this.putInQuotes("",this.suppressQuotes);this.lineOpened=!0},t.prototype.onNewHeaderRow=function(){return this.lineOpened&&(this.result+="\r\n"),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,t,n){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e),this.suppressQuotes),this.lineOpened=!0},t.prototype.onNewBodyRow=function(){return this.lineOpened&&(this.result+="\r\n"),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,t,n){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,t,ie.EXPORT_TYPE_CSV,n),this.suppressQuotes),this.lineOpened=!0},t.prototype.putInQuotes=function(e,t){return t?e:null==e?'""':("string"==typeof e?n=e:"function"==typeof e.toString?n=e.toString():(console.warn("unknown value type during csv conversion"),n=""),'"'+n.replace(/"/g,'""')+'"');var n},t.prototype.parse=function(){return this.result},t}(Za),tl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $a(t,e),t.prototype.postConstruct=function(){this.setBeans({downloader:this.downloader,gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){return this.getData(e)},t.prototype.getMimeType=function(){return"text/csv;charset=utf-8;"},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){return new el({columnController:this.columnController,valueService:this.valueService,gridOptionsWrapper:this.gridOptionsWrapper,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},Ja([be("columnController")],t.prototype,"columnController",void 0),Ja([be("valueService")],t.prototype,"valueService",void 0),Ja([be("downloader")],t.prototype,"downloader",void 0),Ja([be("gridSerializer")],t.prototype,"gridSerializer",void 0),Ja([be("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ja([me],t.prototype,"postConstruct",null),Ja([we("csvCreator")],t)}(function(){function e(){}return e.prototype.setBeans=function(e){this.beans=e},e.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("ag-grid: Export cancelled. Export is not allowed as per your configuration."),"";var t=this.getMergedParamsAndData(e),n=t.mergedParams,r=t.data,o=n&&n.fileName&&0!==n.fileName.length?n.fileName:this.getDefaultFileName();return-1===o.indexOf(".")&&(o=o+"."+this.getDefaultFileExtension()),this.beans.downloader.download(o,this.packageFile(r)),r},e.prototype.getData=function(e){return this.getMergedParamsAndData(e).data},e.prototype.getMergedParamsAndData=function(e){var t=this.mergeDefaultParams(e);return{mergedParams:t,data:this.beans.gridSerializer.serialize(this.createSerializingSession(t),t)}},e.prototype.mergeDefaultParams=function(e){var t=this.beans.gridOptionsWrapper.getDefaultExportParams(),n={};return de.assign(n,t),de.assign(n,e),n},e.prototype.packageFile=function(e){return new Blob(["\ufeff",e],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():"octet/stream"})},e}()),nl=[0,1996959894,-301047508,-1727442502,124634137,1886057615,-379345611,-1637575261,249268274,2044508324,-522852066,-1747789432,162941995,2125561021,-407360249,-1866523247,498536548,1789927666,-205950648,-2067906082,450548861,1843258603,-187386543,-2083289657,325883990,1684777152,-43845254,-1973040660,335633487,1661365465,-99664541,-1928851979,997073096,1281953886,-715111964,-1570279054,1006888145,1258607687,-770865667,-1526024853,901097722,1119000684,-608450090,-1396901568,853044451,1172266101,-589951537,-1412350631,651767980,1373503546,-925412992,-1076862698,565507253,1454621731,-809855591,-1195530993,671266974,1594198024,-972236366,-1324619484,795835527,1483230225,-1050600021,-1234817731,1994146192,31158534,-1731059524,-271249366,1907459465,112637215,-1614814043,-390540237,2013776290,251722036,-1777751922,-519137256,2137656763,141376813,-1855689577,-429695999,1802195444,476864866,-2056965928,-228458418,1812370925,453092731,-2113342271,-183516073,1706088902,314042704,-1950435094,-54949764,1658658271,366619977,-1932296973,-69972891,1303535960,984961486,-1547960204,-725929758,1256170817,1037604311,-1529756563,-740887301,1131014506,879679996,-1385723834,-631195440,1141124467,855842277,-1442165665,-586318647,1342533948,654459306,-1106571248,-921952122,1466479909,544179635,-1184443383,-832445281,1591671054,702138776,-1328506846,-942167884,1504918807,783551873,-1212326853,-1061524307,-306674912,-1698712650,62317068,1957810842,-355121351,-1647151185,81470997,1943803523,-480048366,-1805370492,225274430,2053790376,-468791541,-1828061283,167816743,2097651377,-267414716,-2029476910,503444072,1762050814,-144550051,-2140837941,426522225,1852507879,-19653770,-1982649376,282753626,1742555852,-105259153,-1900089351,397917763,1622183637,-690576408,-1580100738,953729732,1340076626,-776247311,-1497606297,1068828381,1219638859,-670225446,-1358292148,906185462,1090812512,-547295293,-1469587627,829329135,1181335161,-882789492,-1134132454,628085408,1382605366,-871598187,-1156888829,570562233,1426400815,-977650754,-1296233688,733239954,1555261956,-1026031705,-1244606671,752459403,1541320221,-1687895376,-328994266,1969922972,40735498,-1677130071,-351390145,1913087877,83908371,-1782625662,-491226604,2075208622,213261112,-1831694693,-438977011,2094854071,198958881,-2032938284,-237706686,1759359992,534414190,-2118248755,-155638181,1873836001,414664567,-2012718362,-15766928,1711684554,285281116,-1889165569,-127750551,1634467795,376229701,-1609899400,-686959890,1308918612,956543938,-1486412191,-799009033,1231636301,1047427035,-1362007478,-640263460,1088359270,936918e3,-1447252397,-558129467,1202900863,817233897,-1111625188,-893730166,1404277552,615818150,-1160759803,-841546093,1423857449,601450431,-1285129682,-1000256840,1567103746,711928724,-1274298825,-1022587231,1510334235,755167117],rl={moduleName:t.ModuleNames.CsvExportModule,beans:[tl,function(){function e(){}return e.prototype.download=function(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t,e);else{var n=document.createElement("a"),r=window.URL.createObjectURL(t);n.setAttribute("href",r),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:window})),document.body.removeChild(n),window.setTimeout((function(){window.URL.revokeObjectURL(r)}),0)}},function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([we("downloader")],e)}(),function(){function e(){}return e.prototype.createHeader=function(e){void 0===e&&(e={});var t=["version"];return e.version||(e.version="1.0"),e.encoding&&t.push("encoding"),e.standalone&&t.push("standalone"),"<?xml "+t.map((function(t){return t+'="'+e[t]+'"'})).join(" ")+" ?>"},e.prototype.createXml=function(e,t){var n=this,r="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach((function(e){Object.keys(e.map).forEach((function(o){r+=n.returnAttributeIfPopulated(e.prefix+o,e.map[o],t)}))})),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach((function(o){r+=n.returnAttributeIfPopulated(o,e.properties.rawMap[o],t)})));var o="<"+e.name+r;return e.children||null!=e.textNode?null!=e.textNode?o+">"+e.textNode+"</"+e.name+">\r\n":(o+=">\r\n",e.children&&e.children.forEach((function(e){o+=n.createXml(e,t)})),o+"</"+e.name+">\r\n"):o+"/>\r\n"},e.prototype.returnAttributeIfPopulated=function(e,t,n){if(!t&&""!==t&&0!==t)return"";var r=t;return"boolean"==typeof t&&n&&(r=n(t))," "+e+'="'+r+'"'},function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([we("xmlFactory")],e)}(),Xa,function(){function e(){var e=this;this.folders=[],this.files=[],this.addFolder=function(t){e.folders.push({path:t,created:new Date})}}return e.prototype.addFolders=function(e){e.forEach(this.addFolder)},e.prototype.addFile=function(e,t){this.files.push({path:e,created:new Date,content:t})},e.prototype.clearStream=function(){this.folders=[],this.files=[]},e.prototype.getContent=function(e){void 0===e&&(e="application/zip");var t=this.buildFileStream(),n=this.buildUint8Array(t);return this.clearStream(),new Blob([n],{type:e})},e.prototype.buildFileStream=function(e){void 0===e&&(e="");for(var t=this.folders.concat(this.files),n=t.length,r="",o=0,i=0,s=0,a=t;s<a.length;s++){var l=this.getHeader(a[s],o),u=l.fileHeader,c=l.folderHeader,p=l.content;o+=u.length+p.length,i+=c.length,e+=u+p,r+=c}return e+r+this.buildFolderEnd(n,i,o)},e.prototype.getHeader=function(e,t){var n=e.content,r=e.path,o=e.created,i=de.decToHex,s=(0,de.utf8_encode)(r),a=s!==r,l=this.convertTime(o),u=this.convertDate(o),c="";if(a){var p=i(1,1)+i(this.getFromCrc32Table(s),4)+s;c="up"+i(p.length,2)+p}var d="\n\0"+(a?"\0\b":"\0\0")+"\0\0"+i(l,2)+i(u,2)+i(n?this.getFromCrc32Table(n):0,4)+i(n?n.length:0,4)+i(n?n.length:0,4)+i(s.length,2)+i(c.length,2);return{fileHeader:"PK\x03\x04"+d+s+c,folderHeader:"PK\x01\x02\x14\0"+d+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\x10\0\0\0")+i(t,4)+s+c,content:n||""}},e.prototype.buildFolderEnd=function(e,t,n){var r=de.decToHex;return"PK\x05\x06\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+"\0\0"},e.prototype.buildUint8Array=function(e){for(var t=new Uint8Array(e.length),n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t},e.prototype.getFromCrc32Table=function(e,t){if(void 0===t&&(t=0),!e.length)return 0;t^=-1;for(var n=0,r=0;r<e.length;r++)n=e.charCodeAt(r),t=t>>>8^nl[255&(t^n)];return-1^t},e.prototype.convertTime=function(e){var t=e.getHours();return t<<=6,t|=e.getMinutes(),(t<<=5)|e.getSeconds()/2},e.prototype.convertDate=function(e){var t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,(t<<=5)|e.getDate()},function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([we("zipContainer")],e)}()]};De.register(Va),De.register(Qa),De.register(rl),t.AgAbstractField=Jr,t.AgAngleSelect=Zs,t.AgCheckbox=oo,t.AgColorPicker=zs,t.AgDialog=xs,t.AgGroupComponent=Is,t.AgInputNumberField=qs,t.AgInputRange=Ks,t.AgInputTextArea=Vs,t.AgInputTextField=Ms,t.AgPanel=Ps,t.AgRadioButton=_i,t.AgSelect=Qs,t.AgSlider=Hs,t.AgToggleButton=Xs,t.AlignedGridsService=Ki,t.AnimateShowChangeCellRenderer=Qt,t.AnimateSlideCellRenderer=Zt,t.AutoWidthCalculator=ui,t.Autowired=be,t.BaseComponentWrapper=Ea,t.Bean=we,t.BeanStub=qe,t.BodyDropPivotTarget=Ao,t.BodyDropTarget=No,t.CellComp=Hr,t.CellNavigationService=Ci,t.CellPositionUtils=na,t.CellRendererFactory=wi,t.ChangedPath=Gn,t.CheckboxSelectionComponent=Wt,t.ColDefUtil=We,t.Color=oe,t.Column=Ie,t.ColumnApi=Un,t.ColumnController=Me,t.ColumnFactory=Ne,t.ColumnGroup=Ae,t.ColumnKeyCreator=ge,t.ColumnUtils=Le,t.Component=Qe,t.ComponentUtil=je,t.Constants=ie,t.Context=ve,t.CssClassApplier=Kr,t.DateFilter=kt,t.DisplayedGroupCreator=Ve,t.DragAndDropService=Ir,t.DragService=gi,t.Environment=os,t.EventService=Oe,t.Events=xe,t.ExpressionService=ei,t.FilterManager=Wo,t.FocusedCellController=yi,t.Grid=ia,t.GridApi=$o,t.GridCore=hi,t.GridOptionsWrapper=Ue,t.GridPanel=Zo,t.GroupCellRenderer=qt,t.GroupInstanceIdCreator=Fe,t.HeaderContainer=Fo,t.HeaderRootComp=Vo,t.HeaderRowComp=To,t.HorizontalResizeService=pi,t.LargeTextCellEditor=un,t.Listener=function(e){return Je.bind(this,e)},t.Logger=ai,t.LoggerFactory=si,t.MessageBox=ya,t.ModuleRegistry=De,t.MouseEventService=mi,t.MoveColumnController=Do,t.NumberFilter=dn,t.NumberSequence=pe,t.Optional=Ee,t.OriginalColumnGroup=ke,t.PaginationProxy=Li,t.PinnedRowModel=oa,t.PopupComponent=Ye,t.PopupEditorWrapper=Lr,t.PopupSelectCellEditor=an,t.PopupService=oi,t.PopupTextCellEditor=on,t.PostConstruct=me,t.PreConstruct=ye,t.PreDestroy=Ce,t.Promise=fe,t.ProvidedFilter=St,t.Qualifier=Se,t.QuerySelector=function(e){return $e.bind(this,e)},t.RefSelector=Xe,t.ResizeObserverService=ws,t.RowComp=Ur,t.RowNode=Vt,t.RowNodeBlock=da,t.RowNodeBlockLoader=ha,t.RowNodeCache=fa,t.RowPositionUtils=ta,t.RowRenderer=qr,t.ScalerFilter=It,t.ScrollVisibleService=Ri,t.SelectCellEditor=nn,t.SelectableService=hs,t.SelectionController=Hn,t.SetLeftFeature=Yr,t.SimpleFilter=Dt,t.SortController=vi,t.StandardMenuFactory=fi,t.StylingService=Oi,t.TabbedLayout=pa,t.TemplateService=ni,t.TextCellEditor=Ze,t.TextFilter=Dn,t.TooltipManager=Es,t.TouchListener=Pt,t.UserComponentFactory=Ut,t.UserComponentRegistry=Vn,t.Utils=ce,t.ValueCache=Bi,t.ValueFormatterService=bi,t.ValueService=Bo,t.VanillaFrameworkOverrides=Si,t.VirtualList=ba,t._=de,t.defaultGroupComparator=function(e,t,n,r,o){void 0===o&&(o=!1),console.warn("ag-Grid: Since ag-grid 11.0.0 defaultGroupComparator is not necessary. You can remove this from your colDef");var i=de.exists(n)&&n.group,s=de.exists(r)&&r.group,a=!i&&!s;return i&&s?de.defaultComparator(n.key,r.key,o):a?de.defaultComparator(e,t,o):i?1:-1},t.initialiseAgGridWithAngular1=function(e){e.module("agGrid",[]).directive("agGrid",(function(){return{restrict:"A",controller:["$element","$scope","$compile","$attrs",sa],scope:!0}}))},t.initialiseAgGridWithWebComponents=function(){if(console.warn("ag-grid: initialiseAgGridWithWebComponents is deprecated. Please use the ag-grid-webcomponent dependency instead. "),!ca){ca=!0,"undefined"!=typeof document&&document.registerElement||console.error("ag-Grid: unable to find document.registerElement() function, unable to initialise ag-Grid as a Web Component");var e=Object.create(HTMLElement.prototype);je.ALL_PROPERTIES.forEach((function(t){Object.defineProperty(e,t,{set:function(e){this.__agGridSetProperty(t,e)},get:function(){return this.__agGridGetProperty(t)},enumerable:!0,configurable:!0})}));var t=e;t.__agGridSetProperty=function(e,t){this.__attributes||(this.__attributes={}),this.__attributes[e]=t;var n={};n[e]={currentValue:t},this.onChange(n)},t.onChange=function(e){this._initialised&&je.processOnChange(e,this._gridOptions,this.api,this.columnApi)},t.__agGridGetProperty=function(e){return this.__attributes||(this.__attributes={}),this.__attributes[e]},t.setGridOptions=function(e){var t=this.globalEventListener.bind(this);this._gridOptions=je.copyAttributesToGridOptions(e,this),this._agGrid=new ia(this,this._gridOptions,{globalEventListener:t}),this.api=e.api,this.columnApi=e.columnApi,this._initialised=!0},t.createdCallback=function(){for(var e=0;e<this.attributes.length;e++)this.setPropertyFromAttribute(this.attributes[e])},t.setPropertyFromAttribute=function(e){var t,n="string"==typeof(t=e.nodeName)?t.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()})):t,r=e.nodeValue;je.ALL_PROPERTIES.indexOf(n)>=0&&(this[n]=r)},t.attachedCallback=function(e){},t.detachedCallback=function(e){},t.attributeChangedCallback=function(e){this.setPropertyFromAttribute(this.attributes[e])},t.globalEventListener=function(e,t){var n=e.toLowerCase(),r=new Event(n);r.agGridDetails=t,this.dispatchEvent(r);var o="on"+n;"function"==typeof this[o]&&this[o](r)},document.registerElement("ag-grid",{prototype:e})}},t.simpleHttpRequest=function(e){return new fe((function(t){var n=new XMLHttpRequest;n.open("GET",e.url),n.send(),n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var e=JSON.parse(n.responseText);t(e)}}}))}},gRHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("2fFW"),o=n("NJ4a"),i={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(o.a)(e)},complete:function(){}}},hNGQ:function(e,t,n){var r=n("mrSG").__extends;Object.defineProperty(t,"__esModule",{value:!0});var o=n("8Y7J"),i=n("f7ga");t.AngularFrameworkOverrides=function(e){function t(t){var n=e.call(this)||this;return n._ngZone=t,n}return r(t,e),t.prototype.setTimeout=function(e,t){this._ngZone.runOutsideAngular((function(){window.setTimeout((function(){e()}),t)}))},t.prototype.addEventListenerOutsideAngular=function(t,n,r,o){var i=this;this._ngZone.runOutsideAngular((function(){e.prototype.addEventListenerOutsideAngular.call(i,t,n,r,o)}))},t.decorators=[{type:o.Injectable}],t}(i.VanillaFrameworkOverrides)},jIY6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("8Y7J"),o=n("f7ga"),i=n("hNGQ"),s=n("L5g3"),a=n("+dxm");t.AgGridAngular=function(){function e(e,t,n,i,s){this.viewContainerRef=t,this.angularFrameworkOverrides=n,this.frameworkComponentWrapper=i,this._componentFactoryResolver=s,this._initialised=!1,this._destroyed=!1,this._fullyReady=new o.Promise((function(e){e(!0)})),this.slaveGrids=void 0,this.alignedGrids=void 0,this.rowData=void 0,this.columnDefs=void 0,this.excelStyles=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.components=void 0,this.frameworkComponents=void 0,this.rowStyle=void 0,this.context=void 0,this.autoGroupColumnDef=void 0,this.groupColumnDef=void 0,this.localeText=void 0,this.icons=void 0,this.datasource=void 0,this.serverSideDatasource=void 0,this.viewportDatasource=void 0,this.groupRowRendererParams=void 0,this.aggFuncs=void 0,this.fullWidthCellRendererParams=void 0,this.defaultColGroupDef=void 0,this.defaultColDef=void 0,this.defaultExportParams=void 0,this.columnTypes=void 0,this.rowClassRules=void 0,this.detailGridOptions=void 0,this.detailCellRendererParams=void 0,this.loadingCellRendererParams=void 0,this.loadingOverlayComponentParams=void 0,this.noRowsOverlayComponentParams=void 0,this.popupParent=void 0,this.colResizeDefault=void 0,this.reduxStore=void 0,this.statusBar=void 0,this.sideBar=void 0,this.sortingOrder=void 0,this.rowClass=void 0,this.rowSelection=void 0,this.overlayLoadingTemplate=void 0,this.overlayNoRowsTemplate=void 0,this.quickFilterText=void 0,this.rowModelType=void 0,this.editType=void 0,this.domLayout=void 0,this.clipboardDeliminator=void 0,this.rowGroupPanelShow=void 0,this.multiSortKey=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotPanelShow=void 0,this.rowHeight=void 0,this.detailRowHeight=void 0,this.rowBuffer=void 0,this.colWidth=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.groupDefaultExpanded=void 0,this.minColWidth=void 0,this.maxColWidth=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.autoSizePadding=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.cacheOverflowSize=void 0,this.paginationPageSize=void 0,this.cacheBlockSize=void 0,this.infiniteInitialRowCount=void 0,this.scrollbarWidth=void 0,this.paginationStartPage=void 0,this.infiniteBlockSize=void 0,this.batchUpdateWaitMillis=void 0,this.blockLoadDebounceMillis=void 0,this.keepDetailRowsCount=void 0,this.localeTextFunc=void 0,this.groupRowInnerRenderer=void 0,this.groupRowInnerRendererFramework=void 0,this.dateComponent=void 0,this.dateComponentFramework=void 0,this.groupRowRenderer=void 0,this.groupRowRendererFramework=void 0,this.isExternalFilterPresent=void 0,this.getRowHeight=void 0,this.doesExternalFilterPass=void 0,this.getRowClass=void 0,this.getRowStyle=void 0,this.getRowClassRules=void 0,this.traverseNode=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.processRowPostCreate=void 0,this.processCellForClipboard=void 0,this.getNodeChildDetails=void 0,this.groupRowAggNodes=void 0,this.getRowNodeId=void 0,this.isFullWidthCell=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererFramework=void 0,this.doesDataFlower=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.getBusinessKeyForNode=void 0,this.sendToClipboard=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getDetailRowData=void 0,this.processCellFromClipboard=void 0,this.getDocument=void 0,this.postProcessPopup=void 0,this.getChildCount=void 0,this.getDataPath=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererFramework=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentFramework=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentFramework=void 0,this.detailCellRenderer=void 0,this.detailCellRendererFramework=void 0,this.defaultGroupSortComparator=void 0,this.isRowMaster=void 0,this.isRowSelectable=void 0,this.postSort=void 0,this.processHeaderForClipboard=void 0,this.paginationNumberFormatter=void 0,this.processDataFromClipboard=void 0,this.getServerSideGroupKey=void 0,this.isServerSideGroup=void 0,this.suppressKeyboardEvent=void 0,this.createChartContainer=void 0,this.processChartOptions=void 0,this.getChartToolbarItems=void 0,this.fillOperation=void 0,this.toolPanelSuppressRowGroups=void 0,this.toolPanelSuppressValues=void 0,this.toolPanelSuppressPivots=void 0,this.toolPanelSuppressPivotMode=void 0,this.toolPanelSuppressSideButtons=void 0,this.toolPanelSuppressColumnFilter=void 0,this.toolPanelSuppressColumnSelectAll=void 0,this.toolPanelSuppressColumnExpandAll=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.suppressRowClickSelection=void 0,this.suppressCellSelection=void 0,this.suppressHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debug=void 0,this.enableBrowserTooltips=void 0,this.enableColResize=void 0,this.enableCellExpressions=void 0,this.enableSorting=void 0,this.enableServerSideSorting=void 0,this.enableFilter=void 0,this.enableServerSideFilter=void 0,this.angularCompileRows=void 0,this.angularCompileFilters=void 0,this.angularCompileHeaders=void 0,this.groupSuppressAutoColumn=void 0,this.groupSelectsChildren=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupUseEntireRow=void 0,this.groupSuppressRow=void 0,this.groupSuppressBlankHeader=void 0,this.forPrint=void 0,this.suppressMenuHide=void 0,this.rowDeselection=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.singleClickEdit=void 0,this.suppressLoadingOverlay=void 0,this.suppressNoRowsOverlay=void 0,this.suppressAutoSize=void 0,this.suppressParentsInRowNodes=void 0,this.showToolPanel=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressMovableColumns=void 0,this.suppressFieldDotNotation=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.suppressClearOnFillReduction=void 0,this.deltaSort=void 0,this.suppressTouch=void 0,this.suppressAsyncEvents=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressContextMenu=void 0,this.suppressMenuFilterPanel=void 0,this.suppressMenuMainPanel=void 0,this.suppressMenuColumnPanel=void 0,this.rememberGroupStateWhenNewData=void 0,this.enableCellChangeFlash=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.suppressUseColIdForGroups=void 0,this.suppressCopyRowsToClipboard=void 0,this.copyHeadersToClipboard=void 0,this.pivotMode=void 0,this.suppressAggFuncInHeader=void 0,this.suppressColumnVirtualisation=void 0,this.suppressAggAtRootLevel=void 0,this.suppressFocusAfterRefresh=void 0,this.functionsPassive=void 0,this.functionsReadOnly=void 0,this.animateRows=void 0,this.groupSelectsFiltered=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.enableRtl=void 0,this.suppressClickEdit=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.enableGroupEdit=void 0,this.embedFullWidthRows=void 0,this.deprecatedEmbedFullWidthRows=void 0,this.suppressTabbing=void 0,this.suppressPaginationPanel=void 0,this.floatingFilter=void 0,this.groupHideOpenParents=void 0,this.groupMultiAutoColumn=void 0,this.pagination=void 0,this.stopEditingWhenGridLosesFocus=void 0,this.paginationAutoPageSize=void 0,this.suppressScrollOnNewData=void 0,this.purgeClosedRowNodes=void 0,this.cacheQuickFilter=void 0,this.deltaRowDataMode=void 0,this.ensureDomOrder=void 0,this.accentedSort=void 0,this.pivotTotals=void 0,this.suppressChangeDetection=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAnimationFrame=void 0,this.suppressExcelExport=void 0,this.suppressCsvExport=void 0,this.treeData=void 0,this.masterDetail=void 0,this.suppressMultiRangeSelection=void 0,this.enterMovesDownAfterEdit=void 0,this.enterMovesDown=void 0,this.suppressPropertyNamesCheck=void 0,this.rowMultiSelectWithClick=void 0,this.contractColumnSelection=void 0,this.suppressEnterpriseResetOnNewColumns=void 0,this.enableOldSetFilterModel=void 0,this.suppressRowHoverHighlight=void 0,this.gridAutoHeight=void 0,this.suppressRowTransform=void 0,this.suppressClipboardPaste=void 0,this.serverSideSortingAlwaysResets=void 0,this.reactNext=void 0,this.suppressSetColumnStateEvents=void 0,this.enableCharts=void 0,this.deltaColumnMode=void 0,this.suppressMaintainUnsortedOrder=void 0,this.enableCellTextSelection=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.keepDetailRows=void 0,this.paginateChildRows=void 0,this.preventDefaultOnContextMenu=void 0,this.columnEverythingChanged=new r.EventEmitter,this.newColumnsLoaded=new r.EventEmitter,this.columnPivotModeChanged=new r.EventEmitter,this.columnRowGroupChanged=new r.EventEmitter,this.expandOrCollapseAll=new r.EventEmitter,this.columnPivotChanged=new r.EventEmitter,this.gridColumnsChanged=new r.EventEmitter,this.columnValueChanged=new r.EventEmitter,this.columnMoved=new r.EventEmitter,this.columnVisible=new r.EventEmitter,this.columnPinned=new r.EventEmitter,this.columnGroupOpened=new r.EventEmitter,this.columnResized=new r.EventEmitter,this.displayedColumnsChanged=new r.EventEmitter,this.virtualColumnsChanged=new r.EventEmitter,this.rowGroupOpened=new r.EventEmitter,this.rowDataChanged=new r.EventEmitter,this.rowDataUpdated=new r.EventEmitter,this.pinnedRowDataChanged=new r.EventEmitter,this.rangeSelectionChanged=new r.EventEmitter,this.chartRangeSelectionChanged=new r.EventEmitter,this.chartOptionsChanged=new r.EventEmitter,this.toolPanelVisibleChanged=new r.EventEmitter,this.modelUpdated=new r.EventEmitter,this.pasteStart=new r.EventEmitter,this.pasteEnd=new r.EventEmitter,this.cellClicked=new r.EventEmitter,this.cellDoubleClicked=new r.EventEmitter,this.cellMouseDown=new r.EventEmitter,this.cellContextMenu=new r.EventEmitter,this.cellValueChanged=new r.EventEmitter,this.rowValueChanged=new r.EventEmitter,this.cellFocused=new r.EventEmitter,this.rowSelected=new r.EventEmitter,this.selectionChanged=new r.EventEmitter,this.cellKeyDown=new r.EventEmitter,this.cellKeyPress=new r.EventEmitter,this.cellMouseOver=new r.EventEmitter,this.cellMouseOut=new r.EventEmitter,this.filterChanged=new r.EventEmitter,this.filterModified=new r.EventEmitter,this.filterOpened=new r.EventEmitter,this.sortChanged=new r.EventEmitter,this.virtualRowRemoved=new r.EventEmitter,this.rowClicked=new r.EventEmitter,this.rowDoubleClicked=new r.EventEmitter,this.gridReady=new r.EventEmitter,this.gridSizeChanged=new r.EventEmitter,this.viewportChanged=new r.EventEmitter,this.firstDataRendered=new r.EventEmitter,this.dragStarted=new r.EventEmitter,this.dragStopped=new r.EventEmitter,this.rowEditingStarted=new r.EventEmitter,this.rowEditingStopped=new r.EventEmitter,this.cellEditingStarted=new r.EventEmitter,this.cellEditingStopped=new r.EventEmitter,this.bodyScroll=new r.EventEmitter,this.animationQueueEmpty=new r.EventEmitter,this.heightScaleChanged=new r.EventEmitter,this.paginationChanged=new r.EventEmitter,this.componentStateChanged=new r.EventEmitter,this.bodyHeightChanged=new r.EventEmitter,this.displayedColumnsWidthChanged=new r.EventEmitter,this.scrollVisibilityChanged=new r.EventEmitter,this.columnHoverChanged=new r.EventEmitter,this.flashCells=new r.EventEmitter,this.rowDragEnter=new r.EventEmitter,this.rowDragMove=new r.EventEmitter,this.rowDragLeave=new r.EventEmitter,this.rowDragEnd=new r.EventEmitter,this.popupToFront=new r.EventEmitter,this.columnRowGroupChangeRequest=new r.EventEmitter,this.columnPivotChangeRequest=new r.EventEmitter,this.columnValueChangeRequest=new r.EventEmitter,this.columnAggFuncChangeRequest=new r.EventEmitter,this._nativeElement=e.nativeElement,this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this._componentFactoryResolver)}return e.prototype.ngAfterViewInit=function(){this.checkForDeprecatedEvents(),this.gridOptions=o.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this,!0),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},this.columns&&this.columns.length>0&&(this.gridOptions.columnDefs=this.columns.map((function(e){return e.toColDef()}))),new o.Grid(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,(function(e){return e}))},e.prototype.ngOnChanges=function(e){this._initialised&&o.ComponentUtil.processOnChange(e,this.gridOptions,this.api,this.columnApi)},e.prototype.ngOnDestroy=function(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())},e.prototype.checkForDeprecatedEvents=function(){var e=this;o.Utils.iterateObject(o.Events,(function(t,n){e[n]&&e[n].observers.length>0&&o.GridOptionsWrapper.checkEventDeprecation(n)}))},e.prototype.globalEventListener=function(e,t){if(!this._destroyed){var n=this[e];n?"gridReady"===e?this._fullyReady.then((function(e){n.emit(t)})):n.emit(t):console.log("ag-Grid-angular: could not find EventEmitter: "+e)}},e.decorators=[{type:r.Component,args:[{selector:"ag-grid-angular",template:"",providers:[i.AngularFrameworkOverrides,a.AngularFrameworkComponentWrapper],encapsulation:r.ViewEncapsulation.None}]}],e.propDecorators={columns:[{type:r.ContentChildren,args:[s.AgGridColumn]}],gridOptions:[{type:r.Input}],modules:[{type:r.Input}],slaveGrids:[{type:r.Input}],alignedGrids:[{type:r.Input}],rowData:[{type:r.Input}],columnDefs:[{type:r.Input}],excelStyles:[{type:r.Input}],pinnedTopRowData:[{type:r.Input}],pinnedBottomRowData:[{type:r.Input}],components:[{type:r.Input}],frameworkComponents:[{type:r.Input}],rowStyle:[{type:r.Input}],context:[{type:r.Input}],autoGroupColumnDef:[{type:r.Input}],groupColumnDef:[{type:r.Input}],localeText:[{type:r.Input}],icons:[{type:r.Input}],datasource:[{type:r.Input}],serverSideDatasource:[{type:r.Input}],viewportDatasource:[{type:r.Input}],groupRowRendererParams:[{type:r.Input}],aggFuncs:[{type:r.Input}],fullWidthCellRendererParams:[{type:r.Input}],defaultColGroupDef:[{type:r.Input}],defaultColDef:[{type:r.Input}],defaultExportParams:[{type:r.Input}],columnTypes:[{type:r.Input}],rowClassRules:[{type:r.Input}],detailGridOptions:[{type:r.Input}],detailCellRendererParams:[{type:r.Input}],loadingCellRendererParams:[{type:r.Input}],loadingOverlayComponentParams:[{type:r.Input}],noRowsOverlayComponentParams:[{type:r.Input}],popupParent:[{type:r.Input}],colResizeDefault:[{type:r.Input}],reduxStore:[{type:r.Input}],statusBar:[{type:r.Input}],sideBar:[{type:r.Input}],sortingOrder:[{type:r.Input}],rowClass:[{type:r.Input}],rowSelection:[{type:r.Input}],overlayLoadingTemplate:[{type:r.Input}],overlayNoRowsTemplate:[{type:r.Input}],quickFilterText:[{type:r.Input}],rowModelType:[{type:r.Input}],editType:[{type:r.Input}],domLayout:[{type:r.Input}],clipboardDeliminator:[{type:r.Input}],rowGroupPanelShow:[{type:r.Input}],multiSortKey:[{type:r.Input}],pivotColumnGroupTotals:[{type:r.Input}],pivotRowTotals:[{type:r.Input}],pivotPanelShow:[{type:r.Input}],rowHeight:[{type:r.Input}],detailRowHeight:[{type:r.Input}],rowBuffer:[{type:r.Input}],colWidth:[{type:r.Input}],headerHeight:[{type:r.Input}],groupHeaderHeight:[{type:r.Input}],floatingFiltersHeight:[{type:r.Input}],pivotHeaderHeight:[{type:r.Input}],pivotGroupHeaderHeight:[{type:r.Input}],groupDefaultExpanded:[{type:r.Input}],minColWidth:[{type:r.Input}],maxColWidth:[{type:r.Input}],viewportRowModelPageSize:[{type:r.Input}],viewportRowModelBufferSize:[{type:r.Input}],autoSizePadding:[{type:r.Input}],maxBlocksInCache:[{type:r.Input}],maxConcurrentDatasourceRequests:[{type:r.Input}],cacheOverflowSize:[{type:r.Input}],paginationPageSize:[{type:r.Input}],cacheBlockSize:[{type:r.Input}],infiniteInitialRowCount:[{type:r.Input}],scrollbarWidth:[{type:r.Input}],paginationStartPage:[{type:r.Input}],infiniteBlockSize:[{type:r.Input}],batchUpdateWaitMillis:[{type:r.Input}],blockLoadDebounceMillis:[{type:r.Input}],keepDetailRowsCount:[{type:r.Input}],localeTextFunc:[{type:r.Input}],groupRowInnerRenderer:[{type:r.Input}],groupRowInnerRendererFramework:[{type:r.Input}],dateComponent:[{type:r.Input}],dateComponentFramework:[{type:r.Input}],groupRowRenderer:[{type:r.Input}],groupRowRendererFramework:[{type:r.Input}],isExternalFilterPresent:[{type:r.Input}],getRowHeight:[{type:r.Input}],doesExternalFilterPass:[{type:r.Input}],getRowClass:[{type:r.Input}],getRowStyle:[{type:r.Input}],getRowClassRules:[{type:r.Input}],traverseNode:[{type:r.Input}],getContextMenuItems:[{type:r.Input}],getMainMenuItems:[{type:r.Input}],processRowPostCreate:[{type:r.Input}],processCellForClipboard:[{type:r.Input}],getNodeChildDetails:[{type:r.Input}],groupRowAggNodes:[{type:r.Input}],getRowNodeId:[{type:r.Input}],isFullWidthCell:[{type:r.Input}],fullWidthCellRenderer:[{type:r.Input}],fullWidthCellRendererFramework:[{type:r.Input}],doesDataFlower:[{type:r.Input}],processSecondaryColDef:[{type:r.Input}],processSecondaryColGroupDef:[{type:r.Input}],getBusinessKeyForNode:[{type:r.Input}],sendToClipboard:[{type:r.Input}],navigateToNextCell:[{type:r.Input}],tabToNextCell:[{type:r.Input}],getDetailRowData:[{type:r.Input}],processCellFromClipboard:[{type:r.Input}],getDocument:[{type:r.Input}],postProcessPopup:[{type:r.Input}],getChildCount:[{type:r.Input}],getDataPath:[{type:r.Input}],loadingCellRenderer:[{type:r.Input}],loadingCellRendererFramework:[{type:r.Input}],loadingOverlayComponent:[{type:r.Input}],loadingOverlayComponentFramework:[{type:r.Input}],noRowsOverlayComponent:[{type:r.Input}],noRowsOverlayComponentFramework:[{type:r.Input}],detailCellRenderer:[{type:r.Input}],detailCellRendererFramework:[{type:r.Input}],defaultGroupSortComparator:[{type:r.Input}],isRowMaster:[{type:r.Input}],isRowSelectable:[{type:r.Input}],postSort:[{type:r.Input}],processHeaderForClipboard:[{type:r.Input}],paginationNumberFormatter:[{type:r.Input}],processDataFromClipboard:[{type:r.Input}],getServerSideGroupKey:[{type:r.Input}],isServerSideGroup:[{type:r.Input}],suppressKeyboardEvent:[{type:r.Input}],createChartContainer:[{type:r.Input}],processChartOptions:[{type:r.Input}],getChartToolbarItems:[{type:r.Input}],fillOperation:[{type:r.Input}],toolPanelSuppressRowGroups:[{type:r.Input}],toolPanelSuppressValues:[{type:r.Input}],toolPanelSuppressPivots:[{type:r.Input}],toolPanelSuppressPivotMode:[{type:r.Input}],toolPanelSuppressSideButtons:[{type:r.Input}],toolPanelSuppressColumnFilter:[{type:r.Input}],toolPanelSuppressColumnSelectAll:[{type:r.Input}],toolPanelSuppressColumnExpandAll:[{type:r.Input}],suppressMakeColumnVisibleAfterUnGroup:[{type:r.Input}],suppressRowClickSelection:[{type:r.Input}],suppressCellSelection:[{type:r.Input}],suppressHorizontalScroll:[{type:r.Input}],alwaysShowVerticalScroll:[{type:r.Input}],debug:[{type:r.Input}],enableBrowserTooltips:[{type:r.Input}],enableColResize:[{type:r.Input}],enableCellExpressions:[{type:r.Input}],enableSorting:[{type:r.Input}],enableServerSideSorting:[{type:r.Input}],enableFilter:[{type:r.Input}],enableServerSideFilter:[{type:r.Input}],angularCompileRows:[{type:r.Input}],angularCompileFilters:[{type:r.Input}],angularCompileHeaders:[{type:r.Input}],groupSuppressAutoColumn:[{type:r.Input}],groupSelectsChildren:[{type:r.Input}],groupIncludeFooter:[{type:r.Input}],groupIncludeTotalFooter:[{type:r.Input}],groupUseEntireRow:[{type:r.Input}],groupSuppressRow:[{type:r.Input}],groupSuppressBlankHeader:[{type:r.Input}],forPrint:[{type:r.Input}],suppressMenuHide:[{type:r.Input}],rowDeselection:[{type:r.Input}],unSortIcon:[{type:r.Input}],suppressMultiSort:[{type:r.Input}],singleClickEdit:[{type:r.Input}],suppressLoadingOverlay:[{type:r.Input}],suppressNoRowsOverlay:[{type:r.Input}],suppressAutoSize:[{type:r.Input}],suppressParentsInRowNodes:[{type:r.Input}],showToolPanel:[{type:r.Input}],suppressColumnMoveAnimation:[{type:r.Input}],suppressMovableColumns:[{type:r.Input}],suppressFieldDotNotation:[{type:r.Input}],enableRangeSelection:[{type:r.Input}],enableRangeHandle:[{type:r.Input}],enableFillHandle:[{type:r.Input}],suppressClearOnFillReduction:[{type:r.Input}],deltaSort:[{type:r.Input}],suppressTouch:[{type:r.Input}],suppressAsyncEvents:[{type:r.Input}],allowContextMenuWithControlKey:[{type:r.Input}],suppressContextMenu:[{type:r.Input}],suppressMenuFilterPanel:[{type:r.Input}],suppressMenuMainPanel:[{type:r.Input}],suppressMenuColumnPanel:[{type:r.Input}],rememberGroupStateWhenNewData:[{type:r.Input}],enableCellChangeFlash:[{type:r.Input}],suppressDragLeaveHidesColumns:[{type:r.Input}],suppressMiddleClickScrolls:[{type:r.Input}],suppressPreventDefaultOnMouseWheel:[{type:r.Input}],suppressUseColIdForGroups:[{type:r.Input}],suppressCopyRowsToClipboard:[{type:r.Input}],copyHeadersToClipboard:[{type:r.Input}],pivotMode:[{type:r.Input}],suppressAggFuncInHeader:[{type:r.Input}],suppressColumnVirtualisation:[{type:r.Input}],suppressAggAtRootLevel:[{type:r.Input}],suppressFocusAfterRefresh:[{type:r.Input}],functionsPassive:[{type:r.Input}],functionsReadOnly:[{type:r.Input}],animateRows:[{type:r.Input}],groupSelectsFiltered:[{type:r.Input}],groupRemoveSingleChildren:[{type:r.Input}],groupRemoveLowestSingleChildren:[{type:r.Input}],enableRtl:[{type:r.Input}],suppressClickEdit:[{type:r.Input}],rowDragManaged:[{type:r.Input}],suppressRowDrag:[{type:r.Input}],enableGroupEdit:[{type:r.Input}],embedFullWidthRows:[{type:r.Input}],deprecatedEmbedFullWidthRows:[{type:r.Input}],suppressTabbing:[{type:r.Input}],suppressPaginationPanel:[{type:r.Input}],floatingFilter:[{type:r.Input}],groupHideOpenParents:[{type:r.Input}],groupMultiAutoColumn:[{type:r.Input}],pagination:[{type:r.Input}],stopEditingWhenGridLosesFocus:[{type:r.Input}],paginationAutoPageSize:[{type:r.Input}],suppressScrollOnNewData:[{type:r.Input}],purgeClosedRowNodes:[{type:r.Input}],cacheQuickFilter:[{type:r.Input}],deltaRowDataMode:[{type:r.Input}],ensureDomOrder:[{type:r.Input}],accentedSort:[{type:r.Input}],pivotTotals:[{type:r.Input}],suppressChangeDetection:[{type:r.Input}],valueCache:[{type:r.Input}],valueCacheNeverExpires:[{type:r.Input}],aggregateOnlyChangedColumns:[{type:r.Input}],suppressAnimationFrame:[{type:r.Input}],suppressExcelExport:[{type:r.Input}],suppressCsvExport:[{type:r.Input}],treeData:[{type:r.Input}],masterDetail:[{type:r.Input}],suppressMultiRangeSelection:[{type:r.Input}],enterMovesDownAfterEdit:[{type:r.Input}],enterMovesDown:[{type:r.Input}],suppressPropertyNamesCheck:[{type:r.Input}],rowMultiSelectWithClick:[{type:r.Input}],contractColumnSelection:[{type:r.Input}],suppressEnterpriseResetOnNewColumns:[{type:r.Input}],enableOldSetFilterModel:[{type:r.Input}],suppressRowHoverHighlight:[{type:r.Input}],gridAutoHeight:[{type:r.Input}],suppressRowTransform:[{type:r.Input}],suppressClipboardPaste:[{type:r.Input}],serverSideSortingAlwaysResets:[{type:r.Input}],reactNext:[{type:r.Input}],suppressSetColumnStateEvents:[{type:r.Input}],enableCharts:[{type:r.Input}],deltaColumnMode:[{type:r.Input}],suppressMaintainUnsortedOrder:[{type:r.Input}],enableCellTextSelection:[{type:r.Input}],suppressBrowserResizeObserver:[{type:r.Input}],suppressMaxRenderedRowRestriction:[{type:r.Input}],excludeChildrenWhenTreeDataFiltering:[{type:r.Input}],keepDetailRows:[{type:r.Input}],paginateChildRows:[{type:r.Input}],preventDefaultOnContextMenu:[{type:r.Input}],columnEverythingChanged:[{type:r.Output}],newColumnsLoaded:[{type:r.Output}],columnPivotModeChanged:[{type:r.Output}],columnRowGroupChanged:[{type:r.Output}],expandOrCollapseAll:[{type:r.Output}],columnPivotChanged:[{type:r.Output}],gridColumnsChanged:[{type:r.Output}],columnValueChanged:[{type:r.Output}],columnMoved:[{type:r.Output}],columnVisible:[{type:r.Output}],columnPinned:[{type:r.Output}],columnGroupOpened:[{type:r.Output}],columnResized:[{type:r.Output}],displayedColumnsChanged:[{type:r.Output}],virtualColumnsChanged:[{type:r.Output}],rowGroupOpened:[{type:r.Output}],rowDataChanged:[{type:r.Output}],rowDataUpdated:[{type:r.Output}],pinnedRowDataChanged:[{type:r.Output}],rangeSelectionChanged:[{type:r.Output}],chartRangeSelectionChanged:[{type:r.Output}],chartOptionsChanged:[{type:r.Output}],toolPanelVisibleChanged:[{type:r.Output}],modelUpdated:[{type:r.Output}],pasteStart:[{type:r.Output}],pasteEnd:[{type:r.Output}],cellClicked:[{type:r.Output}],cellDoubleClicked:[{type:r.Output}],cellMouseDown:[{type:r.Output}],cellContextMenu:[{type:r.Output}],cellValueChanged:[{type:r.Output}],rowValueChanged:[{type:r.Output}],cellFocused:[{type:r.Output}],rowSelected:[{type:r.Output}],selectionChanged:[{type:r.Output}],cellKeyDown:[{type:r.Output}],cellKeyPress:[{type:r.Output}],cellMouseOver:[{type:r.Output}],cellMouseOut:[{type:r.Output}],filterChanged:[{type:r.Output}],filterModified:[{type:r.Output}],filterOpened:[{type:r.Output}],sortChanged:[{type:r.Output}],virtualRowRemoved:[{type:r.Output}],rowClicked:[{type:r.Output}],rowDoubleClicked:[{type:r.Output}],gridReady:[{type:r.Output}],gridSizeChanged:[{type:r.Output}],viewportChanged:[{type:r.Output}],firstDataRendered:[{type:r.Output}],dragStarted:[{type:r.Output}],dragStopped:[{type:r.Output}],rowEditingStarted:[{type:r.Output}],rowEditingStopped:[{type:r.Output}],cellEditingStarted:[{type:r.Output}],cellEditingStopped:[{type:r.Output}],bodyScroll:[{type:r.Output}],animationQueueEmpty:[{type:r.Output}],heightScaleChanged:[{type:r.Output}],paginationChanged:[{type:r.Output}],componentStateChanged:[{type:r.Output}],bodyHeightChanged:[{type:r.Output}],displayedColumnsWidthChanged:[{type:r.Output}],scrollVisibilityChanged:[{type:r.Output}],columnHoverChanged:[{type:r.Output}],flashCells:[{type:r.Output}],rowDragEnter:[{type:r.Output}],rowDragMove:[{type:r.Output}],rowDragLeave:[{type:r.Output}],rowDragEnd:[{type:r.Output}],popupToFront:[{type:r.Output}],columnRowGroupChangeRequest:[{type:r.Output}],columnPivotChangeRequest:[{type:r.Output}],columnValueChangeRequest:[{type:r.Output}],columnAggFuncChangeRequest:[{type:r.Output}]},e}()},kJWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"notifyNext",value:function(e,t,n,r,o){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),t}(n("7o/Q").a)},lJxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("7o/Q");function o(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new i(e,t))}}var i=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))}}]),e}(),s=function(e){function t(e,n,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).project=n,o.count=0,o.thisArg=r||_assertThisInitialized(o),o}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),t}(r.a)},mCNh:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("KqfI");function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(t)}function i(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:r.a}},mrSG:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return o})),n.d(t,"__assign",(function(){return i})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return c})),n.d(t,"__generator",(function(){return p})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return h})),n.d(t,"__read",(function(){return f})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return v})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return m})),n.d(t,"__asyncDelegator",(function(){return C})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return b})),n.d(t,"__importStar",(function(){return E})),n.d(t,"__importDefault",(function(){return _}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function a(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function l(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function p(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function m(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,u):c(i[0][2],n)}catch(r){c(i[0][3],r)}var n}function l(e){a("next",e)}function u(e){a("throw",e)}function c(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function C(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function b(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}},n6bG:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},ngJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}}},pLzU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("Lhse"),o=function(e){return function(t){for(var n=e[r.a]();;){var o=n.next();if(o.done){t.complete();break}if(t.next(o.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}}},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}n.r(t),n.d(t,"LogLevel",(function(){return i})),n.d(t,"Logger",(function(){return l})),n.d(t,"setLogLevel",(function(){return u}));var o=[],i=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),s=i.INFO,a=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(t<e.logLevel)){var s=(new Date).toISOString();switch(t){case i.DEBUG:case i.VERBOSE:console.log.apply(console,r(["["+s+"]  "+e.name+":"],n));break;case i.INFO:console.info.apply(console,r(["["+s+"]  "+e.name+":"],n));break;case i.WARN:console.warn.apply(console,r(["["+s+"]  "+e.name+":"],n));break;case i.ERROR:console.error.apply(console,r(["["+s+"]  "+e.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},l=function(){function e(e){this.name=e,this._logLevel=s,this._logHandler=a,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.ERROR],e))},e}();function u(e){o.forEach((function(t){t.logLevel=e}))}},quSY:function(e,t,n){"use strict";var r=n("DH7j"),o=n("XoHu"),i=n("n6bG");function s(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}s.prototype=Object.create(Error.prototype);var a=s;n.d(t,"a",(function(){return c}));var l,u,c=((u=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var e,t=!1;if(!this.closed){var n=this._parent,s=this._parents,l=this._unsubscribe,u=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var c=-1,d=s?s.length:0;n;)n.remove(this),n=++c<d&&s[c]||null;if(Object(i.a)(l))try{l.call(this)}catch(f){t=!0,e=f instanceof a?p(f.errors):[f]}if(Object(r.a)(u))for(c=-1,d=u.length;++c<d;){var h=u[c];if(Object(o.a)(h))try{h.unsubscribe()}catch(f){t=!0,e=e||[],f instanceof a?e=e.concat(p(f.errors)):e.push(f)}}if(t)throw new a(e)}}},{key:"add",value:function(t){var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){var o=this._subscriptions;o?o.push(n):this._subscriptions=[n]}return n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}},{key:"_addParent",value:function(e){var t=this._parent,n=this._parents;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}]),e}()).EMPTY=((l=new u).closed=!0,l),u);function p(e){return e.reduce((function(e,t){return e.concat(t instanceof a?t.errors:t)}),[])}},w1tV:function(e,t,n){"use strict";var r=n("XNiG"),o=n("HDdC"),i=n("7o/Q"),s=n("quSY");function a(){return function(e){return e.lift(new l(e))}}var l=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new u(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o}}]),e}(),u=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).connectable=n,r}return _inherits(t,e),_createClass(t,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),t}(i.a),c=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return _inherits(t,e),_createClass(t,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.a).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed?(this._connection=null,e=s.a.EMPTY):this._connection=e),e}},{key:"refCount",value:function(){return a()(this)}}]),t}(o.a).prototype,p={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}},d=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).connectable=n,r}return _inherits(t,e),_createClass(t,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(t.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(t.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),t}(r.b);function h(){return new r.a}function f(){return function(e){return a()((t=h,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,p);return r.source=e,r.subjectFactory=n,r})(e));var t}}n.d(t,"a",(function(){return f}))},wj3C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("mrSG"),i=n("zVF4"),s=n("q/0M"),a=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),l=new i.ErrorFactory("app","Firebase",a),u="[DEFAULT]",c=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.services_={},this.tokenListeners_=[],this.analyticsEventRequests_=[],this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=i.deepCopy(e);var o=this;this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){r.tokenListeners_.push(e),setTimeout((function(){return e(null)}),0)},removeAuthTokenListener:function(e){r.tokenListeners_=r.tokenListeners_.filter((function(t){return t!==e}))},analytics:{logEvent:function(){o.analyticsEventRequests_.push(arguments)}}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],n=0,r=Object.keys(e.services_);n<r.length;n++)for(var o=r[n],i=0,s=Object.keys(e.services_[o]);i<s.length;i++)t.push(e.services_[o][s[i]]);return Promise.all(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))})).then((function(){e.isDeleted_=!0,e.services_={}}))},e.prototype._getService=function(e,t){if(void 0===t&&(t=u),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==u?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=u),this.services_[e]&&this.services_[e][t]&&delete this.services_[e][t]},e.prototype.extendApp=function(e){if(i.deepExtend(this,e),e.INTERNAL){if(e.INTERNAL.addAuthTokenListener){for(var t=0,n=this.tokenListeners_;t<n.length;t++)this.INTERNAL.addAuthTokenListener(n[t]);this.tokenListeners_=[]}if(e.INTERNAL.analytics){for(var r=0,o=this.analyticsEventRequests_;r<o.length;r++)this.INTERNAL.analytics.logEvent.apply(void 0,o[r]);this.analyticsEventRequests_=[]}}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();c.prototype.name&&c.prototype.options||c.prototype.delete||console.log("dc");var p=new s.Logger("@firebase/app");if(i.isBrowser()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var d=self.firebase.SDK_VERSION;d&&d.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var h=function e(){var t=function(e){var t={},n={},r={},o={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var s=r;void 0===s.name&&(s.name=u);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(i.contains(t,a))throw l.create("duplicate-app",{appName:a});var p=new e(n,s,o);return t[a]=p,c(p,"create"),p},app:s,apps:null,SDK_VERSION:"7.5.0",INTERNAL:{registerService:function(t,u,c,d,h){if(void 0===h&&(h=!1),n[t])return p.debug("There were multiple attempts to register service "+t+"."),o[t];function f(e){if(void 0===e&&(e=s()),"function"!=typeof e[t])throw l.create("invalid-app-argument",{appName:t});return e[t]()}return n[t]=u,d&&(r[t]=d,a().forEach((function(e){d("create",e)}))),void 0!==c&&i.deepExtend(f,c),o[t]=f,e.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._getService.bind(this,t);return r.apply(this,h?e:[])},f},removeApp:function(e){c(t[e],"delete"),delete t[e]},factories:n,useAsService:d}};function s(e){if(!i.contains(t,e=e||u))throw l.create("no-app",{appName:e});return t[e]}function a(){return Object.keys(t).map((function(e){return t[e]}))}function c(e,t){for(var o=0,i=Object.keys(n);o<i.length;o++){var s=d(0,i[o]);if(null===s)return;r[s]&&r[s](t,e)}}function d(e,t){return"serverAuth"===t?null:t}return o.default=o,Object.defineProperty(o,"apps",{get:a}),s.App=e,o}(c);return t.INTERNAL=o.__assign(o.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){i.deepExtend(t,e)},createSubscribe:i.createSubscribe,ErrorFactory:i.ErrorFactory,deepExtend:i.deepExtend}),t}(),f=h.initializeApp;h.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.isNode()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),f.apply(void 0,e)};var g=h;t.default=g,t.firebase=g},x7I3:function(e,t,n){"use strict";n.r(t),n.d(t,"ErrorCode",(function(){return ar})),n.d(t,"EventType",(function(){return lr})),n.d(t,"WebChannel",(function(){return ur})),n.d(t,"XhrIo",(function(){return cr})),n.d(t,"createWebChannelTransport",(function(){return sr}));var r,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i=i||{},s=o;function a(e){return"string"==typeof e}function l(e){return"number"==typeof e}function u(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function c(){}function p(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function d(e){return"array"==p(e)}function h(e){var t=p(e);return"array"==t||"object"==t&&"number"==typeof e.length}function f(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var g="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(e,t,n){return e.call.apply(e.bind,arguments)}function m(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function C(e,t,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:m).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var b=Date.now||function(){return+new Date};function E(e,t){function n(){}n.prototype=t.prototype,e.N=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.yb=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}function _(){this.j=this.j,this.i=this.i}_.prototype.j=!1,_.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[g]||(this[g]=++v))},_.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var S=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(a(e))return a(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},R=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=a(e)?e.split(""):e,i=0;i<r;i++)i in o&&t.call(n,o[i],i,e)};function T(e){return Array.prototype.concat.apply([],arguments)}function O(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function D(e){return/^[\s\xa0]*$/.test(e)}var I,A=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function k(e,t){return-1!=e.indexOf(t)}function P(e,t){return e<t?-1:e>t?1:0}e:{var N=s.navigator;if(N){var x=N.userAgent;if(x){I=x;break e}}I=""}function F(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function M(e){var t,n={};for(t in e)n[t]=e[t];return n}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(e,t){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])e[n]=r[n];for(var i=0;i<L.length;i++)n=L[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function G(e){return G[" "](e),e}G[" "]=c;var W,H,B=k(I,"Opera"),U=k(I,"Trident")||k(I,"MSIE"),j=k(I,"Edge"),z=j||U,q=k(I,"Gecko")&&!(k(I.toLowerCase(),"webkit")&&!k(I,"Edge"))&&!(k(I,"Trident")||k(I,"MSIE"))&&!k(I,"Edge"),K=k(I.toLowerCase(),"webkit")&&!k(I,"Edge");function Q(){var e=s.document;return e?e.documentMode:void 0}e:{var Y="",Z=(H=I,q?/rv:([^\);]+)(\)|;)/.exec(H):j?/Edge\/([\d\.]+)/.exec(H):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(H):K?/WebKit\/(\S+)/.exec(H):B?/(?:Version)[ \/]?(\S+)/.exec(H):void 0);if(Z&&(Y=Z?Z[1]:""),U){var X=Q();if(null!=X&&X>parseFloat(Y)){W=String(X);break e}}W=Y}var $,J={};function ee(e){return function(e,t){var n=J;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=A(String(W)).split("."),r=A(String(e)).split("."),o=Math.max(n.length,r.length),i=0;0==t&&i<o;i++){var s=n[i]||"",a=r[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;t=P(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||P(0==s[2].length,0==a[2].length)||P(s[2],a[2]),s=s[3],a=a[3]}while(0==t)}return 0<=t}))}var te=s.document;$=te&&U?Q()||("CSS1Compat"==te.compatMode?parseInt(W,10):5):void 0;var ne=!U||9<=Number($),re=U&&!ee("9"),oe=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",c,t),s.removeEventListener("test",c,t)}catch(n){}return e}();function ie(e,t){this.type=e,this.a=this.target=t,this.Ja=!0}function se(e,t){if(ie.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(q){e:{try{G(t.nodeName);var o=!0;break e}catch(i){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=a(e.pointerType)?e.pointerType:ae[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}ie.prototype.b=function(){this.Ja=!1},E(se,ie);var ae={2:"touch",3:"pen",4:"mouse"};se.prototype.b=function(){se.N.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,re)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var le="closure_listenable_"+(1e6*Math.random()|0),ue=0;function ce(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=o,this.key=++ue,this.X=this.Z=!1}function pe(e){e.X=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function de(e){this.src=e,this.a={},this.b=0}function he(e,t){var n=t.type;if(n in e.a){var r,o=e.a[n],i=S(o,t);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(pe(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function fe(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.X&&i.listener==t&&i.capture==!!n&&i.da==r)return o}return-1}de.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.a[i])||(e=this.a[i]=[],this.b++);var s=fe(e,t,r,o);return-1<s?(t=e[s],n||(t.Z=!1)):((t=new ce(t,this.src,i,!!r,o)).Z=n,e.push(t)),t};var ge="closure_lm_"+(1e6*Math.random()|0),ve={};function ye(e,t,n,r,o){if(r&&r.once)return function e(t,n,r,o,i){if(d(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,o,i);return null}return r=Se(r),t&&t[le]?t.Ba(n,r,f(o)?!!o.capture:!!o,i):me(t,n,r,!0,o,i)}(e,t,n,r,o);if(d(t)){for(var i=0;i<t.length;i++)ye(e,t[i],n,r,o);return null}return n=Se(n),e&&e[le]?e.Aa(t,n,f(r)?!!r.capture:!!r,o):me(e,t,n,!1,r,o)}function me(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var s=f(o)?!!o.capture:!!o;if(s&&!ne)return null;var a=Ee(e);if(a||(e[ge]=a=new de(e)),(n=a.add(t,n,r,s,i)).proxy)return n;if(r=function(){var e=be,t=ne?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)oe||(o=s),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(we(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ce(e){if(!l(e)&&e&&!e.X){var t=e.src;if(t&&t[le])he(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(we(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ee(t))?(he(n,e),0==n.b&&(n.src=null,t[ge]=null)):pe(e)}}}function we(e){return e in ve?ve[e]:ve[e]="on"+e}function be(e,t){return!!e.X||function(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&Ce(e),n.call(r,t)}(e,ne?new se(t,this):t=new se(t||u("window.event"),this))}function Ee(e){return(e=e[ge])instanceof de?e:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Se(e){return"function"==p(e)?e:(e[_e]||(e[_e]=function(t){return e.handleEvent(t)}),e[_e])}function Re(){_.call(this),this.c=new de(this),this.J=this,this.B=null}function Te(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.X&&s.capture==n){var a=s.listener,l=s.da||s.src;s.Z&&he(e.c,s),o=!1!==a.call(l,r)&&o}}return o&&0!=r.Ja}E(Re,_),Re.prototype[le]=!0,(r=Re.prototype).addEventListener=function(e,t,n,r){ye(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){!function e(t,n,r,o,i){if(d(n))for(var s=0;s<n.length;s++)e(t,n[s],r,o,i);else o=f(o)?!!o.capture:!!o,r=Se(r),t&&t[le]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=fe(s=t.a[n],r,o,i))&&(pe(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete t.a[n],t.b--))):t&&(t=Ee(t))&&(n=t.a[n.toString()],t=-1,n&&(t=fe(n,r,o,i)),(r=-1<t?n[t]:null)&&Ce(r))}(this,e,t,n,r)},r.dispatchEvent=function(e){var t,n=this.B;if(n)for(t=[];n;n=n.B)t.push(n);n=this.J;var r=e.type||e;if(a(e))e=new ie(e,n);else if(e instanceof ie)e.target=e.target||n;else{var o=e;V(e=new ie(r,n),o)}if(o=!0,t)for(var i=t.length-1;0<=i;i--){var s=e.a=t[i];o=Te(s,r,!0,e)&&o}if(o=Te(s=e.a=n,r,!0,e)&&o,o=Te(s,r,!1,e)&&o,t)for(i=0;i<t.length;i++)o=Te(s=e.a=t[i],r,!1,e)&&o;return o},r.G=function(){if(Re.N.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)pe(n[r]);delete t.a[e],t.b--}}this.B=null},r.Aa=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},r.Ba=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Oe=s.JSON.stringify;function De(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Ie(){this.b=this.a=null}De.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Ae,ke=new De((function(){return new Ne}),(function(e){e.reset()}));function Pe(){var e=Le,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Ne(){this.next=this.b=this.a=null}function xe(e){s.setTimeout((function(){throw e}),0)}function Fe(e,t){Ae||function(){var e=s.Promise.resolve(void 0);Ae=function(){e.then(Ve)}}(),Me||(Ae(),Me=!0),Le.add(e,t)}Ie.prototype.add=function(e,t){var n=ke.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Ne.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Ne.prototype.reset=function(){this.next=this.b=this.a=null};var Me=!1,Le=new Ie;function Ve(){for(var e;e=Pe();){try{e.a.call(e.b)}catch(n){xe(n)}var t=ke;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Me=!1}function Ge(e,t){Re.call(this),this.b=e||1,this.a=t||s,this.f=C(this.gb,this),this.g=b()}function We(e){e.ba=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function He(e,t,n){if("function"==p(e))n&&(e=C(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=C(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Be(e,t,n){_.call(this),this.f=null!=n?C(e,n):e,this.c=t,this.b=C(this.ab,this),this.a=[]}function Ue(e){e.U=He(e.b,e.c),e.f.apply(null,e.a)}function je(e){_.call(this),this.b=e,this.a={}}E(Ge,Re),(r=Ge.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var e=b()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(We(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=b())},r.G=function(){Ge.N.G.call(this),We(this),delete this.a},E(Be,_),(r=Be.prototype).ea=!1,r.U=null,r.Ua=function(e){this.a=arguments,this.U?this.ea=!0:Ue(this)},r.G=function(){Be.N.G.call(this),this.U&&(s.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.ab=function(){this.U=null,this.ea&&(this.ea=!1,Ue(this))},E(je,_);var ze=[];function qe(e,t,n,r){d(n)||(n&&(ze[0]=n.toString()),n=ze);for(var o=0;o<n.length;o++){var i=ye(t,n[o],r||e.handleEvent,!1,e.b||e);if(!i)break;e.a[i.key]=i}}function Ke(e){F(e.a,(function(e,t){this.a.hasOwnProperty(t)&&Ce(e)}),e),e.a={}}function Qe(){}je.prototype.G=function(){je.N.G.call(this),Ke(this)},je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ye=new Re;function Ze(e){ie.call(this,"serverreachability",e)}function Xe(e){Ye.dispatchEvent(new Ze(Ye,e))}function $e(e){ie.call(this,"statevent",e)}function Je(e){Ye.dispatchEvent(new $e(Ye,e))}function et(e){ie.call(this,"timingevent",e)}function tt(e,t){if("function"!=p(e))throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){e()}),t)}E(Ze,ie),E($e,ie),E(et,ie);var nt={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},rt={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ot(){}function it(){}ot.prototype.a=null;var st,at={OPEN:"a",ib:"b",Na:"c",rb:"d"};function lt(){ie.call(this,"d")}function ut(){ie.call(this,"c")}function ct(){}function pt(e,t,n){this.g=e,this.W=t,this.V=n||1,this.I=new je(this),this.O=dt,this.P=new Ge(e=z?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}E(lt,ie),E(ut,ie),E(ct,ot),st=new ct;var dt=45e3,ht={},ft={};function gt(e,t,n){e.F=1,e.f=Wt(Nt(t)),e.l=n,e.H=!0,yt(e,null)}function vt(e,t,n,r){e.F=1,e.f=Wt(Nt(t)),e.l=null,e.H=n,yt(e,r)}function yt(e,t){e.v=b(),wt(e),e.D=Nt(e.f),Gt(e.D,"t",e.V),e.A=0,e.a=e.g.$(e.g.Y()?t:null),0<e.J&&(e.B=new Be(C(e.Ka,e,e.a),e.J)),qe(e.I,e.a,"readystatechange",e.eb),t=e.h?M(e.h):{},e.l?(e.w||(e.w="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ca(e.D,e.w,e.l,t)):(e.w="GET",e.a.ca(e.D,e.w,null,t)),Xe(1)}function mt(e,t,n){for(var r=!0;!e.m&&e.A<n.length;){var o=Ct(e,n);if(o==ft){4==t&&(e.c=4,Je(14),r=!1);break}if(o==ht){e.c=4,Je(15),r=!1;break}Rt(e,o)}4==t&&0==n.length&&(e.c=1,Je(16),r=!1),e.b=e.b&&r,r||(St(e),_t(e))}function Ct(e,t){var n=e.A,r=t.indexOf("\n",n);return-1==r?ft:(n=Number(t.substring(n,r)),isNaN(n)?ht:(r+=1)+n>t.length?ft:(t=t.substr(r,n),e.A=r+n,t))}function wt(e){e.R=b()+e.O,bt(e,e.O)}function bt(e,t){if(null!=e.i)throw Error("WatchDog timer not null");e.i=tt(C(e.bb,e),t)}function Et(e){e.i&&(s.clearTimeout(e.i),e.i=null)}function _t(e){e.g.Da()||e.m||e.g.na(e)}function St(e){Et(e);var t=e.B;t&&"function"==typeof t.la&&t.la(),e.B=null,We(e.P),Ke(e.I),e.a&&(t=e.a,e.a=null,t.abort(),t.la())}function Rt(e,t){try{e.g.Ga(e,t),Xe(4)}catch(n){}}function Tt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(h(e)||a(e))R(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.C&&"function"==typeof e.C)n=void 0;else if(h(e)||a(e)){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;o=(r=function(e){if(e.C&&"function"==typeof e.C)return e.C();if(a(e))return e.split("");if(h(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var i=0;i<o;i++)t.call(void 0,r[i],n&&n[i],e)}}function Ot(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ot)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Dt(e,t){At(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&It(e))}function It(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];At(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var o={};for(n=t=0;t<e.a.length;)At(o,r=e.a[t])||(e.a[n++]=r,o[r]=1),t++;e.a.length=n}}function At(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=pt.prototype).setTimeout=function(e){this.O=e},r.eb=function(e){e=e.target;var t=this.B;t&&3==Nn(e)?t.Ua():this.Ka(e)},r.Ka=function(e){try{if(e==this.a)e:{var t=Nn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>t||3==t&&!z&&!this.a.aa())){this.m||4!=t||7==n||Xe(8==n||0>=r?3:2),Et(this);var o=this.a.T();this.o=o;var i=this.a.aa();if(this.b=200==o){if(this.S&&!this.s){t:{if(this.a){var s=xn(this.a,"X-HTTP-Initial-Response");if(s&&!D(s)){var a=s;break t}}a=null}if(!a){this.b=!1,this.c=3,Je(12),St(this),_t(this);break e}this.s=!0,Rt(this,a)}this.H?(mt(this,t,i),z&&this.b&&3==t&&(qe(this.I,this.P,"tick",this.cb),this.P.start())):Rt(this,i),4==t&&St(this),this.b&&!this.m&&(4==t?this.g.na(this):(this.b=!1,wt(this)))}else 400==o&&0<i.indexOf("Unknown SID")?(this.c=3,Je(12)):(this.c=0,Je(13)),St(this),_t(this)}}}catch(l){}},r.cb=function(){if(this.a){var e=Nn(this.a),t=this.a.aa();this.A<t.length&&(Et(this),mt(this,e,t),this.b&&4!=e&&wt(this))}},r.cancel=function(){this.m=!0,St(this)},r.bb=function(){this.i=null;var e=b();0<=e-this.R?(2!=this.F&&(Xe(3),Je(17)),St(this),this.c=2,_t(this)):bt(this,this.R-e)},(r=Ot.prototype).C=function(){It(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},r.K=function(){return It(this),this.a.concat()},r.get=function(e,t){return At(this.b,e)?this.b[e]:t},r.set=function(e,t){At(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},r.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);e.call(t,i,o,this)}};var kt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pt(e,t){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,e instanceof Pt?(this.h=void 0!==t?t:e.h,xt(this,e.f),this.j=e.j,Ft(this,e.b),Mt(this,e.i),this.a=e.a,Lt(this,en(e.c)),this.g=e.g):e&&(n=String(e).match(kt))?(this.h=!!t,xt(this,n[1]||"",!0),this.j=Ht(n[2]||""),Ft(this,n[3]||"",!0),Mt(this,n[4]),this.a=Ht(n[5]||"",!0),Lt(this,n[6]||"",!0),this.g=Ht(n[7]||"")):(this.h=!!t,this.c=new Yt(null,this.h))}function Nt(e){return new Pt(e)}function xt(e,t,n){e.f=n?Ht(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Ft(e,t,n){e.b=n?Ht(t,!0):t}function Mt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function Lt(e,t,n){t instanceof Yt?(e.c=t,function(e,t){t&&!e.f&&(Zt(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Xt(this,t),Jt(this,n,e))}),e)),e.f=t}(e.c,e.h)):(n||(t=Bt(t,Kt)),e.c=new Yt(t,e.h))}function Vt(e,t,n){e.c.set(t,n)}function Gt(e,t,n){d(n)||(n=[String(n)]),Jt(e.c,t,n)}function Wt(e){return Vt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^b()).toString(36)),e}function Ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bt(e,t,n){return a(e)?(e=encodeURI(e).replace(t,Ut),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ut(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Pt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Bt(t,jt,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Bt(t,jt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bt(n,"/"==n.charAt(0)?qt:zt,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",Bt(n,Qt)),e.join("")},Pt.prototype.resolve=function(e){var t=Nt(this),n=!!e.f;n?xt(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?Ft(t,e.b):n=null!=e.i;var r=e.a;if(n)Mt(t,e.i);else if(n=!!e.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var o=t.a.lastIndexOf("/");-1!=o&&(r=t.a.substr(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(k(o,"./")||k(o,"/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var i=[],s=0;s<o.length;){var a=o[s++];"."==a?r&&s==o.length&&i.push(""):".."==a?((1<i.length||1==i.length&&""!=i[0])&&i.pop(),r&&s==o.length&&i.push("")):(i.push(a),r=!0)}r=i.join("/")}else r=o}return n?t.a=r:n=""!==e.c.toString(),n?Lt(t,en(e.c)):n=!!e.g,n&&(t.g=e.g),t};var jt=/[#\/\?@]/g,zt=/[#\?:]/g,qt=/[#\?]/g,Kt=/[#\?@]/g,Qt=/#/g;function Yt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Zt(e){e.a||(e.a=new Ot,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Xt(e,t){Zt(e),t=tn(e,t),At(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Dt(e.a,t))}function $t(e,t){return Zt(e),t=tn(e,t),At(e.a.b,t)}function Jt(e,t,n){Xt(e,t),0<n.length&&(e.c=null,e.a.set(tn(e,t),O(n)),e.b+=n.length)}function en(e){var t=new Yt;return t.c=e.c,e.a&&(t.a=new Ot(e.a),t.b=e.b),t}function tn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function nn(e){this.a=e,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(e){var t=e.a.F.a;if(null!=t)Je(4),t?(Je(10),qn(e.a,e,!1)):(Je(11),qn(e.a,e,!0));else{e.b=new pt(e,void 0,void 0),e.b.h=e.h,t=Xn(t=e.a,t.Y()?e.f:null,e.i),Je(4),Gt(t,"TYPE","xmlhttp");var n=e.a.j,r=e.a.I;n&&r&&Vt(t,n,r),vt(e.b,t,!1,e.f)}}function on(){this.a=this.b=null}function sn(){this.a=new Ot}function an(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[g]||(e[g]=++v)):t.charAt(0)+e}function ln(e,t){this.b=e,this.a=t}function un(e){this.g=e||cn,e=s.PerformanceNavigationTiming?0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(s.ka&&s.ka.Ea&&s.ka.Ea()&&s.ka.Ea().zb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new sn),this.b=null,this.c=[]}(r=Yt.prototype).add=function(e,t){Zt(this),this.c=null,e=tn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},r.forEach=function(e,t){Zt(this),this.a.forEach((function(n,r){R(n,(function(n){e.call(t,n,r,this)}),this)}),this)},r.K=function(){Zt(this);for(var e=this.a.C(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var o=e[r],i=0;i<o.length;i++)n.push(t[r]);return n},r.C=function(e){Zt(this);var t=[];if(a(e))$t(this,e)&&(t=T(t,this.a.get(tn(this,e))));else{e=this.a.C();for(var n=0;n<e.length;n++)t=T(t,e[n])}return t},r.set=function(e,t){return Zt(this),this.c=null,$t(this,e=tn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},r.get=function(e,t){return e&&0<(e=this.C(e)).length?String(e[0]):t},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.C(r);for(var i=0;i<r.length;i++){var s=o;""!==r[i]&&(s+="="+encodeURIComponent(String(r[i]))),e.push(s)}}return this.c=e.join("&")},E((function(){}),(function(){})),(r=nn.prototype).M=null,r.$=function(e){return this.a.$(e)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Da=function(){return!1},r.Ga=function(e,t){if(this.c=e.o,0==this.M){if(!this.a.o&&(e=e.a)){var n=xn(e,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(e=xn(e,"X-HTTP-Session-Id"))&&(this.a.I=e)}if(t){try{var r=this.a.ja.a.parse(t)}catch(o){return(t=this.a).m=this.c,void Yn(t,2)}this.f=r[0]}else(t=this.a).m=this.c,Yn(t,2)}else 1==this.M&&(this.g?Je(6):"11111"==t?(Je(5),this.g=!0,(!U||10<=Number($))&&(this.c=200,this.b.cancel(),Je(11),qn(this.a,this,!0))):(Je(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Je(11),qn(this.a,this,!0)):(Je(10),qn(this.a,this,!1)));else{0==this.M?Je(8):1==this.M&&Je(9);var e=this.a;e.m=this.c,Yn(e,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},sn.prototype.add=function(e){this.a.set(an(e),e)},sn.prototype.C=function(){return this.a.C()};var cn=10;function pn(e,t){!e.a&&(k(t,"spdy")||k(t,"quic")||k(t,"h2"))&&(e.f=e.g,e.a=new sn,e.b&&(gn(e,e.b),e.b=null))}function dn(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function hn(e){return e.b?1:e.a?e.a.a.c:0}function fn(e,t){return e.b?e=e.b==t:e.a?(t=an(t),e=At(e.a.a.b,t)):e=!1,e}function gn(e,t){e.a?e.a.add(t):e.b=t}function vn(e,t){var n;e.b&&e.b==t?e.b=null:((n=e.a)&&(n=an(t),n=At(e.a.a.b,n)),n&&Dt(e.a.a,an(t)))}function yn(e){if(null!=e.b)return e.c.concat(e.b.j);if(null!=e.a&&0!=e.a.a.c){var t=e.c;return R(e.a.C(),(function(e){t=t.concat(e.j)})),t}return O(e.c)}function mn(){}function Cn(){this.a=new mn}function wn(e,t,n){var r=n||"";try{Tt(e,(function(e,n){var o=e;f(e)&&(o=Oe(e)),t.push(r+n+"="+encodeURIComponent(o))}))}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function bn(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch(i){}}un.prototype.cancel=function(){this.c=yn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(R(this.a.C(),(function(e){e.cancel()})),function(e){e.b={},e.a.length=0,e.c=0}(this.a.a))},mn.prototype.stringify=function(e){return s.JSON.stringify(e,void 0)},mn.prototype.parse=function(e){return s.JSON.parse(e,void 0)};var En=s.JSON.parse;function _n(e){Re.call(this),this.headers=new Ot,this.H=e||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Sn,this.D=this.F=!1}E(_n,Re);var Sn="",Rn=/^https?$/i,Tn=["POST","PUT"];function On(e){return"content-type"==e.toLowerCase()}function Dn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,In(e),kn(e)}function In(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function An(e){if(e.b&&void 0!==i&&(!e.s[1]||4!=Nn(e)||2!=e.T()))if(e.l&&4==Nn(e))He(e.Fa,0,e);else if(e.dispatchEvent("readystatechange"),4==Nn(e)){e.b=!1;try{var t,n=e.T();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var o;if(o=0===n){var a=String(e.A).match(kt)[1]||null;if(!a&&s.self&&s.self.location){var l=s.self.location.protocol;a=l.substr(0,l.length-1)}o=!Rn.test(a?a.toLowerCase():"")}t=o}t?(e.dispatchEvent("complete"),e.dispatchEvent("success")):(e.h=6,e.f=e.za()+" ["+e.T()+"]",In(e))}finally{kn(e)}}}function kn(e,t){if(e.a){Pn(e);var n=e.a,r=e.s[0]?c:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(o){}}}function Pn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(s.clearTimeout(e.m),e.m=null)}function Nn(e){return e.a?e.a.readyState:0}function xn(e,t){return e.a?e.a.getResponseHeader(t):null}function Fn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}if(r)return e;if(n=function(e){var t="";return F(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),a(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=e.indexOf("#"))&&(n=e.length),0>(r=e.indexOf("?"))||r>n){r=n;var o=""}else o=e.substring(r+1,n);n=(e=[e.substr(0,r),o,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return Vt(e,t,n),e}function Mn(e){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!u("internalChannelParams.failFast",e),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=u("internalChannelParams.baseRetryDelayMs",e)||5e3,this.Sa=u("internalChannelParams.retryDelaySeedMs",e)||1e4,this.Qa=u("internalChannelParams.forwardChannelMaxRetries",e)||2,this.qa=u("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.La=e&&e.Ab||void 0,this.D=void 0,this.R=e&&e.supportsCrossDomainXhr||!1,this.H="",this.b=new un(e&&e.concurrentRequestLimit),this.ja=new Cn,this.o=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.W=e&&e.fastHandshake||!1)&&!this.o&&(this.o=!0),e&&e.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Ln(e){if(Vn(e),3==e.u){var t=e.P++,n=Nt(e.B);Vt(n,"SID",e.H),Vt(n,"RID",t),Vt(n,"TYPE","terminate"),Bn(e,n),(t=new pt(e,t,void 0)).F=2,t.f=Wt(Nt(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(t.f.toString(),"")),!n&&s.Image&&((new Image).src=t.f,n=!0),n||(t.a=t.g.$(null),t.a.ca(t.f)),t.v=b(),wt(t)}Zn(e)}function Vn(e){e.w&&(e.w.abort(),e.w=null),e.a&&(e.a.cancel(),e.a=null),e.l&&(s.clearTimeout(e.l),e.l=null),Kn(e),e.b.cancel(),e.h&&(l(e.h)&&s.clearTimeout(e.h),e.h=null)}function Gn(e,t){e.f.push(new ln(e.Ra++,t)),3==e.u&&Wn(e)}function Wn(e){dn(e.b)||e.h||(e.h=!0,Fe(e.Ia,e),e.A=0)}function Hn(e,t){var n;n=t?t.W:e.P++;var r=Nt(e.B);Vt(r,"SID",e.H),Vt(r,"RID",n),Vt(r,"AID",e.O),Bn(e,r),e.g&&e.i&&Fn(r,e.g,e.i),n=new pt(e,n,e.A+1),null===e.g&&(n.h=e.i),t&&(e.f=t.j.concat(e.f)),t=Un(e,n,1e3),n.setTimeout(Math.round(.5*e.qa)+Math.round(.5*e.qa*Math.random())),gn(e.b,n),gt(n,r,t)}function Bn(e,t){e.c&&Tt({},(function(e,n){Vt(t,n,e)}))}function Un(e,t,n){n=Math.min(e.f.length,n);var r=e.c?C(e.c.Ta,e.c,e):null;e:for(var o=e.f,i=-1;;){var s=["count="+n];-1==i?0<n?s.push("ofs="+(i=o[0].b)):i=0:s.push("ofs="+i);for(var a=!0,l=0;l<n;l++){var u=o[l].b,c=o[l].a;if(0>(u-=i))i=Math.max(0,o[l].b-100),a=!1;else try{wn(c,s,"req"+u+"_")}catch(p){r&&r(c)}}if(a){r=s.join("&");break e}}return e=e.f.splice(0,n),t.j=e,r}function jn(e){e.a||e.l||(e.S=1,Fe(e.Ha,e),e.v=0)}function zn(e){return!(e.a||e.l||3<=e.v||(e.S++,e.l=tt(C(e.Ha,e),Qn(e,e.v)),e.v++,0))}function qn(e,t,n){var r=t.l;r&&pn(e.b,r),e.ia=e.oa&&n,e.m=t.c,e.B=Xn(e,null,e.ha),Wn(e)}function Kn(e){null!=e.s&&(s.clearTimeout(e.s),e.s=null)}function Qn(e,t){var n=e.Oa+Math.floor(Math.random()*e.Sa);return e.ma()||(n*=2),n*t}function Yn(e,t){if(2==t){var n=null;e.c&&(n=null);var r=C(e.fb,e);n||(n=new Pt("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||xt(n,"https"),Wt(n)),function(e,t){var n=new Qe;if(s.Image){var r=new Image;r.onload=w(bn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=w(bn,n,r,"TestLoadImage: error",!1,t),r.onabort=w(bn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=w(bn,n,r,"TestLoadImage: timeout",!1,t),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Je(2);e.u=0,e.c&&e.c.ta(t),Zn(e),Vn(e)}function Zn(e){e.u=0,e.m=-1,e.c&&(0==yn(e.b).length&&0==e.f.length||(e.b.c.length=0,O(e.f),e.f.length=0),e.c.sa())}function Xn(e,t,n){var r=function(e){return e instanceof Pt?Nt(e):new Pt(e,void 0)}(n);if(""!=r.b)t&&Ft(r,t+"."+r.b),Mt(r,r.i);else{var o=s.location;r=function(e,t,n,r){var o=new Pt(null,void 0);return e&&xt(o,e),t&&Ft(o,t),n&&Mt(o,n),r&&(o.a=r),o}(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.V&&F(e.V,(function(e,t){Vt(r,t,e)})),n=e.I,(t=e.j)&&n&&Vt(r,t,n),Vt(r,"VER",e.wa),Bn(e,r),r}function $n(){}function Jn(){if(U&&!(10<=Number($)))throw Error("Environmental error: no available transport.")}function er(e,t){Re.call(this),this.a=new Mn(t),this.g=e,this.m=t&&t.testUrl?t.testUrl:function(e){for(var t=arguments[0],n=1;n<arguments.length;n++){var r,o=arguments[n];0==o.lastIndexOf("/",0)?t=o:((r=""==t)||(r=0<=(r=t.length-1)&&t.indexOf("/",r)==r),t+=r?o:"/"+o)}return t}(this.g,"test"),this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.xa&&(e?e["X-WebChannel-Client-Profile"]=t.xa:e={"X-WebChannel-Client-Profile":t.xa}),this.a.J=e,(e=t&&t.httpHeadersOverwriteParam)&&!D(e)&&(this.a.g=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.h=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!D(t)&&(this.a.j=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new rr(this)}function tr(e){lt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function nr(){ut.call(this),this.status=1}function rr(e){this.a=e}(r=_n.prototype).ca=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+e);t=t?t.toUpperCase():"GET",this.A=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(e){var t;return(t=e.a)||(t=e.a={}),t}(this.H?this.H:st),this.a.onreadystatechange=C(this.Fa,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(i){return void Dn(this,i)}e=n||"";var o=new Ot(this.headers);r&&Tt(r,(function(e,t){o.set(t,e)})),r=function(e){e:{for(var t=On,n=e.length,r=a(e)?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:a(e)?e.charAt(t):e[t]}(o.K()),n=s.FormData&&e instanceof s.FormData,!(0<=S(Tn,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Pn(this),0<this.o&&((this.D=function(e){return U&&ee(9)&&l(e.timeout)&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=C(this.Ca,this)):this.m=He(this.Ca,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(i){Dn(this,i)}},r.Ca=function(){void 0!==i&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),kn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),kn(this,!0)),_n.N.G.call(this)},r.Fa=function(){this.j||(this.w||this.l||this.g?An(this):this.$a())},r.$a=function(){An(this)},r.T=function(){try{return 2<Nn(this)?this.a.status:-1}catch(H){return-1}},r.za=function(){try{return 2<Nn(this)?this.a.statusText:""}catch(H){return""}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(H){return""}},r.Va=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),En(t)}},r.ya=function(){return this.h},r.Ya=function(){return a(this.f)?this.f:String(this.f)},(r=Mn.prototype).wa=8,r.u=1,r.Da=function(){return 0==this.u},r.Ia=function(e){if(this.h)if(this.h=null,1==this.u){if(!e){this.P=Math.floor(1e5*Math.random());var t,n=new pt(this,e=this.P++,void 0),r=this.i;if(this.J&&(r?V(r=M(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)e:{for(var o=t=0;o<this.f.length;o++){var i=this.f[o];if(void 0===(i="__data__"in i.a&&a(i=i.a.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=o;break e}if(4096===t||o===this.f.length-1){t=o+1;break e}}t=1e3}else t=1e3;t=Un(this,n,t),Vt(o=Nt(this.B),"RID",e),Vt(o,"CVER",22),this.o&&this.j&&Vt(o,"X-HTTP-Session-Id",this.j),Bn(this,o),this.g&&r&&Fn(o,this.g,r),gn(this.b,n),this.W?(Vt(o,"$req",t),Vt(o,"SID","null"),n.S=!0,gt(n,o,null)):gt(n,o,t),this.u=2}}else 3==this.u&&(e?Hn(this,e):0==this.f.length||dn(this.b)||Hn(this))},r.Ha=function(){this.l=null,this.a=new pt(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var e=Nt(this.pa);Vt(e,"RID","rpc"),Vt(e,"SID",this.H),Vt(e,"CI",this.ia?"0":"1"),Vt(e,"AID",this.O),Bn(this,e),Vt(e,"TYPE","xmlhttp"),this.g&&this.i&&Fn(e,this.g,this.i),this.D&&this.a.setTimeout(this.D),vt(this.a,e,!0,this.ga)},r.Ga=function(e,t){if(0!=this.u&&(this.a==e||fn(this.b,e)))if(this.m=e.o,!e.s&&fn(this.b,e)&&3==this.u){try{var n=this.ja.a.parse(t)}catch(i){n=null}if(d(n)&&3==n.length){if(0==(t=n)[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<e.v))break e;Kn(this),this.a.cancel(),this.a=null}zn(this),Je(18)}}else this.ra=t[1],0<this.ra-this.O&&37500>t[2]&&this.ia&&0==this.v&&!this.s&&(this.s=tt(C(this.Za,this),6e3));if(1>=hn(this.b)&&this.fa){try{this.fa()}catch(i){}this.fa=void 0}}else Yn(this,11)}else if((e.s||this.a==e)&&Kn(this),!D(t))for(t=n=this.ja.a.parse(t),n=0;n<t.length;n++){var r=t[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var o=r[3];null!=o&&(this.wa=o),null!=(r=r[5])&&l(r)&&0<r&&(this.D=1.5*r),this.o&&(r=e.a)&&((o=xn(r,"X-Client-Wire-Protocol"))&&pn(this.b,o),this.j&&(r=xn(r,"X-HTTP-Session-Id")))&&(this.I=r,Vt(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=e,this.pa=Xn(this,this.Y()?this.ga:null,this.ha),r.s?(vn(this.b,r),(o=this.D)&&r.setTimeout(o),r.i&&(Et(r),wt(r)),this.a=r):jn(this),0<this.f.length&&Wn(this)}else"stop"!=r[0]&&"close"!=r[0]||Yn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Yn(this,7):Ln(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,zn(this),Je(19))},r.na=function(e){var t=null;if(this.a==e){Kn(this),this.a=null;var n=2}else{if(!fn(this.b,e))return;t=e.j,vn(this.b,e),n=1}if(this.m=e.o,0!=this.u)if(e.b)1==n?(t=b()-e.v,Ye.dispatchEvent(new et(Ye,e.l?e.l.length:0,t,this.A)),Wn(this)):jn(this);else{var r=e.c;if(3==r||0==r&&0<this.m||!(1==n&&function(e,t){return!(hn(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.f=t.j.concat(e.f),0):1==e.u||2==e.u||e.A>=(e.Pa?0:e.Qa)||(e.h=tt(C(e.Ia,e,t),Qn(e,e.A)),e.A++,0)))}(this,e)||2==n&&zn(this)))switch(t&&0<t.length&&(e=this.b,e.c=e.c.concat(t)),r){case 1:Yn(this,5);break;case 4:Yn(this,10);break;case 3:Yn(this,6);break;default:Yn(this,2)}}},r.fb=function(e){Je(e?2:1)},r.$=function(e){if(e&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _n(this.La)).F=this.R,e},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=$n.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Ta=function(){},Jn.prototype.a=function(e,t){return new er(e,t)},E(er,Re),(r=er.prototype).addEventListener=function(e,t,n,r){er.N.addEventListener.call(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){er.N.removeEventListener.call(this,e,t,n,r)},r.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var e=this.a,t=this.m,n=this.g,r=this.b||void 0;Je(0),e.ha=n,e.V=r||{},e.o&&(e.F.b=[],e.F.a=!1),e.w=new nn(e),null===e.g&&(e.w.h=e.i),n=t,e.g&&e.i&&(n=Fn(t,e.g,e.i)),(e=e.w).i=n,t=Xn(e.a,null,e.i),Je(3),null!=(n=e.a.F.b)?(e.f=n[0],e.M=1,rn(e)):(Gt(t,"MODE","init"),!e.a.o&&e.a.j&&Gt(t,"X-HTTP-Session-Id",e.a.j),e.b=new pt(e,void 0,void 0),e.b.h=e.h,vt(e.b,t,!1,null),e.M=0)},r.close=function(){Ln(this.a)},r.Xa=function(e){if(a(e)){var t={};t.__data__=e,Gn(this.a,t)}else this.h?((t={}).__data__=Oe(e),Gn(this.a,t)):Gn(this.a,e)},r.G=function(){this.a.c=null,delete this.f,Ln(this.a),delete this.a,er.N.G.call(this)},E(tr,lt),E(nr,ut),E(rr,$n),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(e){this.a.dispatchEvent(new tr(e))},rr.prototype.ta=function(e){this.a.dispatchEvent(new nr(e))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var or=w((function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r}),Jn);Jn.prototype.createWebChannel=Jn.prototype.a,er.prototype.send=er.prototype.Xa,er.prototype.open=er.prototype.Wa,er.prototype.close=er.prototype.close,nt.NO_ERROR=0,nt.TIMEOUT=8,nt.HTTP_ERROR=6,rt.COMPLETE="complete",it.EventType=at,at.OPEN="a",at.CLOSE="b",at.ERROR="c",at.MESSAGE="d",Re.prototype.listen=Re.prototype.Aa,_n.prototype.listenOnce=_n.prototype.Ba,_n.prototype.getLastError=_n.prototype.Ya,_n.prototype.getLastErrorCode=_n.prototype.ya,_n.prototype.getStatus=_n.prototype.T,_n.prototype.getStatusText=_n.prototype.za,_n.prototype.getResponseJson=_n.prototype.Va,_n.prototype.getResponseText=_n.prototype.aa,_n.prototype.send=_n.prototype.ca;var ir={createWebChannelTransport:or,ErrorCode:nt,EventType:rt,WebChannel:it,XhrIo:_n},sr=ir.createWebChannelTransport,ar=ir.ErrorCode,lr=ir.EventType,ur=ir.WebChannel,cr=ir.XhrIo;t.default=ir},yCtX:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("HDdC"),o=n("quSY"),i=n("ngJS");function s(e,t){return new r.a(t?function(n){var r=new o.a,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:Object(i.a)(e))}},"z+Ro":function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},zUnb:function(e,t,n){"use strict";n.r(t);var r=n("8Y7J"),o=function e(){_classCallCheck(this,e)},i=function e(){_classCallCheck(this,e),this.title="ProjetAngular"},s=function e(){_classCallCheck(this,e)},a=new r.InjectionToken("Location Initialized"),l=function e(){_classCallCheck(this,e)},u=new r.InjectionToken("appBaseHref"),c=function(){function e(t,n){var o=this;_classCallCheck(this,e),this._subject=new r.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=e.stripTrailingSlash(p(i)),this._platformStrategy.onPopState((function(e){o._subject.emit({url:o.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+e.normalizeQueryParams(n))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,p(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}},{key:"replaceState",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}],[{key:"normalizeQueryParams",value:function(e){return e&&"?"!==e[0]?"?"+e:e}},{key:"joinWithSlash",value:function(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}},{key:"stripTrailingSlash",value:function(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}]),e}();function p(e){return e.replace(/\/index.html$/,"")}var d=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return _inherits(t,e),_createClass(t,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=c.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var o=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,t,o)}},{key:"replaceState",value:function(e,t,n,r){var o=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,o)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),t}(l),h=function(e){function t(e,n){var r;if(_classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,_possibleConstructorReturn(r)}return _inherits(t,e),_createClass(t,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return c.joinWithSlash(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+c.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var o=this.prepareExternalUrl(n+c.normalizeQueryParams(r));this._platformLocation.pushState(e,t,o)}},{key:"replaceState",value:function(e,t,n,r){var o=this.prepareExternalUrl(n+c.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,o)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),t}(l),f=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),g=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),v=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),y=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),m=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function C(e,t,n){var o=Object(r["\u0275findLocaleData"])(e),i=O([o[r["\u0275LocaleDataIndex"].DaysFormat],o[r["\u0275LocaleDataIndex"].DaysStandalone]],t);return O(i,n)}function w(e,t,n){var o=Object(r["\u0275findLocaleData"])(e),i=O([o[r["\u0275LocaleDataIndex"].MonthsFormat],o[r["\u0275LocaleDataIndex"].MonthsStandalone]],t);return O(i,n)}function b(e,t){return O(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].DateFormat],t)}function E(e,t){return O(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].TimeFormat],t)}function _(e,t){return O(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].DateTimeFormat],t)}function S(e,t){var n=Object(r["\u0275findLocaleData"])(e),o=n[r["\u0275LocaleDataIndex"].NumberSymbols][t];if(void 0===o){if(t===m.CurrencyDecimal)return n[r["\u0275LocaleDataIndex"].NumberSymbols][m.Decimal];if(t===m.CurrencyGroup)return n[r["\u0275LocaleDataIndex"].NumberSymbols][m.Group]}return o}var R=r["\u0275getLocalePluralCase"];function T(e){if(!e[r["\u0275LocaleDataIndex"].ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[r["\u0275LocaleDataIndex"].LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function O(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function D(e){var t=_slicedToArray(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}var I=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,A={},k=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,P=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),N=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),x=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function F(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i="";(e<0||o&&e<=0)&&(o?e=1-e:(e=-e,i=n));for(var s=String(e);s.length<t;)s="0"+s;return r&&(s=s.substr(s.length-t)),i+s}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(i,s){var a,l=function(e,t){switch(e){case N.FullYear:return t.getFullYear();case N.Month:return t.getMonth();case N.Date:return t.getDate();case N.Hours:return t.getHours();case N.Minutes:return t.getMinutes();case N.Seconds:return t.getSeconds();case N.FractionalSeconds:return t.getMilliseconds();case N.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,i);if((n>0||l>-n)&&(l+=n),e===N.Hours)0===l&&-12===n&&(l=12);else if(e===N.FractionalSeconds)return a=t,M(l,3).substr(0,a);var u=S(s,m.MinusSign);return M(l,t,u,r,o)}}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.Format,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,s){return function(e,t,n,o,i,s){switch(n){case x.Months:return w(t,i,o)[e.getMonth()];case x.Days:return C(t,i,o)[e.getDay()];case x.DayPeriods:var a=e.getHours(),l=e.getMinutes();if(s){var u,c=function(e){var t=Object(r["\u0275findLocaleData"])(e);return T(t),(t[r["\u0275LocaleDataIndex"].ExtraData][2]||[]).map((function(e){return"string"==typeof e?D(e):[D(e[0]),D(e[1])]}))}(t),p=function(e,t,n){var o=Object(r["\u0275findLocaleData"])(e);T(o);var i=O([o[r["\u0275LocaleDataIndex"].ExtraData][0],o[r["\u0275LocaleDataIndex"].ExtraData][1]],t)||[];return O(i,n)||[]}(t,i,o);if(c.forEach((function(e,t){if(Array.isArray(e)){var n=e[0],r=n.hours,o=n.minutes,i=e[1],s=i.hours,c=i.minutes;a>=r&&l>=o&&(a<s||a===s&&l<c)&&(u=p[t])}else{var d=e.hours,h=e.minutes;d===a&&h===l&&(u=p[t])}})),u)return u}return function(e,t,n){var o=Object(r["\u0275findLocaleData"])(e),i=O([o[r["\u0275LocaleDataIndex"].DayPeriodsFormat],o[r["\u0275LocaleDataIndex"].DayPeriodsStandalone]],t);return O(i,n)}(t,i,o)[a<12?0:1];case x.Eras:return function(e,t){return O(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].Eras],t)}(t,o)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}(i,s,e,t,n,o)}}function G(e){return function(t,n,r){var o=-1*r,i=S(n,m.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(e){case P.Short:return(o>=0?"+":"")+M(s,2,i)+M(Math.abs(o%60),2,i);case P.ShortGMT:return"GMT"+(o>=0?"+":"")+M(s,1,i);case P.Long:return"GMT"+(o>=0?"+":"")+M(s,2,i)+":"+M(Math.abs(o%60),2,i);case P.Extended:return 0===r?"Z":(o>=0?"+":"")+M(s,2,i)+":"+M(Math.abs(o%60),2,i);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}var W=0,H=4;function B(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var o,i,s,a;if(t){var l=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,u=n.getDate();o=1+Math.floor((u+l)/7)}else{var c=(i=n.getFullYear(),s=new Date(i,W,1).getDay(),new Date(i,0,1+(s<=H?H:H+7)-s)),p=(a=n,new Date(a.getFullYear(),a.getMonth(),a.getDate()+(H-a.getDay()))).getTime()-c.getTime();o=1+Math.round(p/6048e5)}return M(o,e,S(r,m.MinusSign))}}var U={};function j(e){return e instanceof Date&&!isNaN(e.valueOf())}var z=new r.InjectionToken("UseV4Plurals"),q=function e(){_classCallCheck(this,e)},K=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).locale=e,r.deprecatedPluralFn=n,r}return _inherits(t,e),_createClass(t,[{key:"getPluralCategory",value:function(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):R(t||this.locale)(e)){case f.Zero:return"zero";case f.One:return"one";case f.Two:return"two";case f.Few:return"few";case f.Many:return"many";default:return"other"}}}]),t}(q),Q=function(){function e(t,n,r,o){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),Y=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,o){if(null==e.previousIndex){var i=t._viewContainer.createEmbeddedView(t._template,new Q(null,t._ngForOf,-1,-1),null===o?void 0:o),s=new Z(e,i);n.push(s)}else if(null==o)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var a=t._viewContainer.get(r);t._viewContainer.move(a,o);var l=new Z(e,a);n.push(l)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var o=0,i=this._viewContainer.length;o<i;o++){var s=this._viewContainer.get(o);s.context.index=o,s.context.count=i,s.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){Object(r.isDevMode)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". ")+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}(),Z=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},X=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new $,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){J("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){J("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}]),e}(),$=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function J(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Object(r["\u0275stringify"])(t),"'."))}var ee=function(){function e(t){_classCallCheck(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){this._shouldRecreateView(e)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var r=!0,o=!1,i=void 0;try{for(var s,a=n[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var l=s.value;if(-1===t.indexOf(l))return!0}}catch(u){o=!0,i=u}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}}]),e}(),te=function e(){_classCallCheck(this,e)},ne=new r.InjectionToken("DocumentToken"),re="server";function oe(e){return e===re}var ie,se=((ie=function e(){_classCallCheck(this,e)}).ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({token:ie,providedIn:"root",factory:function(){return new ae(Object(r["\u0275\u0275inject"])(ne),window,Object(r["\u0275\u0275inject"])(r.ErrorHandler))}}),ie),ae=function(){function e(t,n,r){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#".concat(e));if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),le=n("z+Ro"),ue=n("yCtX"),ce=n("HDdC"),pe=new ce.a((function(e){return e.complete()}));function de(e){return e?function(e){return new ce.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):pe}function he(e){var t=new ce.a((function(t){t.next(e),t.complete()}));return t._isScalar=!0,t.value=e,t}function fe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];switch(Object(le.a)(r)?t.pop():r=void 0,t.length){case 0:return de(r);case 1:return r?Object(ue.a)(t,r):he(t[0]);default:return Object(ue.a)(t,r)}}var ge=n("Cfvw"),ve=n("XNiG"),ye=n("9ppp"),me=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._value=e,n}return _inherits(t,e),_createClass(t,[{key:"_subscribe",value:function(e){var n=_get(_getPrototypeOf(t.prototype),"_subscribe",this).call(this,e);return n&&!n.closed&&e.next(this._value),n}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ye.a;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(t.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),t}(ve.a);function Ce(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Ce.prototype=Object.create(Error.prototype);var we=Ce,be=n("DH7j"),Ee=n("l7GE"),_e=n("ZUHj"),Se={},Re=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Te(e,this.resultSelector))}}]),e}(),Te=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.values.push(Se),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(_e.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,o){var i=this.values,s=this.toRespond?i[n]===Se?--this.toRespond:this.toRespond:0;i[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),t}(Ee.a);function Oe(e){return new ce.a((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(ge.a)(n):de()).subscribe(t)}))}var De=n("lJxs"),Ie=n("bHdf");function Ae(){return Object(Ie.a)(1)}var ke=n("7o/Q");function Pe(e,t){return function(n){return n.lift(new Ne(e,t))}}var Ne=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new xe(e,this.predicate,this.thisArg))}}]),e}(),xe=function(e){function t(e,n,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).predicate=n,o.thisArg=r,o.count=0,o}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),t}(ke.a);function Fe(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Fe.prototype=Object.create(Error.prototype);var Me=Fe;function Le(e){return function(t){return 0===e?de():t.lift(new Ve(e))}}var Ve=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new Me}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ge(e,this.total))}}]),e}(),Ge=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).total=n,r.ring=new Array,r.count=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,o=0;o<n;o++){var i=t++%n;e.next(r[i])}e.complete()}}]),t}(ke.a),We=n("KqfI"),He=n("n6bG");function Be(e,t,n){return function(r){return r.lift(new Ue(e,t,n))}}var Ue=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new je(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),je=function(e){function t(e,n,r,o){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e)))._tapNext=We.a,i._tapError=We.a,i._tapComplete=We.a,i._tapError=r||We.a,i._tapComplete=o||We.a,Object(He.a)(n)?(i._context=_assertThisInitialized(i),i._tapNext=n):n&&(i._context=n,i._tapNext=n.next||We.a,i._tapError=n.error||We.a,i._tapComplete=n.complete||We.a),i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),t}(ke.a),ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe;return Be({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw e()}})};function qe(){return new we}function Ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new Qe(e))}}var Qe=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ye(e,this.defaultValue))}}]),e}(),Ye=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).defaultValue=n,r.isEmpty=!0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),t}(ke.a),Ze=n("SpAZ");function Xe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Pe((function(t,n){return e(t,n,r)})):Ze.a,Le(1),n?Ke(t):ze((function(){return new we})))}}var $e=n("51Dv");function Je(e){return function(t){var n=new et(e),r=t.lift(n);return n.caught=r}}var et=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new tt(e,this.selector,this.caught))}}]),e}(),tt=function(e){function t(e,n,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).selector=n,o.caught=r,o}return _inherits(t,e),_createClass(t,[{key:"error",value:function(e){if(!this.isStopped){var n;try{n=this.selector(e,this.caught)}catch(o){return void _get(_getPrototypeOf(t.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new $e.a(this,void 0,void 0);this.add(r),Object(_e.a)(this,n,void 0,void 0,r)}}}]),t}(Ee.a);function nt(e){return function(t){return 0===e?de():t.lift(new rt(e))}}var rt=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new Me}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ot(e,this.total))}}]),e}(),ot=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).total=n,r.count=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),t}(ke.a);function it(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Pe((function(t,n){return e(t,n,r)})):Ze.a,nt(1),n?Ke(t):ze((function(){return new we})))}}var st=n("5+tZ"),at=function(){function e(t,n,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new lt(e,this.predicate,this.thisArg,this.source))}}]),e}(),lt=function(e){function t(e,n,r,o){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).predicate=n,i.thisArg=r,i.source=o,i.index=0,i.thisArg=r||_assertThisInitialized(i),i}return _inherits(t,e),_createClass(t,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),t}(ke.a);function ut(e,t){return"function"==typeof t?function(n){return n.pipe(ut((function(n,r){return Object(ge.a)(e(n,r)).pipe(Object(De.a)((function(e,o){return t(n,e,r,o)})))})))}:function(t){return t.lift(new ct(e))}}var ct=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new pt(e,this.project))}}]),e}(),pt=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).project=n,r.index=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var o=new $e.a(this,void 0,void 0);this.destination.add(o),this.innerSubscription=Object(_e.a)(this,e,t,n,o)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(t.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(t.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,o){this.destination.next(t)}}]),t}(Ee.a);function dt(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ht(e,t,n))}}var ht=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ft(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),ft=function(e){function t(e,n,r,o){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).accumulator=n,i._seed=r,i.hasSeed=o,i.index=0,i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),t}(ke.a);function gt(e,t){return Object(st.a)(e,t,1)}var vt=n("mCNh"),yt=n("quSY"),mt=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ct(e,this.callback))}}]),e}(),Ct=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).add(new yt.a(n)),r}return _inherits(t,e),t}(ke.a),wt=null;function bt(){return wt}var Et,_t=function(e){function t(){var e;_classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],o=0;o<r.length;o++)if(null!=e.getStyle(n,r[o]+"AnimationName")){e._animationPrefix="-"+r[o].toLowerCase()+"-";break}var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(i).forEach((function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=i[t])}))}catch(s){e._animationPrefix=null,e._transitionEnd=null}return e}return _inherits(t,e),_createClass(t,[{key:"getDistributedNodes",value:function(e){return e.getDistributedNodes()}},{key:"resolveAndSetHref",value:function(e,t,n){e.href=null==n?t:t+"/../"+n}},{key:"supportsDOMEvents",value:function(){return!0}},{key:"supportsNativeShadowDOM",value:function(){return"function"==typeof document.body.createShadowRoot}},{key:"getAnimationPrefix",value:function(){return this._animationPrefix?this._animationPrefix:""}},{key:"getTransitionEnd",value:function(){return this._transitionEnd?this._transitionEnd:""}},{key:"supportsAnimation",value:function(){return null!=this._animationPrefix&&null!=this._transitionEnd}}]),t}(function(){function e(){_classCallCheck(this,e),this.resourceLoaderType=null}return _createClass(e,[{key:"attrToPropMap",get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e}}]),e}()),St={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ot=function(){if(r["\u0275global"].Node)return r["\u0275global"].Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}}(),Dt=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"parse",value:function(e){throw new Error("parse not implemented")}},{key:"hasProperty",value:function(e,t){return t in e}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"getProperty",value:function(e,t){return e[t]}},{key:"invoke",value:function(e,t,n){e[t].apply(e,_toConsumableArray(n))}},{key:"logError",value:function(e){window.console&&(console.error?console.error(e):console.log(e))}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"contains",value:function(e,t){return Ot.call(e,t)}},{key:"querySelector",value:function(e,t){return e.querySelector(t)}},{key:"querySelectorAll",value:function(e,t){return e.querySelectorAll(t)}},{key:"on",value:function(e,t,n){e.addEventListener(t,n,!1)}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"createMouseEvent",value:function(e){var t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}},{key:"createEvent",value:function(e){var t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}},{key:"preventDefault",value:function(e){e.preventDefault(),e.returnValue=!1}},{key:"isPrevented",value:function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}},{key:"getInnerHTML",value:function(e){return e.innerHTML}},{key:"getTemplateContent",value:function(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}},{key:"getOuterHTML",value:function(e){return e.outerHTML}},{key:"nodeName",value:function(e){return e.nodeName}},{key:"nodeValue",value:function(e){return e.nodeValue}},{key:"type",value:function(e){return e.type}},{key:"content",value:function(e){return this.hasProperty(e,"content")?e.content:e}},{key:"firstChild",value:function(e){return e.firstChild}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"parentElement",value:function(e){return e.parentNode}},{key:"childNodes",value:function(e){return e.childNodes}},{key:"childNodesAsList",value:function(e){for(var t=e.childNodes,n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r];return n}},{key:"clearNodes",value:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"removeChild",value:function(e,t){e.removeChild(t)}},{key:"replaceChild",value:function(e,t,n){e.replaceChild(t,n)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"insertBefore",value:function(e,t,n){e.insertBefore(n,t)}},{key:"insertAllBefore",value:function(e,t,n){n.forEach((function(n){return e.insertBefore(n,t)}))}},{key:"insertAfter",value:function(e,t,n){e.insertBefore(n,t.nextSibling)}},{key:"setInnerHTML",value:function(e,t){e.innerHTML=t}},{key:"getText",value:function(e){return e.textContent}},{key:"setText",value:function(e,t){e.textContent=t}},{key:"getValue",value:function(e){return e.value}},{key:"setValue",value:function(e,t){e.value=t}},{key:"getChecked",value:function(e){return e.checked}},{key:"setChecked",value:function(e,t){e.checked=t}},{key:"createComment",value:function(e){return this.getDefaultDocument().createComment(e)}},{key:"createTemplate",value:function(e){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createElementNS",value:function(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}},{key:"createTextNode",value:function(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}},{key:"createScriptTag",value:function(e,t,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}},{key:"createStyleElement",value:function(e,t){var n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}},{key:"createShadowRoot",value:function(e){return e.createShadowRoot()}},{key:"getShadowRoot",value:function(e){return e.shadowRoot}},{key:"getHost",value:function(e){return e.host}},{key:"clone",value:function(e){return e.cloneNode(!0)}},{key:"getElementsByClassName",value:function(e,t){return e.getElementsByClassName(t)}},{key:"getElementsByTagName",value:function(e,t){return e.getElementsByTagName(t)}},{key:"classList",value:function(e){return Array.prototype.slice.call(e.classList,0)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"hasClass",value:function(e,t){return e.classList.contains(t)}},{key:"setStyle",value:function(e,t,n){e.style[t]=n}},{key:"removeStyle",value:function(e,t){e.style[t]=""}},{key:"getStyle",value:function(e,t){return e.style[t]}},{key:"hasStyle",value:function(e,t,n){var r=this.getStyle(e,t)||"";return n?r==n:r.length>0}},{key:"tagName",value:function(e){return e.tagName}},{key:"attributeMap",value:function(e){for(var t=new Map,n=e.attributes,r=0;r<n.length;r++){var o=n.item(r);t.set(o.name,o.value)}return t}},{key:"hasAttribute",value:function(e,t){return e.hasAttribute(t)}},{key:"hasAttributeNS",value:function(e,t,n){return e.hasAttributeNS(t,n)}},{key:"getAttribute",value:function(e,t){return e.getAttribute(t)}},{key:"getAttributeNS",value:function(e,t,n){return e.getAttributeNS(t,n)}},{key:"setAttribute",value:function(e,t,n){e.setAttribute(t,n)}},{key:"setAttributeNS",value:function(e,t,n,r){e.setAttributeNS(t,n,r)}},{key:"removeAttribute",value:function(e,t){e.removeAttribute(t)}},{key:"removeAttributeNS",value:function(e,t,n){e.removeAttributeNS(t,n)}},{key:"templateAwareRoot",value:function(e){return this.isTemplateElement(e)?this.content(e):e}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"getBoundingClientRect",value:function(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}},{key:"getTitle",value:function(e){return e.title}},{key:"setTitle",value:function(e,t){e.title=t||""}},{key:"elementMatches",value:function(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}},{key:"isTemplateElement",value:function(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}},{key:"isTextNode",value:function(e){return e.nodeType===Node.TEXT_NODE}},{key:"isCommentNode",value:function(e){return e.nodeType===Node.COMMENT_NODE}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"hasShadowRoot",value:function(e){return null!=e.shadowRoot&&e instanceof HTMLElement}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"importIntoDoc",value:function(e){return document.importNode(this.templateAwareRoot(e),!0)}},{key:"adoptNode",value:function(e){return document.adoptNode(e)}},{key:"getHref",value:function(e){return e.getAttribute("href")}},{key:"getEventKey",value:function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Tt.hasOwnProperty(t)&&(t=Tt[t]))}return Rt[t]||t}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=It||(It=document.querySelector("base"))?It.getAttribute("href"):null;return null==n?null:(t=n,Et||(Et=document.createElement("a")),Et.setAttribute("href",t),"/"===Et.pathname.charAt(0)?Et.pathname:"/"+Et.pathname)}},{key:"resetBaseElement",value:function(){It=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"setData",value:function(e,t,n){this.setAttribute(e,"data-"+t,n)}},{key:"getData",value:function(e,t){return this.getAttribute(e,"data-"+t)}},{key:"getComputedStyle",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return getComputedStyle(e)}))},{key:"supportsWebAnimation",value:function(){return"function"==typeof Element.prototype.animate}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return function(e,t){t=encodeURIComponent(t);var n=!0,r=!1,o=void 0;try{for(var i,s=e.split(";")[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=i.value,l=a.indexOf("="),u=_slicedToArray(-1==l?[a,""]:[a.slice(0,l),a.slice(l+1)],2),c=u[0],p=u[1];if(c.trim()===t)return decodeURIComponent(p)}}catch(d){r=!0,o=d}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return null}(document.cookie,e)}},{key:"setCookie",value:function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}},{key:"attrToPropMap",get:function(){return St}}],[{key:"makeCurrent",value:function(){var e;e=new t,wt||(wt=e)}}]),t}(_t),It=null;function At(){return!!window.history.pushState}var kt=new r.InjectionToken("TRANSITION_ID"),Pt=[{provide:r.APP_INITIALIZER,useFactory:function(e,t,n){return function(){n.get(r.ApplicationInitStatus).donePromise.then((function(){var n=bt();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter((function(t){return n.getAttribute(t,"ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[kt,ne,r.Injector],multi:!0}],Nt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){r["\u0275global"].getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r["\u0275global"].getAllAngularTestabilities=function(){return e.getAllTestabilities()},r["\u0275global"].getAllAngularRootElements=function(){return e.getAllRootElements()},r["\u0275global"].frameworkStabilizers||(r["\u0275global"].frameworkStabilizers=[]),r["\u0275global"].frameworkStabilizers.push((function(e){var t=r["\u0275global"].getAllAngularTestabilities(),n=t.length,o=!1,i=function(t){o=o||t,0==--n&&e(o)};t.forEach((function(e){e.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?bt().isShadowRoot(t)?this.findTestabilityInTree(e,bt().getHost(t),!0):this.findTestabilityInTree(e,bt().parentElement(t),!0):null}}],[{key:"init",value:function(){Object(r.setTestabilityGetter)(new e)}}]),e}();function xt(e,t){"undefined"!=typeof COMPILED&&COMPILED||((r["\u0275global"].ng=r["\u0275global"].ng||{})[e]=t)}var Ft={ApplicationRef:r.ApplicationRef,NgZone:r.NgZone};function Mt(e){return Object(r.getDebugNode)(e)}var Lt=new r.InjectionToken("EventManagerPlugins"),Vt=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var o=n[r];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}(),Gt=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=bt().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),Wt=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}(),Ht=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return _inherits(t,e),_createClass(t,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return bt().remove(e)}))}}]),t}(Wt),Bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ut=/%COMP%/g,jt="_nghost-%COMP%",zt="_ngcontent-%COMP%";function qt(e,t,n){for(var r=0;r<t.length;r++){var o=t[r];Array.isArray(o)?qt(e,o,n):(o=o.replace(Ut,e),n.push(o))}return n}function Kt(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Qt=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Yt(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.ViewEncapsulation.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new $t(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case r.ViewEncapsulation.Native:case r.ViewEncapsulation.ShadowDom:return new Jt(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var o=qt(t.id,t.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}(),Yt=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Bt[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var o=Bt[r];o?e.setAttributeNS(o,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=Bt[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,o){o&r.RendererStyleFlags2.DashCase?e.style.setProperty(t,n,o&r.RendererStyleFlags2.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&r.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){Xt(t,"property"),e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return Xt(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Kt(n)):this.eventManager.addEventListener(e,t,Kt(n))}}]),e}(),Zt="@".charCodeAt(0);function Xt(e,t){if(e.charCodeAt(0)===Zt)throw new Error("Found the synthetic ".concat(t," ").concat(e,'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.'))}var $t=function(e){function t(e,n,r,o){var i;_classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).component=r;var s=qt(o+"-"+r.id,r.styles,[]);return n.addStyles(s),i.contentAttr=zt.replace(Ut,o+"-"+r.id),i.hostAttr=jt.replace(Ut,o+"-"+r.id),i}return _inherits(t,e),_createClass(t,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(t.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,n){var r=_get(_getPrototypeOf(t.prototype),"createElement",this).call(this,e,n);return _get(_getPrototypeOf(t.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),t}(Yt),Jt=function(e){function t(e,n,o,i){var s;_classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).sharedStylesHost=n,s.hostEl=o,s.component=i,s.shadowRoot=i.encapsulation===r.ViewEncapsulation.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var a=qt(i.id,i.styles,[]),l=0;l<a.length;l++){var u=document.createElement("style");u.textContent=a[l],s.shadowRoot.appendChild(u)}return s}return _inherits(t,e),_createClass(t,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,n){return _get(_getPrototypeOf(t.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),n)}},{key:"insertBefore",value:function(e,n,r){return _get(_getPrototypeOf(t.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),n,r)}},{key:"removeChild",value:function(e,n){return _get(_getPrototypeOf(t.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),n)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(t.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),t}(Yt),en="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},tn=en("addEventListener"),nn=en("removeEventListener"),rn={},on="__zone_symbol__propagationStopped",sn=function(){var e="undefined"!=typeof Zone&&Zone[en("BLACK_LISTED_EVENTS")];if(e){var t={};return e.forEach((function(e){t[e]=e})),t}}(),an=function(e){return!!sn&&sn.hasOwnProperty(e)},ln=function(e){var t=rn[e.type];if(t){var n=this[t];if(n){var r=[e];if(1===n.length){var o=n[0];return o.zone!==Zone.current?o.zone.run(o.handler,this,r):o.handler.apply(this,r)}for(var i=n.slice(),s=0;s<i.length&&!0!==e[on];s++){var a=i[s];a.zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},un=function(e){function t(e,n,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).ngZone=n,r&&oe(r)||o.patchEvent(),o}return _inherits(t,e),_createClass(t,[{key:"patchEvent",value:function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[on]=!0),e&&e.apply(this,arguments)}}}},{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var o=this,i=n;if(!e[tn]||r.NgZone.isInAngularZone()&&!an(t))e.addEventListener(t,i,!1);else{var s=rn[t];s||(s=rn[t]=en("ANGULAR"+t+"FALSE"));var a=e[s],l=a&&a.length>0;a||(a=e[s]=[]);var u=an(t)?Zone.root:Zone.current;if(0===a.length)a.push({zone:u,handler:i});else{for(var c=!1,p=0;p<a.length;p++)if(a[p].handler===i){c=!0;break}c||a.push({zone:u,handler:i})}l||e[tn](t,ln,!1)}return function(){return o.removeEventListener(e,t,i)}}},{key:"removeEventListener",value:function(e,t,n){var r=e[nn];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);var o=rn[t],i=o&&e[o];if(!i)return e.removeEventListener.apply(e,[t,n,!1]);for(var s=!1,a=0;a<i.length;a++)if(i[a].handler===n){s=!0,i.splice(a,1);break}s?0===i.length&&r.apply(e,[t,ln,!1]):e.removeEventListener.apply(e,[t,n,!1])}}]),t}(Gt),cn={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},pn=new r.InjectionToken("HammerGestureConfig"),dn=new r.InjectionToken("HammerLoader"),hn=function(){function e(){_classCallCheck(this,e),this.events=[],this.overrides={}}return _createClass(e,[{key:"buildHammer",value:function(e){var t=new Hammer(e,this.options);for(var n in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t}}]),e}(),fn=function(e){function t(e,n,r,o){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e)))._config=n,i.console=r,i.loader=o,i}return _inherits(t,e),_createClass(t,[{key:"supports",value:function(e){return!(!cn.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(e,'" event cannot be bound because Hammer.JS is not ')+"loaded and no custom loader has been specified."),1))}},{key:"addEventListener",value:function(e,t,n){var r=this,o=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){var i=!1,s=function(){i=!0};return this.loader().then((function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(s=function(){});i||(s=r.addEventListener(e,t,n))})).catch((function(){r.console.warn('The "'.concat(t,'" event cannot be bound because the custom ')+"Hammer.JS loader failed."),s=function(){}})),function(){s()}}return o.runOutsideAngular((function(){var i=r._config.buildHammer(e),s=function(e){o.runGuarded((function(){n(e)}))};return i.on(t,s),function(){i.off(t,s),"function"==typeof i.destroy&&i.destroy()}}))}},{key:"isCustomEvent",value:function(e){return this._config.events.indexOf(e)>-1}}]),t}(Gt),gn=["alt","control","meta","shift"],vn={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},yn=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),_createClass(t,[{key:"supports",value:function(e){return null!=t.parseEventName(e)}},{key:"addEventListener",value:function(e,n,r){var o=t.parseEventName(n),i=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return bt().onAndCancel(e,o.domEventName,i)}))}}],[{key:"parseEventName",value:function(e){var n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var o=t._normalizeKey(n.pop()),i="";if(gn.forEach((function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),i+=e+".")})),i+=o,0!=n.length||0===o.length)return null;var s={};return s.domEventName=r,s.fullKey=i,s}},{key:"getEventFullKey",value:function(e){var t="",n=bt().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),gn.forEach((function(r){r!=n&&(0,vn[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,n,r){return function(o){t.getEventFullKey(o)===e&&r.runGuarded((function(){return n(o)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),t}(Gt),mn=function e(){_classCallCheck(this,e)},Cn=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._doc=e,n}return _inherits(t,e),_createClass(t,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case r.SecurityContext.NONE:return t;case r.SecurityContext.HTML:return t instanceof bn?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),Object(r["\u0275_sanitizeHtml"])(this._doc,String(t)));case r.SecurityContext.STYLE:return t instanceof En?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),Object(r["\u0275_sanitizeStyle"])(t));case r.SecurityContext.SCRIPT:if(t instanceof _n)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case r.SecurityContext.URL:return t instanceof Rn||t instanceof Sn?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),Object(r["\u0275_sanitizeUrl"])(String(t)));case r.SecurityContext.RESOURCE_URL:if(t instanceof Rn)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"checkNotSafeValue",value:function(e,t){if(e instanceof wn)throw new Error("Required a safe ".concat(t,", got a ").concat(e.getTypeName()," ")+"(see http://g.co/ng/security#xss)")}},{key:"bypassSecurityTrustHtml",value:function(e){return new bn(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return new En(e)}},{key:"bypassSecurityTrustScript",value:function(e){return new _n(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return new Sn(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return new Rn(e)}}]),t}(mn),wn=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),e}(),bn=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"HTML"}}]),t}(wn),En=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"Style"}}]),t}(wn),_n=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"Script"}}]),t}(wn),Sn=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"URL"}}]),t}(wn),Rn=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),t}(wn),Tn=[{provide:r.PLATFORM_ID,useValue:"browser"},{provide:r.PLATFORM_INITIALIZER,useValue:function(){Dt.makeCurrent(),Nt.init()},multi:!0},{provide:s,useClass:function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._doc=e,n._init(),n}return _inherits(t,e),_createClass(t,[{key:"_init",value:function(){this.location=bt().getLocation(),this._history=bt().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return bt().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){bt().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){bt().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){At()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){At()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),t}(s),deps:[ne]},{provide:ne,useFactory:function(){return document},deps:[]}],On=Object(r.createPlatformFactory)(r.platformCore,"browser",Tn);function Dn(){return new r.ErrorHandler}var In=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:r.APP_ID,useValue:t.appId},{provide:kt,useExisting:r.APP_ID},Pt]}}}]),e}();"undefined"!=typeof window&&window;var An=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},kn=function(e){function t(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).navigationTrigger=o,r.restoredState=i,r}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),t}(An),Pn=function(e){function t(e,n,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,o}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),t}(An),Nn=function(e){function t(e,n,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).reason=r,o}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),t}(An),xn=function(e){function t(e,n,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).error=r,o}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),t}(An),Fn=function(e){function t(e,n,r,o){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,i.state=o,i}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(An),Mn=function(e){function t(e,n,r,o){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,i.state=o,i}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(An),Ln=function(e){function t(e,n,r,o,i){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,s.state=o,s.shouldActivate=i,s}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),t}(An),Vn=function(e){function t(e,n,r,o){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,i.state=o,i}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(An),Gn=function(e){function t(e,n,r,o){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,i.state=o,i}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(An),Wn=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),Hn=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Bn=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Un=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),jn=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),zn=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),qn=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),Kn=function e(){_classCallCheck(this,e)},Qn="primary",Yn=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function Zn(e){return new Yn(e)}var Xn="ngNavigationCancelingError";function $n(e){var t=Error("NavigationCancelingError: "+e);return t[Xn]=!0,t}function Jn(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var o={},i=0;i<r.length;i++){var s=r[i],a=e[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}var er=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function tr(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];nr(r,rr(t,r))}}function nr(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==Qn)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&tr(e.children,t)}function rr(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function or(e){var t=e.children&&e.children.map(or),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Qn&&(n.component=Kn),n}function ir(e,t){var n,r=Object.keys(e),o=Object.keys(t);if(!r||!o||r.length!=o.length)return!1;for(var i=0;i<r.length;i++)if(e[n=r[i]]!==t[n])return!1;return!0}function sr(e){return Array.prototype.concat.apply([],e)}function ar(e){return e.length>0?e[e.length-1]:null}function lr(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function ur(e){return Object(r["\u0275isObservable"])(e)?e:Object(r["\u0275isPromise"])(e)?Object(ge.a)(Promise.resolve(e)):fe(e)}function cr(e,t,n){return n?function(e,t){return ir(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!fr(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return t[n]===e[n]}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,o){if(n.segments.length>o.length)return!!fr(n.segments.slice(0,o.length),o)&&!r.hasChildren();if(n.segments.length===o.length){if(!fr(n.segments,o))return!1;for(var i in r.children){if(!n.children[i])return!1;if(!e(n.children[i],r.children[i]))return!1}return!0}var s=o.slice(0,n.segments.length),a=o.slice(n.segments.length);return!!fr(n.segments,s)&&!!n.children[Qn]&&t(n.children[Qn],r,a)}(t,n,n.segments)}(e.root,t.root)}var pr=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"toString",value:function(){return mr.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Zn(this.queryParams)),this._queryParamMap}}]),e}(),dr=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,lr(n,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Cr(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),hr=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"toString",value:function(){return Rr(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Zn(this.parameters)),this._parameterMap}}]),e}();function fr(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function gr(e,t){var n=[];return lr(e.children,(function(e,r){r===Qn&&(n=n.concat(t(e,r)))})),lr(e.children,(function(e,r){r!==Qn&&(n=n.concat(t(e,r)))})),n}var vr=function e(){_classCallCheck(this,e)},yr=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new Ar(e);return new pr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,r;return"".concat("/".concat(function e(t,n){if(!t.hasChildren())return Cr(t);if(n){var r=t.children[Qn]?e(t.children[Qn],!1):"",o=[];return lr(t.children,(function(t,n){n!==Qn&&o.push("".concat(n,":").concat(e(t,!1)))})),o.length>0?"".concat(r,"(").concat(o.join("//"),")"):r}var i=gr(t,(function(n,r){return r===Qn?[e(t.children[Qn],!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(Cr(t),"/(").concat(i.join("//"),")")}(e.root,!0)),(n=e.queryParams,r=Object.keys(n).map((function(e){var t=n[e];return Array.isArray(t)?t.map((function(t){return"".concat(br(e),"=").concat(br(t))})).join("&"):"".concat(br(e),"=").concat(br(t))})),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),mr=new yr;function Cr(e){return e.segments.map((function(e){return Rr(e)})).join("/")}function wr(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function br(e){return wr(e).replace(/%3B/gi,";")}function Er(e){return wr(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _r(e){return decodeURIComponent(e)}function Sr(e){return _r(e.replace(/\+/g,"%20"))}function Rr(e){return"".concat(Er(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(Er(e),"=").concat(Er(t[e]))})).join("")));var t}var Tr=/^[^\/()?;=#]+/;function Or(e){var t=e.match(Tr);return t?t[0]:""}var Dr=/^[^=?&#]+/,Ir=/^[^?&#]+/,Ar=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dr([],{}):new dr([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Qn]=new dr(e,t)),n}},{key:"parseSegment",value:function(){var e=Or(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new hr(_r(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Or(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=Or(this.remaining);r&&this.capture(n=r)}e[_r(t)]=_r(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(Dr);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Ir);return t?t[0]:""}(this.remaining);r&&this.capture(n=r)}var o=Sr(t),i=Sr(n);if(e.hasOwnProperty(o)){var s=e[o];Array.isArray(s)||(e[o]=s=[s]),s.push(i)}else e[o]=i}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Or(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var o=void 0;n.indexOf(":")>-1?(o=n.substr(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Qn);var i=this.parseChildren();t[o]=1===Object.keys(i).length?i[Qn]:new dr([],i),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),kr=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Pr(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=Pr(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Nr(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return Nr(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function Pr(e,t){if(e===t.value)return t;var n=!0,r=!1,o=void 0;try{for(var i,s=t.children[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=Pr(e,i.value);if(a)return a}}catch(l){r=!0,o=l}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return null}function Nr(e,t){if(e===t.value)return[t];var n=!0,r=!1,o=void 0;try{for(var i,s=t.children[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=Nr(e,i.value);if(a.length)return a.unshift(t),a}}catch(l){r=!0,o=l}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return[]}var xr=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Fr(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var Mr=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).snapshot=n,Br(_assertThisInitialized(r),e),r}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return this.snapshot.toString()}}]),t}(kr);function Lr(e,t){var n=function(e,t){var n=new Wr([],{},{},"",{},Qn,t,null,e.root,-1,{});return new Hr("",new xr(n,[]))}(e,t),r=new me([new hr("",{})]),o=new me({}),i=new me({}),s=new me({}),a=new me(""),l=new Vr(r,o,s,a,i,Qn,t,n.root);return l.snapshot=n.root,new Mr(new xr(l,[]),n)}var Vr=function(){function e(t,n,r,o,i,s,a,l){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this._futureSnapshot=l}return _createClass(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(De.a)((function(e){return Zn(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(De.a)((function(e){return Zn(e)})))),this._queryParamMap}}]),e}();function Gr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var o=n[r],i=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Wr=function(){function e(t,n,r,o,i,s,a,l,u,c,p){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=p}return _createClass(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Zn(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Zn(this.queryParams)),this._queryParamMap}}]),e}(),Hr=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).url=e,Br(_assertThisInitialized(r),n),r}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return Ur(this._root)}}]),t}(kr);function Br(e,t){t.value._routerState=e,t.children.forEach((function(t){return Br(e,t)}))}function Ur(e){var t=e.children.length>0?" { ".concat(e.children.map(Ur).join(", ")," } "):"";return"".concat(e.value).concat(t)}function jr(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ir(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),ir(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!ir(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),ir(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function zr(e,t){var n,r;return ir(e.params,t.params)&&fr(n=e.url,r=t.url)&&n.every((function(e,t){return ir(e.parameters,r[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||zr(e.parent,t.parent))}function qr(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Kr(e,t,n,r,o){var i={};return r&&lr(r,(function(e,t){i[t]=Array.isArray(e)?e.map((function(e){return"".concat(e)})):"".concat(e)})),new pr(n.root===e?t:function e(t,n,r){var o={};return lr(t.children,(function(t,i){o[i]=t===n?r:e(t,n,r)})),new dr(t.segments,o)}(n.root,e,t),i,o)}var Qr=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&qr(r[0]))throw new Error("Root segment cannot have matrix parameters");var o=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(o&&o!==ar(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Yr=function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function Zr(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[Qn]:"".concat(e)}function Xr(e,t,n){if(e||(e=new dr([],{})),0===e.segments.length&&e.hasChildren())return $r(e,t,n);var r=function(e,t,n){for(var r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};o<e.segments.length;){if(r>=n.length)return i;var s=e.segments[o],a=Zr(n[r]),l=r<n.length-1?n[r+1]:null;if(o>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!no(a,l,s))return i;r+=2}else{if(!no(a,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var i=new dr(e.segments.slice(0,r.pathIndex),{});return i.children[Qn]=new dr(e.segments.slice(r.pathIndex),e.children),$r(i,0,o)}return r.match&&0===o.length?new dr(e.segments,{}):r.match&&!e.hasChildren()?Jr(e,t,n):r.match?$r(e,0,o):Jr(e,t,n)}function $r(e,t,n){if(0===n.length)return new dr(e.segments,{});var r=function(e){return"object"!=typeof e[0]?_defineProperty({},Qn,e):void 0===e[0].outlets?_defineProperty({},Qn,e):e[0].outlets}(n),o={};return lr(r,(function(n,r){null!==n&&(o[r]=Xr(e.children[r],t,n))})),lr(e.children,(function(e,t){void 0===r[t]&&(o[t]=e)})),new dr(e.segments,o)}function Jr(e,t,n){for(var r=e.segments.slice(0,t),o=0;o<n.length;){if("object"==typeof n[o]&&void 0!==n[o].outlets){var i=eo(n[o].outlets);return new dr(r,i)}if(0===o&&qr(n[0]))r.push(new hr(e.segments[t].path,n[0])),o++;else{var s=Zr(n[o]),a=o<n.length-1?n[o+1]:null;s&&a&&qr(a)?(r.push(new hr(s,to(a))),o+=2):(r.push(new hr(s,{})),o++)}}return new dr(r,{})}function eo(e){var t={};return lr(e,(function(e,n){null!==e&&(t[n]=Jr(new dr([],{}),0,e))})),t}function to(e){var t={};return lr(e,(function(e,n){return t[n]="".concat(e)})),t}function no(e,t,n){return e==n.path&&ir(t,n.parameters)}var ro=function(){function e(t,n,r,o){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),jr(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,o=Fr(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,o[t],n),delete o[t]})),lr(o,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,o=t?t.value:null;if(r===o)if(r.component){var i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else o&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),o=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:o})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var o=Fr(e),i=e.value.component?r.children:t;lr(o,(function(e,t){return n.deactivateRouteAndItsChildren(e,i)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,o=Fr(t);e.children.forEach((function(e){r.activateRoutes(e,o[e.value.outlet],n),r.forwardEvent(new zn(e.value.snapshot))})),e.children.length&&this.forwardEvent(new Un(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,o=t?t.value:null;if(jr(r),r===o)if(r.component){var i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),oo(a.route)}else{var l=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),u=l?l.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=u,s.outlet&&s.outlet.activateWith(r,u),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function oo(e){jr(e.value),e.children.forEach(oo)}function io(e){return"function"==typeof e}function so(e){return e instanceof pr}var ao=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},lo=function e(t){_classCallCheck(this,e),this.urlTree=t};function uo(e){return new ce.a((function(t){return t.error(new ao(e))}))}function co(e){return new ce.a((function(t){return t.error(new lo(e))}))}function po(e){return new ce.a((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var ho=function(){function e(t,n,o,i,s){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=o,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.NgModuleRef)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Qn).pipe(Object(De.a)((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(Je((function(t){if(t instanceof lo)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof ao)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,Qn).pipe(Object(De.a)((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(Je((function(e){if(e instanceof ao)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new dr([],_defineProperty({},Qn,e)):e;return new pr(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(De.a)((function(e){return new dr([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,o){if(0===Object.keys(n).length)return fe({});var i=[],s=[],a={};return lr(n,(function(n,o){var l,u,c=(l=o,u=n,r.expandSegmentGroup(e,t,u,l)).pipe(Object(De.a)((function(e){return a[o]=e})));o===Qn?i.push(c):s.push(c)})),fe.apply(null,i.concat(s)).pipe(Ae(),Xe(),Object(De.a)((function(){return a})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,o,i){var s=this;return fe.apply(void 0,_toConsumableArray(n)).pipe(Object(De.a)((function(a){return s.expandSegmentAgainstRoute(e,t,n,a,r,o,i).pipe(Je((function(e){if(e instanceof ao)return fe(null);throw e})))})),Ae(),it((function(e){return!!e})),Je((function(e,n){if(e instanceof we||"EmptyError"===e.name){if(s.noLeftoversInUrl(t,r,o))return fe(new dr([],{}));throw new ao(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,o,i,s){return yo(r)!==i?uo(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,o,i):uo(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,o,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,o,i)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var o=this,i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?co(i):this.lineralizeSegments(n,i).pipe(Object(st.a)((function(n){var i=new dr(n,{});return o.expandSegment(e,i,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,o,i){var s=this,a=fo(t,r,o),l=a.matched,u=a.consumedSegments,c=a.lastChild,p=a.positionalParamSegments;if(!l)return uo(t);var d=this.applyRedirectCommands(u,r.redirectTo,p);return r.redirectTo.startsWith("/")?co(d):this.lineralizeSegments(r,d).pipe(Object(st.a)((function(r){return s.expandSegment(e,t,n,r.concat(o.slice(c)),i,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var o=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(De.a)((function(e){return n._loadedConfig=e,new dr(r,{})}))):fe(new dr(r,{}));var i=fo(t,n,r),s=i.matched,a=i.consumedSegments,l=i.lastChild;if(!s)return uo(t);var u=r.slice(l);return this.getChildConfig(e,n,r).pipe(Object(st.a)((function(e){var n=e.module,r=e.routes,i=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return vo(e,t,n)&&yo(n)!==Qn}))}(e,n,r)?{segmentGroup:go(new dr(t,function(e,t){var n={};n[Qn]=t;var r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var l=s.value;""===l.path&&yo(l)!==Qn&&(n[yo(l)]=new dr([],{}))}}catch(u){o=!0,i=u}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(r,new dr(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return vo(e,t,n)}))}(e,n,r)?{segmentGroup:go(new dr(e.segments,function(e,t,n,r){var o={},i=!0,s=!1,a=void 0;try{for(var l,u=n[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;vo(e,t,c)&&!r[yo(c)]&&(o[yo(c)]=new dr([],{}))}}catch(p){s=!0,a=p}finally{try{i||null==u.return||u.return()}finally{if(s)throw a}}return Object.assign({},r,o)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,a,u,r),s=i.segmentGroup,l=i.slicedSegments;return 0===l.length&&s.hasChildren()?o.expandChildren(n,r,s).pipe(Object(De.a)((function(e){return new dr(a,e)}))):0===r.length&&0===l.length?fe(new dr(a,{})):o.expandSegment(n,s,r,l,Qn,!0).pipe(Object(De.a)((function(e){return new dr(a.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?fe(new er(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?fe(t._loadedConfig):function(e,t,n){var r,o=t.canLoad;return o&&0!==o.length?Object(ge.a)(o).pipe(Object(De.a)((function(r){var o,i=e.get(r);if(function(e){return e&&io(e.canLoad)}(i))o=i.canLoad(t,n);else{if(!io(i))throw new Error("Invalid CanLoad guard");o=i(t,n)}return ur(o)}))).pipe(Ae(),(r=function(e){return!0===e},function(e){return e.lift(new at(r,void 0,e))})):fe(!0)}(e.injector,t,n).pipe(Object(st.a)((function(n){return n?r.configLoader.load(e.injector,t).pipe(Object(De.a)((function(e){return t._loadedConfig=e,e}))):function(e){return new ce.a((function(t){return t.error($n("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):fe(new er([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return fe(n);if(r.numberOfChildren>1||!r.children[Qn])return po(e.redirectTo);r=r.children[Qn]}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var o=this.createSegmentGroup(e,t.root,n,r);return new pr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return lr(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var o=e.substring(1);n[r]=t[o]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var o=this,i=this.createSegments(e,t.segments,n,r),s={};return lr(t.children,(function(t,i){s[i]=o.createSegmentGroup(e,t,n,r)})),new dr(i,s)}},{key:"createSegments",value:function(e,t,n,r){var o=this;return t.map((function(t){return t.path.startsWith(":")?o.findPosParam(e,t,r):o.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n=0,r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var l=s.value;if(l.path===e.path)return t.splice(n),l;n++}}catch(u){o=!0,i=u}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return e}}]),e}();function fo(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||Jn)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function go(e){if(1===e.numberOfChildren&&e.children[Qn]){var t=e.children[Qn];return new dr(e.segments.concat(t.segments),t.children)}return e}function vo(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function yo(e){return e.outlet||Qn}var mo=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},Co=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function wo(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function bo(e,t,n){var r=Fr(e),o=e.value;lr(r,(function(e,r){bo(e,o.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new Co(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}var Eo=Symbol("INITIAL_VALUE");function _o(){return ut((function(e){return(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,o=null;return Object(le.a)(t[t.length-1])&&(o=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&Object(be.a)(t[0])&&(t=t[0]),Object(ue.a)(t,o).lift(new Re(r))}).apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(nt(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=t[t.length-1];Object(le.a)(n)?t.pop():n=null;var r=t.length;return function(){return Ae()(fe.apply(void 0,arguments))}(1!==r||n?r>0?Object(ue.a)(t,n):de(n):he(t[0]),e)}}(Eo))})))).pipe(dt((function(e,t){var n=!1;return t.reduce((function(e,r,o){if(e!==Eo)return e;if(r===Eo&&(n=!0),!n){if(!1===r)return r;if(o===t.length-1||so(r))return r}return e}),e)}),Eo),Pe((function(e){return e!==Eo})),Object(De.a)((function(e){return so(e)?e:!0===e})),nt(1))}))}function So(e,t){return null!==e&&t&&t(new jn(e)),fe(!0)}function Ro(e,t){return null!==e&&t&&t(new Bn(e)),fe(!0)}function To(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?fe(r.map((function(r){return Oe((function(){var o,i=wo(r,t,n);if(function(e){return e&&io(e.canActivate)}(i))o=ur(i.canActivate(t,e));else{if(!io(i))throw new Error("Invalid CanActivate guard");o=ur(i(t,e))}return o.pipe(it())}))}))).pipe(_o()):fe(!0)}function Oo(e,t,n){var r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Oe((function(){return fe(t.guards.map((function(o){var i,s=wo(o,t.node,n);if(function(e){return e&&io(e.canActivateChild)}(s))i=ur(s.canActivateChild(r,e));else{if(!io(s))throw new Error("Invalid CanActivateChild guard");i=ur(s(r,e))}return i.pipe(it())}))).pipe(_o())}))}));return fe(o).pipe(_o())}var Do=function e(){_classCallCheck(this,e)},Io=function(){function e(t,n,r,o,i,s){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}return _createClass(e,[{key:"recognize",value:function(){try{var e=Po(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Qn),n=new Wr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xr(n,t),o=new Hr(this.url,r);return this.inheritParamsAndData(o._root),fe(o)}catch(i){return new ce.a((function(e){return e.error(i)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=Gr(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,o=gr(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},o.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),o=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(o,"'."))}n[e.value.outlet]=e.value})),o.sort((function(e,t){return e.value.outlet===Qn?-1:t.value.outlet===Qn?1:e.value.outlet.localeCompare(t.value.outlet)})),o}},{key:"processSegment",value:function(e,t,n,r){var o=!0,i=!1,s=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){var u=a.value;try{return this.processSegmentAgainstRoute(u,t,n,r)}catch(c){if(!(c instanceof Do))throw c}}}catch(p){i=!0,s=p}finally{try{o||null==l.return||l.return()}finally{if(i)throw s}}if(this.noLeftoversInUrl(t,n,r))return[];throw new Do}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new Do;if((e.outlet||Qn)!==r)throw new Do;var o,i=[],s=[];if("**"===e.path){var a=n.length>0?ar(n).parameters:{};o=new Wr(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fo(e),r,e.component,e,Ao(t),ko(t)+n.length,Mo(e))}else{var l=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Do;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||Jn)(n,e,t);if(!r)throw new Do;var o={};lr(r.posParams,(function(e,t){o[t]=e.path}));var i=r.consumed.length>0?Object.assign({},o,r.consumed[r.consumed.length-1].parameters):o;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:i}}(t,e,n);i=l.consumedSegments,s=n.slice(l.lastChild),o=new Wr(i,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fo(e),r,e.component,e,Ao(t),ko(t)+i.length,Mo(e))}var u=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),c=Po(t,i,s,u,this.relativeLinkResolution),p=c.segmentGroup,d=c.slicedSegments;if(0===d.length&&p.hasChildren()){var h=this.processChildren(u,p);return[new xr(o,h)]}if(0===u.length&&0===d.length)return[new xr(o,[])];var f=this.processSegment(u,p,d,Qn);return[new xr(o,f)]}}]),e}();function Ao(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function ko(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Po(e,t,n,r,o){if(n.length>0&&function(e,t,n){return n.some((function(n){return No(e,t,n)&&xo(n)!==Qn}))}(e,n,r)){var i=new dr(t,function(e,t,n,r){var o={};o[Qn]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var i=!0,s=!1,a=void 0;try{for(var l,u=n[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;if(""===c.path&&xo(c)!==Qn){var p=new dr([],{});p._sourceSegment=e,p._segmentIndexShift=t.length,o[xo(c)]=p}}}catch(d){s=!0,a=d}finally{try{i||null==u.return||u.return()}finally{if(s)throw a}}return o}(e,t,r,new dr(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return No(e,t,n)}))}(e,n,r)){var s=new dr(e.segments,function(e,t,n,r,o,i){var s={},a=!0,l=!1,u=void 0;try{for(var c,p=r[Symbol.iterator]();!(a=(c=p.next()).done);a=!0){var d=c.value;if(No(e,n,d)&&!o[xo(d)]){var h=new dr([],{});h._sourceSegment=e,h._segmentIndexShift="legacy"===i?e.segments.length:t.length,s[xo(d)]=h}}}catch(f){l=!0,u=f}finally{try{a||null==p.return||p.return()}finally{if(l)throw u}}return Object.assign({},o,s)}(e,t,n,r,e.children,o));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}var a=new dr(e.segments,e.children);return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}function No(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function xo(e){return e.outlet||Qn}function Fo(e){return e.data||{}}function Mo(e){return e.resolve||{}}function Lo(e,t,n,r){var o=wo(e,t,r);return ur(o.resolve?o.resolve(t,n):o(t,n))}function Vo(e){return function(t){return t.pipe(ut((function(t){var n=e(t);return n?Object(ge.a)(n).pipe(Object(De.a)((function(){return t}))):Object(ge.a)([t])})))}}var Go=function e(){_classCallCheck(this,e)},Wo=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),Ho=new r.InjectionToken("ROUTES"),Bo=function(){function e(t,n,r,o){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=o}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(De.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var o=r.create(e);return new er(sr(o.injector.get(Ho)).map(or),o)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Object(ge.a)(this.loader.load(e)):ur(e()).pipe(Object(st.a)((function(e){return e instanceof r.NgModuleFactory?fe(e):Object(ge.a)(t.compiler.compileModuleAsync(e))})))}}]),e}(),Uo=function e(){_classCallCheck(this,e)},jo=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function zo(e){throw e}function qo(e,t,n){return t.parse("/")}function Ko(e,t){return fe(null)}var Qo=function(){function e(t,n,o,i,s,a,l,u){var c=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=o,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new ve.a,this.errorHandler=zo,this.malformedUriErrorHandler=qo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ko,afterPreactivation:Ko},this.urlHandlingStrategy=new jo,this.routeReuseStrategy=new Wo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.NgModuleRef),this.console=s.get(r["\u0275Console"]);var p=s.get(r.NgZone);this.isNgZoneEnabled=p instanceof r.NgZone,this.resetConfig(u),this.currentUrlTree=new pr(new dr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Bo(a,l,(function(e){return c.triggerEvent(new Wn(e))}),(function(e){return c.triggerEvent(new Hn(e))})),this.routerState=Lr(this.currentUrlTree,this.rootComponentType),this.transitions=new me({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Pe((function(e){return 0!==e.id})),Object(De.a)((function(e){return Object.assign({},e,{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),ut((function(e){var r,o,i,s=!1,a=!1;return fe(e).pipe(Be((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign({},t.lastSuccessfulNavigation,{previousNavigation:null}):null}})),ut((function(e){var r,o,i,s,a=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||a)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return fe(e).pipe(ut((function(e){var r=t.transitions.getValue();return n.next(new kn(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?pe:[e]})),ut((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,o=t.configLoader,i=t.urlSerializer,s=t.config,function(e){return e.pipe(ut((function(e){return function(e,t,n,r,o){return new ho(e,t,n,r,o).apply()}(r,o,i,e.extractedUrl,s).pipe(Object(De.a)((function(t){return Object.assign({},e,{urlAfterRedirects:t})})))})))}),Be((function(e){t.currentNavigation=Object.assign({},t.currentNavigation,{finalUrl:e.urlAfterRedirects})})),function(e,n,r,o,i){return function(r){return r.pipe(Object(st.a)((function(r){return function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Io(e,t,n,r,o,i).recognize()}(e,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,t.serializeUrl(s)),o,i).pipe(Object(De.a)((function(e){return Object.assign({},r,{targetSnapshot:e})})));var s})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Be((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Be((function(e){var r=new Fn(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(a&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var l=e.id,u=e.extractedUrl,c=e.source,p=e.restoredState,d=e.extras,h=new kn(l,t.serializeUrl(u),c,p);n.next(h);var f=Lr(u,t.rootComponentType).snapshot;return fe(Object.assign({},e,{targetSnapshot:f,urlAfterRedirects:u,extras:Object.assign({},d,{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),pe})),Vo((function(e){var n=e.targetSnapshot,r=e.id,o=e.extractedUrl,i=e.rawUrl,s=e.extras,a=s.skipLocationChange,l=s.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:o,rawUrlTree:i,skipLocationChange:!!a,replaceUrl:!!l})})),Be((function(e){var n=new Mn(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),Object(De.a)((function(e){return Object.assign({},e,{guards:(n=e.targetSnapshot,r=e.currentSnapshot,o=t.rootContexts,i=n._root,function e(t,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=Fr(n);return t.children.forEach((function(t){!function(t,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=t.value,a=n?n.value:null,l=r?r.getContext(t.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){var u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!fr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!fr(e.url,t.url)||!ir(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zr(e,t)||!ir(e.queryParams,t.queryParams);case"paramsChange":default:return!zr(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new mo(o)):(s.data=a.data,s._resolvedData=a._resolvedData),e(t,n,s.component?l?l.children:null:r,o,i),u&&i.canDeactivateChecks.push(new Co(l&&l.outlet&&l.outlet.component||null,a))}else a&&bo(n,l,i),i.canActivateChecks.push(new mo(o)),e(t,null,s.component?l?l.children:null:r,o,i)}(t,s[t.value.outlet],r,o.concat([t.value]),i),delete s[t.value.outlet]})),lr(s,(function(e,t){return bo(e,r.getContext(t),i)})),i}(i,r?r._root:null,o,[i.value]))});var n,r,o,i})),(o=t.ngModule.injector,i=function(e){return t.triggerEvent(e)},function(e){return e.pipe(Object(st.a)((function(e){var t=e.targetSnapshot,n=e.currentSnapshot,r=e.guards,s=r.canActivateChecks,a=r.canDeactivateChecks;return 0===a.length&&0===s.length?fe(Object.assign({},e,{guardsResult:!0})):function(e,t,n,r){return Object(ge.a)(e).pipe(Object(st.a)((function(e){return function(e,t,n,r,o){var i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?fe(i.map((function(i){var s,a=wo(i,t,o);if(function(e){return e&&io(e.canDeactivate)}(a))s=ur(a.canDeactivate(e,t,n,r));else{if(!io(a))throw new Error("Invalid CanDeactivate guard");s=ur(a(e,t,n,r))}return s.pipe(it())}))).pipe(_o()):fe(!0)}(e.component,e.route,n,t,r)})),it((function(e){return!0!==e}),!0))}(a,t,n,o).pipe(Object(st.a)((function(e){return e&&"boolean"==typeof e?function(e,t,n,r){return Object(ge.a)(t).pipe(gt((function(t){return Object(ge.a)([Ro(t.route.parent,r),So(t.route,r),Oo(e,t.path,n),To(e,t.route,n)]).pipe(Ae(),it((function(e){return!0!==e}),!0))})),it((function(e){return!0!==e}),!0))}(t,s,o,i):fe(e)})),Object(De.a)((function(t){return Object.assign({},e,{guardsResult:t})})))})))}),Be((function(e){if(so(e.guardsResult)){var n=$n('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Be((function(e){var n=new Ln(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),Pe((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new Nn(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),Vo((function(e){if(e.guards.canActivateChecks.length)return fe(e).pipe(Be((function(e){var n=new Vn(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),function(e,t){return function(n){return n.pipe(Object(st.a)((function(n){var r=n.targetSnapshot,o=n.guards.canActivateChecks;return o.length?Object(ge.a)(o).pipe(gt((function(n){return function(e,t,n,r){return function(e,t,n,r){var o=Object.keys(e);if(0===o.length)return fe({});if(1===o.length){var i=o[0];return Lo(e[i],t,n,r).pipe(Object(De.a)((function(e){return _defineProperty({},i,e)})))}var s={};return Object(ge.a)(o).pipe(Object(st.a)((function(o){return Lo(e[o],t,n,r).pipe(Object(De.a)((function(e){return s[o]=e,e})))}))).pipe(Xe(),Object(De.a)((function(){return s})))}(e._resolve,e,t,r).pipe(Object(De.a)((function(t){return e._resolvedData=t,e.data=Object.assign({},e.data,Gr(e,n).resolve),null})))}(n.route,r,e,t)})),function(e,t){return arguments.length>=2?function(n){return Object(vt.a)(dt(e,t),Le(1),Ke(t))(n)}:function(t){return Object(vt.a)(dt((function(t,n,r){return e(t,n,r+1)})),Le(1))(t)}}((function(e,t){return e})),Object(De.a)((function(e){return n}))):fe(n)})))}}(t.paramsInheritanceStrategy,t.ngModule.injector),Be((function(e){var n=new Gn(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})))})),Vo((function(e){var n=e.targetSnapshot,r=e.id,o=e.extractedUrl,i=e.rawUrl,s=e.extras,a=s.skipLocationChange,l=s.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:o,rawUrlTree:i,skipLocationChange:!!a,replaceUrl:!!l})})),Object(De.a)((function(e){var n,r,o,i,s=(n=t.routeReuseStrategy,r=e.targetSnapshot,o=e.currentRouterState,i=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var o=r.value;o._futureSnapshot=n.value;var i=function(t,n,r){return n.children.map((function(n){var o=!0,i=!1,s=void 0;try{for(var a,l=r.children[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){var u=a.value;if(t.shouldReuseRoute(u.value.snapshot,n.value))return e(t,n,u)}}catch(c){i=!0,s=c}finally{try{o||null==l.return||l.return()}finally{if(i)throw s}}return e(t,n)}))}(t,n,r);return new xr(o,i)}var s=t.retrieve(n.value);if(s){var a=s.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,a),a}var l,u=new Vr(new me((l=n.value).url),new me(l.params),new me(l.queryParams),new me(l.fragment),new me(l.data),l.outlet,l.component,l),c=n.children.map((function(n){return e(t,n)}));return new xr(u,c)}(n,r._root,o?o._root:void 0),new Mr(i,r));return Object.assign({},e,{targetRouterState:s})})),Be((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),function(e,t,n){return Object(De.a)((function(r){return new ro(t,r.targetRouterState,r.currentRouterState,n).activate(e),r}))}(t.rootContexts,t.routeReuseStrategy,(function(e){return t.triggerEvent(e)})),Be({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!a){t.resetUrlToCurrentUrlTree();var r=new Nn(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new mt(r))}),Je((function(r){if(a=!0,(l=r)&&l[Xn]){var o=so(r.url);o||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var i=new Nn(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(i),e.resolve(!1),o&&t.navigateByUrl(r.url)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var s=new xn(e.id,t.serializeUrl(e.extractedUrl),r);n.next(s);try{e.resolve(t.errorHandler(r))}catch(u){e.reject(u)}}var l;return pe})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign({},this.getTransition(),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",o=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,o,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){tr(e),this.config=e.map(or),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,o=t.queryParams,i=t.fragment,s=t.preserveQueryParams,a=t.queryParamsHandling,l=t.preserveFragment;Object(r.isDevMode)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,c=l?this.currentUrlTree.fragment:i,p=null;if(a)switch(a){case"merge":p=Object.assign({},this.currentUrlTree.queryParams,o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}else p=s?this.currentUrlTree.queryParams:o||null;return null!==p&&(p=this.removeEmptyProps(p)),function(e,t,n,r,o){if(0===n.length)return Kr(t.root,t.root,t,r,o);var i=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Qr(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,o){if("object"==typeof r&&null!=r){if(r.outlets){var i={};return lr(r.outlets,(function(e,t){i[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:i}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===o?(r.split("/").forEach((function(r,o){0==o&&"."===r||(0==o&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new Qr(n,t,r)}(n);if(i.toRoot())return Kr(t.root,new dr([],{}),t,r,o);var s=function(e,t,n){if(e.isAbsolute)return new Yr(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Yr(n.snapshot._urlSegment,!0,0);var r=qr(e.commands[0])?0:1;return function(e,t,n){for(var r=e,o=t,i=n;i>o;){if(i-=o,!(r=r.parent))throw new Error("Invalid number of '../'");o=r.segments.length}return new Yr(r,!1,o-i)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(i,t,e),a=s.processChildren?$r(s.segmentGroup,s.index,i.commands):Xr(s.segmentGroup,s.index,i.commands);return Kr(s.segmentGroup,a,t,r,o)}(u,this.currentUrlTree,e,p,c)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(r.isDevMode)()&&this.isNgZoneEnabled&&!r.NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=so(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(so(e))return cr(this.currentUrlTree,e,t);var n=this.parseUrl(e);return cr(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new Pn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r){var o=this.getTransition();if(o&&"imperative"!==t&&"imperative"===o.source&&o.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(o&&"hashchange"==t&&"popstate"===o.source&&o.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(o&&"popstate"==t&&"hashchange"===o.source&&o.rawUrl.toString()===e.toString())return Promise.resolve(!0);var i=null,s=null,a=new Promise((function(e,t){i=e,s=t})),l=++this.navigationId;return this.setTransition({id:l,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:i,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var o=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(o)||t?this.location.replaceState(o,"",Object.assign({},r,{navigationId:n})):this.location.go(o,"",Object.assign({},r,{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}(),Yo=function(){function e(t,n,r,o,i){_classCallCheck(this,e),this.router=t,this.route=n,this.commands=[],null==r&&o.setAttribute(i.nativeElement,"tabindex","0")}return _createClass(e,[{key:"onClick",value:function(){var e={skipLocationChange:Xo(this.skipLocationChange),replaceUrl:Xo(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(r.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Xo(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Xo(this.preserveFragment)})}}]),e}(),Zo=function(){function e(t,n,r){var o=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof Pn&&o.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:Xo(this.skipLocationChange),replaceUrl:Xo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(r.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Xo(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Xo(this.preserveFragment)})}}]),e}();function Xo(e){return""===e||!!e}var $o=function(){function e(t,n,r,o,i){var s=this;_classCallCheck(this,e),this.router=t,this.element=n,this.renderer=r,this.link=o,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe((function(e){e instanceof Pn&&s.update()}))}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.links.changes.subscribe((function(t){return e.update()})),this.linksWithHrefs.changes.subscribe((function(t){return e.update()})),this.update()}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.classes.forEach((function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter((function(e){return!!e}))}}]),e}(),Jo=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new ei,this.attachRef=null},ei=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Jo,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),ti=function(){function e(t,n,o,i,s){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=o,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.EventEmitter,this.deactivateEvents=new r.EventEmitter,this.name=i||Qn,t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,o=new ni(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}(),ni=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===Vr?this.route:e===ei?this.childContexts:this.parent.get(e,t)}}]),e}(),ri=function e(){_classCallCheck(this,e)},oi=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(Je((function(){return fe(null)})))}}]),e}(),ii=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return fe(null)}}]),e}(),si=function(){function e(t,n,r,o,i){_classCallCheck(this,e),this.router=t,this.injector=o,this.preloadingStrategy=i,this.loader=new Bo(n,r,(function(e){return t.triggerEvent(new Wn(e))}),(function(e){return t.triggerEvent(new Hn(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Pe((function(e){return e instanceof Pn})),gt((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(r.NgModuleRef);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var l=s.value;if(l.loadChildren&&!l.canLoad&&l._loadedConfig){var u=l._loadedConfig;n.push(this.processRoutes(u.module,u.routes))}else l.loadChildren&&!l.canLoad?n.push(this.preloadConfig(e,l)):l.children&&n.push(this.processRoutes(e,l.children))}}catch(c){o=!0,i=c}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return Object(ge.a)(n).pipe(Object(Ie.a)(),Object(De.a)((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(Object(st.a)((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}(),ai=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof kn?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Pn&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof qn&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new qn(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}(),li=new r.InjectionToken("ROUTER_CONFIGURATION"),ui=new r.InjectionToken("ROUTER_FORROOT_GUARD"),ci=[c,{provide:vr,useClass:yr},{provide:Qo,useFactory:yi,deps:[r.ApplicationRef,vr,ei,c,r.Injector,r.NgModuleFactoryLoader,r.Compiler,Ho,li,[Uo,new r.Optional],[Go,new r.Optional]]},ei,{provide:Vr,useFactory:mi,deps:[Qo]},{provide:r.NgModuleFactoryLoader,useClass:r.SystemJsNgModuleLoader},si,ii,oi,{provide:li,useValue:{enableTracing:!1}}];function pi(){return new r.NgProbeToken("Router",Qo)}var di=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[ci,vi(t),{provide:ui,useFactory:gi,deps:[[Qo,new r.Optional,new r.SkipSelf]]},{provide:li,useValue:n||{}},{provide:l,useFactory:fi,deps:[s,[new r.Inject(u),new r.Optional],li]},{provide:ai,useFactory:hi,deps:[Qo,se,li]},{provide:ri,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ii},{provide:r.NgProbeToken,multi:!0,useFactory:pi},[Ci,{provide:r.APP_INITIALIZER,multi:!0,useFactory:wi,deps:[Ci]},{provide:Ei,useFactory:bi,deps:[Ci]},{provide:r.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Ei}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[vi(t)]}}}]),e}();function hi(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new ai(e,t,n)}function fi(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).useHash?new d(e,t):new h(e,t)}function gi(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function vi(e){return[{provide:r.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:e},{provide:Ho,multi:!0,useValue:e}]}function yi(e,t,n,r,o,i,s,a){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},u=arguments.length>9?arguments[9]:void 0,c=arguments.length>10?arguments[10]:void 0,p=new Qo(null,t,n,r,o,i,s,sr(a));if(u&&(p.urlHandlingStrategy=u),c&&(p.routeReuseStrategy=c),l.errorHandler&&(p.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(p.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){var d=bt();p.events.subscribe((function(e){d.logGroup("Router Event: ".concat(e.constructor.name)),d.log(e.toString()),d.log(e),d.logGroupEnd()}))}return l.onSameUrlNavigation&&(p.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(p.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(p.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(p.relativeLinkResolution=l.relativeLinkResolution),p}function mi(e){return e.routerState.root}var Ci=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new ve.a}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(a,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(Qo),o=e.injector.get(li);if(e.isLegacyDisabled(o)||e.isLegacyEnabled(o))t(!0);else if("disabled"===o.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==o.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(o.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?fe(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(li),n=this.injector.get(si),o=this.injector.get(ai),i=this.injector.get(Qo),s=this.injector.get(r.ApplicationRef);e===s.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),o.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}();function wi(e){return e.appInitializer.bind(e)}function bi(e){return e.bootstrapListener.bind(e)}var Ei=new r.InjectionToken("Router Initializer"),_i=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Si(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](1,212992,null,0,ti,[ei,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null)],(function(e,t){e(t,1,0)}),null)}var Ri=r["\u0275ccf"]("ng-component",Kn,(function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,Si,_i)),r["\u0275did"](1,49152,null,0,Kn,[],null,null)],null,null)}),{},{},[]),Ti=function(e){function t(e,n){var r;_classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).sources=n,r.completed=0,r.haveValues=0;var o=n.length;r.values=new Array(o);for(var i=0;i<o;i++){var s=n[i],a=Object(_e.a)(_assertThisInitialized(r),s,null,i);a&&r.add(a)}return r}return _inherits(t,e),_createClass(t,[{key:"notifyNext",value:function(e,t,n,r,o){this.values[n]=t,o._hasValue||(o._hasValue=!0,this.haveValues++)}},{key:"notifyComplete",value:function(e){var t=this.destination,n=this.haveValues,r=this.values,o=r.length;e._hasValue?(this.completed++,this.completed===o&&(n===o&&t.next(r),t.complete())):t.complete()}}]),t}(Ee.a),Oi=new r.InjectionToken("NgValueAccessor"),Di=new r.InjectionToken("CompositionEventMode"),Ii=function(){function e(t,n,r){var o;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(o=bt()?bt().getUserAgent():"",!/android (\d+)/.test(o.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}(),Ai=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}(),ki=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),t}(Ai);function Pi(){throw new Error("unimplemented")}var Ni=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments)))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _inherits(t,e),_createClass(t,[{key:"validator",get:function(){return Pi()}},{key:"asyncValidator",get:function(){return Pi()}}]),t}(Ai),xi=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),Fi=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),t}(xi),Mi=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),t}(xi);function Li(e){return null==e||0===e.length}var Vi=new r.InjectionToken("NgValidators"),Gi=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Wi=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(Li(t.value)||Li(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(Li(t.value)||Li(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return Li(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return Li(e.value)?null:Gi.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(Li(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(Li(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(Hi);return 0==t.length?null:function(e){return Ui(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(Hi);return 0==t.length?null:function(e){return function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o;return"function"==typeof n[n.length-1]&&(o=n.pop()),1===n.length&&Object(be.a)(n[0])&&(n=n[0]),0===n.length?pe:o?e(n).pipe(Object(De.a)((function(e){return o.apply(void 0,_toConsumableArray(e))}))):new ce.a((function(e){return new Ti(e,n)}))}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(Bi)).pipe(Object(De.a)(Ui))}}}]),e}();function Hi(e){return null!=e}function Bi(e){var t=Object(r["\u0275isPromise"])(e)?Object(ge.a)(e):e;if(!Object(r["\u0275isObservable"])(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Ui(e){var t=e.reduce((function(e,t){return null!=t?Object.assign({},e,t):e}),{});return 0===Object.keys(t).length?null:t}function ji(e){return e.validate?function(t){return e.validate(t)}:e}function zi(e){return e.validate?function(t){return e.validate(t)}:e}var qi=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}(),Ki='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Qi='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Yi='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Zi='\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ';function Xi(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var $i=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r["\u0275looseIdentical"]}return _createClass(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=Xi(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}(),Ji=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Xi(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}}]),e}();function es(e,t){return null==e?"".concat(t):("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var ts=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(es(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(es(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}}]),e}();function ns(e,t){return[].concat(_toConsumableArray(t.path),[e])}function rs(e,t){e||is(t,"Cannot find control with"),t.valueAccessor||is(t,"No value accessor for form control with"),e.validator=Wi.compose([e.validator,t.validator]),e.asyncValidator=Wi.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&os(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&os(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function os(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function is(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function ss(e){return null!=e?Wi.compose(e.map(ji)):null}function as(e){return null!=e?Wi.composeAsync(e.map(zi)):null}var ls=[function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),$i,function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r["\u0275looseIdentical"]}return _createClass(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var o=n.selectedOptions,i=0;i<o.length;i++){var s=o.item(i),a=t._getOptionValue(s.value);r.push(a)}else for(var l=n.options,u=0;u<l.length;u++){var c=l.item(u);if(c.selected){var p=t._getOptionValue(c.value);r.push(p)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}(),function(){function e(t,n,r,o){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=o,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Ni),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()];function us(e){var t=ps(e)?e.validators:e;return Array.isArray(t)?ss(t):t||null}function cs(e,t){var n=ps(t)?t.asyncValidators:e;return Array.isArray(n)?as(n):n||null}function ps(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var ds=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"setValidators",value:function(e){this.validator=us(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=cs(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign({},e,{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign({},e,{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=Bi(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((function(e,t){return e instanceof fs?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof gs&&e.at(t)||null}),e))}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new r.EventEmitter,this.statusChanges=new r.EventEmitter}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){ps(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),hs=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,us(r),cs(o,r))))._onChange=[],e._applyFormState(n),e._setUpdateStrategy(r),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _inherits(t,e),_createClass(t,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),t}(ds),fs=function(e){function t(e,n,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,us(n),cs(r,n)))).controls=e,o._initObservables(),o._setUpdateStrategy(n),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _inherits(t,e),_createClass(t,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof hs?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,o){n=n||t.contains(o)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),t}(ds),gs=function(e){function t(e,n,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,us(n),cs(r,n)))).controls=e,o._initObservables(),o._setUpdateStrategy(n),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _inherits(t,e),_createClass(t,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof hs?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.controls[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){if(r.value.enabled)return!1}}catch(i){t=!0,n=i}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),t}(ds),vs=Promise.resolve(null),ys=function(e){function t(e,n){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).submitted=!1,o._directives=[],o.ngSubmit=new r.EventEmitter,o.form=new fs({},ss(e),as(n)),o}return _inherits(t,e),_createClass(t,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(e){var t=this;vs.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),rs(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;vs.then((function(){var n,r,o,i=t._findContainer(e.path);i&&i.removeControl(e.name),n=t._directives,r=e,(o=n.indexOf(r))>-1&&n.splice(o,1)}))}},{key:"addFormGroup",value:function(e){var t=this;vs.then((function(){var n=t._findContainer(e.path),r=new fs({});(function(e,t){null==e&&is(t,"Cannot find control with"),e.validator=Wi.compose([e.validator,t.validator]),e.asyncValidator=Wi.composeAsync([e.asyncValidator,t.asyncValidator])})(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;vs.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;vs.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})),this.ngSubmit.emit(e),!1;var t}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),t}(ki),ms=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(Ki,"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ").concat(Zi))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(Qi,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(Yi))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(Qi,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(Yi))}},{key:"ngFormWarning",value:function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}]),e}(),Cs=new r.InjectionToken("NgFormSelectorWarning"),ws=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return ns(this.name,this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return ss(this._validators)}},{key:"asyncValidator",get:function(){return as(this._asyncValidators)}}]),t}(ki),bs=function(e){function t(e,n,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._parent=e,o._validators=n,o._asyncValidators=r,o}return _inherits(t,e),_createClass(t,[{key:"_checkParentType",value:function(){this._parent instanceof t||this._parent instanceof ys||ms.modelGroupParentException()}}]),t}(ws),Es=Promise.resolve(null),_s=function(e){function t(e,n,o,i){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).control=new hs,s._registered=!1,s.update=new r.EventEmitter,s._parent=e,s._rawValidators=n||[],s._rawAsyncValidators=o||[],s.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||is(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,o=void 0;return t.forEach((function(t){var i;t.constructor===Ii?n=t:(i=t,ls.some((function(e){return i.constructor===e}))?(r&&is(e,"More than one built-in value accessor matches form control with"),r=t):(o&&is(e,"More than one custom value accessor matches form control with"),o=t))})),o||r||n||(is(e,"No valid value accessor for form control with"),null)}(_assertThisInitialized(s),i),s}return _inherits(t,e),_createClass(t,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object(r["\u0275looseIdentical"])(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){rs(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof bs)&&this._parent instanceof ws?ms.formGroupNameException():this._parent instanceof bs||this._parent instanceof ys||ms.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||ms.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;Es.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;Es.then((function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()}))}},{key:"path",get:function(){return this._parent?ns(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return ss(this._rawValidators)}},{key:"asyncValidator",get:function(){return as(this._rawAsyncValidators)}}]),t}(Ni),Ss=function e(){_classCallCheck(this,e)},Rs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validate",value:function(e){return this.required?Wi.required(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&"false"!=="".concat(e),this._onChange&&this._onChange()}}]),e}(),Ts=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnChanges",value:function(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(e){return this._validator(e)}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"_createValidator",value:function(){this._validator=Wi.pattern(this.pattern)}}]),e}(),Os=function e(){_classCallCheck(this,e)},Ds=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:Cs,useValue:t.warnOnDeprecatedNgFormSelector}]}}}]),e}(),Is=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).scheduler=e,r.work=n,r.pending=!1,r}return _inherits(t,e),_createClass(t,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(o){n=!0,r=!!o&&o||new Error(o)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),t}(function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))}return _inherits(t,e),_createClass(t,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),t}(yt.a)),As=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),ks=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:As.now;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,(function(){return t.delegate&&t.delegate!==_assertThisInitialized(n)?t.delegate.now():r()})))).actions=[],n.active=!1,n.scheduled=void 0,n}return _inherits(t,e),_createClass(t,[{key:"schedule",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return t.delegate&&t.delegate!==this?t.delegate.schedule(e,n,r):_get(_getPrototypeOf(t.prototype),"schedule",this).call(this,e,n,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),t}(As);function Ps(e,t,n,r){return Object(He.a)(n)&&(r=n,n=void 0),r?Ps(e,t,n).pipe(Object(De.a)((function(e){return Object(be.a)(e)?r.apply(void 0,_toConsumableArray(e)):r(e)}))):new ce.a((function(r){!function e(t,n,r,o,i){var s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var a=t;t.addEventListener(n,r,i),s=function(){return a.removeEventListener(n,r,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var l=t;t.on(n,r),s=function(){return l.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var u=t;t.addListener(n,r),s=function(){return u.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,p=t.length;c<p;c++)e(t[c],n,r,o,i)}o.add(s)}(e,t,(function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),r,n)}))}var Ns=n("VRyK");function xs(e){return function(t){return t.lift(new Fs(e))}}var Fs=function(){function e(t){_classCallCheck(this,e),this.notifier=t}return _createClass(e,[{key:"call",value:function(e,t){var n=new Ms(e),r=Object(_e.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}]),e}(),Ms=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).seenValue=!1,n}return _inherits(t,e),_createClass(t,[{key:"notifyNext",value:function(e,t,n,r,o){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),t}(Ee.a);function Ls(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Vs(t,n))}}var Vs=function(){function e(t,n){_classCallCheck(this,e),this.observables=t,this.project=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Gs(e,this.observables,this.project))}}]),e}(),Gs=function(e){function t(e,n,r){var o;_classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).observables=n,o.project=r,o.toRespond=[];var i=n.length;o.values=new Array(i);for(var s=0;s<i;s++)o.toRespond.push(s);for(var a=0;a<i;a++){var l=n[a];o.add(Object(_e.a)(_assertThisInitialized(o),l,l,a))}return o}return _inherits(t,e),_createClass(t,[{key:"notifyNext",value:function(e,t,n,r,o){this.values[n]=t;var i=this.toRespond;if(i.length>0){var s=i.indexOf(n);-1!==s&&i.splice(s,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(e){if(0===this.toRespond.length){var t=[e].concat(_toConsumableArray(this.values));this.project?this._tryProject(t):this.destination.next(t)}}},{key:"_tryProject",value:function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),t}(Ee.a),Ws=n("w1tV");function Hs(e){return parseInt("".concat(e),10)}function Bs(e){return null!=e?"".concat(e):""}function Us(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function js(e){return null!=e}function zs(e,t){return e&&e.className&&e.className.split&&e.className.split(/\s+/).indexOf(t)>=0}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var qs,Ks=function e(){_classCallCheck(this,e)},Qs=((qs=function e(){_classCallCheck(this,e),this.dismissible=!0,this.type="warning"}).ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new qs},token:qs,providedIn:"root"}),qs),Ys=function(){function e(t,n,o){_classCallCheck(this,e),this._renderer=n,this._element=o,this.close=new r.EventEmitter,this.dismissible=t.dismissible,this.type=t.type}return _createClass(e,[{key:"closeHandler",value:function(){this.close.emit(null)}},{key:"ngOnChanges",value:function(e){var t=e.type;t&&!t.firstChange&&(this._renderer.removeClass(this._element.nativeElement,"alert-".concat(t.previousValue)),this._renderer.addClass(this._element.nativeElement,"alert-".concat(t.currentValue)))}},{key:"ngOnInit",value:function(){this._renderer.addClass(this._element.nativeElement,"alert-".concat(this.type))}}]),e}(),Zs=function e(){_classCallCheck(this,e)},Xs=function e(){_classCallCheck(this,e)},$s=function e(){_classCallCheck(this,e)},Js=function e(){_classCallCheck(this,e)},ea=function(){function e(t,n,r){_classCallCheck(this,e),this.year=Us(t)?t:null,this.month=Us(n)?n:null,this.day=Us(r)?r:null}return _createClass(e,null,[{key:"from",value:function(t){return t instanceof e?t:t?new e(t.year,t.month,t.day):null}}]),_createClass(e,[{key:"equals",value:function(e){return e&&this.year===e.year&&this.month===e.month&&this.day===e.day}},{key:"before",value:function(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}},{key:"after",value:function(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}]),e}();function ta(e){return new ea(e.getFullYear(),e.getMonth()+1,e.getDate())}function na(e){var t=new Date(e.year,e.month-1,e.day,12);return isNaN(t.getTime())||t.setFullYear(e.year),t}function ra(){return new sa}var oa,ia=((oa=function e(){_classCallCheck(this,e)}).ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:ra,token:oa,providedIn:"root"}),oa),sa=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getDaysPerWeek",value:function(){return 7}},{key:"getMonths",value:function(){return[1,2,3,4,5,6,7,8,9,10,11,12]}},{key:"getWeeksPerMonth",value:function(){return 6}},{key:"getNext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=na(e),o=!0,i=r.getMonth();switch(t){case"y":r.setFullYear(r.getFullYear()+n);break;case"m":r.setMonth(i+=n),(i%=12)<0&&(i+=12);break;case"d":r.setDate(r.getDate()+n),o=!1;break;default:return e}return o&&r.getMonth()!==i&&r.setDate(0),ta(r)}},{key:"getPrev",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.getNext(e,t,-n)}},{key:"getWeekday",value:function(e){var t=na(e).getDay();return 0===t?7:t}},{key:"getWeekNumber",value:function(e,t){7===t&&(t=0);var n=na(e[(11-t)%7]);n.setDate(n.getDate()+4-(n.getDay()||7));var r=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((r-n.getTime())/864e5)/7)+1}},{key:"getToday",value:function(){return ta(new Date)}},{key:"isValid",value:function(e){if(!(e&&Us(e.year)&&Us(e.month)&&Us(e.day)))return!1;if(0===e.year)return!1;var t=na(e);return!isNaN(t.getTime())&&t.getFullYear()===e.year&&t.getMonth()+1===e.month&&t.getDate()===e.day}}]),t}(ia);function aa(e,t){return!function(e,t){return!e&&!t||!!e&&!!t&&e.equals(t)}(e,t)}function la(e,t){return!(!e&&!t||e&&t&&e.year===t.year&&e.month===t.month)}function ua(e,t,n){return e&&t&&e.before(t)?t:e&&n&&e.after(n)?n:e}function ca(e,t){var n=t.minDate,r=t.maxDate,o=t.disabled,i=t.markDisabled;return!(!js(e)||o||i&&i(e,{year:e.year,month:e.month})||n&&e.before(n)||r&&e.after(r))}var pa,da,ha=((pa=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getDayNumerals",value:function(e){return"".concat(e.day)}},{key:"getWeekNumerals",value:function(e){return"".concat(e)}},{key:"getYearNumerals",value:function(e){return"".concat(e)}}]),e}()).ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return e=Object(r["\u0275\u0275inject"])(r.LOCALE_ID),new fa(e);var e},token:pa,providedIn:"root"}),pa),fa=function(e){function t(e){var n;_classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._locale=e;var r=C(e,g.Standalone,v.Short);return n._weekdaysShort=r.map((function(e,t){return r[(t+1)%7]})),n._monthsShort=w(e,g.Standalone,v.Abbreviated),n._monthsFull=w(e,g.Standalone,v.Wide),n}return _inherits(t,e),_createClass(t,[{key:"getWeekdayShortName",value:function(e){return this._weekdaysShort[e-1]}},{key:"getMonthShortName",value:function(e){return this._monthsShort[e-1]}},{key:"getMonthFullName",value:function(e){return this._monthsFull[e-1]}},{key:"getDayAriaLabel",value:function(e){return function(e,t,n,o){var i=function(e){if(j(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var r=_slicedToArray(e.split("-").map((function(e){return+e})),3),o=r[0],i=r[1],s=r[2];return new Date(o,i-1,s)}if(t=e.match(I))return function(e){var t=new Date(0),n=0,r=0,o=e[8]?t.setUTCFullYear:t.setFullYear,i=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),o.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,l=Number(e[6]||0),u=Math.round(1e3*parseFloat("0."+(e[7]||0)));return i.call(t,s,a,l,u),t}(t)}var a=new Date(e);if(!j(a))throw new Error('Unable to convert "'.concat(e,'" into a date'));return a}(e);t=function e(t,n){var o=function(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].LocaleId]}(t);if(A[o]=A[o]||{},A[o][n])return A[o][n];var i="";switch(n){case"shortDate":i=b(t,y.Short);break;case"mediumDate":i=b(t,y.Medium);break;case"longDate":i=b(t,y.Long);break;case"fullDate":i=b(t,y.Full);break;case"shortTime":i=E(t,y.Short);break;case"mediumTime":i=E(t,y.Medium);break;case"longTime":i=E(t,y.Long);break;case"fullTime":i=E(t,y.Full);break;case"short":var s=e(t,"shortTime"),a=e(t,"shortDate");i=F(_(t,y.Short),[s,a]);break;case"medium":var l=e(t,"mediumTime"),u=e(t,"mediumDate");i=F(_(t,y.Medium),[l,u]);break;case"long":var c=e(t,"longTime"),p=e(t,"longDate");i=F(_(t,y.Long),[c,p]);break;case"full":var d=e(t,"fullTime"),h=e(t,"fullDate");i=F(_(t,y.Full),[d,h])}return i&&(A[o][n]=i),i}(n,t)||t;for(var s,a=[];t;){if(!(s=k.exec(t))){a.push(t);break}var l=(a=a.concat(s.slice(1))).pop();if(!l)break;t=l}var u=i.getTimezoneOffset(),c="";return a.forEach((function(e){var t=function(e){if(U[e])return U[e];var t;switch(e){case"G":case"GG":case"GGG":t=V(x.Eras,v.Abbreviated);break;case"GGGG":t=V(x.Eras,v.Wide);break;case"GGGGG":t=V(x.Eras,v.Narrow);break;case"y":t=L(N.FullYear,1,0,!1,!0);break;case"yy":t=L(N.FullYear,2,0,!0,!0);break;case"yyy":t=L(N.FullYear,3,0,!1,!0);break;case"yyyy":t=L(N.FullYear,4,0,!1,!0);break;case"M":case"L":t=L(N.Month,1,1);break;case"MM":case"LL":t=L(N.Month,2,1);break;case"MMM":t=V(x.Months,v.Abbreviated);break;case"MMMM":t=V(x.Months,v.Wide);break;case"MMMMM":t=V(x.Months,v.Narrow);break;case"LLL":t=V(x.Months,v.Abbreviated,g.Standalone);break;case"LLLL":t=V(x.Months,v.Wide,g.Standalone);break;case"LLLLL":t=V(x.Months,v.Narrow,g.Standalone);break;case"w":t=B(1);break;case"ww":t=B(2);break;case"W":t=B(1,!0);break;case"d":t=L(N.Date,1);break;case"dd":t=L(N.Date,2);break;case"E":case"EE":case"EEE":t=V(x.Days,v.Abbreviated);break;case"EEEE":t=V(x.Days,v.Wide);break;case"EEEEE":t=V(x.Days,v.Narrow);break;case"EEEEEE":t=V(x.Days,v.Short);break;case"a":case"aa":case"aaa":t=V(x.DayPeriods,v.Abbreviated);break;case"aaaa":t=V(x.DayPeriods,v.Wide);break;case"aaaaa":t=V(x.DayPeriods,v.Narrow);break;case"b":case"bb":case"bbb":t=V(x.DayPeriods,v.Abbreviated,g.Standalone,!0);break;case"bbbb":t=V(x.DayPeriods,v.Wide,g.Standalone,!0);break;case"bbbbb":t=V(x.DayPeriods,v.Narrow,g.Standalone,!0);break;case"B":case"BB":case"BBB":t=V(x.DayPeriods,v.Abbreviated,g.Format,!0);break;case"BBBB":t=V(x.DayPeriods,v.Wide,g.Format,!0);break;case"BBBBB":t=V(x.DayPeriods,v.Narrow,g.Format,!0);break;case"h":t=L(N.Hours,1,-12);break;case"hh":t=L(N.Hours,2,-12);break;case"H":t=L(N.Hours,1);break;case"HH":t=L(N.Hours,2);break;case"m":t=L(N.Minutes,1);break;case"mm":t=L(N.Minutes,2);break;case"s":t=L(N.Seconds,1);break;case"ss":t=L(N.Seconds,2);break;case"S":t=L(N.FractionalSeconds,1);break;case"SS":t=L(N.FractionalSeconds,2);break;case"SSS":t=L(N.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=G(P.Short);break;case"ZZZZZ":t=G(P.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=G(P.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=G(P.Long);break;default:return null}return U[e]=t,t}(e);c+=t?t(i,n,u):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),c}(new Date(e.year,e.month-1,e.day),"fullDate",this._locale)}}]),t}(ha),ga=function(){function e(t,n){_classCallCheck(this,e),this._calendar=t,this._i18n=n,this._model$=new ve.a,this._select$=new ve.a,this._state={disabled:!1,displayMonths:1,firstDayOfWeek:1,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectBoxes:{years:[],months:[]},selectedDate:null}}return _createClass(e,[{key:"focus",value:function(e){!this._state.disabled&&this._calendar.isValid(e)&&aa(this._state.focusDate,e)&&this._nextState({focusDate:e})}},{key:"focusMove",value:function(e,t){this.focus(this._calendar.getNext(this._state.focusDate,e,t))}},{key:"focusSelect",value:function(){ca(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}},{key:"open",value:function(e){var t=this.toValidDate(e,this._calendar.getToday());this._state.disabled||this._state.firstDate&&!la(this._state.firstDate,e)||this._nextState({firstDate:t})}},{key:"select",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.toValidDate(e,null);this._state.disabled||(aa(this._state.selectedDate,n)&&this._nextState({selectedDate:n}),t.emitEvent&&ca(n,this._state)&&this._select$.next(n))}},{key:"toValidDate",value:function(e,t){var n=ea.from(e);return void 0===t&&(t=this._calendar.getToday()),this._calendar.isValid(n)?n:t}},{key:"_nextState",value:function(e){var t=this._updateState(e);this._patchContexts(t),this._state=t,this._model$.next(this._state)}},{key:"_patchContexts",value:function(e){var t=e.months,n=e.displayMonths,r=e.selectedDate,o=e.focusDate,i=e.focusVisible,s=e.disabled,a=e.outsideDays;e.months.forEach((function(e){e.weeks.forEach((function(l){l.days.forEach((function(l){o&&(l.context.focused=o.equals(l.date)&&i),l.tabindex=!s&&l.date.equals(o)&&o.month===e.number?0:-1,!0===s&&(l.context.disabled=!0),void 0!==r&&(l.context.selected=null!==r&&r.equals(l.date)),e.number!==l.date.month&&(l.hidden="hidden"===a||"collapsed"===a||n>1&&l.date.after(t[0].firstDate)&&l.date.before(t[n-1].lastDate))}))}))}))}},{key:"_updateState",value:function(e){var t,n,r,o,i=Object.assign({},this._state,e),s=i.firstDate;if(("minDate"in e||"maxDate"in e)&&(function(e,t){if(t&&e&&t.before(e))throw new Error("'maxDate' ".concat(t," should be greater than 'minDate' ").concat(e))}(i.minDate,i.maxDate),i.focusDate=ua(i.focusDate,i.minDate,i.maxDate),i.firstDate=ua(i.firstDate,i.minDate,i.maxDate),s=i.focusDate),"disabled"in e&&(i.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(s=i.selectedDate),"focusVisible"in e)return i;if("focusDate"in e&&(i.focusDate=ua(i.focusDate,i.minDate,i.maxDate),s=i.focusDate,0!==i.months.length&&!i.focusDate.before(i.firstDate)&&!i.focusDate.after(i.lastDate)))return i;if("firstDate"in e&&(i.firstDate=ua(i.firstDate,i.minDate,i.maxDate),s=i.firstDate),s){var a=function(e,t,n,r,o){var i=n.displayMonths,s=n.months,a=s.splice(0,s.length);return Array.from({length:i},(function(n,r){var i=Object.assign(e.getNext(t,"m",r),{day:1});if(s[r]=null,!o){var l=a.findIndex((function(e){return e.firstDate.equals(i)}));-1!==l&&(s[r]=a.splice(l,1)[0])}return i})).forEach((function(t,o){null===s[o]&&(s[o]=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=n.dayTemplateData,s=n.minDate,a=n.maxDate,l=n.firstDayOfWeek,u=n.markDisabled,c=n.outsideDays,p=e.getToday();o.firstDate=null,o.lastDate=null,o.number=t.month,o.year=t.year,o.weeks=o.weeks||[],o.weekdays=o.weekdays||[],t=function(e,t,n){var r=e.getDaysPerWeek(),o=new ea(t.year,t.month,1),i=e.getWeekday(o)%r;return e.getPrev(o,"d",(r+i-n)%r)}(e,t,l);for(var d=0;d<e.getWeeksPerMonth();d++){var h=o.weeks[d];h||(h=o.weeks[d]={number:0,days:[],collapsed:!0});for(var f=h.days,g=0;g<e.getDaysPerWeek();g++){0===d&&(o.weekdays[g]=e.getWeekday(t));var v=new ea(t.year,t.month,t.day),y=e.getNext(v),m=r.getDayAriaLabel(v),C=!!(s&&v.before(s)||a&&v.after(a));!C&&u&&(C=u(v,{month:o.number,year:o.year}));var w=v.equals(p),b=i?i(v,{month:o.number,year:o.year}):void 0;null===o.firstDate&&v.month===o.number&&(o.firstDate=v),v.month===o.number&&y.month!==o.number&&(o.lastDate=v);var E=f[g];E||(E=f[g]={}),E.date=v,E.context=Object.assign(E.context||{},{$implicit:v,date:v,data:b,currentMonth:o.number,disabled:C,focused:!1,selected:!1,today:w}),E.tabindex=-1,E.ariaLabel=m,E.hidden=!1,t=y}h.number=e.getWeekNumber(f.map((function(e){return e.date})),l),h.collapsed="collapsed"===c&&f[0].date.month!==o.number&&f[f.length-1].date.month!==o.number}return o}(e,t,n,r,a.shift()||{}))})),s}(this._calendar,s,i,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e);i.months=a,i.firstDate=a.length>0?a[0].firstDate:void 0,i.lastDate=a.length>0?a[a.length-1].lastDate:void 0,"selectedDate"in e&&!ca(i.selectedDate,i)&&(i.selectedDate=null),"firstDate"in e&&(void 0===i.focusDate||i.focusDate.before(i.firstDate)||i.focusDate.after(i.lastDate))&&(i.focusDate=s);var l=!this._state.firstDate||this._state.firstDate.year!==i.firstDate.year,u=!this._state.firstDate||this._state.firstDate.month!==i.firstDate.month;"select"===i.navigation?(("minDate"in e||"maxDate"in e||0===i.selectBoxes.years.length||l)&&(i.selectBoxes.years=function(e,t,n){if(!e)return[];for(var r=t?Math.max(t.year,e.year-500):e.year-10,o=(n?Math.min(n.year,e.year+500):e.year+10)-r+1,i=Array(o),s=0;s<o;s++)i[s]=r+s;return i}(i.firstDate,i.minDate,i.maxDate)),("minDate"in e||"maxDate"in e||0===i.selectBoxes.months.length||l)&&(i.selectBoxes.months=function(e,t,n,r){if(!t)return[];var o=e.getMonths(t.year);if(n&&t.year===n.year){var i=o.findIndex((function(e){return e===n.month}));o=o.slice(i)}if(r&&t.year===r.year){var s=o.findIndex((function(e){return e===r.month}));o=o.slice(0,s+1)}return o}(this._calendar,i.firstDate,i.minDate,i.maxDate))):i.selectBoxes={years:[],months:[]},"arrows"!==i.navigation&&"select"!==i.navigation||!(u||l||"minDate"in e||"maxDate"in e||"disabled"in e)||(i.prevDisabled=i.disabled||(t=this._calendar,n=i.firstDate,r=i.minDate,o=Object.assign(t.getPrev(n,"m"),{day:1}),r&&(o.year===r.year&&o.month<r.month||o.year<r.year&&1===r.month)),i.nextDisabled=i.disabled||function(e,t,n){var r=Object.assign(e.getNext(t,"m"),{day:1});return n&&r.after(n)}(this._calendar,i.lastDate,i.maxDate))}return i}},{key:"model$",get:function(){return this._model$.pipe(Pe((function(e){return e.months.length>0})))}},{key:"select$",get:function(){return this._select$.pipe(Pe((function(e){return null!==e})))}},{key:"dayTemplateData",set:function(e){this._state.dayTemplateData!==e&&this._nextState({dayTemplateData:e})}},{key:"disabled",set:function(e){this._state.disabled!==e&&this._nextState({disabled:e})}},{key:"displayMonths",set:function(e){Us(e=Hs(e))&&e>0&&this._state.displayMonths!==e&&this._nextState({displayMonths:e})}},{key:"firstDayOfWeek",set:function(e){Us(e=Hs(e))&&e>=0&&this._state.firstDayOfWeek!==e&&this._nextState({firstDayOfWeek:e})}},{key:"focusVisible",set:function(e){this._state.focusVisible===e||this._state.disabled||this._nextState({focusVisible:e})}},{key:"maxDate",set:function(e){var t=this.toValidDate(e,null);aa(this._state.maxDate,t)&&this._nextState({maxDate:t})}},{key:"markDisabled",set:function(e){this._state.markDisabled!==e&&this._nextState({markDisabled:e})}},{key:"minDate",set:function(e){var t=this.toValidDate(e,null);aa(this._state.minDate,t)&&this._nextState({minDate:t})}},{key:"navigation",set:function(e){this._state.navigation!==e&&this._nextState({navigation:e})}},{key:"outsideDays",set:function(e){this._state.outsideDays!==e&&this._nextState({outsideDays:e})}}]),e}(),va=function(){var e={Tab:9,Enter:13,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40};return e[e.Tab]="Tab",e[e.Enter]="Enter",e[e.Escape]="Escape",e[e.Space]="Space",e[e.PageUp]="PageUp",e[e.PageDown]="PageDown",e[e.End]="End",e[e.Home]="Home",e[e.ArrowLeft]="ArrowLeft",e[e.ArrowUp]="ArrowUp",e[e.ArrowRight]="ArrowRight",e[e.ArrowDown]="ArrowDown",e}(),ya=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._service=t,this._calendar=n,t.model$.subscribe((function(e){r._minDate=e.minDate,r._maxDate=e.maxDate,r._firstViewDate=e.firstDate,r._lastViewDate=e.lastDate}))}return _createClass(e,[{key:"processKey",value:function(e){switch(e.which){case va.PageUp:this._service.focusMove(e.shiftKey?"y":"m",-1);break;case va.PageDown:this._service.focusMove(e.shiftKey?"y":"m",1);break;case va.End:this._service.focus(e.shiftKey?this._maxDate:this._lastViewDate);break;case va.Home:this._service.focus(e.shiftKey?this._minDate:this._firstViewDate);break;case va.ArrowLeft:this._service.focusMove("d",-1);break;case va.ArrowUp:this._service.focusMove("d",-this._calendar.getDaysPerWeek());break;case va.ArrowRight:this._service.focusMove("d",1);break;case va.ArrowDown:this._service.focusMove("d",this._calendar.getDaysPerWeek());break;case va.Enter:case va.Space:this._service.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}}]),e}(),ma=function(){var e={PREV:0,NEXT:1};return e[e.PREV]="PREV",e[e.NEXT]="NEXT",e}(),Ca=((da=function e(){_classCallCheck(this,e),this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}).ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new da},token:da,providedIn:"root"}),da);function wa(){return new _a}var ba,Ea=((ba=function e(){_classCallCheck(this,e)}).ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:wa,token:ba,providedIn:"root"}),ba),_a=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"fromModel",value:function(e){return e&&Us(e.year)&&Us(e.month)&&Us(e.day)?{year:e.year,month:e.month,day:e.day}:null}},{key:"toModel",value:function(e){return e&&Us(e.year)&&Us(e.month)&&Us(e.day)?{year:e.year,month:e.month,day:e.day}:null}}]),t}(Ea),Sa=function(){function e(t,n,o,i,s,a,l,u,c){var p=this;_classCallCheck(this,e),this._keyMapService=t,this._service=n,this._calendar=o,this.i18n=i,this._cd=a,this._elementRef=l,this._ngbDateAdapter=u,this._ngZone=c,this._destroyed$=new ve.a,this.navigate=new r.EventEmitter,this.select=new r.EventEmitter,this.onChange=function(e){},this.onTouched=function(){},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach((function(e){return p[e]=s[e]})),n.select$.pipe(xs(this._destroyed$)).subscribe((function(e){p.select.emit(e)})),n.model$.pipe(xs(this._destroyed$)).subscribe((function(e){var t=e.firstDate,n=p.model?p.model.firstDate:null,r=!1;if(t.equals(n)||(p.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:t.year,month:t.month},preventDefault:function(){return r=!0}}),!r||null===n)){var o=e.selectedDate,i=e.focusDate,s=p.model?p.model.focusDate:null;p.model=e,aa(o,p._controlValue)&&(p._controlValue=o,p.onTouched(),p.onChange(p._ngbDateAdapter.toModel(o))),aa(i,s)&&s&&e.focusVisible&&p.focus(),a.markForCheck()}else p._service.open(n)}))}return _createClass(e,[{key:"focus",value:function(){var e=this;this._ngZone.onStable.asObservable().pipe(nt(1)).subscribe((function(){var t=e._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()}))}},{key:"navigateTo",value:function(e){this._service.open(ea.from(e?e.day?e:Object.assign({},e,{day:1}):null))}},{key:"ngAfterViewInit",value:function(){var e=this;this._ngZone.runOutsideAngular((function(){var t=Ps(e._monthsEl.nativeElement,"focusin"),n=Ps(e._monthsEl.nativeElement,"focusout");Object(Ns.a)(t,n).pipe(Pe((function(e){var t=e.target,n=e.relatedTarget;return!(zs(t,"ngb-dp-day")&&zs(n,"ngb-dp-day"))})),xs(e._destroyed$)).subscribe((function(t){var n=t.type;return e._ngZone.run((function(){return e._service.focusVisible="focusin"===n}))}))}))}},{key:"ngOnDestroy",value:function(){this._destroyed$.next()}},{key:"ngOnInit",value:function(){var e=this;void 0===this.model&&(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach((function(t){return e._service[t]=e[t]})),this.navigateTo(this.startDate))}},{key:"ngOnChanges",value:function(e){var t=this;if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter((function(t){return t in e})).forEach((function(e){return t._service[e]=t[e]})),"startDate"in e){var n=e.startDate,r=n.currentValue;la(n.previousValue,r)&&this.navigateTo(this.startDate)}}},{key:"onDateSelect",value:function(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}},{key:"onKeyDown",value:function(e){this._keyMapService.processKey(e)}},{key:"onNavigateDateSelect",value:function(e){this._service.open(e)}},{key:"onNavigateEvent",value:function(e){switch(e){case ma.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case ma.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._service.disabled=e}},{key:"writeValue",value:function(e){this._controlValue=ea.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}}]),e}(),Ra=function(){function e(t){_classCallCheck(this,e),this.i18n=t,this.select=new r.EventEmitter}return _createClass(e,[{key:"doSelect",value:function(e){e.context.disabled||e.hidden||this.select.emit(e.date)}}]),e}(),Ta=function(){function e(t){_classCallCheck(this,e),this.i18n=t,this.navigation=ma,this.months=[],this.navigate=new r.EventEmitter,this.select=new r.EventEmitter}return _createClass(e,[{key:"onClickPrev",value:function(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}},{key:"onClickNext",value:function(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}]),e}();"undefined"!=typeof navigator&&navigator.userAgent&&navigator;var Oa=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Da(e){var t=Array.from(e.querySelectorAll(Oa)).filter((function(e){return-1!==e.tabIndex}));return[t[0],t[t.length-1]]}var Ia,Aa,ka,Pa,Na=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.runOutsideAngular((function(){var e=Ps(t,"focusin").pipe(xs(n),Object(De.a)((function(e){return e.target})));Ps(t,"keydown").pipe(xs(n),Pe((function(e){return e.which===va.Tab})),Ls(e)).subscribe((function(e){var n=_slicedToArray(e,2),r=n[0],o=n[1],i=_slicedToArray(Da(t),2),s=i[0],a=i[1];o!==s&&o!==t||!r.shiftKey||(a.focus(),r.preventDefault()),o!==a||r.shiftKey||(s.focus(),r.preventDefault())})),r&&Ps(t,"click").pipe(xs(n),Ls(e),Object(De.a)((function(e){return e[1]}))).subscribe((function(e){return e.focus()}))}))},xa=function(){function e(t){_classCallCheck(this,e),this.i18n=t}return _createClass(e,[{key:"isMuted",value:function(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}]),e}(),Fa=function(){function e(t,n){_classCallCheck(this,e),this.i18n=t,this._renderer=n,this.select=new r.EventEmitter,this._month=-1,this._year=-1}return _createClass(e,[{key:"changeMonth",value:function(e){this.select.emit(new ea(this.date.year,Hs(e),1))}},{key:"changeYear",value:function(e){this.select.emit(new ea(Hs(e),this.date.month,1))}},{key:"ngAfterViewChecked",value:function(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}]),e}(),Ma=function e(){_classCallCheck(this,e)},La=function e(){_classCallCheck(this,e)},Va=function e(){_classCallCheck(this,e)},Ga=((Ia=function e(){_classCallCheck(this,e),this.backdrop=!0,this.keyboard=!0}).ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new Ia},token:Ia,providedIn:"root"}),Ia),Wa=function e(t,n,r){_classCallCheck(this,e),this.nodes=t,this.viewRef=n,this.componentRef=r},Ha=function(){},Ba=((Aa=function(){function e(t){_classCallCheck(this,e),this._document=t}return _createClass(e,[{key:"compensate",value:function(){return this._isPresent()?this._adjustBody(this._getWidth()):Ha}},{key:"_adjustBody",value:function(e){var t=this._document.body,n=t.style.paddingRight,r=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]="".concat(r+e,"px"),function(){return t.style["padding-right"]=n}}},{key:"_isPresent",value:function(){var e=this._document.body.getBoundingClientRect();return e.left+e.right<window.innerWidth}},{key:"_getWidth",value:function(){var e=this._document.createElement("div");e.className="modal-scrollbar-measure";var t=this._document.body;t.appendChild(e);var n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}}]),e}()).ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new Aa(Object(r["\u0275\u0275inject"])(ne))},token:Aa,providedIn:"root"}),Aa),Ua=function e(){_classCallCheck(this,e)},ja=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"close",value:function(e){}},{key:"dismiss",value:function(e){}}]),e}(),za=function(){function e(t,n,r,o){var i=this;_classCallCheck(this,e),this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=o,t.instance.dismissEvent.subscribe((function(e){i.dismiss(e)})),this.result=new Promise((function(e,t){i._resolve=e,i._reject=t})),this.result.then(null,(function(){}))}return _createClass(e,[{key:"close",value:function(e){this._windowCmptRef&&(this._resolve(e),this._removeModalElements())}},{key:"_dismiss",value:function(e){this._reject(e),this._removeModalElements()}},{key:"dismiss",value:function(e){var t=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then((function(n){!1!==n&&t._dismiss(e)}),(function(){})):!1!==n&&this._dismiss(e)}else this._dismiss(e)}},{key:"_removeModalElements",value:function(){var e=this._windowCmptRef.location.nativeElement;if(e.parentNode.removeChild(e),this._windowCmptRef.destroy(),this._backdropCmptRef){var t=this._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}},{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}}]),e}(),qa=function(){var e={BACKDROP_CLICK:0,ESC:1};return e[e.BACKDROP_CLICK]="BACKDROP_CLICK",e[e.ESC]="ESC",e}(),Ka=function(){function e(t,n,o){var i=this;_classCallCheck(this,e),this._document=t,this._elRef=n,this._zone=o,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.EventEmitter,o.runOutsideAngular((function(){Ps(i._elRef.nativeElement,"keydown").pipe(xs(i.dismissEvent),Pe((function(e){return e.which===va.Escape&&i.keyboard}))).subscribe((function(e){return requestAnimationFrame((function(){e.defaultPrevented||o.run((function(){return i.dismiss(qa.ESC)}))}))}));var e=Ps(i._elRef.nativeElement,"mousedown").pipe(xs(i.dismissEvent),Object(De.a)((function(e){return!0===i.backdrop&&i._elRef.nativeElement===e.target})));Ps(i._elRef.nativeElement,"mouseup").pipe(xs(i.dismissEvent),Ls(e),Pe((function(e){var t=_slicedToArray(e,2);t[0];return t[1]}))).subscribe((function(){return i._zone.run((function(){return i.dismiss(qa.BACKDROP_CLICK)}))}))}))}return _createClass(e,[{key:"dismiss",value:function(e){this.dismissEvent.emit(e)}},{key:"ngOnInit",value:function(){this._elWithFocus=this._document.activeElement}},{key:"ngAfterViewInit",value:function(){if(!this._elRef.nativeElement.contains(document.activeElement)){var e=this._elRef.nativeElement.querySelector("[ngbAutofocus]"),t=Da(this._elRef.nativeElement)[0];(e||t||this._elRef.nativeElement).focus()}}},{key:"ngOnDestroy",value:function(){var e,t=this,n=this._document.body,r=this._elWithFocus;e=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular((function(){setTimeout((function(){return e.focus()})),t._elWithFocus=null}))}}]),e}(),Qa=((Pa=function(){function e(t,n,r,o,i,s){var a=this;_classCallCheck(this,e),this._applicationRef=t,this._injector=n,this._document=r,this._scrollBar=o,this._rendererFactory=i,this._ngZone=s,this._activeWindowCmptHasChanged=new ve.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe((function(){if(a._windowCmpts.length){var e=a._windowCmpts[a._windowCmpts.length-1];Na(a._ngZone,e.location.nativeElement,a._activeWindowCmptHasChanged),a._revertAriaHidden(),a._setAriaHidden(e.location.nativeElement)}}))}return _createClass(e,[{key:"open",value:function(e,t,n,r){var o=this,i=js(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),a=this._scrollBar.compensate(),l=function(){o._modalRefs.length||(s.removeClass(o._document.body,"modal-open"),o._revertAriaHidden())};if(!i)throw new Error('The specified modal container "'.concat(r.container||"body",'" was not found in the DOM.'));var u=new ja,c=this._getContentRef(e,r.injector||t,n,u,r),p=!1!==r.backdrop?this._attachBackdrop(e,i):null,d=this._attachWindowComponent(e,i,c),h=new za(d,c,p,r.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.result.then(a,a),h.result.then(l,l),u.close=function(e){h.close(e)},u.dismiss=function(e){h.dismiss(e)},this._applyWindowOptions(d.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),p&&p.instance&&this._applyBackdropOptions(p.instance,r),h}},{key:"dismissAll",value:function(e){this._modalRefs.forEach((function(t){return t.dismiss(e)}))}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(e,t){var n=e.resolveComponentFactory(Ua).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(e,t,n){var r=e.resolveComponentFactory(Ka).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}},{key:"_applyWindowOptions",value:function(e,t){this._windowAttributes.forEach((function(n){js(t[n])&&(e[n]=t[n])}))}},{key:"_applyBackdropOptions",value:function(e,t){this._backdropAttributes.forEach((function(n){js(t[n])&&(e[n]=t[n])}))}},{key:"_getContentRef",value:function(e,t,n,o,i){return n?n instanceof r.TemplateRef?this._createFromTemplateRef(n,o):"string"==typeof n?this._createFromString(n):this._createFromComponent(e,t,n,o,i):new Wa([])}},{key:"_createFromTemplateRef",value:function(e,t){var n=e.createEmbeddedView({$implicit:t,close:function(e){t.close(e)},dismiss:function(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new Wa([n.rootNodes],n)}},{key:"_createFromString",value:function(e){var t=this._document.createTextNode("".concat(e));return new Wa([[t]])}},{key:"_createFromComponent",value:function(e,t,n,o,i){var s=e.resolveComponentFactory(n),a=r.Injector.create({providers:[{provide:ja,useValue:o}],parent:t}),l=s.create(a),u=l.location.nativeElement;return i.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Wa([[u]],l.hostView,l)}},{key:"_setAriaHidden",value:function(e){var t=this,n=e.parentElement;n&&e!==this._document.body&&(Array.from(n.children).forEach((function(n){n!==e&&"SCRIPT"!==n.nodeName&&(t._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))})),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach((function(e,t){e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")})),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(e){var t=this,n=function(){var n=t._modalRefs.indexOf(e);n>-1&&t._modalRefs.splice(n,1)};this._modalRefs.push(e),e.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(e){var t=this;this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy((function(){var n=t._windowCmpts.indexOf(e);n>-1&&(t._windowCmpts.splice(n,1),t._activeWindowCmptHasChanged.next())}))}}]),e}()).ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new Pa(Object(r["\u0275\u0275inject"])(r.ApplicationRef),Object(r["\u0275\u0275inject"])(r.INJECTOR),Object(r["\u0275\u0275inject"])(ne),Object(r["\u0275\u0275inject"])(Ba),Object(r["\u0275\u0275inject"])(r.RendererFactory2),Object(r["\u0275\u0275inject"])(r.NgZone))},token:Pa,providedIn:"root"}),Pa),Ya=((ka=function(){function e(t,n,r,o){_classCallCheck(this,e),this._moduleCFR=t,this._injector=n,this._modalStack=r,this._config=o}return _createClass(e,[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},this._config,t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}},{key:"dismissAll",value:function(e){this._modalStack.dismissAll(e)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),e}()).ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new ka(Object(r["\u0275\u0275inject"])(r.ComponentFactoryResolver),Object(r["\u0275\u0275inject"])(r.INJECTOR),Object(r["\u0275\u0275inject"])(Qa),Object(r["\u0275\u0275inject"])(Ga))},token:ka,providedIn:"root"}),ka),Za=function e(){_classCallCheck(this,e)},Xa=function e(){_classCallCheck(this,e)},$a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isTitleTemplate",value:function(){return this.title instanceof r.TemplateRef}}]),e}(),Ja=function e(){_classCallCheck(this,e)},el=function e(){_classCallCheck(this,e)},tl=function e(){_classCallCheck(this,e)},nl=function e(){_classCallCheck(this,e)},rl=function e(){_classCallCheck(this,e)},ol=function e(){_classCallCheck(this,e)},il=function e(){_classCallCheck(this,e)},sl=function e(){_classCallCheck(this,e)},al=function(){function e(){_classCallCheck(this,e),this.highlightClass="ngb-highlight"}return _createClass(e,[{key:"ngOnChanges",value:function(e){var t=Bs(this.result),n=(Array.isArray(this.term)?this.term:[this.term]).map((function(e){return Bs(e).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})).filter((function(e){return e}));this.parts=n.length?t.split(new RegExp("(".concat(n.join("|"),")"),"gmi")):[t]}}]),e}(),ll=function(){function e(){_classCallCheck(this,e),this.activeIdx=0,this.focusFirst=!0,this.formatter=Bs,this.selectEvent=new r.EventEmitter,this.activeChangeEvent=new r.EventEmitter}return _createClass(e,[{key:"hasActive",value:function(){return this.activeIdx>-1&&this.activeIdx<this.results.length}},{key:"getActive",value:function(){return this.results[this.activeIdx]}},{key:"markActive",value:function(e){this.activeIdx=e,this._activeChanged()}},{key:"next",value:function(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}},{key:"prev",value:function(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}},{key:"resetActive",value:function(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}},{key:"select",value:function(e){this.selectEvent.emit(e)}},{key:"ngOnInit",value:function(){this.resetActive()}},{key:"_activeChanged",value:function(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}]),e}(),ul=function e(){_classCallCheck(this,e)},cl=function e(){_classCallCheck(this,e)},pl=function(){function e(t,n){_classCallCheck(this,e),this.artisanService=t,this.router=n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"goToDemandeur",value:function(){this.router.navigate(["demandeurlogin"])}},{key:"goToArtisan",value:function(){this.router.navigate(["artisanlogin"])}},{key:"logOut",value:function(){this.artisanService.signOut()}},{key:"authenticated",value:function(){return!!localStorage.getItem("token")}},{key:"myProfil",value:function(){var e=localStorage.getItem("token");"artisan"===localStorage.getItem("role")&&this.router.navigate(["profilartisan",e]),"demandeur"===localStorage.getItem("role")&&this.router.navigate(["profildemandeur"])}}]),e}(),dl=n("Wcq6"),hl=n.n(dl);n("mrSG");var fl,gl=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).scheduler=e,r.work=n,r}return _inherits(t,e),_createClass(t,[{key:"schedule",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n>0?_get(_getPrototypeOf(t.prototype),"schedule",this).call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,n){return n>0||this.closed?_get(_getPrototypeOf(t.prototype),"execute",this).call(this,e,n):this._execute(e,n)}},{key:"requestAsyncId",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(t.prototype),"requestAsyncId",this).call(this,e,n,r):e.flush(this)}}]),t}(Is),vl=new(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(ks))(gl),yl=function(){function e(t,n){_classCallCheck(this,e),this.zone=t,this.platformId=n}return _createClass(e,[{key:"schedule",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.zone.runGuarded((function(){return vl.schedule.apply(vl,t)}))}},{key:"keepUnstableUntilFirst",value:function(e){return oe(this.platformId)?new ce.a((function(t){var n=function(){},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);e.subscribe((function(e){"scheduled"===r.state&&r.invoke(),t.next(e)}),(function(e){"scheduled"===r.state&&r.invoke(),t.error(e)}),(function(){"scheduled"===r.state&&r.invoke(),t.complete()}))})):e}},{key:"runOutsideAngular",value:function(e){var t=this;return new ce.a((function(n){return t.zone.runOutsideAngular((function(){return e.subscribe((function(e){return t.zone.run((function(){return n.next(e)}))}),(function(e){return t.zone.run((function(){return n.error(e)}))}),(function(){return t.zone.run((function(){return n.complete()}))}))}))}))}}]),e}(),ml=function(e){return function(t){return new ce.a((function(n){return t.subscribe((function(t){return e.run((function(){return n.next(t)}))}),(function(t){return e.run((function(){return n.error(t)}))}),(function(){return e.run((function(){return n.complete()}))}))}))}},Cl=new r.InjectionToken("angularfire2.app.options"),wl=new r.InjectionToken("angularfire2.app.nameOrConfig"),bl=function e(){_classCallCheck(this,e)};function El(e,t,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",hl.a.apps.filter((function(e){return e&&e.name===r.name}))[0]||t.runOutsideAngular((function(){return hl.a.initializeApp(e,r)}))}var _l=fl=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"initializeApp",value:function(e,t){return{ngModule:fl,providers:[{provide:Cl,useValue:e},{provide:wl,useValue:t}]}}}]),e}(),Sl=function e(t,n,r,o){var i=this;_classCallCheck(this,e),this.zone=o;var s=new yl(o,r);this.auth=o.runOutsideAngular((function(){return El(t,o,n).auth()})),this.authState=s.keepUnstableUntilFirst(s.runOutsideAngular(new ce.a((function(e){return{unsubscribe:i.auth.onAuthStateChanged(e)}})))),this.user=s.keepUnstableUntilFirst(s.runOutsideAngular(new ce.a((function(e){return{unsubscribe:i.auth.onIdTokenChanged(e)}})))),this.idToken=this.user.pipe(ut((function(e){return e?Object(ge.a)(e.getIdToken()):fe(null)}))),this.idTokenResult=this.user.pipe(ut((function(e){return e?Object(ge.a)(e.getIdTokenResult()):fe(null)})))};function Rl(e){return function(e){return new ce.a((function(t){return{unsubscribe:e.onSnapshot(t)}}))}(e).pipe(Object(Ws.a)())}function Tl(e){return Rl(e).pipe(Object(De.a)((function(e){return{payload:e,type:"query"}})))}function Ol(e){return Tl(e).pipe(Object(De.a)((function(e){return e.payload.docChanges().map((function(e){return{type:e.type,payload:e}}))})))}function Dl(e,t){return Tl(e).pipe(Object(De.a)((function(e){return e.payload.docChanges()})),dt((function(e,n){return function(e,t,n){return t.forEach((function(t){n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":e[t.newIndex]&&e[t.newIndex].doc.ref.isEqual(t.doc.ref)||e.splice(t.newIndex,0,t);break;case"modified":(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref))&&(t.oldIndex!==t.newIndex?(e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t)):e.splice(t.newIndex,1,t));break;case"removed":e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref)&&e.splice(t.oldIndex,1)}return e}(e,t))})),e}(e,n,t)}),[]),Object(De.a)((function(e){return e.map((function(e){return{type:e.type,payload:e}}))})))}function Il(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}var Al=function(){function e(t,n,r){_classCallCheck(this,e),this.ref=t,this.query=n,this.afs=r}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Ol(this.query))).pipe(Object(De.a)((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),Pe((function(e){return e.length>0}))):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Ol(this.query)))}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(dt((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=Il(e),n=Dl(this.query,t),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Tl(this.query),n=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(n).pipe(Object(De.a)((function(t){return t.payload.docs.map((function(t){return e.idField?Object.assign({},t.data(),_defineProperty({},e.idField,t.id)):t.data()}))})))}},{key:"get",value:function(e){return Object(ge.a)(this.query.get(e)).pipe(ml(this.afs.scheduler.zone))}},{key:"add",value:function(e){return this.ref.add(e)}},{key:"doc",value:function(e){return new kl(this.ref.doc(e),this.afs)}}]),e}(),kl=function(){function e(t,n){_classCallCheck(this,e),this.ref=t,this.afs=n}return _createClass(e,[{key:"set",value:function(e,t){return this.ref.set(e,t)}},{key:"update",value:function(e){return this.ref.update(e)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(e,t){var n=Vl(this.ref.collection(e),t),r=n.ref,o=n.query;return new Al(r,o,this.afs)}},{key:"snapshotChanges",value:function(){var e=Rl(this.ref).pipe(Object(De.a)((function(e){return{payload:e,type:"value"}}))),t=this.afs.scheduler.runOutsideAngular(e);return this.afs.scheduler.keepUnstableUntilFirst(t)}},{key:"valueChanges",value:function(){return this.snapshotChanges().pipe(Object(De.a)((function(e){return e.payload.data()})))}},{key:"get",value:function(e){return Object(ge.a)(this.ref.get(e)).pipe(ml(this.afs.scheduler.zone))}}]),e}(),Pl=function(){function e(t,n){_classCallCheck(this,e),this.query=t,this.afs=n}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Ol(this.query))).pipe(Object(De.a)((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),Pe((function(e){return e.length>0}))):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Ol(this.query)))}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(dt((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=Il(e),n=Dl(this.query,t),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)}},{key:"valueChanges",value:function(){var e=Tl(this.query),t=this.afs.scheduler.runOutsideAngular(e);return this.afs.scheduler.keepUnstableUntilFirst(t).pipe(Object(De.a)((function(e){return e.payload.docs.map((function(e){return e.data()}))})))}},{key:"get",value:function(e){return Object(ge.a)(this.query.get(e)).pipe(ml(this.afs.scheduler.zone))}}]),e}(),Nl=new r.InjectionToken("angularfire2.enableFirestorePersistence"),xl=new r.InjectionToken("angularfire2.firestore.persistenceSettings"),Fl=new r.InjectionToken("angularfire2.firestore.settings"),Ml=parseInt(hl.a.SDK_VERSION.split(".")[0]),Ll=Ml<5||5==Ml&&parseInt(hl.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function Vl(e){return{query:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e})(e),ref:e}}var Gl,Wl=function(){function e(t,n,r,o,i,s,a){var l=this;_classCallCheck(this,e),this.scheduler=new yl(s,i),this.firestore=s.runOutsideAngular((function(){var e=El(t,s,n).firestore();return e.settings(o||Ll),e})),this.persistenceEnabled$=r&&!oe(i)?s.runOutsideAngular((function(){try{return Object(ge.a)(l.firestore.enablePersistence(a||void 0).then((function(){return!0}),(function(){return!1})))}catch(e){return fe(!1)}})):fe(!1)}return _createClass(e,[{key:"collection",value:function(e,t){var n=Vl("string"==typeof e?this.firestore.collection(e):e,t),r=n.ref,o=n.query;return new Al(r,o,this)}},{key:"collectionGroup",value:function(e,t){if(Ml<6)throw"collection group queries require Firebase JS SDK >= 6.0";var n=t||function(e){return e},r=this.firestore.collectionGroup(e);return new Pl(n(r),this)}},{key:"doc",value:function(e){var t;return t="string"==typeof e?this.firestore.doc(e):e,new kl(t,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),e}(),Hl=((Gl=function(){function e(t,n,r){var o=this;_classCallCheck(this,e),this.afAuth=t,this.afs=n,this.router=r,this.key="token",this.artisan=this.afAuth.authState.pipe(ut((function(e){return e?o.afs.doc("Artisans/".concat(e.uid)).valueChanges():fe(null)})))}return _createClass(e,[{key:"googleLogin",value:function(){var e=new dl.auth.GoogleAuthProvider;return this.oAuthLogin(e)}},{key:"oAuthLogin",value:function(e){var t=this;return this.afAuth.auth.signInWithPopup(e).then((function(e){t.updateUserData(e.user)}))}},{key:"updateUserData",value:function(e){var t=this.afs.doc("Artisans/".concat(e.uid)),n={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL};return localStorage.setItem(this.key,n.uid),localStorage.setItem("role","artisan"),this.getArtisanById(n.uid).subscribe((function(e){!0===e.get("complete")&&localStorage.setItem("complete","true")})),t.set(n,{merge:!0})}},{key:"updateArtisan",value:function(e,t){var n=this.afs.doc("Artisans/".concat(e.uid));return localStorage.setItem("complete","true"),n.set({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,telNumber:t.telNumber,gouvernerat:t.gouvernerat,delegation:t.delegation,localite:t.localite,complete:!0},{merge:!0}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}))}},{key:"signOut",value:function(){var e=this;this.afAuth.auth.signOut().then((function(){localStorage.removeItem(e.key),localStorage.removeItem("role"),localStorage.removeItem("complete"),e.router.navigate([""])}))}},{key:"authenticated",value:function(){return null!==localStorage.getItem(this.key)}},{key:"returnCurrentArtisanId",value:function(){return localStorage.getItem(this.key)}},{key:"getArtisanById",value:function(e){return this.afs.collection("Artisans").doc(e).get()}}]),e}()).ngInjectableDef=r["\u0275\u0275defineInjectable"]({factory:function(){return new Gl(r["\u0275\u0275inject"](Sl),r["\u0275\u0275inject"](Wl),r["\u0275\u0275inject"](Qo))},token:Gl,providedIn:"root"}),Gl),Bl=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Ul(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,2,"a",[["class","nav-link"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,1,"span",[["style","color: #EDC551; font-size: 18px;"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.goToDemandeur()&&r),r}),null,null)),(e()(),r["\u0275eld"](2,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-user-circle-o fa-lg"]],null,null,null,null,null))],null,null)}function jl(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,2,"a",[["class","nav-link"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,1,"span",[["style","color: #EDC551; font-size: 18px;"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.goToArtisan()&&r),r}),null,null)),(e()(),r["\u0275eld"](2,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-wrench fa-lg"]],null,null,null,null,null))],null,null)}function zl(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,2,"a",[["class","nav-link"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,1,"button",[],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.logOut()&&r),r}),null,null)),(e()(),r["\u0275ted"](-1,null,["Logout"]))],null,null)}function ql(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,2,"a",[["class","nav-link"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,1,"button",[],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.myProfil()&&r),r}),null,null)),(e()(),r["\u0275ted"](-1,null,["mon profil"]))],null,null)}function Kl(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,13,"header",[],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,12,"nav",[["class","navbar navbar-dark"],["style","background-color: #2CB4CE;"]],null,null,null,null,null)),r["\u0275did"](2,16384,null,0,La,[],null,null),(e()(),r["\u0275eld"](3,0,null,null,1,"a",[["class","navbar-brand"],["href","#"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Dispo?"])),(e()(),r["\u0275eld"](5,0,null,null,8,"div",[["class","form-inline my-2 my-lg-0"]],null,null,null,null,null)),(e()(),r["\u0275and"](16777216,null,null,1,null,Ul)),r["\u0275did"](7,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,jl)),r["\u0275did"](9,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,zl)),r["\u0275did"](11,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,ql)),r["\u0275did"](13,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275eld"](14,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](15,212992,null,0,ti,[ei,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null),(e()(),r["\u0275eld"](16,0,null,null,44,"footer",[["class","card-footer"],["style","background-color: #2CB4CE;"]],null,null,null,null,null)),(e()(),r["\u0275eld"](17,0,null,null,27,"div",[["class","container-fluid text-center text-md-left"]],null,null,null,null,null)),(e()(),r["\u0275eld"](18,0,null,null,26,"div",[["class","row"]],null,null,null,null,null)),(e()(),r["\u0275eld"](19,0,null,null,6,"div",[["class","col-md-6 mt-md-0 mt-3"]],null,null,null,null,null)),(e()(),r["\u0275eld"](20,0,null,null,1,"h5",[["class","text-uppercase font-weight-bold"],["style","color: #EDC551"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["A propos "])),(e()(),r["\u0275eld"](22,0,null,null,0,"hr",[["class","teal accent-3 mb-4 mt-0 d-inline-block mx-auto"],["style","width: 60px; color: #EDC551"]],null,null,null,null,null)),(e()(),r["\u0275eld"](23,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275eld"](24,0,null,null,1,"p",[["style","color: #F2F2F2"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,[" Une plateforme web sur laquelle les artisans qui offre des services de bricolage, de r\xe9paration et de r\xe9habilitation connectent et offrent leurs services \xe0 tout demandeur. "])),(e()(),r["\u0275eld"](26,0,null,null,0,"hr",[["class","clearfix w-100 d-md-none pb-3"]],null,null,null,null,null)),(e()(),r["\u0275eld"](27,0,null,null,17,"div",[["class","col-md-6 mb-md-0 mb-3"]],null,null,null,null,null)),(e()(),r["\u0275eld"](28,0,null,null,1,"h5",[["class","text-uppercase font-weight-bold"],["style","color: #EDC551"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["CONTACT"])),(e()(),r["\u0275eld"](30,0,null,null,0,"hr",[["class","teal accent-3 mb-4 mt-0 d-inline-block mx-auto"],["style","width: 60px; color: #EDC551"]],null,null,null,null,null)),(e()(),r["\u0275eld"](31,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275eld"](32,0,null,null,12,"ul",[["class","list-unstyled"],["style","color: #F2F2F2"]],null,null,null,null,null)),(e()(),r["\u0275eld"](33,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),r["\u0275eld"](34,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),r["\u0275eld"](35,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-home"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,[" Centre Urbain Nord, Tunisie"])),(e()(),r["\u0275eld"](37,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),r["\u0275eld"](38,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),r["\u0275eld"](39,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-envelope-o"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,[" info@example.com"])),(e()(),r["\u0275eld"](41,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),r["\u0275eld"](42,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),r["\u0275eld"](43,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-phone"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,[" + 01 234 567 88"])),(e()(),r["\u0275eld"](45,0,null,null,0,"hr",[["style","color: black"]],null,null,null,null,null)),(e()(),r["\u0275eld"](46,0,null,null,14,"div",[["class"," row d-flex align-items-center"]],null,null,null,null,null)),(e()(),r["\u0275eld"](47,0,null,null,2,"div",[["class","col-md-7 col-lg-8"]],null,null,null,null,null)),(e()(),r["\u0275eld"](48,0,null,null,1,"p",[["class","text-center text-md-left"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,[" \xa9 2020 Copyright "])),(e()(),r["\u0275eld"](50,0,null,null,10,"div",[["class","col-md-5 col-lg-4 "]],null,null,null,null,null)),(e()(),r["\u0275eld"](51,0,null,null,9,"ul",[["class","list-unstyled list-inline text-center"]],null,null,null,null,null)),(e()(),r["\u0275eld"](52,0,null,null,2,"li",[["class","list-inline-item"]],null,null,null,null,null)),(e()(),r["\u0275eld"](53,0,null,null,1,"span",[["style","font-size: 30px; "]],null,null,null,null,null)),(e()(),r["\u0275eld"](54,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-facebook-square fa-lg"]],null,null,null,null,null)),(e()(),r["\u0275eld"](55,0,null,null,2,"li",[["class","list-inline-item"]],null,null,null,null,null)),(e()(),r["\u0275eld"](56,0,null,null,1,"span",[["style"," font-size: 30px; "]],null,null,null,null,null)),(e()(),r["\u0275eld"](57,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-instagram fa-lg"]],null,null,null,null,null)),(e()(),r["\u0275eld"](58,0,null,null,2,"li",[["class","list-inline-item"]],null,null,null,null,null)),(e()(),r["\u0275eld"](59,0,null,null,1,"span",[["style"," font-size: 30px; "]],null,null,null,null,null)),(e()(),r["\u0275eld"](60,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-twitter-square fa-lg"]],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,7,0,!n.authenticated()),e(t,9,0,!n.authenticated()),e(t,11,0,n.authenticated()),e(t,13,0,n.authenticated()),e(t,15,0)}),null)}var Ql=r["\u0275ccf"]("app-default-layout",pl,(function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"app-default-layout",[],null,null,null,Kl,Bl)),r["\u0275did"](1,114688,null,0,pl,[Hl,Qo],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Yl=function(){function e(){_classCallCheck(this,e),this.mesImages=["assets/Images/accueil0.jpg","assets/Images/accueil1.jpg","assets/Images/accueil2.jpg","assets/Images/accueil3.jpg"],this.currentImage="assets/Images/accueil0.jpg"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.monObservable=new ce.a((function(t){var n=0;setInterval((function(){t.next(e.mesImages[n%4]),n++}),4e3)})),this.monObservable.subscribe((function(t){e.currentImage=t}))}}]),e}(),Zl=r["\u0275crt"]({encapsulation:0,styles:[["h1[_ngcontent-%COMP%]{color:#fff;font-size:70px;font-family:Calibri}h2[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-family:Calibri}"]],data:{}});function Xl(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,12,"div",[["class","image"],["style","height: 400px "]],[[4,"background-image",null]],null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275eld"](2,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275eld"](3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275eld"](4,0,null,null,4,"h1",[["class","text-center"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["De "])),(e()(),r["\u0275eld"](6,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["vrais"])),(e()(),r["\u0275ted"](-1,null,[" artisans pour vous aider"])),(e()(),r["\u0275eld"](9,0,null,null,3,"h2",[["class","text-center"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Des services de bricolage, de r\xe9paration et de "])),(e()(),r["\u0275eld"](11,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,[" r\xe9habilitation "]))],null,(function(e,t){e(t,0,0,"url("+t.component.currentImage+")")}))}var $l=function(){function e(t){_classCallCheck(this,e),this.router=t,this.selectedOffre=new r.EventEmitter}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onClickbtn",value:function(){myfunction()}},{key:"selectOffre",value:function(){this.selectedOffre.emit(this.offre)}},{key:"goToArtisan",value:function(){var e=this.offre.artisanId;console.log(this.offre),this.router.navigate(["profilartisan",e])}}]),e}(),Jl=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function eu(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,17,"div",[["class","col col-12 col-md-6 col-sm-3"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,16,"div",[["class","card"],["style","width: 18rem;"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.selectOffre()&&r),r}),null,null)),(e()(),r["\u0275eld"](2,0,null,null,0,"img",[["alt",""],["class","card-img-top"],["style","width: 285px ; height: 200px"]],[[8,"src",4]],null,null,null,null)),(e()(),r["\u0275eld"](3,0,null,null,14,"div",[["class","card-body"]],null,null,null,null,null)),(e()(),r["\u0275eld"](4,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(e()(),r["\u0275ted"](5,null,["",""])),(e()(),r["\u0275eld"](6,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(e()(),r["\u0275ted"](7,null,["",""])),(e()(),r["\u0275eld"](8,0,null,null,2,"button",[["class","btn btn-warning"],["data-target","#Modal2"],["data-toggle","modal"],["type","button"]],null,null,null,null,null)),(e()(),r["\u0275eld"](9,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-plus-circle"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,[" D\xe9tails"])),(e()(),r["\u0275ted"](-1,null,["\xa0\xa0 "])),(e()(),r["\u0275eld"](12,0,null,null,5,"button",[["class","btn btn-warning"],["routerLinkActive","active"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.goToArtisan()&&r),r}),null,null)),r["\u0275did"](13,1720320,null,2,$o,[Qo,r.ElementRef,r.Renderer2,[2,Yo],[2,Zo]],{routerLinkActive:[0,"routerLinkActive"]},null),r["\u0275qud"](603979776,1,{links:1}),r["\u0275qud"](603979776,2,{linksWithHrefs:1}),(e()(),r["\u0275eld"](16,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-user-circle"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,[" Artisan"])),(e()(),r["\u0275eld"](18,0,null,null,0,"br",[],null,null,null,null,null))],(function(e,t){e(t,13,0,"active")}),(function(e,t){var n=t.component;e(t,2,0,r["\u0275inlineInterpolate"](1,"",n.offre.imagePrincipal,"")),e(t,5,0,n.offre.nom),e(t,7,0,n.offre.description)}))}var tu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){return t?e.filter((function(e){return-1!==e.nom.toLowerCase().indexOf(t.toLowerCase())})):e}}]),e}(),nu=function(){function e(){_classCallCheck(this,e),this.searchVal="",this.selectedOffre=new r.EventEmitter}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"selectOffre",value:function(e){this.selectedOffre.emit(e)}}]),e}(),ru=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function ou(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,1,"app-service-item",[],null,[[null,"selectedOffre"]],(function(e,t,n){var r=!0;return"selectedOffre"===t&&(r=!1!==e.component.selectOffre(n)&&r),r}),eu,Jl)),r["\u0275did"](2,114688,null,0,$l,[Qo],{offre:[0,"offre"]},{selectedOffre:"selectedOffre"})],(function(e,t){e(t,2,0,t.context.$implicit)}),null)}function iu(e){return r["\u0275vid"](0,[r["\u0275pid"](0,tu,[]),(e()(),r["\u0275eld"](1,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275eld"](2,0,null,null,64,"div",[["class","body"]],null,null,null,null,null)),(e()(),r["\u0275eld"](3,0,null,null,58,"div",[["class","row"]],null,null,null,null,null)),(e()(),r["\u0275eld"](4,0,null,null,6,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),r["\u0275eld"](5,0,null,null,5,"input",[["aria-label","Search"],["class","form-control"],["placeholder","Recherche"],["type","search"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var o=!0,i=e.component;return"input"===t&&(o=!1!==r["\u0275nov"](e,6)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==r["\u0275nov"](e,6).onTouched()&&o),"compositionstart"===t&&(o=!1!==r["\u0275nov"](e,6)._compositionStart()&&o),"compositionend"===t&&(o=!1!==r["\u0275nov"](e,6)._compositionEnd(n.target.value)&&o),"ngModelChange"===t&&(o=!1!==(i.searchVal=n)&&o),o}),null,null)),r["\u0275did"](6,16384,null,0,Ii,[r.Renderer2,r.ElementRef,[2,Di]],null,null),r["\u0275prd"](1024,null,Oi,(function(e){return[e]}),[Ii]),r["\u0275did"](8,671744,null,0,_s,[[8,null],[8,null],[8,null],[6,Oi]],{model:[0,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,Ni,null,[_s]),r["\u0275did"](10,16384,null,0,Fi,[[4,Ni]],null,null),(e()(),r["\u0275eld"](11,0,null,null,0,"div",[["class","col"]],null,null,null,null,null)),(e()(),r["\u0275eld"](12,0,null,null,13,"div",[["class","col-2 "]],null,null,null,null,null)),(e()(),r["\u0275eld"](13,0,null,null,12,"select",[["class","form-control"]],null,null,null,null,null)),(e()(),r["\u0275eld"](14,0,null,null,3,"option",[["disabled",""],["selected",""]],null,null,null,null,null)),r["\u0275did"](15,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[8,null]],null,null),r["\u0275did"](16,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],null,null),(e()(),r["\u0275ted"](-1,null,["Gouvernorat"])),(e()(),r["\u0275eld"](18,0,null,null,3,"option",[],null,null,null,null,null)),r["\u0275did"](19,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[8,null]],null,null),r["\u0275did"](20,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],null,null),(e()(),r["\u0275ted"](-1,null,["Tunis"])),(e()(),r["\u0275eld"](22,0,null,null,3,"option",[],null,null,null,null,null)),r["\u0275did"](23,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[8,null]],null,null),r["\u0275did"](24,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],null,null),(e()(),r["\u0275ted"](-1,null,["Ariana"])),(e()(),r["\u0275eld"](26,0,null,null,17,"div",[["class","col-2 "]],null,null,null,null,null)),(e()(),r["\u0275eld"](27,0,null,null,16,"select",[["class","form-control"]],null,null,null,null,null)),(e()(),r["\u0275eld"](28,0,null,null,3,"option",[["disabled",""],["selected",""]],null,null,null,null,null)),r["\u0275did"](29,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[8,null]],null,null),r["\u0275did"](30,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],null,null),(e()(),r["\u0275ted"](-1,null,[" D\xe9l\xe9gation"])),(e()(),r["\u0275eld"](32,0,null,null,3,"option",[],null,null,null,null,null)),r["\u0275did"](33,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[8,null]],null,null),r["\u0275did"](34,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],null,null),(e()(),r["\u0275ted"](-1,null,["A"])),(e()(),r["\u0275eld"](36,0,null,null,3,"option",[],null,null,null,null,null)),r["\u0275did"](37,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[8,null]],null,null),r["\u0275did"](38,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],null,null),(e()(),r["\u0275ted"](-1,null,["A"])),(e()(),r["\u0275eld"](40,0,null,null,3,"option",[],null,null,null,null,null)),r["\u0275did"](41,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[8,null]],null,null),r["\u0275did"](42,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],null,null),(e()(),r["\u0275ted"](-1,null,["A"])),(e()(),r["\u0275eld"](44,0,null,null,17,"div",[["class","col-2 "]],null,null,null,null,null)),(e()(),r["\u0275eld"](45,0,null,null,16,"select",[["class","form-control"]],null,null,null,null,null)),(e()(),r["\u0275eld"](46,0,null,null,3,"option",[["disabled",""],["selected",""]],null,null,null,null,null)),r["\u0275did"](47,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[8,null]],null,null),r["\u0275did"](48,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],null,null),(e()(),r["\u0275ted"](-1,null,[" Localit\xe9"])),(e()(),r["\u0275eld"](50,0,null,null,3,"option",[],null,null,null,null,null)),r["\u0275did"](51,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[8,null]],null,null),r["\u0275did"](52,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],null,null),(e()(),r["\u0275ted"](-1,null,["A"])),(e()(),r["\u0275eld"](54,0,null,null,3,"option",[],null,null,null,null,null)),r["\u0275did"](55,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[8,null]],null,null),r["\u0275did"](56,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],null,null),(e()(),r["\u0275ted"](-1,null,["A"])),(e()(),r["\u0275eld"](58,0,null,null,3,"option",[],null,null,null,null,null)),r["\u0275did"](59,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[8,null]],null,null),r["\u0275did"](60,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],null,null),(e()(),r["\u0275ted"](-1,null,["A"])),(e()(),r["\u0275eld"](62,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275eld"](63,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),r["\u0275and"](16777216,null,null,2,null,ou)),r["\u0275did"](65,278528,null,0,Y,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),r["\u0275ppd"](66,2)],(function(e,t){var n=t.component;e(t,8,0,n.searchVal);var o=r["\u0275unv"](t,65,0,e(t,66,0,r["\u0275nov"](t,0),n.offres,n.searchVal));e(t,65,0,o)}),(function(e,t){e(t,5,0,r["\u0275nov"](t,10).ngClassUntouched,r["\u0275nov"](t,10).ngClassTouched,r["\u0275nov"](t,10).ngClassPristine,r["\u0275nov"](t,10).ngClassDirty,r["\u0275nov"](t,10).ngClassValid,r["\u0275nov"](t,10).ngClassInvalid,r["\u0275nov"](t,10).ngClassPending)}))}var su=function(){function e(){_classCallCheck(this,e),this.offre=null,this.title="modal"}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),au=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function lu(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,3,"ul",[["class","nav navbar navbar-left d-flex d-inline-flex "]],null,null,null,null,null)),r["\u0275did"](1,16384,null,0,La,[],null,null),(e()(),r["\u0275eld"](2,0,null,null,1,"li",[["class","nav-item d-inline-flex  align-items-center mr-2"]],null,null,null,null,null)),(e()(),r["\u0275eld"](3,0,null,null,0,"img",[["style","width: 150px ; height: 150px"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,3,0,r["\u0275inlineInterpolate"](1,"",t.context.$implicit,""))}))}function uu(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,26,"div",[["aria-hidden","true"],["aria-labelledby","myLargeModalLabel"],["class","modal fade bd-example-modal-lg"],["id","Modal2"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,25,"div",[["class","modal-dialog modal-lg"],["role","document"]],null,null,null,null,null)),(e()(),r["\u0275eld"](2,0,null,null,24,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),r["\u0275eld"](3,0,null,null,23,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),r["\u0275eld"](4,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),r["\u0275eld"](5,0,null,null,1,"h5",[["class","modal-title"],["id","Modal2Label"],["style","color: #EDC551"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["D\xe9tails du service :"])),(e()(),r["\u0275eld"](7,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),r["\u0275eld"](8,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\xd7"])),(e()(),r["\u0275eld"](10,0,null,null,13,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),r["\u0275eld"](11,0,null,null,1,"h5",[["style","color: #19647E"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,[" Service : "])),(e()(),r["\u0275ted"](13,null,[" "," "])),(e()(),r["\u0275eld"](14,0,null,null,1,"h5",[["style","color: #19647E"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,[" Description :"])),(e()(),r["\u0275ted"](16,null,[" "," "])),(e()(),r["\u0275eld"](17,0,null,null,1,"h5",[["style","color: #19647E"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,[" Prix :"])),(e()(),r["\u0275ted"](19,null,[" "," "])),(e()(),r["\u0275eld"](20,0,null,null,1,"h5",[["style","color: #19647E"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,[" Les images du service: "])),(e()(),r["\u0275and"](16777216,null,null,1,null,lu)),r["\u0275did"](23,278528,null,0,Y,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275eld"](24,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),r["\u0275eld"](25,0,null,null,1,"button",[["class","btn btn-secondary"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Close"]))],(function(e,t){var n=t.component;e(t,23,0,null==n.offre?null:n.offre.imagesList)}),(function(e,t){var n=t.component;e(t,13,0,null==n.offre?null:n.offre.nom),e(t,16,0,null==n.offre?null:n.offre.description),e(t,19,0,null==n.offre?null:n.offre.prix)}))}var cu,pu=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;_classCallCheck(this,e),this.artisanId=t,this.nom=n,this.description=r,this.imagePrincipal=o,this.imagesList=i,this.prix=s},du=function(){function e(t){_classCallCheck(this,e),this.offreSer=t,this.offres=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.offreSer.getAllOffres().subscribe((function(t){var n=!0,r=!1,o=void 0;try{for(var i,s=t.docs[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=i.value,l=a.get("artisanId"),u=a.get("nom"),c=a.get("description"),p=a.get("imagePrincipal"),d=a.get("imagesList"),h=a.get("prix"),f=new pu(l,u,c,p,d,h);e.offres.push(f)}}catch(g){r=!0,o=g}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}}))}},{key:"selectOffre",value:function(e){this.selectedOffre=e}}]),e}(),hu=((cu=function(){function e(t,n){_classCallCheck(this,e),this.db=t,this.artisanService=n,this.OffreRef=null,this.OffreRef=t.collectionGroup("Offre")}return _createClass(e,[{key:"createOffre",value:function(e){var t=localStorage.getItem("token");return this.db.collection("Artisans").doc(t).collection("offres").add({artisanId:e.artisanId,nom:e.nom,description:e.description,imagePrincipal:e.imagePrincipal,imagesList:e.imagesList,prix:e.prix})}},{key:"getAllOffres",value:function(){return this.db.collectionGroup("offres").get()}},{key:"getOffreOfArtisan",value:function(e){return this.db.collection("Artisans").doc(e).collection("offres").get()}},{key:"getOffreOfCurrentArtisan",value:function(){var e=this.artisanService.returnCurrentArtisanId();return console.log(e),this.getOffreOfArtisan(e)}},{key:"updateOffre",value:function(e,t,n){return this.db.collection("/Artisans").doc(e).collection("/offres").doc(t).set(n)}},{key:"deleteOffre",value:function(e,t){return this.db.collection("/Artisans").doc(e).collection("/offres").doc(t).delete()}}]),e}()).ngInjectableDef=r["\u0275\u0275defineInjectable"]({factory:function(){return new cu(r["\u0275\u0275inject"](Wl),r["\u0275\u0275inject"](Hl))},token:cu,providedIn:"root"}),cu),fu=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function gu(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"app-add",[],null,null,null,Xl,Zl)),r["\u0275did"](1,114688,null,0,Yl,[],null,null),(e()(),r["\u0275eld"](2,0,null,null,2,"div",[["class","container-fluid"]],null,null,null,null,null)),(e()(),r["\u0275eld"](3,0,null,null,1,"app-services-liste",[],null,[[null,"selectedOffre"]],(function(e,t,n){var r=!0;return"selectedOffre"===t&&(r=!1!==e.component.selectOffre(n)&&r),r}),iu,ru)),r["\u0275did"](4,114688,null,0,nu,[],{offres:[0,"offres"]},{selectedOffre:"selectedOffre"}),(e()(),r["\u0275eld"](5,0,null,null,1,"app-service-details",[],null,null,null,uu,au)),r["\u0275did"](6,114688,null,0,su,[],{offre:[0,"offre"]},null)],(function(e,t){var n=t.component;e(t,1,0),e(t,4,0,n.offres),e(t,6,0,n.selectedOffre)}),null)}var vu=r["\u0275ccf"]("app-catalog",du,(function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"app-catalog",[],null,null,null,gu,fu)),r["\u0275did"](1,114688,null,0,du,[hu],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),yu=function(){function e(t,n){_classCallCheck(this,e),this.auth=t,this.router=n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"login",value:function(){var e=this;this.auth.googleLogin().then((function(){})).then((function(){setTimeout((function(){e.c=localStorage.getItem("complete"),e.token=localStorage.getItem("token"),console.log(e.c),e.router.navigate("true"===e.c?["profilartisan",e.token]:["completeprofile"])}),1e3)}))}}]),e}(),mu=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Cu(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,10,"div",[["style","background-color: rgb(245, 241, 229);"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,9,"div",[["class","card"],["style","width: 40rem;"]],null,null,null,null,null)),(e()(),r["\u0275eld"](2,0,null,null,0,"img",[["alt","..."],["class","card-img-top"],["src","../../assets//Images/artisan.jpg"]],null,null,null,null,null)),(e()(),r["\u0275eld"](3,0,null,null,7,"div",[["class","card-body"]],null,null,null,null,null)),(e()(),r["\u0275eld"](4,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Artisan"])),(e()(),r["\u0275eld"](6,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Some quick example text to build on the card title and make up the bulk of the card's content."])),(e()(),r["\u0275eld"](8,0,null,null,2,"a",[["class","btn btn-warning"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.login()&&r),r}),null,null)),(e()(),r["\u0275eld"](9,0,null,null,0,"i",[["class","fa fa-google"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Connect Google"]))],null,null)}var wu,bu=r["\u0275ccf"]("app-login-as-artisan",yu,(function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"app-login-as-artisan",[],null,null,null,Cu,mu)),r["\u0275did"](1,114688,null,0,yu,[Hl,Qo],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Eu=function(){function e(t,n){_classCallCheck(this,e),this.auth=t,this.router=n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"login",value:function(){var e=this;this.auth.googleLogin().then((function(){e.router.navigate(["profildemandeur"])}))}}]),e}(),_u=((wu=function(){function e(t,n,r){var o=this;_classCallCheck(this,e),this.afAuth=t,this.afs=n,this.router=r,this.key="token",this.demandeur=this.afAuth.authState.pipe(ut((function(e){return e?o.afs.doc("Demandeurs/".concat(e.uid)).valueChanges():fe(null)})))}return _createClass(e,[{key:"googleLogin",value:function(){var e=new dl.auth.GoogleAuthProvider;return this.oAuthLogin(e)}},{key:"oAuthLogin",value:function(e){var t=this;return this.afAuth.auth.signInWithPopup(e).then((function(e){t.updateUserData(e.user)}))}},{key:"updateUserData",value:function(e){var t=this.afs.doc("Demandeurs/".concat(e.uid)),n={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL};return localStorage.setItem(this.key,n.uid),localStorage.setItem("role","demandeur"),t.set(n,{merge:!0})}},{key:"signOut",value:function(){var e=this;this.afAuth.auth.signOut().then((function(){e.router.navigate(["/"])}))}},{key:"getDemandeurById",value:function(e){return this.afs.collection("Demandeurs").doc(e).get()}}]),e}()).ngInjectableDef=r["\u0275\u0275defineInjectable"]({factory:function(){return new wu(r["\u0275\u0275inject"](Sl),r["\u0275\u0275inject"](Wl),r["\u0275\u0275inject"](Qo))},token:wu,providedIn:"root"}),wu),Su=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Ru(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,10,"div",[["style","background-color: rgb(245, 241, 229);"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,9,"div",[["class","card"],["style","width: 40rem;"]],null,null,null,null,null)),(e()(),r["\u0275eld"](2,0,null,null,0,"img",[["alt","..."],["class","card-img-top"],["src","../../assets//Images/artisan.jpg"]],null,null,null,null,null)),(e()(),r["\u0275eld"](3,0,null,null,7,"div",[["class","card-body"]],null,null,null,null,null)),(e()(),r["\u0275eld"](4,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Demandeur"])),(e()(),r["\u0275eld"](6,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Some quick example text to build on the card title and make up the bulk of the card's content."])),(e()(),r["\u0275eld"](8,0,null,null,2,"a",[["class","btn btn-warning"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.login()&&r),r}),null,null)),(e()(),r["\u0275eld"](9,0,null,null,0,"i",[["class","fa fa-google"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Connect Google"]))],null,null)}var Tu=r["\u0275ccf"]("app-login-as-demandeur",Eu,(function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"app-login-as-demandeur",[],null,null,null,Ru,Su)),r["\u0275did"](1,114688,null,0,Eu,[_u,Qo],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Ou=function(){function e(t,n,r){_classCallCheck(this,e),this.auth=t,this.artisanService=n,this.router=r}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.artisanID=localStorage.getItem("token"),this.artisanService.getArtisanById(this.artisanID).subscribe((function(t){e.artisan=t.data()}))}},{key:"completeArtisan",value:function(e){var t=this;this.artisanService.updateArtisan(this.artisan,e.value).then((function(){t.router.navigate(["profilartisan",t.artisanID])})).catch((function(){console.log("error")}))}}]),e}(),Du=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Iu(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,96,"div",[],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,95,"div",[["style","background-color: rgb(245, 241, 229);"]],null,null,null,null,null)),(e()(),r["\u0275eld"](2,0,null,null,94,"div",[["class","card"],["style","width: 40rem;"]],null,null,null,null,null)),(e()(),r["\u0275eld"](3,0,null,null,93,"div",[["class","card-body"]],null,null,null,null,null)),(e()(),r["\u0275eld"](4,0,null,null,92,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==r["\u0275nov"](e,6).onSubmit(n)&&o),"reset"===t&&(o=!1!==r["\u0275nov"](e,6).onReset()&&o),o}),null,null)),r["\u0275did"](5,16384,null,0,Ss,[],null,null),r["\u0275did"](6,4210688,[["formulaire",4]],0,ys,[[8,null],[8,null]],null,null),r["\u0275prd"](2048,null,ki,null,[ys]),r["\u0275did"](8,16384,null,0,Mi,[[4,ki]],null,null),(e()(),r["\u0275eld"](9,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Nom et Pr\xe9nom"])),(e()(),r["\u0275eld"](11,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r["\u0275ted"](12,null,["",""])),(e()(),r["\u0275eld"](13,0,null,null,0,"img",[["style","width: 200px;"]],[[8,"src",4]],null,null,null,null)),(e()(),r["\u0275eld"](14,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275eld"](15,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Adresse Mail"])),(e()(),r["\u0275eld"](17,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r["\u0275ted"](18,null,["",""])),(e()(),r["\u0275eld"](19,0,null,null,1,"label",[["for","telNumber"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["T\xe9l\xe9phone"])),(e()(),r["\u0275eld"](21,0,null,null,8,"input",[["class","form-control"],["id","telNumber"],["name","telNumber"],["ngModel",""],["pattern","\\d{22222222}"],["required",""],["type","text"]],[[1,"required",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var o=!0;return"input"===t&&(o=!1!==r["\u0275nov"](e,22)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==r["\u0275nov"](e,22).onTouched()&&o),"compositionstart"===t&&(o=!1!==r["\u0275nov"](e,22)._compositionStart()&&o),"compositionend"===t&&(o=!1!==r["\u0275nov"](e,22)._compositionEnd(n.target.value)&&o),o}),null,null)),r["\u0275did"](22,16384,null,0,Ii,[r.Renderer2,r.ElementRef,[2,Di]],null,null),r["\u0275did"](23,16384,null,0,Rs,[],{required:[0,"required"]},null),r["\u0275did"](24,540672,null,0,Ts,[],{pattern:[0,"pattern"]},null),r["\u0275prd"](1024,null,Vi,(function(e,t){return[e,t]}),[Rs,Ts]),r["\u0275prd"](1024,null,Oi,(function(e){return[e]}),[Ii]),r["\u0275did"](27,671744,null,0,_s,[[2,ki],[6,Vi],[8,null],[6,Oi]],{name:[0,"name"],model:[1,"model"]},null),r["\u0275prd"](2048,null,Ni,null,[_s]),r["\u0275did"](29,16384,null,0,Fi,[[4,Ni]],null,null),(e()(),r["\u0275eld"](30,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Gouvernerat"])),(e()(),r["\u0275eld"](32,0,null,null,17,"select",[["class","form-control"],["name","gouvernerat"],["ngModel",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var o=!0;return"change"===t&&(o=!1!==r["\u0275nov"](e,33).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==r["\u0275nov"](e,33).onTouched()&&o),o}),null,null)),r["\u0275did"](33,16384,null,0,$i,[r.Renderer2,r.ElementRef],null,null),r["\u0275prd"](1024,null,Oi,(function(e){return[e]}),[$i]),r["\u0275did"](35,671744,null,0,_s,[[2,ki],[8,null],[8,null],[6,Oi]],{name:[0,"name"],model:[1,"model"]},null),r["\u0275prd"](2048,null,Ni,null,[_s]),r["\u0275did"](37,16384,null,0,Fi,[[4,Ni]],null,null),(e()(),r["\u0275eld"](38,0,null,null,3,"option",[["value","T"]],null,null,null,null,null)),r["\u0275did"](39,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[2,$i]],{value:[0,"value"]},null),r["\u0275did"](40,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),r["\u0275ted"](-1,null,["Tunis"])),(e()(),r["\u0275eld"](42,0,null,null,3,"option",[["value","A"]],null,null,null,null,null)),r["\u0275did"](43,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[2,$i]],{value:[0,"value"]},null),r["\u0275did"](44,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),r["\u0275ted"](-1,null,["Ariana"])),(e()(),r["\u0275eld"](46,0,null,null,3,"option",[["value","B"]],null,null,null,null,null)),r["\u0275did"](47,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[2,$i]],{value:[0,"value"]},null),r["\u0275did"](48,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),r["\u0275ted"](-1,null,["Ben Arous"])),(e()(),r["\u0275eld"](50,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["D\xe9l\xe9gation"])),(e()(),r["\u0275eld"](52,0,null,null,17,"select",[["class","form-control"],["name","delegation"],["ngModel",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var o=!0;return"change"===t&&(o=!1!==r["\u0275nov"](e,53).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==r["\u0275nov"](e,53).onTouched()&&o),o}),null,null)),r["\u0275did"](53,16384,null,0,$i,[r.Renderer2,r.ElementRef],null,null),r["\u0275prd"](1024,null,Oi,(function(e){return[e]}),[$i]),r["\u0275did"](55,671744,null,0,_s,[[2,ki],[8,null],[8,null],[6,Oi]],{name:[0,"name"],model:[1,"model"]},null),r["\u0275prd"](2048,null,Ni,null,[_s]),r["\u0275did"](57,16384,null,0,Fi,[[4,Ni]],null,null),(e()(),r["\u0275eld"](58,0,null,null,3,"option",[["value","T"]],null,null,null,null,null)),r["\u0275did"](59,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[2,$i]],{value:[0,"value"]},null),r["\u0275did"](60,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),r["\u0275ted"](-1,null,["Tunis"])),(e()(),r["\u0275eld"](62,0,null,null,3,"option",[["value","A"]],null,null,null,null,null)),r["\u0275did"](63,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[2,$i]],{value:[0,"value"]},null),r["\u0275did"](64,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),r["\u0275ted"](-1,null,["Ariana"])),(e()(),r["\u0275eld"](66,0,null,null,3,"option",[["value","B"]],null,null,null,null,null)),r["\u0275did"](67,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[2,$i]],{value:[0,"value"]},null),r["\u0275did"](68,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),r["\u0275ted"](-1,null,["Ben Arous"])),(e()(),r["\u0275eld"](70,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Localit\xe9"])),(e()(),r["\u0275eld"](72,0,null,null,17,"select",[["class","form-control"],["name","localite"],["ngModel",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var o=!0;return"change"===t&&(o=!1!==r["\u0275nov"](e,73).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==r["\u0275nov"](e,73).onTouched()&&o),o}),null,null)),r["\u0275did"](73,16384,null,0,$i,[r.Renderer2,r.ElementRef],null,null),r["\u0275prd"](1024,null,Oi,(function(e){return[e]}),[$i]),r["\u0275did"](75,671744,null,0,_s,[[2,ki],[8,null],[8,null],[6,Oi]],{name:[0,"name"],model:[1,"model"]},null),r["\u0275prd"](2048,null,Ni,null,[_s]),r["\u0275did"](77,16384,null,0,Fi,[[4,Ni]],null,null),(e()(),r["\u0275eld"](78,0,null,null,3,"option",[["value","T"]],null,null,null,null,null)),r["\u0275did"](79,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[2,$i]],{value:[0,"value"]},null),r["\u0275did"](80,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),r["\u0275ted"](-1,null,["Tunis"])),(e()(),r["\u0275eld"](82,0,null,null,3,"option",[["value","A"]],null,null,null,null,null)),r["\u0275did"](83,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[2,$i]],{value:[0,"value"]},null),r["\u0275did"](84,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),r["\u0275ted"](-1,null,["Ariana"])),(e()(),r["\u0275eld"](86,0,null,null,3,"option",[["value","B"]],null,null,null,null,null)),r["\u0275did"](87,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[2,$i]],{value:[0,"value"]},null),r["\u0275did"](88,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),r["\u0275ted"](-1,null,["Ben Arous"])),(e()(),r["\u0275eld"](90,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275eld"](91,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275eld"](92,0,null,null,4,"button",[["class","btn btn-warning"],["routerLinkActive","active"],["type","submit"]],null,[[null,"click"]],(function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.completeArtisan(r["\u0275nov"](e,6))&&o),o}),null,null)),r["\u0275did"](93,1720320,null,2,$o,[Qo,r.ElementRef,r.Renderer2,[2,Yo],[2,Zo]],{routerLinkActive:[0,"routerLinkActive"]},null),r["\u0275qud"](603979776,1,{links:1}),r["\u0275qud"](603979776,2,{linksWithHrefs:1}),(e()(),r["\u0275ted"](-1,null,["Completer mon profile"]))],(function(e,t){e(t,23,0,""),e(t,24,0,"\\d{22222222}"),e(t,27,0,"telNumber",""),e(t,35,0,"gouvernerat",""),e(t,39,0,"T"),e(t,40,0,"T"),e(t,43,0,"A"),e(t,44,0,"A"),e(t,47,0,"B"),e(t,48,0,"B"),e(t,55,0,"delegation",""),e(t,59,0,"T"),e(t,60,0,"T"),e(t,63,0,"A"),e(t,64,0,"A"),e(t,67,0,"B"),e(t,68,0,"B"),e(t,75,0,"localite",""),e(t,79,0,"T"),e(t,80,0,"T"),e(t,83,0,"A"),e(t,84,0,"A"),e(t,87,0,"B"),e(t,88,0,"B"),e(t,93,0,"active")}),(function(e,t){var n=t.component;e(t,4,0,r["\u0275nov"](t,8).ngClassUntouched,r["\u0275nov"](t,8).ngClassTouched,r["\u0275nov"](t,8).ngClassPristine,r["\u0275nov"](t,8).ngClassDirty,r["\u0275nov"](t,8).ngClassValid,r["\u0275nov"](t,8).ngClassInvalid,r["\u0275nov"](t,8).ngClassPending),e(t,12,0,null==n.artisan?null:n.artisan.displayName),e(t,13,0,null==n.artisan?null:n.artisan.photoURL),e(t,18,0,null==n.artisan?null:n.artisan.email),e(t,21,0,r["\u0275nov"](t,23).required?"":null,r["\u0275nov"](t,24).pattern?r["\u0275nov"](t,24).pattern:null,r["\u0275nov"](t,29).ngClassUntouched,r["\u0275nov"](t,29).ngClassTouched,r["\u0275nov"](t,29).ngClassPristine,r["\u0275nov"](t,29).ngClassDirty,r["\u0275nov"](t,29).ngClassValid,r["\u0275nov"](t,29).ngClassInvalid,r["\u0275nov"](t,29).ngClassPending),e(t,32,0,r["\u0275nov"](t,37).ngClassUntouched,r["\u0275nov"](t,37).ngClassTouched,r["\u0275nov"](t,37).ngClassPristine,r["\u0275nov"](t,37).ngClassDirty,r["\u0275nov"](t,37).ngClassValid,r["\u0275nov"](t,37).ngClassInvalid,r["\u0275nov"](t,37).ngClassPending),e(t,52,0,r["\u0275nov"](t,57).ngClassUntouched,r["\u0275nov"](t,57).ngClassTouched,r["\u0275nov"](t,57).ngClassPristine,r["\u0275nov"](t,57).ngClassDirty,r["\u0275nov"](t,57).ngClassValid,r["\u0275nov"](t,57).ngClassInvalid,r["\u0275nov"](t,57).ngClassPending),e(t,72,0,r["\u0275nov"](t,77).ngClassUntouched,r["\u0275nov"](t,77).ngClassTouched,r["\u0275nov"](t,77).ngClassPristine,r["\u0275nov"](t,77).ngClassDirty,r["\u0275nov"](t,77).ngClassValid,r["\u0275nov"](t,77).ngClassInvalid,r["\u0275nov"](t,77).ngClassPending)}))}var Au=r["\u0275ccf"]("app-complete-artisan-profile",Ou,(function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"app-complete-artisan-profile",[],null,null,null,Iu,Du)),r["\u0275did"](1,114688,null,0,Ou,[Hl,Hl,Qo],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),ku=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),Pu=r["\u0275crt"]({encapsulation:0,styles:[[".textArea[_ngcontent-%COMP%]{border:2px solid #19647e}"]],data:{}});function Nu(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,[" Avis "])),(e()(),r["\u0275eld"](3,0,null,null,5,"div",[["class","card-body"]],null,null,null,null,null)),(e()(),r["\u0275eld"](4,0,null,null,4,"blockquote",[["class","blockquote mb-0"]],null,null,null,null,null)),(e()(),r["\u0275eld"](5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r["\u0275ted"](6,null,[" ",""])),(e()(),r["\u0275eld"](7,0,null,null,1,"footer",[["class","blockquote-footer"]],null,null,null,null,null)),(e()(),r["\u0275ted"](8,null,[" "," "]))],null,(function(e,t){e(t,6,0,t.context.$implicit.texte),e(t,8,0,null==t.context.$implicit?null:t.context.$implicit.demandeurName)}))}function xu(e){return r["\u0275vid"](0,[(e()(),r["\u0275and"](16777216,null,null,1,null,Nu)),r["\u0275did"](1,278528,null,0,Y,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,1,0,t.component.avisTab)}),null)}var Fu,Mu=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";_classCallCheck(this,e),this.demandeurId=t,this.demandeurName=n,this.texte=r},Lu=function(){function e(t,n,r,o,i){_classCallCheck(this,e),this.activatedRoute=t,this.ArtisanService=n,this.router=r,this.avisService=o,this.demandeurService=i,this.avisTab=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.activatedRoute.params.subscribe((function(t){e.artisanID=t.id})),this.ArtisanService.getArtisanById(this.artisanID).subscribe((function(t){e.artisan=t.data()})),this.avisService.getAvisById(this.artisanID).subscribe((function(t){var n=!0,r=!1,o=void 0;try{for(var i,s=t.docs[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=i.value,l=a.get("demandeurId"),u=a.get("demandeurName"),c=a.get("texte"),p=new Mu(l,u,c);e.avisTab.push(p)}}catch(d){r=!0,o=d}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}console.log(e.avisTab)}))}},{key:"ajouterOffre",value:function(){this.router.navigate(["addoffre"])}},{key:"myProfil",value:function(){return this.artisanID===localStorage.getItem("token")}},{key:"loggedAsdemandeur",value:function(){return"demandeur"===localStorage.getItem("role")}},{key:"donneravis",value:function(e){var t=this,n=localStorage.getItem("token");this.demandeurService.getDemandeurById(n).subscribe((function(r){var o=r.data().displayName;console.log(e.value.avis);var i=new Mu(n,o,e.value.avis);t.avisService.ajouterAvis(i,t.artisanID)}))}}]),e}(),Vu=((Fu=function(){function e(t){_classCallCheck(this,e),this.db=t}return _createClass(e,[{key:"ajouterAvis",value:function(e,t){return this.db.collection("Artisans").doc(t).collection("Avis").add({demandeurId:e.demandeurId,demandeurName:e.demandeurName,texte:e.texte})}},{key:"getAvisById",value:function(e){return this.db.collection("Artisans").doc(e).collection("Avis").get()}}]),e}()).ngInjectableDef=r["\u0275\u0275defineInjectable"]({factory:function(){return new Fu(r["\u0275\u0275inject"](Wl))},token:Fu,providedIn:"root"}),Fu),Gu=r["\u0275crt"]({encapsulation:0,styles:[[".signup[_ngcontent-%COMP%]{border-color:#666;margin-left:50em}input[_ngcontent-%COMP%]{width:25em;height:30px;color:#2cb4ce}input[type=checkbox][_ngcontent-%COMP%]{width:.75em}select[_ngcontent-%COMP%]{width:25em}p[_ngcontent-%COMP%]{color:#19647e;font-style:inherit}label[_ngcontent-%COMP%]{color:#19647e;font-style:inherit;font-weight:700}.card[_ngcontent-%COMP%]{position:relative;margin:0 auto 10px;float:none}.profile[_ngcontent-%COMP%]{padding:3%;margin-top:3%;margin-bottom:3%;border-radius:.5rem;background:#fff}.profile-img[_ngcontent-%COMP%]{text-align:center}.profile-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%;height:100%}.profile-img[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]{position:relative;overflow:hidden;margin-top:-20%;width:70%;border:none;border-radius:0;font-size:15px;background:#212529b8}.profile-img[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;right:0;top:0}.profile-head[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .profile-head[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#19647e}"]],data:{}});function Wu(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,2,"div",[["class","file btn btn-lg btn-primary"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,[" Change Photo "])),(e()(),r["\u0275eld"](2,0,null,null,0,"input",[["name","file"],["type","file"]],null,null,null,null,null))],null,null)}function Hu(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,2,"div",[["class","col-md-2"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-warning"],["type","submit"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Modifer Profile"]))],null,null)}function Bu(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,0,"div",[["class","col-md"]],null,null,null,null,null)),(e()(),r["\u0275eld"](2,0,null,null,2,"div",[["class","col-md"]],null,null,null,null,null)),(e()(),r["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-warning"],["type","submit"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.ajouterOffre()&&r),r}),null,null)),(e()(),r["\u0275ted"](-1,null,["Ajouter offre"])),(e()(),r["\u0275eld"](5,0,null,null,0,"div",[["class","col-md"]],null,null,null,null,null))],null,null)}function Uu(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,15,"div",[],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,14,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==r["\u0275nov"](e,3).onSubmit(n)&&o),"reset"===t&&(o=!1!==r["\u0275nov"](e,3).onReset()&&o),o}),null,null)),r["\u0275did"](2,16384,null,0,Ss,[],null,null),r["\u0275did"](3,4210688,[["formulaire",4]],0,ys,[[8,null],[8,null]],null,null),r["\u0275prd"](2048,null,ki,null,[ys]),r["\u0275did"](5,16384,null,0,Mi,[[4,ki]],null,null),(e()(),r["\u0275eld"](6,0,null,null,1,"label",[["for","avis"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Donner votre avis : "])),(e()(),r["\u0275eld"](8,0,null,null,5,"input",[["id","avis"],["name","avis"],["ngModel",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var o=!0;return"input"===t&&(o=!1!==r["\u0275nov"](e,9)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==r["\u0275nov"](e,9).onTouched()&&o),"compositionstart"===t&&(o=!1!==r["\u0275nov"](e,9)._compositionStart()&&o),"compositionend"===t&&(o=!1!==r["\u0275nov"](e,9)._compositionEnd(n.target.value)&&o),o}),null,null)),r["\u0275did"](9,16384,null,0,Ii,[r.Renderer2,r.ElementRef,[2,Di]],null,null),r["\u0275prd"](1024,null,Oi,(function(e){return[e]}),[Ii]),r["\u0275did"](11,671744,null,0,_s,[[2,ki],[8,null],[8,null],[6,Oi]],{name:[0,"name"],model:[1,"model"]},null),r["\u0275prd"](2048,null,Ni,null,[_s]),r["\u0275did"](13,16384,null,0,Fi,[[4,Ni]],null,null),(e()(),r["\u0275eld"](14,0,null,null,1,"button",[["class","btn btn-warning"],["type","submit"]],null,[[null,"click"]],(function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.donneravis(r["\u0275nov"](e,3))&&o),o}),null,null)),(e()(),r["\u0275ted"](-1,null,["Commenter"]))],(function(e,t){e(t,11,0,"avis","")}),(function(e,t){e(t,1,0,r["\u0275nov"](t,5).ngClassUntouched,r["\u0275nov"](t,5).ngClassTouched,r["\u0275nov"](t,5).ngClassPristine,r["\u0275nov"](t,5).ngClassDirty,r["\u0275nov"](t,5).ngClassValid,r["\u0275nov"](t,5).ngClassInvalid,r["\u0275nov"](t,5).ngClassPending),e(t,8,0,r["\u0275nov"](t,13).ngClassUntouched,r["\u0275nov"](t,13).ngClassTouched,r["\u0275nov"](t,13).ngClassPristine,r["\u0275nov"](t,13).ngClassDirty,r["\u0275nov"](t,13).ngClassValid,r["\u0275nov"](t,13).ngClassInvalid,r["\u0275nov"](t,13).ngClassPending)}))}function ju(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,53,"div",[],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,52,"div",[["class","container profile"],["style","background-color: rgb(245, 241, 229);"]],null,null,null,null,null)),(e()(),r["\u0275eld"](2,0,null,null,51,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==r["\u0275nov"](e,4).onSubmit(n)&&o),"reset"===t&&(o=!1!==r["\u0275nov"](e,4).onReset()&&o),o}),null,null)),r["\u0275did"](3,16384,null,0,Ss,[],null,null),r["\u0275did"](4,4210688,null,0,ys,[[8,null],[8,null]],null,null),r["\u0275prd"](2048,null,ki,null,[ys]),r["\u0275did"](6,16384,null,0,Mi,[[4,ki]],null,null),(e()(),r["\u0275eld"](7,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(e()(),r["\u0275eld"](8,0,null,null,4,"div",[["class","col-md-4"]],null,null,null,null,null)),(e()(),r["\u0275eld"](9,0,null,null,3,"div",[["class","profile-img"]],null,null,null,null,null)),(e()(),r["\u0275eld"](10,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(e()(),r["\u0275and"](16777216,null,null,1,null,Wu)),r["\u0275did"](12,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275eld"](13,0,null,null,5,"div",[["class","col-md-6"]],null,null,null,null,null)),(e()(),r["\u0275eld"](14,0,null,null,4,"div",[["class","profile-head"]],null,null,null,null,null)),(e()(),r["\u0275eld"](15,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),r["\u0275ted"](16,null,[" ",""])),(e()(),r["\u0275eld"](17,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),r["\u0275ted"](18,null,["",""])),(e()(),r["\u0275and"](16777216,null,null,1,null,Hu)),r["\u0275did"](20,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275eld"](21,0,null,null,30,"div",[["class","row"]],null,null,null,null,null)),(e()(),r["\u0275eld"](22,0,null,null,0,"div",[["class","col-md-4"]],null,null,null,null,null)),(e()(),r["\u0275eld"](23,0,null,null,28,"div",[["class","col-md-8"]],null,null,null,null,null)),(e()(),r["\u0275eld"](24,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),r["\u0275eld"](25,0,null,null,2,"div",[["class","col-md-6"]],null,null,null,null,null)),(e()(),r["\u0275eld"](26,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Num\xe9ro de Telephone"])),(e()(),r["\u0275eld"](28,0,null,null,2,"div",[["class","col-md-6"]],null,null,null,null,null)),(e()(),r["\u0275eld"](29,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r["\u0275ted"](30,null,["",""])),(e()(),r["\u0275eld"](31,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),r["\u0275eld"](32,0,null,null,2,"div",[["class","col-md-6"]],null,null,null,null,null)),(e()(),r["\u0275eld"](33,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Delegation"])),(e()(),r["\u0275eld"](35,0,null,null,2,"div",[["class","col-md-6"]],null,null,null,null,null)),(e()(),r["\u0275eld"](36,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r["\u0275ted"](37,null,["",""])),(e()(),r["\u0275eld"](38,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),r["\u0275eld"](39,0,null,null,2,"div",[["class","col-md-6"]],null,null,null,null,null)),(e()(),r["\u0275eld"](40,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Localit\xe9"])),(e()(),r["\u0275eld"](42,0,null,null,2,"div",[["class","col-md-6"]],null,null,null,null,null)),(e()(),r["\u0275eld"](43,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r["\u0275ted"](44,null,["",""])),(e()(),r["\u0275eld"](45,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),r["\u0275eld"](46,0,null,null,2,"div",[["class","col-md-6"]],null,null,null,null,null)),(e()(),r["\u0275eld"](47,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Gouvernerat"])),(e()(),r["\u0275eld"](49,0,null,null,2,"div",[["class","col-md-6"]],null,null,null,null,null)),(e()(),r["\u0275eld"](50,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r["\u0275ted"](51,null,["",""])),(e()(),r["\u0275and"](16777216,null,null,1,null,Bu)),r["\u0275did"](53,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,Uu)),r["\u0275did"](55,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275eld"](56,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),r["\u0275eld"](57,0,null,null,1,"app-avis",[],null,null,null,xu,Pu)),r["\u0275did"](58,114688,null,0,ku,[],{avisTab:[0,"avisTab"]},null)],(function(e,t){var n=t.component;e(t,12,0,n.myProfil()),e(t,20,0,n.myProfil()),e(t,53,0,n.myProfil()),e(t,55,0,n.loggedAsdemandeur()),e(t,58,0,n.avisTab)}),(function(e,t){var n=t.component;e(t,2,0,r["\u0275nov"](t,6).ngClassUntouched,r["\u0275nov"](t,6).ngClassTouched,r["\u0275nov"](t,6).ngClassPristine,r["\u0275nov"](t,6).ngClassDirty,r["\u0275nov"](t,6).ngClassValid,r["\u0275nov"](t,6).ngClassInvalid,r["\u0275nov"](t,6).ngClassPending),e(t,10,0,r["\u0275inlineInterpolate"](1,"",null==n.artisan?null:n.artisan.photoURL,"")),e(t,16,0,null==n.artisan?null:n.artisan.displayName),e(t,18,0,null==n.artisan?null:n.artisan.email),e(t,30,0,null==n.artisan?null:n.artisan.telNumber),e(t,37,0,null==n.artisan?null:n.artisan.delegation),e(t,44,0,null==n.artisan?null:n.artisan.localite),e(t,51,0,null==n.artisan?null:n.artisan.gouvernerat)}))}var zu=r["\u0275ccf"]("app-artisan-profile",Lu,(function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"app-artisan-profile",[],null,null,null,ju,Gu)),r["\u0275did"](1,114688,null,0,Lu,[Vr,Hl,Qo,Vu,_u],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),qu=function(){function e(t){_classCallCheck(this,e),this.demandeurService=t}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.demandeurId=localStorage.getItem("token"),this.demandeurService.getDemandeurById(this.demandeurId).subscribe((function(t){e.demandeur=t.data()}))}}]),e}(),Ku=r["\u0275crt"]({encapsulation:0,styles:[["p[_ngcontent-%COMP%]{color:#19647e;font-style:inherit}label[_ngcontent-%COMP%]{color:#19647e;font-style:inherit;font-weight:700}.card[_ngcontent-%COMP%]{position:relative;margin:0 auto 10px;float:none}.profile[_ngcontent-%COMP%]{padding:3%;margin-top:3%;margin-bottom:3%;border-radius:.5rem;background:#fff}.profile-img[_ngcontent-%COMP%]{text-align:center}.profile-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%;height:100%}.profile-img[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]{position:relative;overflow:hidden;margin-top:-20%;width:70%;border:none;border-radius:0;font-size:15px;background:#212529b8}.profile-img[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;right:0;top:0}.profile-head[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .profile-head[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#19647e}"]],data:{}});function Qu(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,17,"div",[],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,16,"div",[["class","container profile"],["style","background-color: rgb(245, 241, 229);"]],null,null,null,null,null)),(e()(),r["\u0275eld"](2,0,null,null,15,"div",[["class","row"]],null,null,null,null,null)),(e()(),r["\u0275eld"](3,0,null,null,5,"div",[["class","col-md-4"]],null,null,null,null,null)),(e()(),r["\u0275eld"](4,0,null,null,4,"div",[["class","profile-img"]],null,null,null,null,null)),(e()(),r["\u0275eld"](5,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(e()(),r["\u0275eld"](6,0,null,null,2,"div",[["class","file btn btn-lg btn-primary"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,[" Change Photo "])),(e()(),r["\u0275eld"](8,0,null,null,0,"input",[["name","file"],["type","file"]],null,null,null,null,null)),(e()(),r["\u0275eld"](9,0,null,null,5,"div",[["class","col-md-6"]],null,null,null,null,null)),(e()(),r["\u0275eld"](10,0,null,null,4,"div",[["class","profile-head"]],null,null,null,null,null)),(e()(),r["\u0275eld"](11,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),r["\u0275ted"](12,null,[" ",""])),(e()(),r["\u0275eld"](13,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),r["\u0275ted"](14,null,["",""])),(e()(),r["\u0275eld"](15,0,null,null,2,"div",[["class","col-md-2"]],null,null,null,null,null)),(e()(),r["\u0275eld"](16,0,null,null,1,"button",[["class","btn btn-warning"],["type","submit"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Modifer Profile"]))],null,(function(e,t){var n=t.component;e(t,5,0,r["\u0275inlineInterpolate"](1,"",null==n.demandeur?null:n.demandeur.photoURL,"")),e(t,12,0,null==n.demandeur?null:n.demandeur.displayName),e(t,14,0,null==n.demandeur?null:n.demandeur.email)}))}var Yu=r["\u0275ccf"]("app-demandeur-profile",qu,(function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"app-demandeur-profile",[],null,null,null,Qu,Ku)),r["\u0275did"](1,114688,null,0,qu,[_u],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Zu=function(){function e(t,n){_classCallCheck(this,e),this.offreService=t,this.router=n,this.imgSrc="assets/Images/default.png",this.selectedImage=null,this.selectedImagesList=null}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"addOffre",value:function(e){var t=this,n=localStorage.getItem("token"),r=new pu(n,e.value.nom,e.value.description,"img",["img1","img2"],e.value.prix);this.offreService.createOffre(r).then((function(){t.router.navigate([""])}))}},{key:"showPreview",value:function(e){var t=this;if(e.target.files&&e.target.files[0]){var n=new FileReader;n.onload=function(e){return t.imgSrc=e.target.result},n.readAsDataURL(e.target.files[0]),this.selectedImage=e.target.files[0]}else this.imgSrc="assets/Images/default.png",this.selectedImage=null}},{key:"detectImages",value:function(e){this.selectedImagesList=e.target.files,console.log(this.selectedImagesList)}},{key:"submit",value:function(){}}]),e}(),Xu=r["\u0275crt"]({encapsulation:0,styles:[[".imagePrincipale[_ngcontent-%COMP%], .imagesList[_ngcontent-%COMP%]{border:none;display:inline-block;padding:6px 12px;cursor:pointer}"]],data:{}});function $u(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,0,"img",[["height","250px"],["src","assets/Images/default.png"],["width","250px"]],null,null,null,null,null))],null,null)}function Ju(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,74,"div",[["class","container"],["style","background-color: rgb(245, 241, 229);"]],null,null,null,null,null)),(e()(),r["\u0275eld"](2,0,null,null,73,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==r["\u0275nov"](e,4).onSubmit(n)&&o),"reset"===t&&(o=!1!==r["\u0275nov"](e,4).onReset()&&o),o}),null,null)),r["\u0275did"](3,16384,null,0,Ss,[],null,null),r["\u0275did"](4,4210688,[["formulaire",4]],0,ys,[[8,null],[8,null]],null,null),r["\u0275prd"](2048,null,ki,null,[ys]),r["\u0275did"](6,16384,null,0,Mi,[[4,ki]],null,null),(e()(),r["\u0275eld"](7,0,null,null,1,"label",[["for","nom"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Nom de l'offre : "])),(e()(),r["\u0275eld"](9,0,null,null,7,"input",[["class","form-control"],["id","nom"],["name","nom"],["ngModel",""],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var o=!0;return"input"===t&&(o=!1!==r["\u0275nov"](e,10)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==r["\u0275nov"](e,10).onTouched()&&o),"compositionstart"===t&&(o=!1!==r["\u0275nov"](e,10)._compositionStart()&&o),"compositionend"===t&&(o=!1!==r["\u0275nov"](e,10)._compositionEnd(n.target.value)&&o),o}),null,null)),r["\u0275did"](10,16384,null,0,Ii,[r.Renderer2,r.ElementRef,[2,Di]],null,null),r["\u0275did"](11,16384,null,0,Rs,[],{required:[0,"required"]},null),r["\u0275prd"](1024,null,Vi,(function(e){return[e]}),[Rs]),r["\u0275prd"](1024,null,Oi,(function(e){return[e]}),[Ii]),r["\u0275did"](14,671744,null,0,_s,[[2,ki],[6,Vi],[8,null],[6,Oi]],{name:[0,"name"],model:[1,"model"]},null),r["\u0275prd"](2048,null,Ni,null,[_s]),r["\u0275did"](16,16384,null,0,Fi,[[4,Ni]],null,null),(e()(),r["\u0275eld"](17,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275eld"](18,0,null,null,1,"label",[["for","description"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Description"])),(e()(),r["\u0275eld"](20,0,null,null,7,"input",[["class","form-control"],["id","description"],["name","description"],["ngModel",""],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var o=!0;return"input"===t&&(o=!1!==r["\u0275nov"](e,21)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==r["\u0275nov"](e,21).onTouched()&&o),"compositionstart"===t&&(o=!1!==r["\u0275nov"](e,21)._compositionStart()&&o),"compositionend"===t&&(o=!1!==r["\u0275nov"](e,21)._compositionEnd(n.target.value)&&o),o}),null,null)),r["\u0275did"](21,16384,null,0,Ii,[r.Renderer2,r.ElementRef,[2,Di]],null,null),r["\u0275did"](22,16384,null,0,Rs,[],{required:[0,"required"]},null),r["\u0275prd"](1024,null,Vi,(function(e){return[e]}),[Rs]),r["\u0275prd"](1024,null,Oi,(function(e){return[e]}),[Ii]),r["\u0275did"](25,671744,null,0,_s,[[2,ki],[6,Vi],[8,null],[6,Oi]],{name:[0,"name"],model:[1,"model"]},null),r["\u0275prd"](2048,null,Ni,null,[_s]),r["\u0275did"](27,16384,null,0,Fi,[[4,Ni]],null,null),(e()(),r["\u0275eld"](28,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275eld"](29,0,null,null,1,"label",[["for","prix"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Prix"])),(e()(),r["\u0275eld"](31,0,null,null,8,"input",[["class","form-control"],["id","prix"],["name","prix"],["ngModel",""],["pattern","\\d{22222222}"],["required",""],["type","text"]],[[1,"required",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var o=!0;return"input"===t&&(o=!1!==r["\u0275nov"](e,32)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==r["\u0275nov"](e,32).onTouched()&&o),"compositionstart"===t&&(o=!1!==r["\u0275nov"](e,32)._compositionStart()&&o),"compositionend"===t&&(o=!1!==r["\u0275nov"](e,32)._compositionEnd(n.target.value)&&o),o}),null,null)),r["\u0275did"](32,16384,null,0,Ii,[r.Renderer2,r.ElementRef,[2,Di]],null,null),r["\u0275did"](33,16384,null,0,Rs,[],{required:[0,"required"]},null),r["\u0275did"](34,540672,null,0,Ts,[],{pattern:[0,"pattern"]},null),r["\u0275prd"](1024,null,Vi,(function(e,t){return[e,t]}),[Rs,Ts]),r["\u0275prd"](1024,null,Oi,(function(e){return[e]}),[Ii]),r["\u0275did"](37,671744,null,0,_s,[[2,ki],[6,Vi],[8,null],[6,Oi]],{name:[0,"name"],model:[1,"model"]},null),r["\u0275prd"](2048,null,Ni,null,[_s]),r["\u0275did"](39,16384,null,0,Fi,[[4,Ni]],null,null),(e()(),r["\u0275eld"](40,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,[" Image Principale : "])),(e()(),r["\u0275eld"](42,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275eld"](43,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-plus-circle fa-2x"]],null,null,null,null,null)),(e()(),r["\u0275eld"](44,0,null,null,0,"label",[["for","imagePrincipale"]],null,null,null,null,null)),(e()(),r["\u0275eld"](45,0,null,null,7,"input",[["accept","image/*"],["class","imagePrincipale"],["id","imagePrincipale"],["name","imagePrincipal"],["ngModel",""],["required",""],["type","file"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var o=!0,i=e.component;return"input"===t&&(o=!1!==r["\u0275nov"](e,46)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==r["\u0275nov"](e,46).onTouched()&&o),"compositionstart"===t&&(o=!1!==r["\u0275nov"](e,46)._compositionStart()&&o),"compositionend"===t&&(o=!1!==r["\u0275nov"](e,46)._compositionEnd(n.target.value)&&o),"change"===t&&(o=!1!==i.showPreview(n)&&o),o}),null,null)),r["\u0275did"](46,16384,null,0,Ii,[r.Renderer2,r.ElementRef,[2,Di]],null,null),r["\u0275did"](47,16384,null,0,Rs,[],{required:[0,"required"]},null),r["\u0275prd"](1024,null,Vi,(function(e){return[e]}),[Rs]),r["\u0275prd"](1024,null,Oi,(function(e){return[e]}),[Ii]),r["\u0275did"](50,671744,null,0,_s,[[2,ki],[6,Vi],[8,null],[6,Oi]],{name:[0,"name"],model:[1,"model"]},null),r["\u0275prd"](2048,null,Ni,null,[_s]),r["\u0275did"](52,16384,null,0,Fi,[[4,Ni]],null,null),(e()(),r["\u0275eld"](53,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275eld"](54,0,null,null,0,"img",[["height","250px"],["width","250px"]],[[8,"src",4]],null,null,null,null)),(e()(),r["\u0275eld"](55,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,[" Liste d'images : "])),(e()(),r["\u0275eld"](57,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275eld"](58,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-plus-circle fa-2x"]],null,null,null,null,null)),(e()(),r["\u0275eld"](59,0,null,null,0,"label",[["for","imagesList"]],null,null,null,null,null)),(e()(),r["\u0275eld"](60,0,null,null,5,"input",[["accept","image/*"],["class","imagesList"],["id","imagesList"],["multiple",""],["name","imagesList"],["ngModel",""],["type","file"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var o=!0,i=e.component;return"input"===t&&(o=!1!==r["\u0275nov"](e,61)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==r["\u0275nov"](e,61).onTouched()&&o),"compositionstart"===t&&(o=!1!==r["\u0275nov"](e,61)._compositionStart()&&o),"compositionend"===t&&(o=!1!==r["\u0275nov"](e,61)._compositionEnd(n.target.value)&&o),"change"===t&&(o=!1!==i.detectImages(n)&&o),o}),null,null)),r["\u0275did"](61,16384,null,0,Ii,[r.Renderer2,r.ElementRef,[2,Di]],null,null),r["\u0275prd"](1024,null,Oi,(function(e){return[e]}),[Ii]),r["\u0275did"](63,671744,null,0,_s,[[2,ki],[8,null],[8,null],[6,Oi]],{name:[0,"name"],model:[1,"model"]},null),r["\u0275prd"](2048,null,Ni,null,[_s]),r["\u0275did"](65,16384,null,0,Fi,[[4,Ni]],null,null),(e()(),r["\u0275and"](16777216,null,null,1,null,$u)),r["\u0275did"](67,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275eld"](68,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275eld"](69,0,null,null,4,"button",[["class","btn btn-warning"],["routerLinkActive","active"],["style","margin-left: 900px"],["type","submit"]],null,[[null,"click"]],(function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.addOffre(r["\u0275nov"](e,4))&&o),o}),null,null)),r["\u0275did"](70,1720320,null,2,$o,[Qo,r.ElementRef,r.Renderer2,[2,Yo],[2,Zo]],{routerLinkActive:[0,"routerLinkActive"]},null),r["\u0275qud"](603979776,1,{links:1}),r["\u0275qud"](603979776,2,{linksWithHrefs:1}),(e()(),r["\u0275ted"](-1,null,["Ajouter L'offre"])),(e()(),r["\u0275eld"](74,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275eld"](75,0,null,null,0,"br",[],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,11,0,""),e(t,14,0,"nom",""),e(t,22,0,""),e(t,25,0,"description",""),e(t,33,0,""),e(t,34,0,"\\d{22222222}"),e(t,37,0,"prix",""),e(t,47,0,""),e(t,50,0,"imagePrincipal",""),e(t,63,0,"imagesList",""),e(t,67,0,null==n.selectedImagesList),e(t,70,0,"active")}),(function(e,t){var n=t.component;e(t,2,0,r["\u0275nov"](t,6).ngClassUntouched,r["\u0275nov"](t,6).ngClassTouched,r["\u0275nov"](t,6).ngClassPristine,r["\u0275nov"](t,6).ngClassDirty,r["\u0275nov"](t,6).ngClassValid,r["\u0275nov"](t,6).ngClassInvalid,r["\u0275nov"](t,6).ngClassPending),e(t,9,0,r["\u0275nov"](t,11).required?"":null,r["\u0275nov"](t,16).ngClassUntouched,r["\u0275nov"](t,16).ngClassTouched,r["\u0275nov"](t,16).ngClassPristine,r["\u0275nov"](t,16).ngClassDirty,r["\u0275nov"](t,16).ngClassValid,r["\u0275nov"](t,16).ngClassInvalid,r["\u0275nov"](t,16).ngClassPending),e(t,20,0,r["\u0275nov"](t,22).required?"":null,r["\u0275nov"](t,27).ngClassUntouched,r["\u0275nov"](t,27).ngClassTouched,r["\u0275nov"](t,27).ngClassPristine,r["\u0275nov"](t,27).ngClassDirty,r["\u0275nov"](t,27).ngClassValid,r["\u0275nov"](t,27).ngClassInvalid,r["\u0275nov"](t,27).ngClassPending),e(t,31,0,r["\u0275nov"](t,33).required?"":null,r["\u0275nov"](t,34).pattern?r["\u0275nov"](t,34).pattern:null,r["\u0275nov"](t,39).ngClassUntouched,r["\u0275nov"](t,39).ngClassTouched,r["\u0275nov"](t,39).ngClassPristine,r["\u0275nov"](t,39).ngClassDirty,r["\u0275nov"](t,39).ngClassValid,r["\u0275nov"](t,39).ngClassInvalid,r["\u0275nov"](t,39).ngClassPending),e(t,45,0,r["\u0275nov"](t,47).required?"":null,r["\u0275nov"](t,52).ngClassUntouched,r["\u0275nov"](t,52).ngClassTouched,r["\u0275nov"](t,52).ngClassPristine,r["\u0275nov"](t,52).ngClassDirty,r["\u0275nov"](t,52).ngClassValid,r["\u0275nov"](t,52).ngClassInvalid,r["\u0275nov"](t,52).ngClassPending),e(t,54,0,n.imgSrc),e(t,60,0,r["\u0275nov"](t,65).ngClassUntouched,r["\u0275nov"](t,65).ngClassTouched,r["\u0275nov"](t,65).ngClassPristine,r["\u0275nov"](t,65).ngClassDirty,r["\u0275nov"](t,65).ngClassValid,r["\u0275nov"](t,65).ngClassInvalid,r["\u0275nov"](t,65).ngClassPending)}))}var ec=r["\u0275ccf"]("app-add-offre",Zu,(function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"app-add-offre",[],null,null,null,Ju,Xu)),r["\u0275did"](1,114688,null,0,Zu,[hu,Qo],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),tc=r["\u0275crt"]({encapsulation:2,styles:["ngb-alert{display:block}"],data:{}});function nc(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeHandler()&&r),r}),null,null)),(e()(),r["\u0275eld"](1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\xd7"]))],null,null)}function rc(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0),(e()(),r["\u0275and"](16777216,null,null,1,null,nc)),r["\u0275did"](2,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,t.component.dismissible)}),null)}var oc=r["\u0275ccf"]("ngb-alert",Ys,(function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,rc,tc)),r["\u0275did"](1,638976,null,0,Ys,[Qs,r.Renderer2,r.ElementRef],null,null)],(function(e,t){e(t,1,0)}),(function(e,t){e(t,0,0,r["\u0275nov"](t,1).dismissible)}))}),{dismissible:"dismissible",type:"type"},{close:"close"},["*"]),ic=r["\u0275crt"]({encapsulation:2,styles:['ngb-datepicker-month-view{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default}.ngb-dp-day[tabindex="0"]{z-index:1}'],data:{}});function sc(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,0,"div",[["class","ngb-dp-weekday ngb-dp-showweek"]],null,null,null,null,null))],null,null)}function ac(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"div",[["class","ngb-dp-weekday small"],["role","columnheader"]],null,null,null,null,null)),(e()(),r["\u0275ted"](1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.i18n.getWeekdayShortName(t.context.$implicit))}))}function lc(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,4,"div",[["class","ngb-dp-week ngb-dp-weekdays"],["role","row"]],null,null,null,null,null)),(e()(),r["\u0275and"](16777216,null,null,1,null,sc)),r["\u0275did"](2,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,ac)),r["\u0275did"](4,278528,null,0,Y,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.showWeekNumbers),e(t,4,0,n.month.weekdays)}),null)}function uc(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"div",[["class","ngb-dp-week-number small text-muted"]],null,null,null,null,null)),(e()(),r["\u0275ted"](1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.i18n.getWeekNumerals(t.parent.parent.context.$implicit.number))}))}function cc(e){return r["\u0275vid"](0,[(e()(),r["\u0275and"](0,null,null,0))],null,null)}function pc(e){return r["\u0275vid"](0,[(e()(),r["\u0275and"](16777216,null,null,1,null,cc)),r["\u0275did"](1,540672,null,0,ee,[r.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(e()(),r["\u0275and"](0,null,null,0))],(function(e,t){e(t,1,0,t.parent.context.$implicit.context,t.component.dayTemplate)}),null)}function dc(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,2,"div",[["class","ngb-dp-day"],["role","gridcell"]],[[2,"disabled",null],[8,"tabIndex",0],[2,"hidden",null],[2,"ngb-dp-today",null],[1,"aria-label",0]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.doSelect(e.context.$implicit)&&r),r}),null,null)),(e()(),r["\u0275and"](16777216,null,null,1,null,pc)),r["\u0275did"](2,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,!t.context.$implicit.hidden)}),(function(e,t){e(t,0,0,t.context.$implicit.context.disabled,t.context.$implicit.tabindex,t.context.$implicit.hidden,t.context.$implicit.context.today,t.context.$implicit.ariaLabel)}))}function hc(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,4,"div",[["class","ngb-dp-week"],["role","row"]],null,null,null,null,null)),(e()(),r["\u0275and"](16777216,null,null,1,null,uc)),r["\u0275did"](2,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,dc)),r["\u0275did"](4,278528,null,0,Y,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.showWeekNumbers),e(t,4,0,t.parent.context.$implicit.days)}),null)}function fc(e){return r["\u0275vid"](0,[(e()(),r["\u0275and"](16777216,null,null,1,null,hc)),r["\u0275did"](1,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275and"](0,null,null,0))],(function(e,t){e(t,1,0,!t.context.$implicit.collapsed)}),null)}function gc(e){return r["\u0275vid"](0,[(e()(),r["\u0275and"](16777216,null,null,1,null,lc)),r["\u0275did"](1,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,fc)),r["\u0275did"](3,278528,null,0,Y,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.showWeekdays),e(t,3,0,n.month.weeks)}),null)}var vc=r["\u0275crt"]({encapsulation:2,styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:0 0}[ngbDatepickerDayView].outside{opacity:.5}"],data:{}});function yc(e){return r["\u0275vid"](2,[(e()(),r["\u0275ted"](0,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,n.i18n.getDayNumerals(n.date))}))}var mc=r["\u0275crt"]({encapsulation:2,styles:["ngb-datepicker-navigation{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:-ms-flexbox;display:flex;-ms-flex:1 1 9rem;flex:1 1 9rem}"],data:{}});function Cc(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"ngb-datepicker-navigation-select",[["class","ngb-dp-navigation-select"]],null,[[null,"select"]],(function(e,t,n){var r=!0;return"select"===t&&(r=!1!==e.component.select.emit(n)&&r),r}),Dc,Rc)),r["\u0275did"](1,8437760,null,0,Fa,[ha,r.Renderer2],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],years:[3,"years"]},{select:"select"})],(function(e,t){var n=t.component;e(t,1,0,n.date,n.disabled,n.selectBoxes.months,n.selectBoxes.years)}),null)}function wc(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function bc(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function Ec(e){return r["\u0275vid"](0,[(e()(),r["\u0275and"](16777216,null,null,1,null,wc)),r["\u0275did"](1,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275eld"](2,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(e()(),r["\u0275ted"](3,null,[" "," "," "])),(e()(),r["\u0275and"](16777216,null,null,1,null,bc)),r["\u0275did"](5,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275and"](0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,t.context.index>0),e(t,5,0,t.context.index!==n.months.length-1)}),(function(e,t){var n=t.component;e(t,3,0,n.i18n.getMonthFullName(t.context.$implicit.number,t.context.$implicit.year),n.i18n.getYearNumerals(t.context.$implicit.year))}))}function _c(e){return r["\u0275vid"](0,[(e()(),r["\u0275and"](16777216,null,null,1,null,Ec)),r["\u0275did"](1,278528,null,0,Y,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275and"](0,null,null,0))],(function(e,t){e(t,1,0,t.component.months)}),null)}function Sc(e){return r["\u0275vid"](2,[(e()(),r["\u0275eld"](0,0,null,null,2,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,1,"button",[["aria-label","Previous month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Previous month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onClickPrev(n)&&r),r}),null,null)),(e()(),r["\u0275eld"](2,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null)),(e()(),r["\u0275and"](16777216,null,null,1,null,Cc)),r["\u0275did"](4,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,_c)),r["\u0275did"](6,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275eld"](7,0,null,null,2,"div",[["class","ngb-dp-arrow right"]],null,null,null,null,null)),(e()(),r["\u0275eld"](8,0,null,null,1,"button",[["aria-label","Next month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Next month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onClickNext(n)&&r),r}),null,null)),(e()(),r["\u0275eld"](9,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,4,0,n.showSelect),e(t,6,0,!n.showSelect)}),(function(e,t){var n=t.component;e(t,1,0,n.prevDisabled),e(t,8,0,n.nextDisabled)}))}var Rc=r["\u0275crt"]({encapsulation:2,styles:["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}"],data:{}});function Tc(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,3,"option",[],[[1,"aria-label",0]],null,null,null,null)),r["\u0275did"](1,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),r["\u0275did"](2,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),r["\u0275ted"](3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){var n=t.component;e(t,0,0,n.i18n.getMonthFullName(t.context.$implicit,null==n.date?null:n.date.year)),e(t,3,0,n.i18n.getMonthShortName(t.context.$implicit,null==n.date?null:n.date.year))}))}function Oc(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),r["\u0275did"](1,147456,null,0,Ji,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),r["\u0275did"](2,147456,null,0,ts,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),r["\u0275ted"](3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.component.i18n.getYearNumerals(t.context.$implicit))}))}function Dc(e){return r["\u0275vid"](2,[r["\u0275qud"](402653184,1,{monthSelect:0}),r["\u0275qud"](402653184,2,{yearSelect:0}),(e()(),r["\u0275eld"](2,0,[[1,0],["month",1]],null,2,"select",[["aria-label","Select month"],["class","custom-select"],["title","Select month"]],[[8,"disabled",0]],[[null,"change"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.changeMonth(n.target.value)&&r),r}),null,null)),(e()(),r["\u0275and"](16777216,null,null,1,null,Tc)),r["\u0275did"](4,278528,null,0,Y,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275eld"](5,0,[[2,0],["year",1]],null,2,"select",[["aria-label","Select year"],["class","custom-select"],["title","Select year"]],[[8,"disabled",0]],[[null,"change"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.changeYear(n.target.value)&&r),r}),null,null)),(e()(),r["\u0275and"](16777216,null,null,1,null,Oc)),r["\u0275did"](7,278528,null,0,Y,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,4,0,n.months),e(t,7,0,n.years)}),(function(e,t){var n=t.component;e(t,2,0,n.disabled),e(t,5,0,n.disabled)}))}var Ic=r["\u0275crt"]({encapsulation:2,styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month-view{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],data:{}});function Ac(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"div",[["class","btn-light"],["ngbDatepickerDayView",""]],[[2,"bg-primary",null],[2,"text-white",null],[2,"text-muted",null],[2,"outside",null],[2,"active",null]],null,null,yc,vc)),r["\u0275did"](1,49152,null,0,xa,[ha],{currentMonth:[0,"currentMonth"],date:[1,"date"],disabled:[2,"disabled"],focused:[3,"focused"],selected:[4,"selected"]},null)],(function(e,t){e(t,1,0,t.context.currentMonth,t.context.date,t.context.disabled,t.context.focused,t.context.selected)}),(function(e,t){e(t,0,0,r["\u0275nov"](t,1).selected,r["\u0275nov"](t,1).selected,r["\u0275nov"](t,1).isMuted(),r["\u0275nov"](t,1).isMuted(),r["\u0275nov"](t,1).focused)}))}function kc(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"ngb-datepicker-navigation",[],null,[[null,"navigate"],[null,"select"]],(function(e,t,n){var r=!0,o=e.component;return"navigate"===t&&(r=!1!==o.onNavigateEvent(n)&&r),"select"===t&&(r=!1!==o.onNavigateDateSelect(n)&&r),r}),Sc,mc)),r["\u0275did"](1,49152,null,0,Ta,[ha],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],showSelect:[3,"showSelect"],prevDisabled:[4,"prevDisabled"],nextDisabled:[5,"nextDisabled"],selectBoxes:[6,"selectBoxes"]},{navigate:"navigate",select:"select"})],(function(e,t){var n=t.component;e(t,1,0,n.model.firstDate,n.model.disabled,n.model.months,"select"===n.model.navigation,n.model.prevDisabled,n.model.nextDisabled,n.model.selectBoxes)}),null)}function Pc(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(e()(),r["\u0275ted"](1,null,[" "," "," "]))],null,(function(e,t){var n=t.component;e(t,1,0,n.i18n.getMonthFullName(t.parent.context.$implicit.number,t.parent.context.$implicit.year),n.i18n.getYearNumerals(t.parent.context.$implicit.year))}))}function Nc(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,4,"div",[["class","ngb-dp-month"]],null,null,null,null,null)),(e()(),r["\u0275and"](16777216,null,null,1,null,Pc)),r["\u0275did"](2,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275eld"](3,0,null,null,1,"ngb-datepicker-month-view",[["role","grid"]],null,[[null,"select"]],(function(e,t,n){var r=!0;return"select"===t&&(r=!1!==e.component.onDateSelect(n)&&r),r}),gc,ic)),r["\u0275did"](4,49152,null,0,Ra,[ha],{dayTemplate:[0,"dayTemplate"],month:[1,"month"],showWeekdays:[2,"showWeekdays"],showWeekNumbers:[3,"showWeekNumbers"]},{select:"select"})],(function(e,t){var n=t.component;e(t,2,0,"none"===n.navigation||n.displayMonths>1&&"select"===n.navigation),e(t,4,0,n.dayTemplate||r["\u0275nov"](t.parent,1),t.context.$implicit,n.showWeekdays,n.showWeekNumbers)}),null)}function xc(e){return r["\u0275vid"](0,[(e()(),r["\u0275and"](0,null,null,0))],null,null)}function Fc(e){return r["\u0275vid"](2,[r["\u0275qud"](402653184,1,{_monthsEl:0}),(e()(),r["\u0275and"](0,[["dt",2]],null,0,null,Ac)),(e()(),r["\u0275eld"](2,0,null,null,2,"div",[["class","ngb-dp-header"]],null,null,null,null,null)),(e()(),r["\u0275and"](16777216,null,null,1,null,kc)),r["\u0275did"](4,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275eld"](5,0,[[1,0],["months",1]],null,2,"div",[["class","ngb-dp-months"]],null,[[null,"keydown"]],(function(e,t,n){var r=!0;return"keydown"===t&&(r=!1!==e.component.onKeyDown(n)&&r),r}),null,null)),(e()(),r["\u0275and"](16777216,null,null,1,null,Nc)),r["\u0275did"](7,278528,null,0,Y,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,xc)),r["\u0275did"](9,540672,null,0,ee,[r.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(e,t){var n=t.component;e(t,4,0,"none"!==n.navigation),e(t,7,0,n.model.months),e(t,9,0,n.footerTemplate)}),null)}var Mc=r["\u0275ccf"]("ngb-datepicker",Sa,(function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,4,"ngb-datepicker",[],null,null,null,Fc,Ic)),r["\u0275prd"](5120,null,Oi,(function(e){return[e]}),[Sa]),r["\u0275prd"](512,null,ga,ga,[ia,ha]),r["\u0275prd"](512,null,ya,ya,[ga,ia]),r["\u0275did"](4,4964352,null,0,Sa,[ya,ga,ia,ha,Ca,r.ChangeDetectorRef,r.ElementRef,Ea,r.NgZone],null,null)],(function(e,t){e(t,4,0)}),null)}),{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},{navigate:"navigate",select:"select"},[]),Lc=r["\u0275crt"]({encapsulation:2,styles:["ngb-popover-window.bs-popover-bottom>.arrow,ngb-popover-window.bs-popover-top>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left>.arrow,ngb-popover-window.bs-popover-top-left>.arrow{left:2em}ngb-popover-window.bs-popover-bottom-right>.arrow,ngb-popover-window.bs-popover-top-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{top:auto;bottom:.7em}"],data:{}});function Vc(e){return r["\u0275vid"](0,[(e()(),r["\u0275ted"](0,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.title)}))}function Gc(e){return r["\u0275vid"](0,[(e()(),r["\u0275and"](0,null,null,0))],null,null)}function Wc(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,3,"h3",[["class","popover-header"]],null,null,null,null,null)),(e()(),r["\u0275and"](0,[["simpleTitle",2]],null,0,null,Vc)),(e()(),r["\u0275and"](16777216,null,null,1,null,Gc)),r["\u0275did"](3,540672,null,0,ee,[r.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.context,n.isTitleTemplate()?n.title:r["\u0275nov"](t,1))}),null)}function Hc(e){return r["\u0275vid"](2,[(e()(),r["\u0275eld"](0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(e()(),r["\u0275and"](16777216,null,null,1,null,Wc)),r["\u0275did"](2,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275eld"](3,0,null,null,1,"div",[["class","popover-body"]],null,null,null,null,null)),r["\u0275ncd"](null,0)],(function(e,t){e(t,2,0,null!=t.component.title)}),null)}var Bc=r["\u0275ccf"]("ngb-popover-window",$a,(function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"ngb-popover-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,Hc,Lc)),r["\u0275did"](1,49152,null,0,$a,[],null,null)],null,(function(e,t){e(t,0,0,"popover"+(r["\u0275nov"](t,1).popoverClass?" "+r["\u0275nov"](t,1).popoverClass:""),r["\u0275nov"](t,1).id)}))}),{title:"title",id:"id",popoverClass:"popoverClass",context:"context"},{},["*"]),Uc=r["\u0275crt"]({encapsulation:2,styles:["ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}"],data:{}});function jc(e){return r["\u0275vid"](2,[(e()(),r["\u0275eld"](0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,1,"div",[["class","tooltip-inner"]],null,null,null,null,null)),r["\u0275ncd"](null,0)],null,null)}var zc=r["\u0275ccf"]("ngb-tooltip-window",il,(function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"ngb-tooltip-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,jc,Uc)),r["\u0275did"](1,49152,null,0,il,[],null,null)],null,(function(e,t){e(t,0,0,"tooltip show"+(r["\u0275nov"](t,1).tooltipClass?" "+r["\u0275nov"](t,1).tooltipClass:""),r["\u0275nov"](t,1).id)}))}),{id:"id",tooltipClass:"tooltipClass"},{},["*"]),qc=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Kc(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"ngb-highlight",[],null,null,null,np,$c)),r["\u0275did"](1,573440,null,0,al,[],{result:[0,"result"],term:[1,"term"]},null)],(function(e,t){var n=t.context.formatter(t.context.result);e(t,1,0,n,t.context.term)}),null)}function Qc(e){return r["\u0275vid"](0,[(e()(),r["\u0275and"](0,null,null,0))],null,null)}function Yc(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,3,"button",[["class","dropdown-item"],["role","option"],["type","button"]],[[8,"id",0],[2,"active",null]],[[null,"mouseenter"],[null,"click"]],(function(e,t,n){var r=!0,o=e.component;return"mouseenter"===t&&(r=!1!==o.markActive(e.context.index)&&r),"click"===t&&(r=!1!==o.select(e.context.$implicit)&&r),r}),null,null)),(e()(),r["\u0275and"](16777216,null,null,2,null,Qc)),r["\u0275did"](2,540672,null,0,ee,[r.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),r["\u0275pod"](3,{result:0,term:1,formatter:2})],(function(e,t){var n=t.component,o=e(t,3,0,t.context.$implicit,n.term,n.formatter);e(t,2,0,o,n.resultTemplate||r["\u0275nov"](t.parent,0))}),(function(e,t){var n=t.component;e(t,0,0,n.id+"-"+t.context.index,t.context.index===n.activeIdx)}))}function Zc(e){return r["\u0275vid"](0,[(e()(),r["\u0275and"](0,[["rt",2]],null,0,null,Kc)),(e()(),r["\u0275and"](16777216,null,null,1,null,Yc)),r["\u0275did"](2,278528,null,0,Y,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.results)}),null)}var Xc=r["\u0275ccf"]("ngb-typeahead-window",ll,(function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"ngb-typeahead-window",[["class","dropdown-menu show"],["role","listbox"]],[[8,"id",0]],[[null,"mousedown"]],(function(e,t,n){var r=!0;return"mousedown"===t&&(r=!1!==n.preventDefault()&&r),r}),Zc,qc)),r["\u0275did"](1,114688,null,0,ll,[],null,null)],(function(e,t){e(t,1,0)}),(function(e,t){e(t,0,0,r["\u0275nov"](t,1).id)}))}),{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate"},{selectEvent:"select",activeChangeEvent:"activeChange"},[]),$c=r["\u0275crt"]({encapsulation:2,styles:[".ngb-highlight{font-weight:700}"],data:{}});function Jc(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(e()(),r["\u0275ted"](1,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.highlightClass),e(t,1,0,t.parent.context.$implicit)}))}function ep(e){return r["\u0275vid"](0,[(e()(),r["\u0275ted"](0,null,["",""]))],null,(function(e,t){e(t,0,0,t.parent.context.$implicit)}))}function tp(e){return r["\u0275vid"](0,[(e()(),r["\u0275and"](16777216,null,null,1,null,Jc)),r["\u0275did"](1,16384,null,0,X,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),r["\u0275and"](0,[["even",2]],null,0,null,ep))],(function(e,t){e(t,1,0,t.context.odd,r["\u0275nov"](t,2))}),null)}function np(e){return r["\u0275vid"](2,[(e()(),r["\u0275and"](16777216,null,null,1,null,tp)),r["\u0275did"](1,278528,null,0,Y,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,1,0,t.component.parts)}),null)}var rp=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function op(e){return r["\u0275vid"](0,[],null,null)}var ip=r["\u0275ccf"]("ngb-modal-backdrop",Ua,(function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"ngb-modal-backdrop",[["style","z-index: 1050"]],[[8,"className",0]],null,null,op,rp)),r["\u0275did"](1,49152,null,0,Ua,[],null,null)],null,(function(e,t){e(t,0,0,"modal-backdrop fade show"+(r["\u0275nov"](t,1).backdropClass?" "+r["\u0275nov"](t,1).backdropClass:""))}))}),{backdropClass:"backdropClass"},{},[]),sp=r["\u0275crt"]({encapsulation:2,styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],data:{}});function ap(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,2,"div",[["role","document"]],[[8,"className",0]],null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,1,"div",[["class","modal-content"]],null,null,null,null,null)),r["\u0275ncd"](null,0)],null,(function(e,t){var n=t.component;e(t,0,0,"modal-dialog"+(n.size?" modal-"+n.size:"")+(n.centered?" modal-dialog-centered":"")+(n.scrollable?" modal-dialog-scrollable":""))}))}var lp=r["\u0275ccf"]("ngb-modal-window",Ka,(function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"ngb-modal-window",[["role","dialog"],["tabindex","-1"]],[[8,"className",0],[1,"aria-modal",0],[1,"aria-labelledby",0]],null,null,ap,sp)),r["\u0275did"](1,4440064,null,0,Ka,[ne,r.ElementRef,r.NgZone],null,null)],(function(e,t){e(t,1,0)}),(function(e,t){e(t,0,0,"modal fade show d-block"+(r["\u0275nov"](t,1).windowClass?" "+r["\u0275nov"](t,1).windowClass:""),!0,r["\u0275nov"](t,1).ariaLabelledBy)}))}),{ariaLabelledBy:"ariaLabelledBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass"},{dismissEvent:"dismiss"},["*"]),up=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function cp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](1,212992,null,0,ti,[ei,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null)],(function(e,t){e(t,1,0)}),null)}var pp,dp=r["\u0275ccf"]("app-root",i,(function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"app-root",[],null,null,null,cp,up)),r["\u0275did"](1,49152,null,0,i,[],null,null)],null,null)}),{},{},[]);n("6Joi");var hp,fp,gp,vp,yp=pp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"enablePersistence",value:function(e){return{ngModule:pp,providers:[{provide:Nl,useValue:!0},{provide:xl,useValue:e}]}}}]),e}(),mp=((vp=function(){function e(t){_classCallCheck(this,e),this.router=t}return _createClass(e,[{key:"canActivate",value:function(e,t){var n=localStorage.getItem("token"),r=localStorage.getItem("role"),o=localStorage.getItem("complete");return!!n&&"artisan"===r&&!o}}]),e}()).ngInjectableDef=r["\u0275\u0275defineInjectable"]({factory:function(){return new vp(r["\u0275\u0275inject"](Qo))},token:vp,providedIn:"root"}),vp),Cp=((gp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"canActivate",value:function(e,t){var n=localStorage.getItem("complete"),r=localStorage.getItem("role");return!!n||"demandeur"===r}}]),e}()).ngInjectableDef=r["\u0275\u0275defineInjectable"]({factory:function(){return new gp},token:gp,providedIn:"root"}),gp),wp=((fp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"canActivate",value:function(e,t){var n=localStorage.getItem("token"),r=localStorage.getItem("role");return!!n&&"demandeur"===r}}]),e}()).ngInjectableDef=r["\u0275\u0275defineInjectable"]({factory:function(){return new fp},token:fp,providedIn:"root"}),fp),bp=((hp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"canActivate",value:function(e,t){return!!localStorage.getItem("complete")}}]),e}()).ngInjectableDef=r["\u0275\u0275defineInjectable"]({factory:function(){return new hp},token:hp,providedIn:"root"}),hp),Ep=function e(){_classCallCheck(this,e)},_p=n("SXLW"),Sp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[{provide:"loadingConfig",useValue:t}]}}}]),e}(),Rp=r["\u0275cmf"](o,[i],(function(e){return r["\u0275mod"]([r["\u0275mpd"](512,r.ComponentFactoryResolver,r["\u0275CodegenComponentFactoryResolver"],[[8,[Ri,Ql,vu,bu,Tu,Au,zu,Yu,ec,oc,Mc,ip,lp,Bc,zc,Xc,dp]],[3,r.ComponentFactoryResolver],r.NgModuleRef]),r["\u0275mpd"](5120,r.LOCALE_ID,r["\u0275angular_packages_core_core_p"],[[3,r.LOCALE_ID]]),r["\u0275mpd"](4608,q,K,[r.LOCALE_ID,[2,z]]),r["\u0275mpd"](5120,r["\u0275angular_packages_core_core_ba"],r["\u0275angular_packages_core_core_r"],[r.NgZone]),r["\u0275mpd"](5120,r.APP_ID,r["\u0275angular_packages_core_core_f"],[]),r["\u0275mpd"](5120,r.IterableDiffers,r["\u0275angular_packages_core_core_n"],[]),r["\u0275mpd"](5120,r.KeyValueDiffers,r["\u0275angular_packages_core_core_o"],[]),r["\u0275mpd"](4608,mn,Cn,[ne]),r["\u0275mpd"](6144,r.Sanitizer,null,[mn]),r["\u0275mpd"](4608,pn,hn,[]),r["\u0275mpd"](5120,Lt,(function(e,t,n,r,o,i,s,a){return[new un(e,t,n),new yn(r),new fn(o,i,s,a)]}),[ne,r.NgZone,r.PLATFORM_ID,ne,ne,pn,r["\u0275Console"],[2,dn]]),r["\u0275mpd"](4608,Vt,Vt,[Lt,r.NgZone]),r["\u0275mpd"](135680,Ht,Ht,[ne]),r["\u0275mpd"](4608,Qt,Qt,[Vt,Ht,r.APP_ID]),r["\u0275mpd"](6144,r.RendererFactory2,null,[Qt]),r["\u0275mpd"](6144,Wt,null,[Ht]),r["\u0275mpd"](4608,r.Testability,r.Testability,[r.NgZone]),r["\u0275mpd"](5120,Vr,mi,[Qo]),r["\u0275mpd"](4608,ii,ii,[]),r["\u0275mpd"](6144,ri,null,[ii]),r["\u0275mpd"](135680,si,si,[Qo,r.NgModuleFactoryLoader,r.Compiler,r.Injector,ri]),r["\u0275mpd"](4608,oi,oi,[]),r["\u0275mpd"](5120,ai,hi,[Qo,se,li]),r["\u0275mpd"](5120,Ei,bi,[Ci]),r["\u0275mpd"](5120,r.APP_BOOTSTRAP_LISTENER,(function(e){return[e]}),[Ei]),r["\u0275mpd"](4608,qi,qi,[]),r["\u0275mpd"](4608,Ya,Ya,[r.ComponentFactoryResolver,r.Injector,Qa,Ga]),r["\u0275mpd"](5120,bl,El,[Cl,r.NgZone,[2,wl]]),r["\u0275mpd"](4608,Wl,Wl,[Cl,[2,wl],[2,Nl],[2,Fl],r.PLATFORM_ID,r.NgZone,[2,xl]]),r["\u0275mpd"](4608,Sl,Sl,[Cl,[2,wl],r.PLATFORM_ID,r.NgZone]),r["\u0275mpd"](1073742336,te,te,[]),r["\u0275mpd"](1024,r.ErrorHandler,Dn,[]),r["\u0275mpd"](1024,r.NgProbeToken,(function(){return[pi()]}),[]),r["\u0275mpd"](512,Ci,Ci,[r.Injector]),r["\u0275mpd"](1024,r.APP_INITIALIZER,(function(e,t){return[(n=e,xt("probe",Mt),xt("coreTokens",Object.assign({},Ft,(n||[]).reduce((function(e,t){return e[t.name]=t.token,e}),{}))),function(){return Mt}),wi(t)];var n}),[[2,r.NgProbeToken],Ci]),r["\u0275mpd"](512,r.ApplicationInitStatus,r.ApplicationInitStatus,[[2,r.APP_INITIALIZER]]),r["\u0275mpd"](131584,r.ApplicationRef,r.ApplicationRef,[r.NgZone,r["\u0275Console"],r.Injector,r.ErrorHandler,r.ComponentFactoryResolver,r.ApplicationInitStatus]),r["\u0275mpd"](1073742336,r.ApplicationModule,r.ApplicationModule,[r.ApplicationRef]),r["\u0275mpd"](1073742336,In,In,[[3,In]]),r["\u0275mpd"](1024,ui,gi,[[3,Qo]]),r["\u0275mpd"](512,vr,yr,[]),r["\u0275mpd"](512,ei,ei,[]),r["\u0275mpd"](256,li,{},[]),r["\u0275mpd"](1024,l,fi,[s,[2,u],li]),r["\u0275mpd"](512,c,c,[l,s]),r["\u0275mpd"](512,r.Compiler,r.Compiler,[]),r["\u0275mpd"](512,r.NgModuleFactoryLoader,r.SystemJsNgModuleLoader,[r.Compiler,[2,r.SystemJsNgModuleLoaderConfig]]),r["\u0275mpd"](1024,Ho,(function(){return[[{path:"",component:pl,children:[{path:"",component:du},{path:"artisanlogin",component:yu},{path:"demandeurlogin",component:Eu},{path:"completeprofile",component:Ou,canActivate:[mp]},{path:"profilartisan/:id",component:Lu,canActivate:[Cp]},{path:"profildemandeur",component:qu,canActivate:[wp]},{path:"addoffre",component:Zu,canActivate:[bp]}]}]]}),[]),r["\u0275mpd"](1024,Qo,yi,[r.ApplicationRef,vr,ei,c,r.Injector,r.NgModuleFactoryLoader,r.Compiler,Ho,li,[2,Uo],[2,Go]]),r["\u0275mpd"](1073742336,di,di,[[2,ui],[2,Qo]]),r["\u0275mpd"](1073742336,Ep,Ep,[]),r["\u0275mpd"](1073742336,Ks,Ks,[]),r["\u0275mpd"](1073742336,Zs,Zs,[]),r["\u0275mpd"](1073742336,Xs,Xs,[]),r["\u0275mpd"](1073742336,$s,$s,[]),r["\u0275mpd"](1073742336,Js,Js,[]),r["\u0275mpd"](1073742336,Os,Os,[]),r["\u0275mpd"](1073742336,Ds,Ds,[]),r["\u0275mpd"](1073742336,Ma,Ma,[]),r["\u0275mpd"](1073742336,Va,Va,[]),r["\u0275mpd"](1073742336,Za,Za,[]),r["\u0275mpd"](1073742336,Xa,Xa,[]),r["\u0275mpd"](1073742336,Ja,Ja,[]),r["\u0275mpd"](1073742336,el,el,[]),r["\u0275mpd"](1073742336,tl,tl,[]),r["\u0275mpd"](1073742336,nl,nl,[]),r["\u0275mpd"](1073742336,rl,rl,[]),r["\u0275mpd"](1073742336,ol,ol,[]),r["\u0275mpd"](1073742336,sl,sl,[]),r["\u0275mpd"](1073742336,ul,ul,[]),r["\u0275mpd"](1073742336,cl,cl,[]),r["\u0275mpd"](1073742336,_p.AgGridModule,_p.AgGridModule,[]),r["\u0275mpd"](1073742336,_l,_l,[]),r["\u0275mpd"](1073742336,yp,yp,[]),r["\u0275mpd"](1073742336,Sp,Sp,[]),r["\u0275mpd"](1073742336,o,o,[]),r["\u0275mpd"](256,r["\u0275APP_ROOT"],!0,[]),r["\u0275mpd"](256,Cl,{apiKey:"AIzaSyCC7BzxhEVZaei3wqvaQcdtJxdBBIZEmKw",authDomain:"projetangular-d9bca.firebaseapp.com",databaseURL:"https://projetangular-d9bca.firebaseio.com",projectId:"projetangular-d9bca",storageBucket:"projetangular-d9bca.appspot.com",messagingSenderId:"51585298632",appId:"1:51585298632:web:60665c52c412c88f5df5fd",measurementId:"G-5GZNFF2BHX"},[]),r["\u0275mpd"](256,wl,void 0,[]),r["\u0275mpd"](256,"loadingConfig",{},[])])}));Object(r.enableProdMode)(),On().bootstrapModuleFactory(Rp).catch((function(e){return console.error(e)}))},zVF4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var i=e[o],s=o+1<e.length,a=s?e[o+1]:0,l=o+2<e.length,u=l?e[o+2]:0,c=(15&a)<<2|u>>6,p=63&u;l||(p=64,s||(c=64)),r.push(n[i>>2],n[(3&i)<<4|a>>4],n[c],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){var s=((7&o)<<18|(63&(i=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{i=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var i=n[e.charAt(o++)],s=o<e.length?n[e.charAt(o)]:0,a=++o<e.length?n[e.charAt(o)]:64,l=++o<e.length?n[e.charAt(o)]:64;if(++o,null==i||null==s||null==a||null==l)throw Error();r.push(i<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==l&&r.push(a<<6&192|l))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){try{return l.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=c(e[n],t[n]));return e}var p=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var h="FirebaseError",f=function(e){function t(n,r){var o=e.call(this,r)||this;return o.code=n,o.name=h,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return r.__extends(t,e),t}(Error),g=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},o=this.service+"/"+e,i=this.errors[e],s=i?v(i,r):"Error",a=this.serviceName+": "+s+" ("+o+").",l=new f(o,a),u=0,c=Object.keys(r);u<c.length;u++){var p=c[u];"_"!==p.slice(-1)&&(p in l&&console.warn('Overwriting FirebaseError base field "'+p+'" can cause unexpected behavior.'),l[p]=r[p])}return l},e}();function v(e,t){return e.replace(y,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function m(e){return JSON.parse(e)}var C=function(e){var t={},n={},r={},o="";try{var i=e.split(".");t=m(u(i[0])||""),n=m(u(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:o}},w=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((p=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|p>>>31);var o,i,s=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=u^a&(l^u),i=1518500249):(o=a^l^u,i=1859775393):r<60?(o=a&l|u&(a|l),i=2400959708):(o=a^l^u,i=3395469782);var p=(s<<5|s>>>27)+o+c+i+n[r]&4294967295;c=u,u=l,l=4294967295&(a<<30|a>>>2),a=s,s=p}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(o[i]=e.charCodeAt(r),++r,++i===this.blockSize){this.compress_(o),i=0;break}}else for(;r<t;)if(o[i]=e[r],++r,++i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var o=24;o>=0;o-=8)e[r]=this.chain_[n]>>o&255,++r;return e},e}(),b=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,o=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var o=r[n];if(o in e&&"function"==typeof e[o])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(e){}})),this.observers.push(r),i},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function E(){}function _(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+r+" argument "}t.CONSTANTS=o,t.Deferred=p,t.ErrorFactory=g,t.FirebaseError=f,t.Sha1=w,t.assert=i,t.assertionError=s,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=l,t.base64Decode=u,t.base64Encode=function(e){var t=a(e);return l.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new b(e,t);return n.subscribe.bind(n)},t.decode=C,t.deepCopy=function(e){return c(void 0,e)},t.deepExtend=c,t.errorPrefix=_,t.getUA=d,t.isAdmin=function(e){var t=C(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}},t.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isValidFormat=function(e){var t=C(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=C(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,o=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),o=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!o&&n>=r&&n<=o},t.issuedAtTime=function(e){var t=C(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=m,t.map=function(e,t,n){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,o=Object.entries(e);r<o.length;r++){var i=o[r];n(i[0],i[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var s=o-55296;i(++r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var o;if(r<t?o="at least "+t:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(_(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(_(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(_(e,t,r)+"must be a valid firebase namespace.")}},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);